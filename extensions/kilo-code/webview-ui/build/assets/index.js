const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-BYCUR9qn.js","assets/mermaid-bundle.js"])))=>i.map(i=>d[i]);
var US=Object.defineProperty;var Rx=e=>{throw TypeError(e)};var WS=(e,t,r)=>t in e?US(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Nt=(e,t,r)=>WS(e,typeof t!="symbol"?t+"":t,r),Ad=(e,t,r)=>t.has(e)||Rx("Cannot "+r);var E=(e,t,r)=>(Ad(e,t,"read from private field"),r?r.call(e):t.get(e)),ye=(e,t,r)=>t.has(e)?Rx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),le=(e,t,r,n)=>(Ad(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),me=(e,t,r)=>(Ad(e,t,"access private method"),r);var jo=(e,t,r,n)=>({set _(o){le(e,t,o,r)},get _(){return E(e,t,n)}});import{r as h,G as KS,H as $S,J as Ox,j as s,K as xj,L as vj,M as HS,N as Ei,O as Rd,P as fa,I as VS,Q as Nh,R as Qe,U as bj,V as yj,W as GS,Y as wr,Z as QS,$ as Af,a0 as wj,a1 as vs,a2 as YS,a3 as kj,a4 as jj,a5 as Rf,a6 as _j,a7 as Nj,f as Z,a8 as Sj,c as We,a9 as Sh,aa as Wc,ab as Ws,ac as XS,ad as On,X as _n,ae as JS,af as Nn,ag as Dn,B as oe,e as Zo,ah as Sn,i as Ji,k as Kc,l as Zi,m as $c,n as Wa,o as mo,b as yr,ai as Tj,aj as ZS,ak as eT,al as tT,am as sT,an as rT,ao as Pj,ap as nT,aq as oT,ar as aT,as as iT,at as lT,au as cT,av as dT,aw as uT,ax as pT,ay as mT,az as Dx,aA as hT,g as Hc,t as Re,S as ue,aB as bc,u as vt,x as fT,aC as Fx,aD as Lx,aE as Bx,D as gT,v as xT,aF as ui,aG as Sr,F as zx,C as Of,aH as Vc,aI as vT,aJ as bT,aK as Jt,h as Df,aL as qt,aM as yT,aN as wT,aO as Ij,aP as os,a as Ff,aQ as kT,aR as Lf,aS as Bf,aT as zf,T as el,aU as Mr,aV as jT,aW as _T,aX as NT,aY as ST,aZ as qx,E as TT,q as PT,d as IT}from"./chunk-BGL6E8GX.js";import{r as qf,m as Uf,i as Wf,j as Kf,o as tl,v as R,k as Ns,l as ka,s as He,n as vr,q as wl,Z as Ej,u as Ye,t as Mj,w as $f,x as Hf,B as Cj,y as Vf,N as Od,z as re,V as Oe,h as ET,p as MT,a as CT,b as AT,M as RT,c as OT,e as DT,f as FT,K as LT,g as BT,G as Gc,D as ti,F as Js,C as Fn,A as Gf,H as Aj,I as zT,J as qT,L as xt,Q as UT,O as WT,P as wi,R as yc,S as qe,U as KT,W as ho,X as Th,Y as Pt,_ as de,$ as Bs,a0 as gt,a1 as Rn,a2 as $T,a3 as HT,a4 as Er,a5 as Cs,d as Rj,a6 as Mi,a7 as VT,a8 as GT,a9 as QT,aa as YT,ab as XT,ac as JT,ad as ZT,ae as eP,af as tP,ag as sP,ah as wc,ai as Ci,aj as rP,ak as Ux,al as nP,am as oP,an as Wx,ao as aP,ap as iP,aq as Ql,ar as kl,as as Dd,at as Ph,au as lP,av as cP,aw as dP,ax as jl,ay as uP,az as ur,aA as En,aB as pP,aC as _l,aD as Nl,aE as mP,aF as hP,aG as Kx,aH as $x,aI as Hx,aJ as fP,aK as gP,aL as xP,aM as vP,E as bP,T as yP}from"./chunk-JZ0TR6ht.js";import{g as ln,_ as Oj,k as Vx,m as Ih,a as wP}from"./mermaid-bundle.js";import{s as xr,h as kP,v as jP,j as _P,l as NP,k as Sl,m as So,M as SP,r as TP,n as PP,C as IP,a as Eh,f as EP,i as MP,g as CP,e as AP,U as RP,b as OP,L as Dj,S as Gx,c as Fj,K as Qf,o as DP,G as Lj,d as Bj,R as zj,Z as FP,P as Qx,F as LP}from"./chunk-BpIsI7eN.js";var BP=function(){};function Ai(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function Ri(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var Pi=typeof window<"u",Fd,Yx;function zP(){return Yx||(Yx=1,Fd=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=n;o--!==0;){var i=a[o];if(!(i==="_owner"&&t.$$typeof)&&!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}),Fd}var qP=zP();const UP=ln(qP);var WP=["mousedown","touchstart"],qj=function(e,t,r){r===void 0&&(r=WP);var n=h.useRef(t);h.useEffect(function(){n.current=t},[t]),h.useEffect(function(){for(var o=function(c){var d=e.current;d&&!d.contains(c.target)&&n.current(c)},a=0,i=r;a<i.length;a++){var l=i[a];Ai(document,l,o)}return function(){for(var c=0,d=r;c<d.length;c++){var u=d[c];Ri(document,u,o)}}},[r,e])},KP=function(e,t,r){var n=h.useRef(void 0);(!n.current||!r(t,n.current))&&(n.current=t),h.useEffect(e,n.current)};function $P(e,t){t===void 0&&(t=0);var r=h.useRef(!1),n=h.useRef(),o=h.useRef(e),a=h.useCallback(function(){return r.current},[]),i=h.useCallback(function(){r.current=!1,n.current&&clearTimeout(n.current),n.current=setTimeout(function(){r.current=!0,o.current()},t)},[t]),l=h.useCallback(function(){r.current=null,n.current&&clearTimeout(n.current)},[]);return h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){return i(),l},[t]),[a,l,i]}function Mh(e,t,r){t===void 0&&(t=0),r===void 0&&(r=[]);var n=$P(e,t),o=n[0],a=n[1],i=n[2];return h.useEffect(i,r),[o,a]}var HP=function(e,t){KP(e,t,UP)},VP=Pi?window:null,Xx=function(e){return!!e.addEventListener},Jx=function(e){return!!e.on},Us=function(e,t,r,n){r===void 0&&(r=VP),h.useEffect(function(){if(t&&r)return Xx(r)?Ai(r,e,t,n):Jx(r)&&r.on(e,t,n),function(){Xx(r)?Ri(r,e,t,n):Jx(r)&&r.off(e,t,n)}},[e,t,r,JSON.stringify(n)])},GP=function(e){return function(t){return t.key===e}},Zx=function(e,t,r,n){t===void 0&&(t=BP),r===void 0&&(r={}),n===void 0&&(n=[e]);var o=r.event,a=o===void 0?"keydown":o,i=r.target,l=r.options,c=h.useMemo(function(){var d=GP(e),u=function(p){if(d(p))return t(p)};return u},n);Us(a,c,i,l)},QP=function(e){var t=h.useState([!1,null]),r=t[0],n=t[1];return Zx(e,function(o){return n([!0,o])},{event:"keydown"},[r]),Zx(e,function(o){return n([!1,o])},{event:"keyup"},[r]),r},YP=function(e){var t=h.useRef(e);t.current=e,KS(function(){return function(){return t.current()}})},XP=function(e){var t=h.useRef(0),r=h.useState(e),n=r[0],o=r[1],a=h.useCallback(function(i){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){o(i)})},[]);return YP(function(){cancelAnimationFrame(t.current)}),[n,a]},JP=h.useState,ZP=h.useEffect,eI=h.useRef,tI=function(e){return setTimeout(e,35)},sI=function(e,t){var r=t===void 0?{}:t,n=r.width,o=n===void 0?1/0:n,a=r.height,i=a===void 0?1/0:a;if(!Pi)return[typeof e=="function"?e({width:o,height:i}):e,{width:o,height:i}];var l=JP({width:o,height:i}),c=l[0],d=l[1];typeof e=="function"&&(e=e(c));var u=e.props.style||{},p=eI(null),m=null,g=function(){var y=p.current,N=y?{width:y.offsetWidth,height:y.offsetHeight}:{width:o,height:i};d(N)},f=function(y){Ai(y,"resize",g),tI(g)};ZP(function(){var y=p.current;if(y){if(y.contentWindow)m=y.contentWindow,f(m);else{var N=function(){Ai(y,"load",N),m=y.contentWindow,f(m)};Ri(y,"load",N)}return function(){m&&m.removeEventListener&&Ri(m,"resize",g)}}},[]),u.position="relative";var x=h.cloneElement.apply($S,Ox([e,{style:u}],Ox([h.createElement("iframe",{ref:p,style:{background:"transparent",border:"none",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:-1}})],h.Children.toArray(e.props.children))));return[x,c]},Yf=function(e){var t={},r=t.initialWidth,n=r===void 0?1/0:r,o=t.initialHeight,a=o===void 0?1/0:o,i=t.onChange,l=XP({width:Pi?window.innerWidth:n,height:Pi?window.innerHeight:a}),c=l[0],d=l[1];return h.useEffect(function(){if(Pi){var u=function(){var p=window.innerWidth,m=window.innerHeight;d({width:p,height:m}),i&&i(p,m)};return Ai(window,"resize",u),function(){Ri(window,"resize",u)}}},[]),c},sl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vo=typeof window>"u"||"Deno"in globalThis;function nr(){}function rI(e,t){return typeof e=="function"?e(t):e}function Ch(e){return typeof e=="number"&&e>=0&&e!==1/0}function Uj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ja(e,t){return typeof e=="function"?e(t):e}function Jr(e,t){return typeof e=="function"?e(t):e}function ev(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Xf(i,t.options))return!1}else if(!Di(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||o&&o!==t.state.fetchStatus||a&&!a(t))}function tv(e,t){const{exact:r,status:n,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Oi(t.options.mutationKey)!==Oi(a))return!1}else if(!Di(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function Xf(e,t){return((t==null?void 0:t.queryKeyHashFn)||Oi)(e)}function Oi(e){return JSON.stringify(e,(t,r)=>Rh(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function Di(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Di(e[r],t[r])):!1}function Wj(e,t){if(e===t)return e;const r=sv(e)&&sv(t);if(r||Rh(e)&&Rh(t)){const n=r?e:Object.keys(e),o=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{};let c=0;for(let d=0;d<i;d++){const u=r?d:a[d];(!r&&n.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=Wj(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return o===i&&c===o?e:l}return t}function Ah(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function sv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Rh(e){if(!rv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!rv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rv(e){return Object.prototype.toString.call(e)==="[object Object]"}function nI(e){return new Promise(t=>{setTimeout(t,e)})}function Oh(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Wj(e,t):t}function oI(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function aI(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Jf=Symbol();function Kj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Jf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function iI(e,t){return typeof e=="function"?e(...t):!!e}var Ao,to,Na,oj,lI=(oj=class extends sl{constructor(){super();ye(this,Ao);ye(this,to);ye(this,Na);le(this,Na,t=>{if(!Vo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){E(this,to)||this.setEventListener(E(this,Na))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,to))==null||t.call(this),le(this,to,void 0))}setEventListener(t){var r;le(this,Na,t),(r=E(this,to))==null||r.call(this),le(this,to,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){E(this,Ao)!==t&&(le(this,Ao,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof E(this,Ao)=="boolean"?E(this,Ao):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ao=new WeakMap,to=new WeakMap,Na=new WeakMap,oj),Zf=new lI,Sa,so,Ta,aj,cI=(aj=class extends sl{constructor(){super();ye(this,Sa,!0);ye(this,so);ye(this,Ta);le(this,Ta,t=>{if(!Vo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){E(this,so)||this.setEventListener(E(this,Ta))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,so))==null||t.call(this),le(this,so,void 0))}setEventListener(t){var r;le(this,Ta,t),(r=E(this,so))==null||r.call(this),le(this,so,t(this.setOnline.bind(this)))}setOnline(t){E(this,Sa)!==t&&(le(this,Sa,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return E(this,Sa)}},Sa=new WeakMap,so=new WeakMap,Ta=new WeakMap,aj),kc=new cI;function Dh(){let e,t;const r=new Promise((o,a)=>{e=o,t=a});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}function dI(e){return Math.min(1e3*2**e,3e4)}function $j(e){return(e??"online")==="online"?kc.isOnline():!0}var Hj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ld(e){return e instanceof Hj}function Vj(e){let t=!1,r=0,n=!1,o;const a=Dh(),i=x=>{var y;n||(m(new Hj(x)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Zf.isFocused()&&(e.networkMode==="always"||kc.isOnline())&&e.canRun(),u=()=>$j(e.networkMode)&&e.canRun(),p=x=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,x),o==null||o(),a.resolve(x))},m=x=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,x),o==null||o(),a.reject(x))},g=()=>new Promise(x=>{var y;o=N=>{(n||d())&&x(N)},(y=e.onPause)==null||y.call(e)}).then(()=>{var x;o=void 0,n||(x=e.onContinue)==null||x.call(e)}),f=()=>{if(n)return;let x;const y=r===0?e.initialPromise:void 0;try{x=y??e.fn()}catch(N){x=Promise.reject(N)}Promise.resolve(x).then(p).catch(N=>{var k;if(n)return;const b=e.retry??(Vo?0:3),j=e.retryDelay??dI,v=typeof j=="function"?j(r,N):j,_=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,N);if(t||!_){m(N);return}r++,(k=e.onFail)==null||k.call(e,r,N),nI(v).then(()=>d()?void 0:g()).then(()=>{t?m(N):f()})})};return{promise:a,cancel:i,continue:()=>(o==null||o(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?f():g().then(f),a)}}var uI=e=>setTimeout(e,0);function pI(){let e=[],t=0,r=l=>{l()},n=l=>{l()},o=uI;const a=l=>{t?e.push(l):o(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&o(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{o=l}}}var Ms=pI(),Ro,ij,Gj=(ij=class{constructor(){ye(this,Ro)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ch(this.gcTime)&&le(this,Ro,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Vo?1/0:300*1e3))}clearGcTimeout(){E(this,Ro)&&(clearTimeout(E(this,Ro)),le(this,Ro,void 0))}},Ro=new WeakMap,ij),Pa,Ia,Nr,Oo,Ds,Hi,Do,Ur,In,lj,mI=(lj=class extends Gj{constructor(t){super();ye(this,Ur);ye(this,Pa);ye(this,Ia);ye(this,Nr);ye(this,Oo);ye(this,Ds);ye(this,Hi);ye(this,Do);le(this,Do,!1),le(this,Hi,t.defaultOptions),this.setOptions(t.options),this.observers=[],le(this,Oo,t.client),le(this,Nr,E(this,Oo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,le(this,Pa,hI(this.options)),this.state=t.state??E(this,Pa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,Ds))==null?void 0:t.promise}setOptions(t){this.options={...E(this,Hi),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Nr).remove(this)}setData(t,r){const n=Oh(this.state.data,t,this.options);return me(this,Ur,In).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){me(this,Ur,In).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,o;const r=(n=E(this,Ds))==null?void 0:n.promise;return(o=E(this,Ds))==null||o.cancel(t),r?r.then(nr).catch(nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Pa))}isActive(){return this.observers.some(t=>Jr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Uj(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,Ds))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,Ds))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,Nr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(E(this,Ds)&&(E(this,Do)?E(this,Ds).cancel({revert:!0}):E(this,Ds).cancelRetry()),this.scheduleGc()),E(this,Nr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||me(this,Ur,In).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(E(this,Ds))return E(this,Ds).continueRetry(),E(this,Ds).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,o=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(le(this,Do,!0),n.signal)})},a=()=>{const p=Kj(this.options,r),m={client:E(this,Oo),queryKey:this.queryKey,meta:this.meta};return o(m),le(this,Do,!1),this.options.persister?this.options.persister(p,m,this):p(m)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:E(this,Oo),state:this.state,fetchFn:a};o(i),(c=this.options.behavior)==null||c.onFetch(i,this),le(this,Ia,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&me(this,Ur,In).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const l=p=>{var m,g,f,x;Ld(p)&&p.silent||me(this,Ur,In).call(this,{type:"error",error:p}),Ld(p)||((g=(m=E(this,Nr).config).onError)==null||g.call(m,p,this),(x=(f=E(this,Nr).config).onSettled)==null||x.call(f,this.state.data,p,this)),this.scheduleGc()};return le(this,Ds,Vj({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var m,g,f,x;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(y){l(y);return}(g=(m=E(this,Nr).config).onSuccess)==null||g.call(m,p,this),(x=(f=E(this,Nr).config).onSettled)==null||x.call(f,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{me(this,Ur,In).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{me(this,Ur,In).call(this,{type:"pause"})},onContinue:()=>{me(this,Ur,In).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),E(this,Ds).start()}},Pa=new WeakMap,Ia=new WeakMap,Nr=new WeakMap,Oo=new WeakMap,Ds=new WeakMap,Hi=new WeakMap,Do=new WeakMap,Ur=new WeakSet,In=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Qj(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Ld(o)&&o.revert&&E(this,Ia)?{...E(this,Ia),fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ms.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),E(this,Nr).notify({query:this,type:"updated",action:t})})},lj);function Qj(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$j(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function hI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var yn,cj,fI=(cj=class extends sl{constructor(t={}){super();ye(this,yn);this.config=t,le(this,yn,new Map)}build(t,r,n){const o=r.queryKey,a=r.queryHash??Xf(o,r);let i=this.get(a);return i||(i=new mI({client:t,queryKey:o,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){E(this,yn).has(t.queryHash)||(E(this,yn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=E(this,yn).get(t.queryHash);r&&(t.destroy(),r===t&&E(this,yn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ms.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,yn).get(t)}getAll(){return[...E(this,yn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ev(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>ev(t,n)):r}notify(t){Ms.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ms.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ms.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},yn=new WeakMap,cj),wn,Gs,Fo,kn,$n,dj,gI=(dj=class extends Gj{constructor(t){super();ye(this,kn);ye(this,wn);ye(this,Gs);ye(this,Fo);this.mutationId=t.mutationId,le(this,Gs,t.mutationCache),le(this,wn,[]),this.state=t.state||xI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,wn).includes(t)||(E(this,wn).push(t),this.clearGcTimeout(),E(this,Gs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){le(this,wn,E(this,wn).filter(r=>r!==t)),this.scheduleGc(),E(this,Gs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){E(this,wn).length||(this.state.status==="pending"?this.scheduleGc():E(this,Gs).remove(this))}continue(){var t;return((t=E(this,Fo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,l,c,d,u,p,m,g,f,x,y,N,b,j,v,_,k,w,T;const r=()=>{me(this,kn,$n).call(this,{type:"continue"})};le(this,Fo,Vj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,P)=>{me(this,kn,$n).call(this,{type:"failed",failureCount:S,error:P})},onPause:()=>{me(this,kn,$n).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,Gs).canRun(this)}));const n=this.state.status==="pending",o=!E(this,Fo).canStart();try{if(n)r();else{me(this,kn,$n).call(this,{type:"pending",variables:t,isPaused:o}),await((i=(a=E(this,Gs).config).onMutate)==null?void 0:i.call(a,t,this));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));P!==this.state.context&&me(this,kn,$n).call(this,{type:"pending",context:P,variables:t,isPaused:o})}const S=await E(this,Fo).start();return await((u=(d=E(this,Gs).config).onSuccess)==null?void 0:u.call(d,S,t,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,S,t,this.state.context)),await((f=(g=E(this,Gs).config).onSettled)==null?void 0:f.call(g,S,null,this.state.variables,this.state.context,this)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,S,null,t,this.state.context)),me(this,kn,$n).call(this,{type:"success",data:S}),S}catch(S){try{throw await((b=(N=E(this,Gs).config).onError)==null?void 0:b.call(N,S,t,this.state.context,this)),await((v=(j=this.options).onError)==null?void 0:v.call(j,S,t,this.state.context)),await((k=(_=E(this,Gs).config).onSettled)==null?void 0:k.call(_,void 0,S,this.state.variables,this.state.context,this)),await((T=(w=this.options).onSettled)==null?void 0:T.call(w,void 0,S,t,this.state.context)),S}finally{me(this,kn,$n).call(this,{type:"error",error:S})}}finally{E(this,Gs).runNext(this)}}},wn=new WeakMap,Gs=new WeakMap,Fo=new WeakMap,kn=new WeakSet,$n=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ms.batch(()=>{E(this,wn).forEach(n=>{n.onMutationUpdate(t)}),E(this,Gs).notify({mutation:this,type:"updated",action:t})})},dj);function xI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cn,Wr,Vi,uj,vI=(uj=class extends sl{constructor(t={}){super();ye(this,Cn);ye(this,Wr);ye(this,Vi);this.config=t,le(this,Cn,new Set),le(this,Wr,new Map),le(this,Vi,0)}build(t,r,n){const o=new gI({mutationCache:this,mutationId:++jo(this,Vi)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){E(this,Cn).add(t);const r=Tl(t);if(typeof r=="string"){const n=E(this,Wr).get(r);n?n.push(t):E(this,Wr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(E(this,Cn).delete(t)){const r=Tl(t);if(typeof r=="string"){const n=E(this,Wr).get(r);if(n)if(n.length>1){const o=n.indexOf(t);o!==-1&&n.splice(o,1)}else n[0]===t&&E(this,Wr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Tl(t);if(typeof r=="string"){const n=E(this,Wr).get(r),o=n==null?void 0:n.find(a=>a.state.status==="pending");return!o||o===t}else return!0}runNext(t){var n;const r=Tl(t);if(typeof r=="string"){const o=(n=E(this,Wr).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ms.batch(()=>{E(this,Cn).forEach(t=>{this.notify({type:"removed",mutation:t})}),E(this,Cn).clear(),E(this,Wr).clear()})}getAll(){return Array.from(E(this,Cn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>tv(r,n))}findAll(t={}){return this.getAll().filter(r=>tv(t,r))}notify(t){Ms.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ms.batch(()=>Promise.all(t.map(r=>r.continue().catch(nr))))}},Cn=new WeakMap,Wr=new WeakMap,Vi=new WeakMap,uj);function Tl(e){var t;return(t=e.options.scope)==null?void 0:t.id}function nv(e){return{onFetch:(t,r)=>{var u,p,m,g,f;const n=t.options,o=(m=(p=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],i=((f=t.state.data)==null?void 0:f.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const y=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},N=Kj(t.options,t.fetchOptions),b=async(j,v,_)=>{if(x)return Promise.reject();if(v==null&&j.pages.length)return Promise.resolve(j);const k={client:t.client,queryKey:t.queryKey,pageParam:v,direction:_?"backward":"forward",meta:t.options.meta};y(k);const w=await N(k),{maxPages:T}=t.options,S=_?aI:oI;return{pages:S(j.pages,w,T),pageParams:S(j.pageParams,v,T)}};if(o&&a.length){const j=o==="backward",v=j?bI:ov,_={pages:a,pageParams:i},k=v(n,_);l=await b(_,k,j)}else{const j=e??a.length;do{const v=c===0?i[0]??n.initialPageParam:ov(n,l);if(c>0&&v==null)break;l=await b(l,v),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var x,y;return(y=(x=t.options).persister)==null?void 0:y.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function ov(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function bI(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ls,ro,no,Ea,Ma,oo,Ca,Aa,pj,yI=(pj=class{constructor(e={}){ye(this,ls);ye(this,ro);ye(this,no);ye(this,Ea);ye(this,Ma);ye(this,oo);ye(this,Ca);ye(this,Aa);le(this,ls,e.queryCache||new fI),le(this,ro,e.mutationCache||new vI),le(this,no,e.defaultOptions||{}),le(this,Ea,new Map),le(this,Ma,new Map),le(this,oo,0)}mount(){jo(this,oo)._++,E(this,oo)===1&&(le(this,Ca,Zf.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,ls).onFocus())})),le(this,Aa,kc.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,ls).onOnline())})))}unmount(){var e,t;jo(this,oo)._--,E(this,oo)===0&&((e=E(this,Ca))==null||e.call(this),le(this,Ca,void 0),(t=E(this,Aa))==null||t.call(this),le(this,Aa,void 0))}isFetching(e){return E(this,ls).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,ro).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,ls).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=E(this,ls).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ja(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return E(this,ls).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=E(this,ls).get(n.queryHash),a=o==null?void 0:o.state.data,i=rI(t,a);if(i!==void 0)return E(this,ls).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ms.batch(()=>E(this,ls).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,ls).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=E(this,ls);Ms.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=E(this,ls);return Ms.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ms.batch(()=>E(this,ls).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(nr).catch(nr)}invalidateQueries(e,t={}){return Ms.batch(()=>(E(this,ls).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ms.batch(()=>E(this,ls).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(nr)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(nr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=E(this,ls).build(this,t);return r.isStaleByTime(ja(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nr).catch(nr)}fetchInfiniteQuery(e){return e.behavior=nv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nr).catch(nr)}ensureInfiniteQueryData(e){return e.behavior=nv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return kc.isOnline()?E(this,ro).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,ls)}getMutationCache(){return E(this,ro)}getDefaultOptions(){return E(this,no)}setDefaultOptions(e){le(this,no,e)}setQueryDefaults(e,t){E(this,Ea).set(Oi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,Ea).values()],r={};return t.forEach(n=>{Di(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){E(this,Ma).set(Oi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,Ma).values()],r={};return t.forEach(n=>{Di(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,no).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Xf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Jf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,no).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,ls).clear(),E(this,ro).clear()}},ls=new WeakMap,ro=new WeakMap,no=new WeakMap,Ea=new WeakMap,Ma=new WeakMap,oo=new WeakMap,Ca=new WeakMap,Aa=new WeakMap,pj),sr,ft,Gi,Qs,Lo,Ra,ao,io,Qi,Oa,Da,Bo,zo,lo,Fa,Et,ki,Fh,Lh,Bh,zh,qh,Uh,Wh,Yj,mj,wI=(mj=class extends sl{constructor(t,r){super();ye(this,Et);ye(this,sr);ye(this,ft);ye(this,Gi);ye(this,Qs);ye(this,Lo);ye(this,Ra);ye(this,ao);ye(this,io);ye(this,Qi);ye(this,Oa);ye(this,Da);ye(this,Bo);ye(this,zo);ye(this,lo);ye(this,Fa,new Set);this.options=r,le(this,sr,t),le(this,io,null),le(this,ao,Dh()),this.options.experimental_prefetchInRender||E(this,ao).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,ft).addObserver(this),av(E(this,ft),this.options)?me(this,Et,ki).call(this):this.updateResult(),me(this,Et,zh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kh(E(this,ft),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kh(E(this,ft),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,me(this,Et,qh).call(this),me(this,Et,Uh).call(this),E(this,ft).removeObserver(this)}setOptions(t){const r=this.options,n=E(this,ft);if(this.options=E(this,sr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jr(this.options.enabled,E(this,ft))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");me(this,Et,Wh).call(this),E(this,ft).setOptions(this.options),r._defaulted&&!Ah(this.options,r)&&E(this,sr).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,ft),observer:this});const o=this.hasListeners();o&&iv(E(this,ft),n,this.options,r)&&me(this,Et,ki).call(this),this.updateResult(),o&&(E(this,ft)!==n||Jr(this.options.enabled,E(this,ft))!==Jr(r.enabled,E(this,ft))||ja(this.options.staleTime,E(this,ft))!==ja(r.staleTime,E(this,ft)))&&me(this,Et,Fh).call(this);const a=me(this,Et,Lh).call(this);o&&(E(this,ft)!==n||Jr(this.options.enabled,E(this,ft))!==Jr(r.enabled,E(this,ft))||a!==E(this,lo))&&me(this,Et,Bh).call(this,a)}getOptimisticResult(t){const r=E(this,sr).getQueryCache().build(E(this,sr),t),n=this.createResult(r,t);return jI(this,n)&&(le(this,Qs,n),le(this,Ra,this.options),le(this,Lo,E(this,ft).state)),n}getCurrentResult(){return E(this,Qs)}trackResult(t,r){return new Proxy(t,{get:(n,o)=>(this.trackProp(o),r==null||r(o),Reflect.get(n,o))})}trackProp(t){E(this,Fa).add(t)}getCurrentQuery(){return E(this,ft)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=E(this,sr).defaultQueryOptions(t),n=E(this,sr).getQueryCache().build(E(this,sr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return me(this,Et,ki).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,Qs)))}createResult(t,r){var S;const n=E(this,ft),o=this.options,a=E(this,Qs),i=E(this,Lo),l=E(this,Ra),d=t!==n?t.state:E(this,Gi),{state:u}=t;let p={...u},m=!1,g;if(r._optimisticResults){const P=this.hasListeners(),I=!P&&av(t,r),M=P&&iv(t,n,r,o);(I||M)&&(p={...p,...Qj(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:f,errorUpdatedAt:x,status:y}=p;g=p.data;let N=!1;if(r.placeholderData!==void 0&&g===void 0&&y==="pending"){let P;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(P=a.data,N=!0):P=typeof r.placeholderData=="function"?r.placeholderData((S=E(this,Da))==null?void 0:S.state.data,E(this,Da)):r.placeholderData,P!==void 0&&(y="success",g=Oh(a==null?void 0:a.data,P,r),m=!0)}if(r.select&&g!==void 0&&!N)if(a&&g===(i==null?void 0:i.data)&&r.select===E(this,Qi))g=E(this,Oa);else try{le(this,Qi,r.select),g=r.select(g),g=Oh(a==null?void 0:a.data,g,r),le(this,Oa,g),le(this,io,null)}catch(P){le(this,io,P)}E(this,io)&&(f=E(this,io),g=E(this,Oa),x=Date.now(),y="error");const b=p.fetchStatus==="fetching",j=y==="pending",v=y==="error",_=j&&b,k=g!==void 0,T={status:y,fetchStatus:p.fetchStatus,isPending:j,isSuccess:y==="success",isError:v,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:p.dataUpdatedAt,error:f,errorUpdatedAt:x,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!j,isLoadingError:v&&!k,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:v&&k,isStale:eg(t,r),refetch:this.refetch,promise:E(this,ao)};if(this.options.experimental_prefetchInRender){const P=A=>{T.status==="error"?A.reject(T.error):T.data!==void 0&&A.resolve(T.data)},I=()=>{const A=le(this,ao,T.promise=Dh());P(A)},M=E(this,ao);switch(M.status){case"pending":t.queryHash===n.queryHash&&P(M);break;case"fulfilled":(T.status==="error"||T.data!==M.value)&&I();break;case"rejected":(T.status!=="error"||T.error!==M.reason)&&I();break}}return T}updateResult(){const t=E(this,Qs),r=this.createResult(E(this,ft),this.options);if(le(this,Lo,E(this,ft).state),le(this,Ra,this.options),E(this,Lo).data!==void 0&&le(this,Da,E(this,ft)),Ah(r,t))return;le(this,Qs,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!E(this,Fa).size)return!0;const i=new Set(a??E(this,Fa));return this.options.throwOnError&&i.add("error"),Object.keys(E(this,Qs)).some(l=>{const c=l;return E(this,Qs)[c]!==t[c]&&i.has(c)})};me(this,Et,Yj).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&me(this,Et,zh).call(this)}},sr=new WeakMap,ft=new WeakMap,Gi=new WeakMap,Qs=new WeakMap,Lo=new WeakMap,Ra=new WeakMap,ao=new WeakMap,io=new WeakMap,Qi=new WeakMap,Oa=new WeakMap,Da=new WeakMap,Bo=new WeakMap,zo=new WeakMap,lo=new WeakMap,Fa=new WeakMap,Et=new WeakSet,ki=function(t){me(this,Et,Wh).call(this);let r=E(this,ft).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(nr)),r},Fh=function(){me(this,Et,qh).call(this);const t=ja(this.options.staleTime,E(this,ft));if(Vo||E(this,Qs).isStale||!Ch(t))return;const n=Uj(E(this,Qs).dataUpdatedAt,t)+1;le(this,Bo,setTimeout(()=>{E(this,Qs).isStale||this.updateResult()},n))},Lh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,ft)):this.options.refetchInterval)??!1},Bh=function(t){me(this,Et,Uh).call(this),le(this,lo,t),!(Vo||Jr(this.options.enabled,E(this,ft))===!1||!Ch(E(this,lo))||E(this,lo)===0)&&le(this,zo,setInterval(()=>{(this.options.refetchIntervalInBackground||Zf.isFocused())&&me(this,Et,ki).call(this)},E(this,lo)))},zh=function(){me(this,Et,Fh).call(this),me(this,Et,Bh).call(this,me(this,Et,Lh).call(this))},qh=function(){E(this,Bo)&&(clearTimeout(E(this,Bo)),le(this,Bo,void 0))},Uh=function(){E(this,zo)&&(clearInterval(E(this,zo)),le(this,zo,void 0))},Wh=function(){const t=E(this,sr).getQueryCache().build(E(this,sr),this.options);if(t===E(this,ft))return;const r=E(this,ft);le(this,ft,t),le(this,Gi,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Yj=function(t){Ms.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(E(this,Qs))}),E(this,sr).getQueryCache().notify({query:E(this,ft),type:"observerResultsUpdated"})})},mj);function kI(e,t){return Jr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function av(e,t){return kI(e,t)||e.state.data!==void 0&&Kh(e,t,t.refetchOnMount)}function Kh(e,t,r){if(Jr(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&eg(e,t)}return!1}function iv(e,t,r,n){return(e!==t||Jr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&eg(e,r)}function eg(e,t){return Jr(t.enabled,e)!==!1&&e.isStaleByTime(ja(t.staleTime,e))}function jI(e,t){return!Ah(e.getCurrentResult(),t)}var Xj=h.createContext(void 0),Jj=e=>{const t=h.useContext(Xj);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},_I=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Xj.Provider,{value:e,children:t})),Zj=h.createContext(!1),NI=()=>h.useContext(Zj);Zj.Provider;function SI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var TI=h.createContext(SI()),PI=()=>h.useContext(TI),II=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},EI=e=>{h.useEffect(()=>{e.clearReset()},[e])},MI=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(o&&e.data===void 0||iI(r,[e.error,n])),CI=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},AI=(e,t)=>e.isLoading&&e.isFetching&&!t,RI=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,lv=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function OI(e,t,r){var p,m,g,f,x;const n=Jj(),o=NI(),a=PI(),i=n.defaultQueryOptions(e);(m=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||m.call(p,i),i._optimisticResults=o?"isRestoring":"optimistic",CI(i),II(i,a),EI(a);const l=!n.getQueryCache().get(i.queryHash),[c]=h.useState(()=>new t(n,i)),d=c.getOptimisticResult(i),u=!o&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(y=>{const N=u?c.subscribe(Ms.batchCalls(y)):nr;return c.updateResult(),N},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(i)},[i,c]),RI(i,d))throw lv(i,c,a);if(MI({result:d,errorResetBoundary:a,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;if((f=(g=n.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||f.call(g,i,d),i.experimental_prefetchInRender&&!Vo&&AI(d,o)){const y=l?lv(i,c,a):(x=n.getQueryCache().get(i.queryHash))==null?void 0:x.promise;y==null||y.catch(nr).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?d:c.trackResult(d)}function Ln(e,t){return OI(e,wI)}var Bd,cv;function DI(){return cv||(cv=1,Bd={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Bd}var FI=DI();const LI=ln(FI);var BI=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function dv(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(LI[r[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var o=new RegExp(BI),a=null;(a=o.exec(e))!==null;)if(a[0].trim())if(a[1]){var i=a[1].trim(),l=[i,""];i.indexOf("=")>-1&&(l=i.split("=")),t.attrs[l[0]]=l[1],o.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var zI=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,qI=/^\s*$/,UI=Object.create(null);function e1(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?(function(r){var n=[];for(var o in r)n.push(o+'="'+r[o]+'"');return n.length?" "+n.join(" "):""})(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(e1,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var WI={parse:function(e,t){t||(t={}),t.components||(t.components=UI);var r,n=[],o=[],a=-1,i=!1;if(e.indexOf("<")!==0){var l=e.indexOf("<");n.push({type:"text",content:l===-1?e:e.substring(0,l)})}return e.replace(zI,function(c,d){if(i){if(c!=="</"+r.name+">")return;i=!1}var u,p=c.charAt(1)!=="/",m=c.startsWith("<!--"),g=d+c.length,f=e.charAt(g);if(m){var x=dv(c);return a<0?(n.push(x),n):((u=o[a]).children.push(x),n)}if(p&&(a++,(r=dv(c)).type==="tag"&&t.components[r.name]&&(r.type="component",i=!0),r.voidElement||i||!f||f==="<"||r.children.push({type:"text",content:e.slice(g,e.indexOf("<",g))}),a===0&&n.push(r),(u=o[a-1])&&u.children.push(r),o[a]=r),(!p||r.voidElement)&&(a>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(a--,r=a===-1?n:o[a]),!i&&f!=="<"&&f)){u=a===-1?n:o[a].children;var y=e.indexOf("<",g),N=e.slice(g,y===-1?void 0:y);qI.test(N)&&(N=" "),(y>-1&&a+u.length>=0||N!==" ")&&u.push({type:"text",content:N})}}),n},stringify:function(e){return e.reduce(function(t,r){return t+e1("",r)},"")}};const zd=(e,t)=>{var n;if(!e)return!1;const r=((n=e.props)==null?void 0:n.children)??e.children;return t?r.length>0:!!r},qd=e=>{var r,n;if(!e)return[];const t=((r=e.props)==null?void 0:r.children)??e.children;return(n=e.props)!=null&&n.i18nIsDynamicList?ga(t):t},KI=e=>Array.isArray(e)&&e.every(h.isValidElement),ga=e=>Array.isArray(e)?e:[e],$I=(e,t)=>{const r={...t};return r.props=Object.assign(e.props,t.props),r},t1=(e,t,r,n)=>{if(!e)return"";let o="";const a=ga(e),i=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((l,c)=>{if(Ei(l)){o+=`${l}`;return}if(h.isValidElement(l)){const{props:d,type:u}=l,p=Object.keys(d).length,m=i.indexOf(u)>-1,g=d.children;if(!g&&m&&!p){o+=`<${u}/>`;return}if(!g&&(!m||p)||d.i18nIsDynamicList){o+=`<${c}></${c}>`;return}if(m&&p===1&&Ei(g)){o+=`<${u}>${g}</${u}>`;return}const f=t1(g,t,r,n);o+=`<${c}>${f}</${c}>`;return}if(l===null){Rd(r,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:n});return}if(fa(l)){const{format:d,...u}=l,p=Object.keys(u);if(p.length===1){const m=d?`${p[0]}, ${d}`:p[0];o+=`{{${m}}}`;return}Rd(r,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:n,child:l});return}Rd(r,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:n,child:l})}),o},HI=(e,t,r,n,o,a)=>{if(t==="")return[];const i=n.transKeepBasicHtmlNodesFor||[],l=t&&new RegExp(i.map(y=>`<${y}`).join("|")).test(t);if(!e&&!l&&!a)return[t];const c={},d=y=>{ga(y).forEach(b=>{Ei(b)||(zd(b)?d(qd(b)):fa(b)&&!h.isValidElement(b)&&Object.assign(c,b))})};d(e);const u=WI.parse(`<0>${t}</0>`),p={...c,...o},m=(y,N,b)=>{var _;const j=qd(y),v=f(j,N.children,b);return KI(j)&&v.length===0||(_=y.props)!=null&&_.i18nIsDynamicList?j:v},g=(y,N,b,j,v)=>{y.dummy?(y.children=N,b.push(h.cloneElement(y,{key:j},v?void 0:N))):b.push(...h.Children.map([y],_=>{const k={..._.props};return delete k.i18nIsDynamicList,h.createElement(_.type,{...k,key:j,ref:_.ref},v?null:N)}))},f=(y,N,b)=>{const j=ga(y);return ga(N).reduce((_,k,w)=>{var S,P;const T=((P=(S=k.children)==null?void 0:S[0])==null?void 0:P.content)&&r.services.interpolator.interpolate(k.children[0].content,p,r.language);if(k.type==="tag"){let I=j[parseInt(k.name,10)];b.length===1&&!I&&(I=b[0][k.name]),I||(I={});const M=Object.keys(k.attrs).length!==0?$I({props:k.attrs},I):I,A=h.isValidElement(M),C=A&&zd(k,!0)&&!k.voidElement,H=l&&fa(M)&&M.dummy&&!A,z=fa(e)&&Object.hasOwnProperty.call(e,k.name);if(Ei(M)){const D=r.services.interpolator.interpolate(M,p,r.language);_.push(D)}else if(zd(M)||C){const D=m(M,k,b);g(M,D,_,w)}else if(H){const D=f(j,k.children,b);g(M,D,_,w)}else if(Number.isNaN(parseFloat(k.name)))if(z){const D=m(M,k,b);g(M,D,_,w,k.voidElement)}else if(n.transSupportBasicHtmlNodes&&i.indexOf(k.name)>-1)if(k.voidElement)_.push(h.createElement(k.name,{key:`${k.name}-${w}`}));else{const D=f(j,k.children,b);_.push(h.createElement(k.name,{key:`${k.name}-${w}`},D))}else if(k.voidElement)_.push(`<${k.name} />`);else{const D=f(j,k.children,b);_.push(`<${k.name}>${D}</${k.name}>`)}else if(fa(M)&&!A){const D=k.children[0]?T:null;D&&_.push(D)}else g(M,T,_,w,k.children.length!==1||!T)}else if(k.type==="text"){const I=n.transWrapTextNodes,M=a?n.unescape(r.services.interpolator.interpolate(k.content,p,r.language)):r.services.interpolator.interpolate(k.content,p,r.language);I?_.push(h.createElement(I,{key:`${k.name}-${w}`},M)):_.push(M)}return _},[])},x=f([{dummy:!0,children:e||[]}],u,ga(e||[]));return qd(x[0])},s1=(e,t,r)=>{const n=e.key||t,o=h.cloneElement(e,{key:n});if(!o.props||!o.props.children||r.indexOf(`${t}/>`)<0&&r.indexOf(`${t} />`)<0)return o;function a(){return h.createElement(h.Fragment,null,o)}return h.createElement(a,{key:n})},VI=(e,t)=>e.map((r,n)=>s1(r,n,t)),GI=(e,t)=>{const r={};return Object.keys(e).forEach(n=>{Object.assign(r,{[n]:s1(e[n],n,t)})}),r},QI=(e,t,r,n)=>e?Array.isArray(e)?VI(e,t):fa(e)?GI(e,t):(xj(r,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:n}),null):null;function YI({children:e,count:t,parent:r,i18nKey:n,context:o,tOptions:a={},values:i,defaults:l,components:c,ns:d,i18n:u,t:p,shouldUnescape:m,...g}){var M,A,C,H,z,D;const f=u||vj();if(!f)return xj(f,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:n}),e;const x=p||f.t.bind(f)||(Y=>Y),y={...HS(),...(M=f.options)==null?void 0:M.react};let N=d||x.ns||((A=f.options)==null?void 0:A.defaultNS);N=Ei(N)?[N]:N||["translation"];const b=t1(e,y,f,n),j=l||b||y.transEmptyNodeValue||n,{hashTransKey:v}=y,_=n||(v?v(b||j):b||j);(H=(C=f.options)==null?void 0:C.interpolation)!=null&&H.defaultVariables&&(i=i&&Object.keys(i).length>0?{...i,...f.options.interpolation.defaultVariables}:{...f.options.interpolation.defaultVariables});const k=i||t!==void 0&&!((D=(z=f.options)==null?void 0:z.interpolation)!=null&&D.alwaysFormat)||!e?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},w={...a,context:o||a.context,count:t,...i,...k,defaultValue:j,ns:N},T=_?x(_,w):j,S=QI(c,T,f,n),P=HI(S||e,T,f,y,w,m),I=r??y.defaultTransParent;return I?h.createElement(I,g,P):P}function we({children:e,count:t,parent:r,i18nKey:n,context:o,tOptions:a={},values:i,defaults:l,components:c,ns:d,i18n:u,t:p,shouldUnescape:m,...g}){var b;const{i18n:f,defaultNS:x}=h.useContext(VS)||{},y=u||f||vj(),N=p||(y==null?void 0:y.t.bind(y));return YI({children:e,count:t,parent:r,i18nKey:n,context:o,tOptions:a,values:i,defaults:l,components:c,ns:d||(N==null?void 0:N.ns)||x||((b=y==null?void 0:y.options)==null?void 0:b.defaultNS),i18n:y,t:p,shouldUnescape:m,...g})}const Qc="claude-sonnet-4-5",Yc={"claude-sonnet-4-5":{maxTokens:64e3,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3,supportsReasoningBudget:!0,tiers:[{contextWindow:1e6,inputPrice:6,outputPrice:22.5,cacheWritesPrice:7.5,cacheReadsPrice:.6}]},"claude-sonnet-4-20250514":{maxTokens:64e3,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3,supportsReasoningBudget:!0,tiers:[{contextWindow:1e6,inputPrice:6,outputPrice:22.5,cacheWritesPrice:7.5,cacheReadsPrice:.6}]},"claude-opus-4-5-20251101":{maxTokens:32e3,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:5,outputPrice:25,cacheWritesPrice:6.25,cacheReadsPrice:.5,supportsReasoningBudget:!0,supportsVerbosity:!0},"claude-opus-4-1-20250805":{maxTokens:32e3,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:15,outputPrice:75,cacheWritesPrice:18.75,cacheReadsPrice:1.5,supportsReasoningBudget:!0},"claude-opus-4-20250514":{maxTokens:32e3,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:15,outputPrice:75,cacheWritesPrice:18.75,cacheReadsPrice:1.5,supportsReasoningBudget:!0},"claude-3-7-sonnet-20250219:thinking":{maxTokens:128e3,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3,supportsReasoningBudget:!0,requiredReasoningBudget:!0},"claude-3-7-sonnet-20250219":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3},"claude-3-5-sonnet-20241022":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3},"claude-3-5-haiku-20241022":{maxTokens:8192,contextWindow:2e5,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:1,outputPrice:5,cacheWritesPrice:1.25,cacheReadsPrice:.1},"claude-3-opus-20240229":{maxTokens:4096,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:15,outputPrice:75,cacheWritesPrice:18.75,cacheReadsPrice:1.5},"claude-3-haiku-20240307":{maxTokens:4096,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.25,outputPrice:1.25,cacheWritesPrice:.3,cacheReadsPrice:.03},"claude-haiku-4-5-20251001":{maxTokens:64e3,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:1,outputPrice:5,cacheWritesPrice:1.25,cacheReadsPrice:.1,supportsReasoningBudget:!0,description:"Claude Haiku 4.5 delivers near-frontier intelligence at lightning speeds with extended thinking, vision, and multilingual support."}},$h=8192,tg={"moonshotai/Kimi-K2-Thinking":{maxTokens:16384,contextWindow:262e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.6,outputPrice:2.5,cacheWritesPrice:0,cacheReadsPrice:0,description:"Kimi K2 Thinking - A model with enhanced reasoning capabilities from Kimi K2"},"zai-org/GLM-4.6":{maxTokens:16384,contextWindow:2e5,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.6,outputPrice:2.2,cacheWritesPrice:0,cacheReadsPrice:0,description:"Frontier open model with advanced agentic, reasoning and coding capabilities"},"deepseek-ai/DeepSeek-R1":{maxTokens:16384,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:2.55,outputPrice:5.95,cacheWritesPrice:0,cacheReadsPrice:0,description:"DeepSeek's first-generation reasoning model"},"deepseek-ai/DeepSeek-R1-0528":{maxTokens:16384,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:2.55,outputPrice:5.95,cacheWritesPrice:0,cacheReadsPrice:0,description:"The latest revision of DeepSeek's first-generation reasoning model"},"deepseek-ai/DeepSeek-V3-0324":{maxTokens:16384,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.77,outputPrice:.77,cacheWritesPrice:0,cacheReadsPrice:0,description:"Fast general-purpose LLM with enhanced reasoning capabilities"},"deepseek-ai/DeepSeek-V3.1":{maxTokens:16384,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.5,outputPrice:1.5,cacheWritesPrice:0,cacheReadsPrice:0,description:"Extremely capable general-purpose LLM with hybrid reasoning capabilities and advanced tool calling"},"deepseek-ai/DeepSeek-V3.2":{maxTokens:16384,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.3,outputPrice:.45,cacheWritesPrice:0,cacheReadsPrice:0,description:"DeepSeek's hybrid reasoning model with efficient long context scaling with GPT-5 level performance"},"openai/gpt-oss-120b":{maxTokens:16384,contextWindow:128072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.1,outputPrice:.5,cacheWritesPrice:0,cacheReadsPrice:0,description:"Extremely capable general-purpose LLM with strong, controllable reasoning capabilities"},"Qwen/Qwen3-235B-A22B-Instruct-2507":{maxTokens:16384,contextWindow:262144,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.22,outputPrice:.8,cacheWritesPrice:0,cacheReadsPrice:0,description:"Mixture-of-experts LLM with math and reasoning capabilities"},"Qwen/Qwen3-Coder-480B-A35B-Instruct":{maxTokens:16384,contextWindow:262144,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.38,outputPrice:1.53,cacheWritesPrice:0,cacheReadsPrice:0,description:"Mixture-of-experts LLM with advanced coding and reasoning capabilities"},"moonshotai/Kimi-K2-Instruct-0905":{maxTokens:16384,contextWindow:262e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.6,outputPrice:2.5,cacheWritesPrice:0,cacheReadsPrice:0,description:"State of the art language model for agentic and coding tasks. September Update."}},sg="zai-org/GLM-4.6",rg="gpt-oss-120b",ng={"zai-glm-4.6":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:0,outputPrice:0,description:"Fast general-purpose model on Cerebras (up to 1,000 tokens/s). To be deprecated soon."},"zai-glm-4.7":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:0,outputPrice:0,description:"Highly capable general-purpose model on Cerebras (up to 1,000 tokens/s), competitive with leading proprietary models on coding tasks."},"qwen-3-235b-a22b-instruct-2507":{maxTokens:16384,contextWindow:64e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:0,outputPrice:0,description:"Intelligent model with ~1400 tokens/s"},"llama-3.3-70b":{maxTokens:16384,contextWindow:64e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:0,outputPrice:0,description:"Powerful model with ~2600 tokens/s"},"qwen-3-32b":{maxTokens:16384,contextWindow:64e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:0,outputPrice:0,description:"SOTA coding performance with ~2500 tokens/s"},"gpt-oss-120b":{maxTokens:16384,contextWindow:64e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:0,outputPrice:0,description:`OpenAI GPT OSS model with ~2800 tokens/s

 64K context window
 Excels at efficient reasoning across science, math, and coding`}},Xc="deepseek-ai/DeepSeek-R1-0528",XI=/-\d{8}$/,Ka={"claude-haiku-4-5":{maxTokens:32768,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsReasoningEffort:["disable","low","medium","high"],reasoningEffort:"medium",description:"Claude Haiku 4.5 - Fast and efficient with thinking"},"claude-sonnet-4-5":{maxTokens:32768,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsReasoningEffort:["disable","low","medium","high"],reasoningEffort:"medium",description:"Claude Sonnet 4.5 - Balanced performance with thinking"},"claude-opus-4-5":{maxTokens:32768,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsReasoningEffort:["disable","low","medium","high"],reasoningEffort:"medium",description:"Claude Opus 4.5 - Most capable with thinking"}},rl="claude-sonnet-4-5",JI=[{pattern:/opus/i,target:"claude-opus-4-5"},{pattern:/haiku/i,target:"claude-haiku-4-5"},{pattern:/sonnet/i,target:"claude-sonnet-4-5"}];function ZI(e){if(Object.hasOwn(Ka,e))return e;const t=e.replace(XI,"");if(Object.hasOwn(Ka,t))return t;for(const{pattern:r,target:n}of JI)if(r.test(e))return n;return rl}const og="deepseek-chat",ag={"deepseek-chat":{maxTokens:8192,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.28,outputPrice:.42,cacheWritesPrice:.28,cacheReadsPrice:.028,description:"DeepSeek-V3.2 (Non-thinking Mode) achieves a significant breakthrough in inference speed over previous models. It tops the leaderboard among open-source models and rivals the most advanced closed-source models globally. Supports JSON output, tool calls, chat prefix completion (beta), and FIM completion (beta)."},"deepseek-reasoner":{maxTokens:8192,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",preserveReasoning:!0,inputPrice:.28,outputPrice:.42,cacheWritesPrice:.28,cacheReadsPrice:.028,description:"DeepSeek-V3.2 (Thinking Mode) achieves performance comparable to OpenAI-o1 across math, code, and reasoning tasks. Supports Chain of Thought reasoning with up to 8K output tokens. Supports JSON output, tool calls, and chat prefix completion (beta)."}},ig={"deepseek-ai/DeepSeek-V3-0324":{maxTokens:4096,contextWindow:32678,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:0,outputPrice:0,description:"DeepSeek V3 0324 model."},"deepseek-ai/DeepSeek-R1-0528":{maxTokens:4096,contextWindow:32678,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:0,outputPrice:0,description:"DeepSeek R1 0528 model."},"moonshotai/Kimi-K2-Instruct":{maxTokens:4096,contextWindow:32678,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:0,outputPrice:0,description:"Kimi K2 Instruct model."},"openai/gpt-oss-120b":{maxTokens:4096,contextWindow:32678,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:0,outputPrice:0,description:"GPT-OSS 120B model."},"Qwen/Qwen3-Coder-480B-A35B-Instruct":{maxTokens:4096,contextWindow:32678,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:0,outputPrice:0,description:"Qwen3 Coder 480B A35B Instruct model."}},lg="moonshotai/Kimi-K2-Instruct",cg="accounts/fireworks/models/kimi-k2-instruct-0905",dg={"accounts/fireworks/models/kimi-k2-thinking":{maxTokens:4096,contextWindow:262144,supportsImages:!1,supportsPromptCache:!1,inputPrice:.6,outputPrice:2.5,description:"Kimi K2 Thinking is the latest, most capable version of open-source thinking model. Starting with Kimi K2, we built it as a thinking agent that reasons step-by-step while dynamically invoking tools."},"accounts/fireworks/models/kimi-k2-instruct-0905":{maxTokens:16384,contextWindow:262144,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:2.5,cacheReadsPrice:.15,description:"Kimi K2 model gets a new version update: Agentic coding: more accurate, better generalization across scaffolds. Frontend coding: improved aesthetics and functionalities on web, 3d, and other tasks. Context length: extended from 128k to 256k, providing better long-horizon support."},"accounts/fireworks/models/kimi-k2-instruct":{maxTokens:16384,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:2.5,description:"Kimi K2 is a state-of-the-art mixture-of-experts (MoE) language model with 32 billion activated parameters and 1 trillion total parameters. Trained with the Muon optimizer, Kimi K2 achieves exceptional performance across frontier knowledge, reasoning, and coding tasks while being meticulously optimized for agentic capabilities."},"accounts/fireworks/models/minimax-m2":{maxTokens:4096,contextWindow:204800,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.3,outputPrice:1.2,description:"MiniMax M2 is a high-performance language model with 204.8K context window, optimized for long-context understanding and generation tasks."},"accounts/fireworks/models/qwen3-235b-a22b-instruct-2507":{maxTokens:32768,contextWindow:256e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.22,outputPrice:.88,description:"Latest Qwen3 thinking model, competitive against the best closed source models in Jul 2025."},"accounts/fireworks/models/qwen3-coder-480b-a35b-instruct":{maxTokens:32768,contextWindow:256e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.45,outputPrice:1.8,description:"Qwen3's most agentic code model to date."},"accounts/fireworks/models/deepseek-r1-0528":{maxTokens:20480,contextWindow:16e4,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:8,description:"05/28 updated checkpoint of Deepseek R1. Its overall performance is now approaching that of leading models, such as O3 and Gemini 2.5 Pro. Compared to the previous version, the upgraded model shows significant improvements in handling complex reasoning tasks, and this version also offers a reduced hallucination rate, enhanced support for function calling, and better experience for vibe coding. Note that fine-tuning for this model is only available through contacting fireworks at https://fireworks.ai/company/contact-us."},"accounts/fireworks/models/deepseek-v3":{maxTokens:16384,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.9,outputPrice:.9,description:"A strong Mixture-of-Experts (MoE) language model with 671B total parameters with 37B activated for each token from Deepseek. Note that fine-tuning for this model is only available through contacting fireworks at https://fireworks.ai/company/contact-us."},"accounts/fireworks/models/deepseek-v3p1":{maxTokens:16384,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.56,outputPrice:1.68,description:"DeepSeek v3.1 is an improved version of the v3 model with enhanced performance, better reasoning capabilities, and improved code generation. This Mixture-of-Experts (MoE) model maintains the same 671B total parameters with 37B activated per token."},"accounts/fireworks/models/glm-4p5":{maxTokens:16384,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.55,outputPrice:2.19,description:"Z.ai GLM-4.5 with 355B total parameters and 32B active parameters. Features unified reasoning, coding, and intelligent agent capabilities."},"accounts/fireworks/models/glm-4p5-air":{maxTokens:16384,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.55,outputPrice:2.19,description:"Z.ai GLM-4.5-Air with 106B total parameters and 12B active parameters. Features unified reasoning, coding, and intelligent agent capabilities."},"accounts/fireworks/models/glm-4p6":{maxTokens:25344,contextWindow:198e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.55,outputPrice:2.19,description:"Z.ai GLM-4.6 is an advanced coding model with exceptional performance on complex programming tasks. Features improved reasoning capabilities and enhanced code generation quality, making it ideal for software development workflows."},"accounts/fireworks/models/gpt-oss-20b":{maxTokens:16384,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.07,outputPrice:.3,description:"OpenAI gpt-oss-20b: Compact model for local/edge deployments. Optimized for low-latency and resource-constrained environments with chain-of-thought output, adjustable reasoning, and agentic workflows."},"accounts/fireworks/models/gpt-oss-120b":{maxTokens:16384,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.15,outputPrice:.6,description:"OpenAI gpt-oss-120b: Production-grade, general-purpose model that fits on a single H100 GPU. Features complex reasoning, configurable effort, full chain-of-thought transparency, and supports function calling, tool use, and structured outputs."}},$a="gemini-3-pro-preview",r1={"gemini-3-pro-preview":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,supportsReasoningEffort:["low","high"],reasoningEffort:"low",includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],supportsTemperature:!0,defaultTemperature:1,inputPrice:4,outputPrice:18,tiers:[{contextWindow:2e5,inputPrice:2,outputPrice:12},{contextWindow:1/0,inputPrice:4,outputPrice:18}]},"gemini-3-flash-preview":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],supportsTemperature:!0,defaultTemperature:1,inputPrice:.3,outputPrice:2.5,cacheReadsPrice:.075,cacheWritesPrice:1},"gemini-2.5-pro":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625,cacheWritesPrice:4.5,maxThinkingTokens:32768,supportsReasoningBudget:!0,requiredReasoningBudget:!0,tiers:[{contextWindow:2e5,inputPrice:1.25,outputPrice:10,cacheReadsPrice:.31},{contextWindow:1/0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625}]},"gemini-2.5-pro-preview-06-05":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625,cacheWritesPrice:4.5,maxThinkingTokens:32768,supportsReasoningBudget:!0,tiers:[{contextWindow:2e5,inputPrice:1.25,outputPrice:10,cacheReadsPrice:.31},{contextWindow:1/0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625}]},"gemini-2.5-pro-preview-05-06":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625,cacheWritesPrice:4.5,tiers:[{contextWindow:2e5,inputPrice:1.25,outputPrice:10,cacheReadsPrice:.31},{contextWindow:1/0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625}]},"gemini-2.5-pro-preview-03-25":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625,cacheWritesPrice:4.5,maxThinkingTokens:32768,supportsReasoningBudget:!0,tiers:[{contextWindow:2e5,inputPrice:1.25,outputPrice:10,cacheReadsPrice:.31},{contextWindow:1/0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625}]},"gemini-flash-latest":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.3,outputPrice:2.5,cacheReadsPrice:.075,cacheWritesPrice:1,maxThinkingTokens:24576,supportsReasoningBudget:!0},"gemini-2.5-flash-preview-09-2025":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.3,outputPrice:2.5,cacheReadsPrice:.075,cacheWritesPrice:1,maxThinkingTokens:24576,supportsReasoningBudget:!0},"gemini-2.5-flash":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.3,outputPrice:2.5,cacheReadsPrice:.075,cacheWritesPrice:1,maxThinkingTokens:24576,supportsReasoningBudget:!0},"gemini-flash-lite-latest":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.1,outputPrice:.4,cacheReadsPrice:.025,cacheWritesPrice:1,supportsReasoningBudget:!0,maxThinkingTokens:24576},"gemini-2.5-flash-lite-preview-09-2025":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.1,outputPrice:.4,cacheReadsPrice:.025,cacheWritesPrice:1,supportsReasoningBudget:!0,maxThinkingTokens:24576}},n1="gemini-2.5-flash",ug={"gemini-3-pro-preview":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,supportsReasoningBudget:!0,maxThinkingTokens:32768},"gemini-3-flash-preview":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,supportsReasoningBudget:!0,maxThinkingTokens:32768},"gemini-2.5-pro":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,maxThinkingTokens:32768,supportsReasoningBudget:!0,requiredReasoningBudget:!0},"gemini-2.5-flash":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,maxThinkingTokens:24576,supportsReasoningBudget:!0}},Jc="gpt-oss-120b",Zc="hf:zai-org/GLM-4.6",ed="mercury-coder",td="anthropic/claude-3-7-sonnet",pg="moonshotai/kimi-k2-instruct-0905",mg={"llama-3.1-8b-instant":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.05,outputPrice:.08,description:"Meta Llama 3.1 8B Instant model, 128K context."},"llama-3.3-70b-versatile":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.59,outputPrice:.79,description:"Meta Llama 3.3 70B Versatile model, 128K context."},"meta-llama/llama-4-scout-17b-16e-instruct":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.11,outputPrice:.34,description:"Meta Llama 4 Scout 17B Instruct model, 128K context."},"qwen/qwen3-32b":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.29,outputPrice:.59,description:"Alibaba Qwen 3 32B model, 128K context."},"moonshotai/kimi-k2-instruct-0905":{maxTokens:16384,contextWindow:262144,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:2.5,cacheReadsPrice:.15,description:"Kimi K2 model gets a new version update: Agentic coding: more accurate, better generalization across scaffolds. Frontend coding: improved aesthetics and functionalities on web, 3d, and other tasks. Context length: extended from 128k to 256k, providing better long-horizon support."},"openai/gpt-oss-120b":{maxTokens:32766,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.15,outputPrice:.75,description:"GPT-OSS 120B is OpenAI's flagship open source model, built on a Mixture-of-Experts (MoE) architecture with 20 billion parameters and 128 experts."},"openai/gpt-oss-20b":{maxTokens:32768,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.1,outputPrice:.5,description:"GPT-OSS 20B is OpenAI's flagship open source model, built on a Mixture-of-Experts (MoE) architecture with 20 billion parameters and 32 experts."}},sd="meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8",o1={"deepseek-ai/DeepSeek-R1-0528":{maxTokens:8192,contextWindow:128e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,description:"DeepSeek R1 reasoning model"},"meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8":{maxTokens:8192,contextWindow:43e4,supportsImages:!0,supportsPromptCache:!1,supportsNativeTools:!0,description:"Llama 4 Maverick 17B model"},"Intel/Qwen3-Coder-480B-A35B-Instruct-int4-mixed-ar":{maxTokens:8192,contextWindow:106e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,description:"Qwen3 Coder 480B specialized for coding"},"openai/gpt-oss-120b":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,description:"OpenAI GPT-OSS 120B model"}},Fi="claude-3-7-sonnet-20250219",eE={maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3},uv={supportsNativeTools:!0,defaultToolProtocol:"native"},rd="codestral-latest",hg={"magistral-medium-latest":{maxTokens:8192,contextWindow:128e3,supportsImages:!0,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:2,outputPrice:5},"devstral-medium-latest":{maxTokens:8192,contextWindow:131e3,supportsImages:!0,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.4,outputPrice:2},"mistral-medium-latest":{maxTokens:8192,contextWindow:131e3,supportsImages:!0,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.4,outputPrice:2},"codestral-latest":{maxTokens:8192,contextWindow:256e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.3,outputPrice:.9},"mistral-large-latest":{maxTokens:8192,contextWindow:131e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:2,outputPrice:6},"ministral-8b-latest":{maxTokens:8192,contextWindow:131e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.1,outputPrice:.1},"ministral-3b-latest":{maxTokens:8192,contextWindow:131e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.04,outputPrice:.04},"mistral-small-latest":{maxTokens:8192,contextWindow:32e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.2,outputPrice:.6},"magistral-small-latest":{maxTokens:40960,contextWindow:40960,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.5,outputPrice:1.5},"devstral-small-latest":{maxTokens:131e3,contextWindow:131e3,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.1,outputPrice:.3},"pixtral-large-latest":{maxTokens:8192,contextWindow:131e3,supportsImages:!0,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:2,outputPrice:6}},fg="kimi-k2-thinking",gg={"kimi-k2-0711-preview":{maxTokens:32e3,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:2.5,cacheWritesPrice:0,cacheReadsPrice:.15,description:"Kimi K2 is a state-of-the-art mixture-of-experts (MoE) language model with 32 billion activated parameters and 1 trillion total parameters."},"kimi-k2-0905-preview":{maxTokens:16384,contextWindow:262144,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:2.5,cacheReadsPrice:.15,description:"Kimi K2 model gets a new version update: Agentic coding: more accurate, better generalization across scaffolds. Frontend coding: improved aesthetics and functionalities on web, 3d, and other tasks. Context length: extended from 128k to 256k, providing better long-horizon support."},"kimi-k2-turbo-preview":{maxTokens:32e3,contextWindow:262144,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:2.4,outputPrice:10,cacheWritesPrice:0,cacheReadsPrice:.6,description:"Kimi K2 Turbo is a high-speed version of the state-of-the-art Kimi K2 mixture-of-experts (MoE) language model, with the same 32 billion activated parameters and 1 trillion total parameters, optimized for output speeds of up to 60 tokens per second, peaking at 100 tokens per second."},"kimi-k2-thinking":{maxTokens:16e3,contextWindow:262144,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:2.5,cacheWritesPrice:0,cacheReadsPrice:.15,supportsTemperature:!0,preserveReasoning:!0,defaultTemperature:1,description:"The kimi-k2-thinking model is a general-purpose agentic reasoning model developed by Moonshot AI. Thanks to its strength in deep reasoning and multi-turn tool use, it can solve even the hardest problems."}},xg="chatgpt-4o-latest",a1="gpt-5.1-codex-max",vg={"gpt-5.1-codex-max":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,promptCacheRetention:"24h",supportsReasoningEffort:["low","medium","high","xhigh"],reasoningEffort:"xhigh",inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,supportsTemperature:!1,tiers:[{name:"priority",contextWindow:4e5,inputPrice:2.5,outputPrice:20,cacheReadsPrice:.25}],description:"GPT-5.1 Codex Max: Our most intelligent coding model optimized for long-horizon, agentic coding tasks"},"gpt-5.2":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,promptCacheRetention:"24h",supportsReasoningEffort:["none","low","medium","high","xhigh"],reasoningEffort:"medium",inputPrice:1.75,outputPrice:14,cacheReadsPrice:.175,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.875,outputPrice:7,cacheReadsPrice:.0875},{name:"priority",contextWindow:4e5,inputPrice:3.5,outputPrice:28,cacheReadsPrice:.35}],description:"GPT-5.2: Our flagship model for coding and agentic tasks across industries"},"gpt-5.2-codex":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,promptCacheRetention:"24h",supportsReasoningEffort:["low","medium","high","xhigh"],reasoningEffort:"medium",inputPrice:1.75,outputPrice:14,cacheReadsPrice:.175,supportsTemperature:!1,tiers:[{name:"priority",contextWindow:4e5,inputPrice:3.5,outputPrice:28,cacheReadsPrice:.35}],description:"GPT-5.2 Codex: Our most intelligent coding model optimized for long-horizon, agentic coding tasks"},"gpt-5.2-chat-latest":{maxTokens:16384,contextWindow:128e3,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,inputPrice:1.75,outputPrice:14,cacheReadsPrice:.175,description:"GPT-5.2 Chat: Optimized for conversational AI and chat use cases"},"gpt-5.1":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,promptCacheRetention:"24h",supportsReasoningEffort:["none","low","medium","high"],reasoningEffort:"medium",inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.625,outputPrice:5,cacheReadsPrice:.0625},{name:"priority",contextWindow:4e5,inputPrice:2.5,outputPrice:20,cacheReadsPrice:.25}],description:"GPT-5.1: The best model for coding and agentic tasks across domains"},"gpt-5.1-codex":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,promptCacheRetention:"24h",supportsReasoningEffort:["low","medium","high"],reasoningEffort:"medium",inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,supportsTemperature:!1,tiers:[{name:"priority",contextWindow:4e5,inputPrice:2.5,outputPrice:20,cacheReadsPrice:.25}],description:"GPT-5.1 Codex: A version of GPT-5.1 optimized for agentic coding in Codex"},"gpt-5.1-codex-mini":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,promptCacheRetention:"24h",supportsReasoningEffort:["low","medium","high"],reasoningEffort:"medium",inputPrice:.25,outputPrice:2,cacheReadsPrice:.025,supportsTemperature:!1,description:"GPT-5.1 Codex mini: A version of GPT-5.1 optimized for agentic coding in Codex"},"gpt-5":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.625,outputPrice:5,cacheReadsPrice:.0625},{name:"priority",contextWindow:4e5,inputPrice:2.5,outputPrice:20,cacheReadsPrice:.25}],description:"GPT-5: The best model for coding and agentic tasks across domains"},"gpt-5-mini":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",inputPrice:.25,outputPrice:2,cacheReadsPrice:.025,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.125,outputPrice:1,cacheReadsPrice:.0125},{name:"priority",contextWindow:4e5,inputPrice:.45,outputPrice:3.6,cacheReadsPrice:.045}],description:"GPT-5 Mini: A faster, more cost-efficient version of GPT-5 for well-defined tasks"},"gpt-5-codex":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["low","medium","high"],reasoningEffort:"medium",inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,supportsTemperature:!1,tiers:[{name:"priority",contextWindow:4e5,inputPrice:2.5,outputPrice:20,cacheReadsPrice:.25}],description:"GPT-5-Codex: A version of GPT-5 optimized for agentic coding in Codex"},"gpt-5-nano":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",inputPrice:.05,outputPrice:.4,cacheReadsPrice:.005,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.025,outputPrice:.2,cacheReadsPrice:.0025}],description:"GPT-5 Nano: Fastest, most cost-efficient version of GPT-5"},"gpt-5-chat-latest":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,description:"GPT-5 Chat: Optimized for conversational AI and non-reasoning tasks"},"gpt-4.1":{maxTokens:32768,contextWindow:1047576,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,inputPrice:2,outputPrice:8,cacheReadsPrice:.5,supportsTemperature:!0,tiers:[{name:"priority",contextWindow:1047576,inputPrice:3.5,outputPrice:14,cacheReadsPrice:.875}]},"gpt-4.1-mini":{maxTokens:32768,contextWindow:1047576,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,inputPrice:.4,outputPrice:1.6,cacheReadsPrice:.1,supportsTemperature:!0,tiers:[{name:"priority",contextWindow:1047576,inputPrice:.7,outputPrice:2.8,cacheReadsPrice:.175}]},"gpt-4.1-nano":{maxTokens:32768,contextWindow:1047576,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,inputPrice:.1,outputPrice:.4,cacheReadsPrice:.025,supportsTemperature:!0,tiers:[{name:"priority",contextWindow:1047576,inputPrice:.2,outputPrice:.8,cacheReadsPrice:.05}]},o3:{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!0,supportsPromptCache:!0,inputPrice:2,outputPrice:8,cacheReadsPrice:.5,supportsReasoningEffort:["low","medium","high"],reasoningEffort:"medium",supportsTemperature:!1,tiers:[{name:"flex",contextWindow:2e5,inputPrice:1,outputPrice:4,cacheReadsPrice:.25},{name:"priority",contextWindow:2e5,inputPrice:3.5,outputPrice:14,cacheReadsPrice:.875}]},"o3-high":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!0,supportsPromptCache:!0,inputPrice:2,outputPrice:8,cacheReadsPrice:.5,reasoningEffort:"high",supportsTemperature:!1},"o3-low":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!0,supportsPromptCache:!0,inputPrice:2,outputPrice:8,cacheReadsPrice:.5,reasoningEffort:"low",supportsTemperature:!1},"o4-mini":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!0,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.275,supportsReasoningEffort:["low","medium","high"],reasoningEffort:"medium",supportsTemperature:!1,tiers:[{name:"flex",contextWindow:2e5,inputPrice:.55,outputPrice:2.2,cacheReadsPrice:.138},{name:"priority",contextWindow:2e5,inputPrice:2,outputPrice:8,cacheReadsPrice:.5}]},"o4-mini-high":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!0,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.275,reasoningEffort:"high",supportsTemperature:!1},"o4-mini-low":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!0,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.275,reasoningEffort:"low",supportsTemperature:!1},"o3-mini":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!1,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.55,supportsReasoningEffort:["low","medium","high"],reasoningEffort:"medium",supportsTemperature:!1},"o3-mini-high":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!1,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.55,reasoningEffort:"high",supportsTemperature:!1},"o3-mini-low":{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!1,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.55,reasoningEffort:"low",supportsTemperature:!1},o1:{maxTokens:1e5,contextWindow:2e5,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!0,supportsPromptCache:!0,inputPrice:15,outputPrice:60,cacheReadsPrice:7.5,supportsTemperature:!1},"o1-preview":{maxTokens:32768,contextWindow:128e3,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!0,supportsPromptCache:!0,inputPrice:15,outputPrice:60,cacheReadsPrice:7.5,supportsTemperature:!1},"o1-mini":{maxTokens:65536,contextWindow:128e3,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!0,supportsPromptCache:!0,inputPrice:1.1,outputPrice:4.4,cacheReadsPrice:.55,supportsTemperature:!1},"gpt-4o":{maxTokens:16384,contextWindow:128e3,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!0,supportsPromptCache:!0,inputPrice:2.5,outputPrice:10,cacheReadsPrice:1.25,supportsTemperature:!0,tiers:[{name:"priority",contextWindow:128e3,inputPrice:4.25,outputPrice:17,cacheReadsPrice:2.125}]},"gpt-4o-mini":{maxTokens:16384,contextWindow:128e3,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!0,supportsPromptCache:!0,inputPrice:.15,outputPrice:.6,cacheReadsPrice:.075,supportsTemperature:!0,tiers:[{name:"priority",contextWindow:128e3,inputPrice:.25,outputPrice:1,cacheReadsPrice:.125}]},"codex-mini-latest":{maxTokens:16384,contextWindow:2e5,supportsNativeTools:!0,defaultToolProtocol:"native",supportsImages:!1,supportsPromptCache:!1,inputPrice:1.5,outputPrice:6,cacheReadsPrice:.375,supportsTemperature:!1,description:"Codex Mini: Cloud-based software engineering agent powered by codex-1, a version of o3 optimized for coding tasks. Trained with reinforcement learning to generate human-style code, adhere to instructions, and iteratively run tests."},"gpt-5-2025-08-07":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",inputPrice:1.25,outputPrice:10,cacheReadsPrice:.125,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.625,outputPrice:5,cacheReadsPrice:.0625},{name:"priority",contextWindow:4e5,inputPrice:2.5,outputPrice:20,cacheReadsPrice:.25}],description:"GPT-5: The best model for coding and agentic tasks across domains"},"gpt-5-mini-2025-08-07":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",inputPrice:.25,outputPrice:2,cacheReadsPrice:.025,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.125,outputPrice:1,cacheReadsPrice:.0125},{name:"priority",contextWindow:4e5,inputPrice:.45,outputPrice:3.6,cacheReadsPrice:.045}],description:"GPT-5 Mini: A faster, more cost-efficient version of GPT-5 for well-defined tasks"},"gpt-5-nano-2025-08-07":{maxTokens:128e3,contextWindow:4e5,supportsNativeTools:!0,defaultToolProtocol:"native",includedTools:["apply_patch"],excludedTools:["apply_diff","write_to_file"],supportsImages:!0,supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",inputPrice:.05,outputPrice:.4,cacheReadsPrice:.005,supportsVerbosity:!0,supportsTemperature:!1,tiers:[{name:"flex",contextWindow:4e5,inputPrice:.025,outputPrice:.2,cacheReadsPrice:.0025}],description:"GPT-5 Nano: Fastest, most cost-efficient version of GPT-5"}},Gt={maxTokens:-1,contextWindow:128e3,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,supportsNativeTools:!0,defaultToolProtocol:"native"},tE="2024-08-01-preview",bg="qwen3-coder-plus",yg={"qwen3-coder-plus":{maxTokens:65536,contextWindow:1e6,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:0,outputPrice:0,cacheWritesPrice:0,cacheReadsPrice:0,description:"Qwen3 Coder Plus - High-performance coding model with 1M context window for large codebases"},"qwen3-coder-flash":{maxTokens:65536,contextWindow:1e6,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:0,outputPrice:0,cacheWritesPrice:0,cacheReadsPrice:0,description:"Qwen3 Coder Flash - Fast coding model with 1M context window optimized for speed"}},nd="coding/claude-4-sonnet",wg="Meta-Llama-3.3-70B-Instruct",kg={"Meta-Llama-3.1-8B-Instruct":{maxTokens:8192,contextWindow:16384,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.1,outputPrice:.2,description:"Meta Llama 3.1 8B Instruct model with 16K context window."},"Meta-Llama-3.3-70B-Instruct":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:1.2,description:"Meta Llama 3.3 70B Instruct model with 128K context window."},"DeepSeek-R1":{maxTokens:8192,contextWindow:32768,supportsImages:!1,supportsPromptCache:!1,supportsReasoningBudget:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:5,outputPrice:7,description:"DeepSeek R1 reasoning model with 32K context window."},"DeepSeek-V3-0324":{maxTokens:8192,contextWindow:32768,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:4.5,description:"DeepSeek V3 model with 32K context window."},"DeepSeek-V3.1":{maxTokens:8192,contextWindow:32768,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:4.5,description:"DeepSeek V3.1 model with 32K context window."},"Llama-4-Maverick-17B-128E-Instruct":{maxTokens:8192,contextWindow:131072,supportsImages:!0,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.63,outputPrice:1.8,description:"Meta Llama 4 Maverick 17B 128E Instruct model with 128K context window."},"Qwen3-32B":{maxTokens:8192,contextWindow:8192,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.4,outputPrice:.8,description:"Alibaba Qwen 3 32B model with 8K context window."},"gpt-oss-120b":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.22,outputPrice:.59,description:"OpenAI gpt oss 120b model with 128k context window."}},od="anthropic/claude-sonnet-4-5",jg="claude-sonnet-4-5@20250929",_g={"gemini-3-pro-preview":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,supportsReasoningEffort:["low","high"],reasoningEffort:"low",includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],supportsTemperature:!0,defaultTemperature:1,inputPrice:4,outputPrice:18,tiers:[{contextWindow:2e5,inputPrice:2,outputPrice:12},{contextWindow:1/0,inputPrice:4,outputPrice:18}]},"gemini-3-flash-preview":{maxTokens:65536,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,supportsReasoningEffort:["minimal","low","medium","high"],reasoningEffort:"medium",includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],supportsTemperature:!0,defaultTemperature:1,inputPrice:.3,outputPrice:2.5,cacheReadsPrice:.075,cacheWritesPrice:1},"gemini-2.5-flash-preview-05-20:thinking":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.15,outputPrice:3.5,maxThinkingTokens:24576,supportsReasoningBudget:!0,requiredReasoningBudget:!0},"gemini-2.5-flash-preview-05-20":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.15,outputPrice:.6},"gemini-2.5-flash":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.3,outputPrice:2.5,cacheReadsPrice:.075,cacheWritesPrice:1,maxThinkingTokens:24576,supportsReasoningBudget:!0},"gemini-2.5-flash-preview-04-17:thinking":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!1,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.15,outputPrice:3.5,maxThinkingTokens:24576,supportsReasoningBudget:!0,requiredReasoningBudget:!0},"gemini-2.5-flash-preview-04-17":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!1,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.15,outputPrice:.6},"gemini-2.5-pro-preview-03-25":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:2.5,outputPrice:15},"gemini-2.5-pro-preview-05-06":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:2.5,outputPrice:15},"gemini-2.5-pro-preview-06-05":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:2.5,outputPrice:15,maxThinkingTokens:32768,supportsReasoningBudget:!0},"gemini-2.5-pro":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:2.5,outputPrice:15,maxThinkingTokens:32768,supportsReasoningBudget:!0,requiredReasoningBudget:!0,tiers:[{contextWindow:2e5,inputPrice:1.25,outputPrice:10,cacheReadsPrice:.31},{contextWindow:1/0,inputPrice:2.5,outputPrice:15,cacheReadsPrice:.625}]},"gemini-2.5-pro-exp-03-25":{maxTokens:65535,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!1,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:0,outputPrice:0},"gemini-2.0-pro-exp-02-05":{maxTokens:8192,contextWindow:2097152,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!1,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:0,outputPrice:0},"gemini-2.0-flash-001":{maxTokens:8192,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.15,outputPrice:.6},"gemini-2.0-flash-lite-001":{maxTokens:8192,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!1,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.075,outputPrice:.3},"gemini-2.0-flash-thinking-exp-01-21":{maxTokens:8192,contextWindow:32768,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!1,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:0,outputPrice:0},"gemini-1.5-flash-002":{maxTokens:8192,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.075,outputPrice:.3},"gemini-1.5-pro-002":{maxTokens:8192,contextWindow:2097152,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!1,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:1.25,outputPrice:5},"claude-sonnet-4@20250514":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3,supportsReasoningBudget:!0,tiers:[{contextWindow:1e6,inputPrice:6,outputPrice:22.5,cacheWritesPrice:7.5,cacheReadsPrice:.6}]},"claude-sonnet-4-5@20250929":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3,supportsReasoningBudget:!0,tiers:[{contextWindow:1e6,inputPrice:6,outputPrice:22.5,cacheWritesPrice:7.5,cacheReadsPrice:.6}]},"claude-haiku-4-5@20251001":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:1,outputPrice:5,cacheWritesPrice:1.25,cacheReadsPrice:.1,supportsReasoningBudget:!0},"claude-opus-4-5@20251101":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:5,outputPrice:25,cacheWritesPrice:6.25,cacheReadsPrice:.5,supportsReasoningBudget:!0},"claude-opus-4-1@20250805":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:15,outputPrice:75,cacheWritesPrice:18.75,cacheReadsPrice:1.5,supportsReasoningBudget:!0},"claude-opus-4@20250514":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:15,outputPrice:75,cacheWritesPrice:18.75,cacheReadsPrice:1.5},"claude-3-7-sonnet@20250219:thinking":{maxTokens:64e3,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3,supportsReasoningBudget:!0,requiredReasoningBudget:!0},"claude-3-7-sonnet@20250219":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3},"claude-3-5-sonnet-v2@20241022":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3},"claude-3-5-sonnet@20240620":{maxTokens:8192,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:3.75,cacheReadsPrice:.3},"claude-3-5-haiku@20241022":{maxTokens:8192,contextWindow:2e5,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:1,outputPrice:5,cacheWritesPrice:1.25,cacheReadsPrice:.1},"claude-3-opus@20240229":{maxTokens:4096,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:15,outputPrice:75,cacheWritesPrice:18.75,cacheReadsPrice:1.5},"claude-3-haiku@20240307":{maxTokens:4096,contextWindow:2e5,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.25,outputPrice:1.25,cacheWritesPrice:.3,cacheReadsPrice:.03},"gemini-2.5-flash-lite-preview-06-17":{maxTokens:64e3,contextWindow:1048576,supportsImages:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsPromptCache:!0,includedTools:["write_file","edit_file"],excludedTools:["apply_diff"],inputPrice:.1,outputPrice:.4,cacheReadsPrice:.025,cacheWritesPrice:1,maxThinkingTokens:24576,supportsReasoningBudget:!0},"llama-4-maverick-17b-128e-instruct-maas":{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.35,outputPrice:1.15,description:"Meta Llama 4 Maverick 17B Instruct model, 128K context."},"deepseek-r1-0528-maas":{maxTokens:32768,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:1.35,outputPrice:5.4,description:"DeepSeek R1 (0528). Available in us-central1"},"deepseek-v3.1-maas":{maxTokens:32768,contextWindow:163840,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.6,outputPrice:1.7,description:"DeepSeek V3.1. Available in us-west2"},"gpt-oss-120b-maas":{maxTokens:32768,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.15,outputPrice:.6,description:"OpenAI gpt-oss 120B. Available in us-central1"},"gpt-oss-20b-maas":{maxTokens:32768,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.075,outputPrice:.3,description:"OpenAI gpt-oss 20B. Available in us-central1"},"qwen3-coder-480b-a35b-instruct-maas":{maxTokens:32768,contextWindow:262144,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:1,outputPrice:4,description:"Qwen3 Coder 480B A35B Instruct. Available in us-south1"},"qwen3-235b-a22b-instruct-2507-maas":{maxTokens:16384,contextWindow:262144,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,inputPrice:.25,outputPrice:1,description:"Qwen3 235B A22B Instruct. Available in us-south1"}},sE=["claude-sonnet-4@20250514","claude-sonnet-4-5@20250929"],rE=[{value:"global",label:"global"},{value:"us-central1",label:"us-central1"},{value:"us-east1",label:"us-east1"},{value:"us-east4",label:"us-east4"},{value:"us-east5",label:"us-east5"},{value:"us-south1",label:"us-south1"},{value:"us-west1",label:"us-west1"},{value:"us-west2",label:"us-west2"},{value:"us-west3",label:"us-west3"},{value:"us-west4",label:"us-west4"},{value:"northamerica-northeast1",label:"northamerica-northeast1"},{value:"northamerica-northeast2",label:"northamerica-northeast2"},{value:"southamerica-east1",label:"southamerica-east1"},{value:"europe-west1",label:"europe-west1"},{value:"europe-west2",label:"europe-west2"},{value:"europe-west3",label:"europe-west3"},{value:"europe-west4",label:"europe-west4"},{value:"europe-west6",label:"europe-west6"},{value:"europe-central2",label:"europe-central2"},{value:"asia-east1",label:"asia-east1"},{value:"asia-east2",label:"asia-east2"},{value:"asia-northeast1",label:"asia-northeast1"},{value:"asia-northeast2",label:"asia-northeast2"},{value:"asia-northeast3",label:"asia-northeast3"},{value:"asia-south1",label:"asia-south1"},{value:"asia-south2",label:"asia-south2"},{value:"asia-southeast1",label:"asia-southeast1"},{value:"asia-southeast2",label:"asia-southeast2"},{value:"australia-southeast1",label:"australia-southeast1"},{value:"australia-southeast2",label:"australia-southeast2"},{value:"me-west1",label:"me-west1"},{value:"me-central1",label:"me-central1"},{value:"africa-south1",label:"africa-south1"}],Hh="claude-4-sonnet",i1={"gpt-3.5-turbo":{contextWindow:16384,maxTokens:4096,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-3.5-turbo",version:"gpt-3.5-turbo-0613",name:"GPT 3.5 Turbo",supportsToolCalling:!0,maxInputTokens:12288},"gpt-4o-mini":{contextWindow:128e3,maxTokens:4096,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-4o-mini",version:"gpt-4o-mini-2024-07-18",name:"GPT-4o mini",supportsToolCalling:!0,maxInputTokens:12288},"gpt-4":{contextWindow:32768,maxTokens:4096,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-4",version:"gpt-4-0613",name:"GPT 4",supportsToolCalling:!0,maxInputTokens:32768},"gpt-4-0125-preview":{contextWindow:128e3,maxTokens:4096,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-4-turbo",version:"gpt-4-0125-preview",name:"GPT 4 Turbo",supportsToolCalling:!0,maxInputTokens:64e3},"gpt-4o":{contextWindow:128e3,maxTokens:16384,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-4o",version:"gpt-4o-2024-11-20",name:"GPT-4o",supportsToolCalling:!0,maxInputTokens:64e3},o1:{contextWindow:19827,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"o1-ga",version:"o1-2024-12-17",name:"o1 (Preview)",supportsToolCalling:!0,maxInputTokens:19827},"o3-mini":{contextWindow:2e5,maxTokens:1e5,supportsImages:!1,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"o3-mini",version:"o3-mini-2025-01-31",name:"o3-mini",supportsToolCalling:!0,maxInputTokens:64e3},"claude-3.5-sonnet":{contextWindow:9e4,maxTokens:8192,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"claude-3.5-sonnet",version:"claude-3.5-sonnet",name:"Claude 3.5 Sonnet",supportsToolCalling:!0,maxInputTokens:9e4},"claude-4-sonnet":{contextWindow:216e3,maxTokens:16e3,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"claude-sonnet-4",version:"claude-sonnet-4",name:"Claude Sonnet 4",supportsToolCalling:!0,maxInputTokens:128e3},"gemini-2.0-flash-001":{contextWindow:1e6,maxTokens:8192,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gemini-2.0-flash",version:"gemini-2.0-flash-001",name:"Gemini 2.0 Flash",supportsToolCalling:!1,maxInputTokens:128e3},"gemini-2.5-pro":{contextWindow:128e3,maxTokens:64e3,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gemini-2.5-pro",version:"gemini-2.5-pro",name:"Gemini 2.5 Pro",supportsToolCalling:!0,maxInputTokens:128e3},"o4-mini":{contextWindow:2e5,maxTokens:1e5,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"o4-mini",version:"o4-mini-2025-04-16",name:"o4-mini (Preview)",supportsToolCalling:!0,maxInputTokens:128e3},"gpt-4.1":{contextWindow:128e3,maxTokens:16384,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-4.1",version:"gpt-4.1-2025-04-14",name:"GPT-4.1",supportsToolCalling:!0,maxInputTokens:128e3},"gpt-5-mini":{contextWindow:264e3,maxTokens:127805,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-5-mini",version:"gpt-5-mini",name:"GPT-5 mini",supportsToolCalling:!0,maxInputTokens:128e3},"gpt-5":{contextWindow:264e3,maxTokens:64e3,supportsImages:!0,supportsPromptCache:!1,inputPrice:0,outputPrice:0,family:"gpt-5",version:"gpt-5",name:"GPT-5",supportsToolCalling:!0,maxInputTokens:128e3}},Ng="grok-code-fast-1",Sg={"grok-code-fast-1":{maxTokens:16384,contextWindow:256e3,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.2,outputPrice:1.5,cacheWritesPrice:.02,cacheReadsPrice:.02,description:"xAI's Grok Code Fast model with 256K context window",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-4-1-fast-reasoning":{maxTokens:65536,contextWindow:2e6,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.2,outputPrice:.5,cacheWritesPrice:.05,cacheReadsPrice:.05,description:"xAI's Grok 4.1 Fast model with 2M context window, optimized for high-performance agentic tool calling with reasoning",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-4-1-fast-non-reasoning":{maxTokens:65536,contextWindow:2e6,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.2,outputPrice:.5,cacheWritesPrice:.05,cacheReadsPrice:.05,description:"xAI's Grok 4.1 Fast model with 2M context window, optimized for high-performance agentic tool calling",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-4-fast-reasoning":{maxTokens:65536,contextWindow:2e6,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.2,outputPrice:.5,cacheWritesPrice:.05,cacheReadsPrice:.05,description:"xAI's Grok 4 Fast model with 2M context window, optimized for high-performance agentic tool calling with reasoning",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-4-fast-non-reasoning":{maxTokens:65536,contextWindow:2e6,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.2,outputPrice:.5,cacheWritesPrice:.05,cacheReadsPrice:.05,description:"xAI's Grok 4 Fast model with 2M context window, optimized for high-performance agentic tool calling",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-4-0709":{maxTokens:8192,contextWindow:256e3,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:.75,cacheReadsPrice:.75,description:"xAI's Grok-4 model with 256K context window",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-4-fast":{maxTokens:3e4,contextWindow:2e6,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,inputPrice:.4,outputPrice:1,cacheReadsPrice:.05,description:"xAI's Grok-4-Fast model with reasonning and a 2M context window",tiers:[{contextWindow:128e3,inputPrice:.2,outputPrice:.5,cacheReadsPrice:.05},{contextWindow:1/0,inputPrice:.4,outputPrice:1,cacheReadsPrice:.05}],includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-3-mini":{maxTokens:8192,contextWindow:131072,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.3,outputPrice:.5,cacheWritesPrice:.07,cacheReadsPrice:.07,description:"xAI's Grok-3 mini model with 128K context window",supportsReasoningEffort:["low","high"],reasoningEffort:"low",includedTools:["search_replace"],excludedTools:["apply_diff"]},"grok-3":{maxTokens:8192,contextWindow:131072,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:3,outputPrice:15,cacheWritesPrice:.75,cacheReadsPrice:.75,description:"xAI's Grok-3 model with 128K context window",includedTools:["search_replace"],excludedTools:["apply_diff"]}},Tg="anthropic/claude-sonnet-4",Pg="glm-4.7",Ig={"glm-4.5":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:2.2,cacheWritesPrice:0,cacheReadsPrice:.11,description:"GLM-4.5 is Zhipu's latest featured model. Its comprehensive capabilities in reasoning, coding, and agent reach the state-of-the-art (SOTA) level among open-source models, with a context length of up to 128k."},"glm-4.5-air":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.2,outputPrice:1.1,cacheWritesPrice:0,cacheReadsPrice:.03,description:"GLM-4.5-Air is the lightweight version of GLM-4.5. It balances performance and cost-effectiveness, and can flexibly switch to hybrid thinking models."},"glm-4.5-x":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:2.2,outputPrice:8.9,cacheWritesPrice:0,cacheReadsPrice:.45,description:"GLM-4.5-X is a high-performance variant optimized for strong reasoning with ultra-fast responses."},"glm-4.5-airx":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:1.1,outputPrice:4.5,cacheWritesPrice:0,cacheReadsPrice:.22,description:"GLM-4.5-AirX is a lightweight, ultra-fast variant delivering strong performance with lower cost."},"glm-4.5-flash":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:0,outputPrice:0,cacheWritesPrice:0,cacheReadsPrice:0,description:"GLM-4.5-Flash is a free, high-speed model excellent for reasoning, coding, and agentic tasks."},"glm-4.5v":{maxTokens:16384,contextWindow:131072,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:1.8,cacheWritesPrice:0,cacheReadsPrice:.11,description:"GLM-4.5V is Z.AI's multimodal visual reasoning model (image/video/text/file input), optimized for GUI tasks, grounding, and document/video understanding."},"glm-4.6":{maxTokens:16384,contextWindow:2e5,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.6,outputPrice:2.2,cacheWritesPrice:0,cacheReadsPrice:.11,description:"GLM-4.6 is Zhipu's newest model with an extended context window of up to 200k tokens, providing enhanced capabilities for processing longer documents and conversations."},"glm-4.6v":{maxTokens:98304,contextWindow:131072,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.3,outputPrice:.9,cacheWritesPrice:0,cacheReadsPrice:.05,description:"GLM-4.6V is Z.AI's multimodal visual reasoning model (image/video/text/file input), optimized for GUI tasks, grounding, document/video understanding, native function calling capabilities."},"glm-4.6v-flash":{maxTokens:98304,contextWindow:131072,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:0,outputPrice:0,cacheWritesPrice:0,cacheReadsPrice:0,description:"GLM-4.6V-Flash is a free, high-speed multimodal model with visual reasoning capabilities, excellent for reasoning, coding, and agentic tasks."},"glm-4.7":{maxTokens:16384,contextWindow:2e5,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsReasoningEffort:["disable","medium"],reasoningEffort:"medium",preserveReasoning:!0,inputPrice:.6,outputPrice:2.2,cacheWritesPrice:0,cacheReadsPrice:.11,description:"GLM-4.7 is Zhipu's latest model with built-in thinking capabilities enabled by default. It provides enhanced reasoning for complex tasks while maintaining fast response times."},"glm-4-32b-0414-128k":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.1,outputPrice:.1,cacheWritesPrice:0,cacheReadsPrice:0,description:"GLM-4-32B is a 32 billion parameter model with 128k context length, optimized for efficiency."}},Eg="glm-4.7",l1={"glm-4.5":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.29,outputPrice:1.14,cacheWritesPrice:0,cacheReadsPrice:.057,description:"GLM-4.5 is Zhipu's latest featured model. Its comprehensive capabilities in reasoning, coding, and agent reach the state-of-the-art (SOTA) level among open-source models, with a context length of up to 128k."},"glm-4.5-air":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.1,outputPrice:.6,cacheWritesPrice:0,cacheReadsPrice:.02,description:"GLM-4.5-Air is the lightweight version of GLM-4.5. It balances performance and cost-effectiveness, and can flexibly switch to hybrid thinking models."},"glm-4.5-x":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.29,outputPrice:1.14,cacheWritesPrice:0,cacheReadsPrice:.057,description:"GLM-4.5-X is a high-performance variant optimized for strong reasoning with ultra-fast responses."},"glm-4.5-airx":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.1,outputPrice:.6,cacheWritesPrice:0,cacheReadsPrice:.02,description:"GLM-4.5-AirX is a lightweight, ultra-fast variant delivering strong performance with lower cost."},"glm-4.5-flash":{maxTokens:16384,contextWindow:131072,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:0,outputPrice:0,cacheWritesPrice:0,cacheReadsPrice:0,description:"GLM-4.5-Flash is a free, high-speed model excellent for reasoning, coding, and agentic tasks."},"glm-4.5v":{maxTokens:16384,contextWindow:131072,supportsImages:!0,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.29,outputPrice:.93,cacheWritesPrice:0,cacheReadsPrice:.057,description:"GLM-4.5V is Z.AI's multimodal visual reasoning model (image/video/text/file input), optimized for GUI tasks, grounding, and document/video understanding."},"glm-4.6":{maxTokens:16384,contextWindow:204800,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",inputPrice:.29,outputPrice:1.14,cacheWritesPrice:0,cacheReadsPrice:.057,description:"GLM-4.6 is Zhipu's newest model with an extended context window of up to 200k tokens, providing enhanced capabilities for processing longer documents and conversations."},"glm-4.7":{maxTokens:16384,contextWindow:204800,supportsImages:!1,supportsPromptCache:!0,supportsNativeTools:!0,defaultToolProtocol:"native",supportsReasoningEffort:["disable","medium"],reasoningEffort:"medium",preserveReasoning:!0,inputPrice:.29,outputPrice:1.14,cacheWritesPrice:0,cacheReadsPrice:.057,description:"GLM-4.7 is Zhipu's latest model with built-in thinking capabilities enabled by default. It provides enhanced reasoning for complex tasks while maintaining fast response times."}},pv={international_coding:{name:"International Coding",baseUrl:"https://api.z.ai/api/coding/paas/v4",isChina:!1},china_coding:{name:"China Coding",baseUrl:"https://open.bigmodel.cn/api/coding/paas/v4",isChina:!0},international_api:{name:"International API",baseUrl:"https://api.z.ai/api/paas/v4",isChina:!1},china_api:{name:"China API",baseUrl:"https://open.bigmodel.cn/api/paas/v4",isChina:!0}},ad="Qwen/Qwen3-Coder-480B-A35B-Instruct-Turbo",nE="claude-3.5-sonnet";function Vh(e,t={isChina:!1}){switch(e){case"openrouter":return tl;case"requesty":return nd;case"glama":return td;case"unbound":return od;case"litellm":return Fi;case"xai":return Ng;case"groq":return pg;case"huggingface":return"meta-llama/Llama-3.3-70B-Instruct";case"chutes":return Xc;case"baseten":return sg;case"bedrock":return Kf;case"vertex":return jg;case"gemini":return $a;case"deepseek":return og;case"doubao":return Wf;case"moonshot":return fg;case"minimax":return Uf;case"zai":return t!=null&&t.isChina?Eg:Pg;case"openai-native":return"gpt-4o";case"mistral":return rd;case"openai":return"";case"ollama":return"";case"lmstudio":return"";case"deepinfra":return ad;case"vscode-lm":return nE;case"claude-code":return rl;case"cerebras":return rg;case"sambanova":return wg;case"fireworks":return cg;case"featherless":return lg;case"io-intelligence":return sd;case"roo":return qf;case"qwen-code":return bg;case"vercel-ai-gateway":return Tg;case"anthropic":case"gemini-cli":case"human-relay":case"fake-ai":default:return Qc}}const Mg=!1,oE=!1,aE={},iE=Object.freeze(Object.defineProperty({__proto__:null,default:aE},Symbol.toStringTag,{value:"Module"})),lE={ar:" ()",cs:"etina",th:"",uk:""},cE={...lE,ca:"Catal",de:"Deutsch",en:"English",es:"Espaol",fr:"Franais",hi:"",id:"Bahasa Indonesia",it:"Italiano",ja:"",ko:"",nl:"Nederlands",pl:"Polski","pt-BR":"Portugus",ru:"",tr:"Trke",vi:"Ting Vit","zh-CN":"","zh-TW":""},mv={read:{tools:["read_file","fetch_instructions","search_files","list_files","codebase_search"]},edit:{tools:["apply_diff","edit_file","fast_edit_file","write_to_file","delete_file","new_rule","generate_image"],customTools:["search_and_replace","search_replace","edit_file","apply_patch"]},browser:{tools:["browser_action"]},command:{tools:["execute_command"]},mcp:{tools:["use_mcp_tool","access_mcp_resource"]},modes:{tools:["switch_mode","new_task"],alwaysAvailable:!0}};class Cg{constructor(){Nt(this,"state",this.loadInitialState());Nt(this,"stateChangeHandlers",new Set)}loadInitialState(){return this.getDefaultState()}getDefaultState(){return{allItems:[],organizationMcps:[],displayItems:[],displayOrganizationMcps:[],isFetching:!0,activeTab:"mcp",filters:{type:"",search:"",tags:[],installed:"all"}}}initialize(){this.state=this.getDefaultState()}onStateChange(t){return this.stateChangeHandlers.add(t),()=>this.stateChangeHandlers.delete(t)}cleanup(){this.state.isFetching&&(this.state.isFetching=!1,this.notifyStateChange()),this.stateChangeHandlers.clear()}getState(){const t=this.state.allItems.length?[...this.state.allItems]:[],r=this.state.organizationMcps.length?[...this.state.organizationMcps]:[],n=this.state.displayItems?[...this.state.displayItems]:[...t],o=this.state.displayOrganizationMcps?[...this.state.displayOrganizationMcps]:[...r],a=this.state.filters.tags.length?[...this.state.filters.tags]:[];return{...this.state,allItems:t,organizationMcps:r,displayItems:n,displayOrganizationMcps:o,filters:{...this.state.filters,tags:a}}}notifyStateChange(t=!1){const r=this.getState();t?this.stateChangeHandlers.forEach(n=>{const o=r.activeTab,a={...r,activeTab:o};n(a)}):this.stateChangeHandlers.forEach(n=>{n(r)})}async transition(t){switch(t.type){case"FETCH_ITEMS":{this.state={...this.state,isFetching:!0},this.notifyStateChange();break}case"FETCH_COMPLETE":{const{items:r}=t.payload;if(JSON.stringify(r)===JSON.stringify(this.state.allItems)){this.state.isFetching=!1,this.stateChangeHandlers.forEach(a=>{a({...this.getState(),isFetching:!1})});break}let n,o;this.isFilterActive()?(n=this.filterItems([...r],this.state.installedMetadata),o=this.filterItems([...this.state.organizationMcps],this.state.installedMetadata)):(n=[...r],o=[...this.state.organizationMcps]),this.state={...this.state,allItems:[...r],displayItems:n,displayOrganizationMcps:o,isFetching:!1},this.notifyStateChange();break}case"FETCH_ERROR":{const{filters:r,activeTab:n,allItems:o,displayItems:a}=this.state;this.state={...this.getDefaultState(),filters:r,activeTab:n,allItems:o,displayItems:a,isFetching:!1},this.notifyStateChange();break}case"SET_ACTIVE_TAB":{const{tab:r}=t.payload;this.state={...this.state,activeTab:r},this.notifyStateChange();break}case"UPDATE_FILTERS":{const{filters:r={}}=t.payload||{},n={type:r.type!==void 0?r.type:this.state.filters.type,search:r.search!==void 0?r.search:this.state.filters.search,tags:r.tags!==void 0?r.tags:this.state.filters.tags,installed:r.installed!==void 0?r.installed:this.state.filters.installed};this.state={...this.state,filters:n};const o=this.filterItems(this.state.allItems,this.state.installedMetadata),a=this.filterItems(this.state.organizationMcps,this.state.installedMetadata);this.state={...this.state,displayItems:o,displayOrganizationMcps:a},R.postMessage({type:"filterMarketplaceItems",filters:n}),this.notifyStateChange();break}}}isFilterActive(){return!!(this.state.filters.type||this.state.filters.search||this.state.filters.tags.length>0||this.state.filters.installed!=="all")}filterItems(t,r){const{type:n,search:o,tags:a,installed:i}=this.state.filters,l=o==null?void 0:o.toLowerCase();return t.filter(c=>{var d,u,p;if(n&&c.type!==n)return!1;if(l){const m=c.name.toLowerCase().includes(l),g=(c.description||"").toLowerCase().includes(l);if(!m&&!g)return!1}if(a.length>0&&!((d=c.tags)!=null&&d.some(m=>a.includes(m))))return!1;if(i!=="all"&&r){const m=!!((u=r==null?void 0:r.global)!=null&&u[c.id]),g=!!((p=r==null?void 0:r.project)!=null&&p[c.id]),f=m||g;if(i==="installed"&&!f||i==="not_installed"&&f)return!1}return!0})}async handleMessage(t){var r;if(!t||!t.type||t.type==="invalidType"){this.state={...this.getDefaultState()},this.notifyStateChange();return}if(t.type==="state"){if(!t.state){this.state={...this.getDefaultState()},this.notifyStateChange();return}const n=t.state.marketplaceItems,o=t.state.marketplaceInstalledMetadata;if(n!==void 0){const c=[...n];o!==void 0&&(this.state.installedMetadata=o);let d,u;this.isFilterActive()?(d=this.filterItems(c,this.state.installedMetadata),u=this.filterItems(this.state.organizationMcps,this.state.installedMetadata)):(d=c,u=this.state.organizationMcps),this.state={...this.state,isFetching:!1,allItems:c,displayItems:d,displayOrganizationMcps:u,installedMetadata:o||this.state.installedMetadata}}const a=this.state.activeTab==="mcp",i=(this.state.allItems||[]).length>0,l=!a&&i;this.notifyStateChange(l)}if(t.type==="marketplaceButtonClicked"&&(t.text?this.transition({type:"FETCH_ERROR"}):((r=t.values)!=null&&r.marketplaceTab&&(t.values.marketplaceTab==="mcp"||t.values.marketplaceTab==="mode")&&this.transition({type:"SET_ACTIVE_TAB",payload:{tab:t.values.marketplaceTab}}),this.transition({type:"FETCH_ITEMS"}))),t.type==="marketplaceData"){const n=t.marketplaceItems,o=t.organizationMcps||[],a=t.marketplaceInstalledMetadata;if(n!==void 0){const i=[...n],l=[...o];a!==void 0&&(this.state.installedMetadata=a);const c=this.isFilterActive()?this.filterItems(i,this.state.installedMetadata):i,d=this.isFilterActive()?this.filterItems(l,this.state.installedMetadata):l;this.state={...this.state,isFetching:!1,allItems:i,organizationMcps:l,displayItems:c,displayOrganizationMcps:d,installedMetadata:a||this.state.installedMetadata}}this.notifyStateChange()}}}function dE(){console.debug("Initializing CSP-compatible source map support for production build"),window.addEventListener("error",async e=>{if(e.error&&e.error instanceof Error)try{const t=await Nh(e.error);console.error("Source mapped error:",t)}catch(t){console.error("Error enhancing error with source maps:",t)}}),window.addEventListener("unhandledrejection",async e=>{if(e.reason&&e.reason instanceof Error)try{const t=await Nh(e.reason);console.error("Source mapped rejection:",t)}catch(t){console.error("Error enhancing rejection with source maps:",t)}});try{const e=document.getElementsByTagName("script");for(let t=0;t<e.length;t++){const r=e[t];if(r.src){const n=[`${r.src}.map`,`${r.src}?source-map=true`,r.src.replace(/\.js$/,".js.map"),r.src.replace(/\.js$/,".map.json"),r.src.replace(/\.js$/,".sourcemap")];for(const o of n){const a=document.createElement("link");a.rel="preload",a.as="fetch",a.href=o,a.crossOrigin="anonymous",document.head.appendChild(a)}fetch(r.src).then(o=>o.text()).then(o=>{const a=o.match(/\/\/[#@]\s*sourceMappingURL=([^\s]+)/);if(a&&a[1]){const i=a[1];if(!i.startsWith("data:")){const l=new URL(r.src),c=l.href.substring(0,l.href.lastIndexOf("/")+1),d=new URL(i,c).href,u=document.createElement("link");u.rel="preload",u.as="fetch",u.href=d,u.crossOrigin="anonymous",document.head.appendChild(u)}}}).catch(o=>console.debug("Error checking for inline sourceMappingURL:",o))}}}catch(e){console.error("Error preloading source maps:",e)}}function uE(){try{window.__applySourceMaps=async e=>e instanceof Error?await Nh(e):(console.error("Not an Error object:",e),e),window.__testSourceMaps=()=>{try{(void 0).nonExistentMethod()}catch(e){e instanceof Error&&(console.log("Original error:",e),window.__applySourceMaps(e).then(t=>{console.log("Enhanced error:",t),"sourceMappedStack"in t&&console.log("Source mapped stack:",t.sourceMappedStack),"sourceMappedComponentStack"in t&&console.log("Source mapped component stack:",t.sourceMappedComponentStack)}))}},window.__checkSourceMap=async e=>{try{const t=await fetch(`${e}.map`);if(t.ok){const r=await t.json(),n=r.sources&&r.sources.length>0?r.sources[0]:"unknown";return console.log(`Source map found for ${e}. Original file: ${n}`),!0}else return console.log(`No source map found for ${e}`),!1}catch(t){return console.error(`Error checking source map for ${e}:`,t),!1}},console.debug("Source map debugging utilities exposed on window object")}catch(e){console.error("Error exposing source maps for debugging:",e)}}var Pl={exports:{}},hv;function pE(){if(hv)return Pl.exports;hv=1;function e(t,r=100,n={}){if(typeof t!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof t}\`.`);if(r<0)throw new RangeError("`wait` must not be negative.");const{immediate:o}=typeof n=="boolean"?{immediate:n}:n;let a,i,l,c,d;function u(){const g=a,f=i;return a=void 0,i=void 0,d=t.apply(g,f),d}function p(){const g=Date.now()-c;g<r&&g>=0?l=setTimeout(p,r-g):(l=void 0,o||(d=u()))}const m=function(...g){if(a&&this!==a&&Object.getPrototypeOf(this)===Object.getPrototypeOf(a))throw new Error("Debounced method called with different contexts of the same prototype.");a=this,i=g,c=Date.now();const f=o&&!l;return l||(l=setTimeout(p,r)),f&&(d=u()),d};return Object.defineProperty(m,"isPending",{get(){return l!==void 0}}),m.clear=()=>{l&&(clearTimeout(l),l=void 0)},m.flush=()=>{l&&m.trigger()},m.trigger=()=>{d=u(),m.clear()},m}return Pl.exports.debounce=e,Pl.exports=e,Pl.exports}var mE=pE();const c1=ln(mE);var Ud,fv;function hE(){return fv||(fv=1,Ud=function(e,t){t=t||{},t.listUnicodeChar=t.hasOwnProperty("listUnicodeChar")?t.listUnicodeChar:!1,t.stripListLeaders=t.hasOwnProperty("stripListLeaders")?t.stripListLeaders:!0,t.gfm=t.hasOwnProperty("gfm")?t.gfm:!0,t.useImgAltText=t.hasOwnProperty("useImgAltText")?t.useImgAltText:!0,t.abbr=t.hasOwnProperty("abbr")?t.abbr:!1,t.replaceLinksWithURL=t.hasOwnProperty("replaceLinksWithURL")?t.replaceLinksWithURL:!1,t.htmlTagsToSkip=t.hasOwnProperty("htmlTagsToSkip")?t.htmlTagsToSkip:[],t.throwError=t.hasOwnProperty("throwError")?t.throwError:!1;var r=e||"";r=r.replace(/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/gm,"");try{t.stripListLeaders&&(t.listUnicodeChar?r=r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,t.listUnicodeChar+" $1"):r=r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),t.gfm&&(r=r.replace(/\n={2,}/g,`
`).replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/```(?:.*)\n([\s\S]*?)```/g,(o,a)=>a.trim())),t.abbr&&(r=r.replace(/\*\[.*\]:.*\n/,""));let n=/<[^>]*>/g;if(t.htmlTagsToSkip&&t.htmlTagsToSkip.length>0){const o=t.htmlTagsToSkip.join("|");n=new RegExp(`<(?!/?(${o})(?=>|s[^>]*>))[^>]*>`,"g")}r=r.replace(n,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,t.useImgAltText?"$1":"").replace(/\[([\s\S]*?)\]\s*[\(\[].*?[\)\]]/g,t.replaceLinksWithURL?"$2":"$1").replace(/^(\n)?\s{0,3}>\s?/gm,"$1").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s*( (.+))? +#+$|^(\n)?\s{0,}#{1,6}\s*( (.+))?$/gm,"$1$3$4$6").replace(/([\*]+)(\S)(.*?\S)??\1/g,"$2$3").replace(/(^|\W)([_]+)(\S)(.*?\S)??\2($|\W)/g,"$1$3$4$5").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/~(.*?)~/g,"$1")}catch(n){if(t.throwError)throw n;return console.error("remove-markdown encountered error: %s",n),e}return r}),Ud}var fE=hE();const gE=ln(fE);function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jc.apply(null,arguments)}function xE(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vE(e){h.useEffect(e,[])}var bE=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function Wd(e,t){var r=t===void 0?{}:t,n=r.volume,o=n===void 0?1:n,a=r.playbackRate,i=a===void 0?1:a,l=r.soundEnabled,c=l===void 0?!0:l,d=r.interrupt,u=d===void 0?!1:d,p=r.onload,m=xE(r,bE),g=Qe.useRef(null),f=Qe.useRef(!1),x=Qe.useState(null),y=x[0],N=x[1],b=Qe.useState(null),j=b[0],v=b[1],_=function(){typeof p=="function"&&p.call(this),f.current&&N(this.duration()*1e3),v(this)};vE(function(){return Oj(()=>import("./chunk-BYCUR9qn.js").then(P=>P.h),__vite__mapDeps([0,1])).then(function(P){if(!f.current){var I;g.current=(I=P.Howl)!==null&&I!==void 0?I:P.default.Howl,f.current=!0,new g.current(jc({src:Array.isArray(e)?e:[e],volume:o,rate:i,onload:_},m))}}),function(){f.current=!1}}),Qe.useEffect(function(){g.current&&j&&v(new g.current(jc({src:Array.isArray(e)?e:[e],volume:o,onload:_},m)))},[JSON.stringify(e)]),Qe.useEffect(function(){j&&(j.volume(o),m.sprite||j.rate(i))},[j,o,i]);var k=Qe.useCallback(function(P){typeof P>"u"&&(P={}),!(!j||!c&&!P.forceSoundEnabled)&&(u&&j.stop(),P.playbackRate&&j.rate(P.playbackRate),j.play(P.id))},[j,c,u]),w=Qe.useCallback(function(P){j&&j.stop(P)},[j]),T=Qe.useCallback(function(P){j&&j.pause(P)},[j]),S=[k,{sound:j,stop:w,pause:T,duration:y}];return S}const ia=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,d1=new Set,Gh=typeof process=="object"&&process?process:{},u1=(e,t,r,n)=>{typeof Gh.emitWarning=="function"?Gh.emitWarning(e,t,r,n):console.error(`[${r}] ${t}: ${e}`)};let _c=globalThis.AbortController,gv=globalThis.AbortSignal;var hj;if(typeof _c>"u"){gv=class{constructor(){Nt(this,"onabort");Nt(this,"_onabort",[]);Nt(this,"reason");Nt(this,"aborted",!1)}addEventListener(n,o){this._onabort.push(o)}},_c=class{constructor(){Nt(this,"signal",new gv);t()}abort(n){var o,a;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const i of this.signal._onabort)i(n);(a=(o=this.signal).onabort)==null||a.call(o,n)}}};let e=((hj=Gh.env)==null?void 0:hj.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const t=()=>{e&&(e=!1,u1("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const yE=e=>!d1.has(e),Hn=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),p1=e=>Hn(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Yl:null:null;class Yl extends Array{constructor(t){super(t),this.fill(0)}}var La;const Po=class Po{constructor(t,r){Nt(this,"heap");Nt(this,"length");if(!E(Po,La))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(t),this.length=0}static create(t){const r=p1(t);if(!r)return[];le(Po,La,!0);const n=new Po(t,r);return le(Po,La,!1),n}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};La=new WeakMap,ye(Po,La,!1);let Qh=Po;var fj,gj,Kr,mr,$r,qo,Hr,Ba,za,xs,Vr,hs,Xt,Je,Ys,hr,Fs,ks,Gr,js,Qr,Yr,fr,Xr,co,Xs,qa,ke,Yh,Uo,An,Yi,gr,m1,Wo,Ua,Xi,Vn,Gn,Xh,Xl,Jl,Qt,Jh,ji,Qn,Zh;const Ex=class Ex{constructor(t){ye(this,ke);ye(this,Kr);ye(this,mr);ye(this,$r);ye(this,qo);ye(this,Hr);ye(this,Ba);ye(this,za);Nt(this,"ttl");Nt(this,"ttlResolution");Nt(this,"ttlAutopurge");Nt(this,"updateAgeOnGet");Nt(this,"updateAgeOnHas");Nt(this,"allowStale");Nt(this,"noDisposeOnSet");Nt(this,"noUpdateTTL");Nt(this,"maxEntrySize");Nt(this,"sizeCalculation");Nt(this,"noDeleteOnFetchRejection");Nt(this,"noDeleteOnStaleGet");Nt(this,"allowStaleOnFetchAbort");Nt(this,"allowStaleOnFetchRejection");Nt(this,"ignoreFetchAbort");ye(this,xs);ye(this,Vr);ye(this,hs);ye(this,Xt);ye(this,Je);ye(this,Ys);ye(this,hr);ye(this,Fs);ye(this,ks);ye(this,Gr);ye(this,js);ye(this,Qr);ye(this,Yr);ye(this,fr);ye(this,Xr);ye(this,co);ye(this,Xs);ye(this,qa);ye(this,Uo,()=>{});ye(this,An,()=>{});ye(this,Yi,()=>{});ye(this,gr,()=>!1);ye(this,Wo,t=>{});ye(this,Ua,(t,r,n)=>{});ye(this,Xi,(t,r,n,o)=>{if(n||o)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Nt(this,fj,"LRUCache");const{max:r=0,ttl:n,ttlResolution:o=1,ttlAutopurge:a,updateAgeOnGet:i,updateAgeOnHas:l,allowStale:c,dispose:d,onInsert:u,disposeAfter:p,noDisposeOnSet:m,noUpdateTTL:g,maxSize:f=0,maxEntrySize:x=0,sizeCalculation:y,fetchMethod:N,memoMethod:b,noDeleteOnFetchRejection:j,noDeleteOnStaleGet:v,allowStaleOnFetchRejection:_,allowStaleOnFetchAbort:k,ignoreFetchAbort:w}=t;if(r!==0&&!Hn(r))throw new TypeError("max option must be a nonnegative integer");const T=r?p1(r):Array;if(!T)throw new Error("invalid max value: "+r);if(le(this,Kr,r),le(this,mr,f),this.maxEntrySize=x||E(this,mr),this.sizeCalculation=y,this.sizeCalculation){if(!E(this,mr)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(b!==void 0&&typeof b!="function")throw new TypeError("memoMethod must be a function if defined");if(le(this,za,b),N!==void 0&&typeof N!="function")throw new TypeError("fetchMethod must be a function if specified");if(le(this,Ba,N),le(this,co,!!N),le(this,hs,new Map),le(this,Xt,new Array(r).fill(void 0)),le(this,Je,new Array(r).fill(void 0)),le(this,Ys,new T(r)),le(this,hr,new T(r)),le(this,Fs,0),le(this,ks,0),le(this,Gr,Qh.create(r)),le(this,xs,0),le(this,Vr,0),typeof d=="function"&&le(this,$r,d),typeof u=="function"&&le(this,qo,u),typeof p=="function"?(le(this,Hr,p),le(this,js,[])):(le(this,Hr,void 0),le(this,js,void 0)),le(this,Xr,!!E(this,$r)),le(this,qa,!!E(this,qo)),le(this,Xs,!!E(this,Hr)),this.noDisposeOnSet=!!m,this.noUpdateTTL=!!g,this.noDeleteOnFetchRejection=!!j,this.allowStaleOnFetchRejection=!!_,this.allowStaleOnFetchAbort=!!k,this.ignoreFetchAbort=!!w,this.maxEntrySize!==0){if(E(this,mr)!==0&&!Hn(E(this,mr)))throw new TypeError("maxSize must be a positive integer if specified");if(!Hn(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");me(this,ke,m1).call(this)}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!v,this.updateAgeOnGet=!!i,this.updateAgeOnHas=!!l,this.ttlResolution=Hn(o)||o===0?o:1,this.ttlAutopurge=!!a,this.ttl=n||0,this.ttl){if(!Hn(this.ttl))throw new TypeError("ttl must be a positive integer if specified");me(this,ke,Yh).call(this)}if(E(this,Kr)===0&&this.ttl===0&&E(this,mr)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!E(this,Kr)&&!E(this,mr)){const S="LRU_CACHE_UNBOUNDED";yE(S)&&(d1.add(S),u1("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",S,Ex))}}static unsafeExposeInternals(t){return{starts:E(t,Yr),ttls:E(t,fr),sizes:E(t,Qr),keyMap:E(t,hs),keyList:E(t,Xt),valList:E(t,Je),next:E(t,Ys),prev:E(t,hr),get head(){return E(t,Fs)},get tail(){return E(t,ks)},free:E(t,Gr),isBackgroundFetch:r=>{var n;return me(n=t,ke,Qt).call(n,r)},backgroundFetch:(r,n,o,a)=>{var i;return me(i=t,ke,Jl).call(i,r,n,o,a)},moveToTail:r=>{var n;return me(n=t,ke,ji).call(n,r)},indexes:r=>{var n;return me(n=t,ke,Vn).call(n,r)},rindexes:r=>{var n;return me(n=t,ke,Gn).call(n,r)},isStale:r=>{var n;return E(n=t,gr).call(n,r)}}}get max(){return E(this,Kr)}get maxSize(){return E(this,mr)}get calculatedSize(){return E(this,Vr)}get size(){return E(this,xs)}get fetchMethod(){return E(this,Ba)}get memoMethod(){return E(this,za)}get dispose(){return E(this,$r)}get onInsert(){return E(this,qo)}get disposeAfter(){return E(this,Hr)}getRemainingTTL(t){return E(this,hs).has(t)?1/0:0}*entries(){for(const t of me(this,ke,Vn).call(this))E(this,Je)[t]!==void 0&&E(this,Xt)[t]!==void 0&&!me(this,ke,Qt).call(this,E(this,Je)[t])&&(yield[E(this,Xt)[t],E(this,Je)[t]])}*rentries(){for(const t of me(this,ke,Gn).call(this))E(this,Je)[t]!==void 0&&E(this,Xt)[t]!==void 0&&!me(this,ke,Qt).call(this,E(this,Je)[t])&&(yield[E(this,Xt)[t],E(this,Je)[t]])}*keys(){for(const t of me(this,ke,Vn).call(this)){const r=E(this,Xt)[t];r!==void 0&&!me(this,ke,Qt).call(this,E(this,Je)[t])&&(yield r)}}*rkeys(){for(const t of me(this,ke,Gn).call(this)){const r=E(this,Xt)[t];r!==void 0&&!me(this,ke,Qt).call(this,E(this,Je)[t])&&(yield r)}}*values(){for(const t of me(this,ke,Vn).call(this))E(this,Je)[t]!==void 0&&!me(this,ke,Qt).call(this,E(this,Je)[t])&&(yield E(this,Je)[t])}*rvalues(){for(const t of me(this,ke,Gn).call(this))E(this,Je)[t]!==void 0&&!me(this,ke,Qt).call(this,E(this,Je)[t])&&(yield E(this,Je)[t])}[(gj=Symbol.iterator,fj=Symbol.toStringTag,gj)](){return this.entries()}find(t,r={}){for(const n of me(this,ke,Vn).call(this)){const o=E(this,Je)[n],a=me(this,ke,Qt).call(this,o)?o.__staleWhileFetching:o;if(a!==void 0&&t(a,E(this,Xt)[n],this))return this.get(E(this,Xt)[n],r)}}forEach(t,r=this){for(const n of me(this,ke,Vn).call(this)){const o=E(this,Je)[n],a=me(this,ke,Qt).call(this,o)?o.__staleWhileFetching:o;a!==void 0&&t.call(r,a,E(this,Xt)[n],this)}}rforEach(t,r=this){for(const n of me(this,ke,Gn).call(this)){const o=E(this,Je)[n],a=me(this,ke,Qt).call(this,o)?o.__staleWhileFetching:o;a!==void 0&&t.call(r,a,E(this,Xt)[n],this)}}purgeStale(){let t=!1;for(const r of me(this,ke,Gn).call(this,{allowStale:!0}))E(this,gr).call(this,r)&&(me(this,ke,Qn).call(this,E(this,Xt)[r],"expire"),t=!0);return t}info(t){const r=E(this,hs).get(t);if(r===void 0)return;const n=E(this,Je)[r],o=me(this,ke,Qt).call(this,n)?n.__staleWhileFetching:n;if(o===void 0)return;const a={value:o};if(E(this,fr)&&E(this,Yr)){const i=E(this,fr)[r],l=E(this,Yr)[r];if(i&&l){const c=i-(ia.now()-l);a.ttl=c,a.start=Date.now()}}return E(this,Qr)&&(a.size=E(this,Qr)[r]),a}dump(){const t=[];for(const r of me(this,ke,Vn).call(this,{allowStale:!0})){const n=E(this,Xt)[r],o=E(this,Je)[r],a=me(this,ke,Qt).call(this,o)?o.__staleWhileFetching:o;if(a===void 0||n===void 0)continue;const i={value:a};if(E(this,fr)&&E(this,Yr)){i.ttl=E(this,fr)[r];const l=ia.now()-E(this,Yr)[r];i.start=Math.floor(Date.now()-l)}E(this,Qr)&&(i.size=E(this,Qr)[r]),t.unshift([n,i])}return t}load(t){this.clear();for(const[r,n]of t){if(n.start){const o=Date.now()-n.start;n.start=ia.now()-o}this.set(r,n.value,n)}}set(t,r,n={}){var m,g,f,x,y,N,b;if(r===void 0)return this.delete(t),this;const{ttl:o=this.ttl,start:a,noDisposeOnSet:i=this.noDisposeOnSet,sizeCalculation:l=this.sizeCalculation,status:c}=n;let{noUpdateTTL:d=this.noUpdateTTL}=n;const u=E(this,Xi).call(this,t,r,n.size||0,l);if(this.maxEntrySize&&u>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),me(this,ke,Qn).call(this,t,"set"),this;let p=E(this,xs)===0?void 0:E(this,hs).get(t);if(p===void 0)p=E(this,xs)===0?E(this,ks):E(this,Gr).length!==0?E(this,Gr).pop():E(this,xs)===E(this,Kr)?me(this,ke,Xl).call(this,!1):E(this,xs),E(this,Xt)[p]=t,E(this,Je)[p]=r,E(this,hs).set(t,p),E(this,Ys)[E(this,ks)]=p,E(this,hr)[p]=E(this,ks),le(this,ks,p),jo(this,xs)._++,E(this,Ua).call(this,p,u,c),c&&(c.set="add"),d=!1,E(this,qa)&&((m=E(this,qo))==null||m.call(this,r,t,"add"));else{me(this,ke,ji).call(this,p);const j=E(this,Je)[p];if(r!==j){if(E(this,co)&&me(this,ke,Qt).call(this,j)){j.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:v}=j;v!==void 0&&!i&&(E(this,Xr)&&((g=E(this,$r))==null||g.call(this,v,t,"set")),E(this,Xs)&&((f=E(this,js))==null||f.push([v,t,"set"])))}else i||(E(this,Xr)&&((x=E(this,$r))==null||x.call(this,j,t,"set")),E(this,Xs)&&((y=E(this,js))==null||y.push([j,t,"set"])));if(E(this,Wo).call(this,p),E(this,Ua).call(this,p,u,c),E(this,Je)[p]=r,c){c.set="replace";const v=j&&me(this,ke,Qt).call(this,j)?j.__staleWhileFetching:j;v!==void 0&&(c.oldValue=v)}}else c&&(c.set="update");E(this,qa)&&((N=this.onInsert)==null||N.call(this,r,t,r===j?"update":"replace"))}if(o!==0&&!E(this,fr)&&me(this,ke,Yh).call(this),E(this,fr)&&(d||E(this,Yi).call(this,p,o,a),c&&E(this,An).call(this,c,p)),!i&&E(this,Xs)&&E(this,js)){const j=E(this,js);let v;for(;v=j==null?void 0:j.shift();)(b=E(this,Hr))==null||b.call(this,...v)}return this}pop(){var t;try{for(;E(this,xs);){const r=E(this,Je)[E(this,Fs)];if(me(this,ke,Xl).call(this,!0),me(this,ke,Qt).call(this,r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(E(this,Xs)&&E(this,js)){const r=E(this,js);let n;for(;n=r==null?void 0:r.shift();)(t=E(this,Hr))==null||t.call(this,...n)}}}has(t,r={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:o}=r,a=E(this,hs).get(t);if(a!==void 0){const i=E(this,Je)[a];if(me(this,ke,Qt).call(this,i)&&i.__staleWhileFetching===void 0)return!1;if(E(this,gr).call(this,a))o&&(o.has="stale",E(this,An).call(this,o,a));else return n&&E(this,Uo).call(this,a),o&&(o.has="hit",E(this,An).call(this,o,a)),!0}else o&&(o.has="miss");return!1}peek(t,r={}){const{allowStale:n=this.allowStale}=r,o=E(this,hs).get(t);if(o===void 0||!n&&E(this,gr).call(this,o))return;const a=E(this,Je)[o];return me(this,ke,Qt).call(this,a)?a.__staleWhileFetching:a}async fetch(t,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:c=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:p=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:m=this.allowStaleOnFetchRejection,ignoreFetchAbort:g=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:x,forceRefresh:y=!1,status:N,signal:b}=r;if(!E(this,co))return N&&(N.fetch="get"),this.get(t,{allowStale:n,updateAgeOnGet:o,noDeleteOnStaleGet:a,status:N});const j={allowStale:n,updateAgeOnGet:o,noDeleteOnStaleGet:a,ttl:i,noDisposeOnSet:l,size:c,sizeCalculation:d,noUpdateTTL:u,noDeleteOnFetchRejection:p,allowStaleOnFetchRejection:m,allowStaleOnFetchAbort:f,ignoreFetchAbort:g,status:N,signal:b};let v=E(this,hs).get(t);if(v===void 0){N&&(N.fetch="miss");const _=me(this,ke,Jl).call(this,t,v,j,x);return _.__returned=_}else{const _=E(this,Je)[v];if(me(this,ke,Qt).call(this,_)){const P=n&&_.__staleWhileFetching!==void 0;return N&&(N.fetch="inflight",P&&(N.returnedStale=!0)),P?_.__staleWhileFetching:_.__returned=_}const k=E(this,gr).call(this,v);if(!y&&!k)return N&&(N.fetch="hit"),me(this,ke,ji).call(this,v),o&&E(this,Uo).call(this,v),N&&E(this,An).call(this,N,v),_;const w=me(this,ke,Jl).call(this,t,v,j,x),S=w.__staleWhileFetching!==void 0&&n;return N&&(N.fetch=k?"stale":"refresh",S&&k&&(N.returnedStale=!0)),S?w.__staleWhileFetching:w.__returned=w}}async forceFetch(t,r={}){const n=await this.fetch(t,r);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(t,r={}){const n=E(this,za);if(!n)throw new Error("no memoMethod provided to constructor");const{context:o,forceRefresh:a,...i}=r,l=this.get(t,i);if(!a&&l!==void 0)return l;const c=n(t,l,{options:i,context:o});return this.set(t,c,i),c}get(t,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,status:i}=r,l=E(this,hs).get(t);if(l!==void 0){const c=E(this,Je)[l],d=me(this,ke,Qt).call(this,c);return i&&E(this,An).call(this,i,l),E(this,gr).call(this,l)?(i&&(i.get="stale"),d?(i&&n&&c.__staleWhileFetching!==void 0&&(i.returnedStale=!0),n?c.__staleWhileFetching:void 0):(a||me(this,ke,Qn).call(this,t,"expire"),i&&n&&(i.returnedStale=!0),n?c:void 0)):(i&&(i.get="hit"),d?c.__staleWhileFetching:(me(this,ke,ji).call(this,l),o&&E(this,Uo).call(this,l),c))}else i&&(i.get="miss")}delete(t){return me(this,ke,Qn).call(this,t,"delete")}clear(){return me(this,ke,Zh).call(this,"delete")}};Kr=new WeakMap,mr=new WeakMap,$r=new WeakMap,qo=new WeakMap,Hr=new WeakMap,Ba=new WeakMap,za=new WeakMap,xs=new WeakMap,Vr=new WeakMap,hs=new WeakMap,Xt=new WeakMap,Je=new WeakMap,Ys=new WeakMap,hr=new WeakMap,Fs=new WeakMap,ks=new WeakMap,Gr=new WeakMap,js=new WeakMap,Qr=new WeakMap,Yr=new WeakMap,fr=new WeakMap,Xr=new WeakMap,co=new WeakMap,Xs=new WeakMap,qa=new WeakMap,ke=new WeakSet,Yh=function(){const t=new Yl(E(this,Kr)),r=new Yl(E(this,Kr));le(this,fr,t),le(this,Yr,r),le(this,Yi,(a,i,l=ia.now())=>{if(r[a]=i!==0?l:0,t[a]=i,i!==0&&this.ttlAutopurge){const c=setTimeout(()=>{E(this,gr).call(this,a)&&me(this,ke,Qn).call(this,E(this,Xt)[a],"expire")},i+1);c.unref&&c.unref()}}),le(this,Uo,a=>{r[a]=t[a]!==0?ia.now():0}),le(this,An,(a,i)=>{if(t[i]){const l=t[i],c=r[i];if(!l||!c)return;a.ttl=l,a.start=c,a.now=n||o();const d=a.now-c;a.remainingTTL=l-d}});let n=0;const o=()=>{const a=ia.now();if(this.ttlResolution>0){n=a;const i=setTimeout(()=>n=0,this.ttlResolution);i.unref&&i.unref()}return a};this.getRemainingTTL=a=>{const i=E(this,hs).get(a);if(i===void 0)return 0;const l=t[i],c=r[i];if(!l||!c)return 1/0;const d=(n||o())-c;return l-d},le(this,gr,a=>{const i=r[a],l=t[a];return!!l&&!!i&&(n||o())-i>l})},Uo=new WeakMap,An=new WeakMap,Yi=new WeakMap,gr=new WeakMap,m1=function(){const t=new Yl(E(this,Kr));le(this,Vr,0),le(this,Qr,t),le(this,Wo,r=>{le(this,Vr,E(this,Vr)-t[r]),t[r]=0}),le(this,Xi,(r,n,o,a)=>{if(me(this,ke,Qt).call(this,n))return 0;if(!Hn(o))if(a){if(typeof a!="function")throw new TypeError("sizeCalculation must be a function");if(o=a(n,r),!Hn(o))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return o}),le(this,Ua,(r,n,o)=>{if(t[r]=n,E(this,mr)){const a=E(this,mr)-t[r];for(;E(this,Vr)>a;)me(this,ke,Xl).call(this,!0)}le(this,Vr,E(this,Vr)+t[r]),o&&(o.entrySize=n,o.totalCalculatedSize=E(this,Vr))})},Wo=new WeakMap,Ua=new WeakMap,Xi=new WeakMap,Vn=function*({allowStale:t=this.allowStale}={}){if(E(this,xs))for(let r=E(this,ks);!(!me(this,ke,Xh).call(this,r)||((t||!E(this,gr).call(this,r))&&(yield r),r===E(this,Fs)));)r=E(this,hr)[r]},Gn=function*({allowStale:t=this.allowStale}={}){if(E(this,xs))for(let r=E(this,Fs);!(!me(this,ke,Xh).call(this,r)||((t||!E(this,gr).call(this,r))&&(yield r),r===E(this,ks)));)r=E(this,Ys)[r]},Xh=function(t){return t!==void 0&&E(this,hs).get(E(this,Xt)[t])===t},Xl=function(t){var a,i;const r=E(this,Fs),n=E(this,Xt)[r],o=E(this,Je)[r];return E(this,co)&&me(this,ke,Qt).call(this,o)?o.__abortController.abort(new Error("evicted")):(E(this,Xr)||E(this,Xs))&&(E(this,Xr)&&((a=E(this,$r))==null||a.call(this,o,n,"evict")),E(this,Xs)&&((i=E(this,js))==null||i.push([o,n,"evict"]))),E(this,Wo).call(this,r),t&&(E(this,Xt)[r]=void 0,E(this,Je)[r]=void 0,E(this,Gr).push(r)),E(this,xs)===1?(le(this,Fs,le(this,ks,0)),E(this,Gr).length=0):le(this,Fs,E(this,Ys)[r]),E(this,hs).delete(n),jo(this,xs)._--,r},Jl=function(t,r,n,o){const a=r===void 0?void 0:E(this,Je)[r];if(me(this,ke,Qt).call(this,a))return a;const i=new _c,{signal:l}=n;l==null||l.addEventListener("abort",()=>i.abort(l.reason),{signal:i.signal});const c={signal:i.signal,options:n,context:o},d=(x,y=!1)=>{const{aborted:N}=i.signal,b=n.ignoreFetchAbort&&x!==void 0;if(n.status&&(N&&!y?(n.status.fetchAborted=!0,n.status.fetchError=i.signal.reason,b&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),N&&!b&&!y)return p(i.signal.reason);const j=g;return E(this,Je)[r]===g&&(x===void 0?j.__staleWhileFetching?E(this,Je)[r]=j.__staleWhileFetching:me(this,ke,Qn).call(this,t,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(t,x,c.options))),x},u=x=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=x),p(x)),p=x=>{const{aborted:y}=i.signal,N=y&&n.allowStaleOnFetchAbort,b=N||n.allowStaleOnFetchRejection,j=b||n.noDeleteOnFetchRejection,v=g;if(E(this,Je)[r]===g&&(!j||v.__staleWhileFetching===void 0?me(this,ke,Qn).call(this,t,"fetch"):N||(E(this,Je)[r]=v.__staleWhileFetching)),b)return n.status&&v.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),v.__staleWhileFetching;if(v.__returned===v)throw x},m=(x,y)=>{var b;const N=(b=E(this,Ba))==null?void 0:b.call(this,t,a,c);N&&N instanceof Promise&&N.then(j=>x(j===void 0?void 0:j),y),i.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(x(void 0),n.allowStaleOnFetchAbort&&(x=j=>d(j,!0)))})};n.status&&(n.status.fetchDispatched=!0);const g=new Promise(m).then(d,u),f=Object.assign(g,{__abortController:i,__staleWhileFetching:a,__returned:void 0});return r===void 0?(this.set(t,f,{...c.options,status:void 0}),r=E(this,hs).get(t)):E(this,Je)[r]=f,f},Qt=function(t){if(!E(this,co))return!1;const r=t;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof _c},Jh=function(t,r){E(this,hr)[r]=t,E(this,Ys)[t]=r},ji=function(t){t!==E(this,ks)&&(t===E(this,Fs)?le(this,Fs,E(this,Ys)[t]):me(this,ke,Jh).call(this,E(this,hr)[t],E(this,Ys)[t]),me(this,ke,Jh).call(this,E(this,ks),t),le(this,ks,t))},Qn=function(t,r){var o,a,i,l;let n=!1;if(E(this,xs)!==0){const c=E(this,hs).get(t);if(c!==void 0)if(n=!0,E(this,xs)===1)me(this,ke,Zh).call(this,r);else{E(this,Wo).call(this,c);const d=E(this,Je)[c];if(me(this,ke,Qt).call(this,d)?d.__abortController.abort(new Error("deleted")):(E(this,Xr)||E(this,Xs))&&(E(this,Xr)&&((o=E(this,$r))==null||o.call(this,d,t,r)),E(this,Xs)&&((a=E(this,js))==null||a.push([d,t,r]))),E(this,hs).delete(t),E(this,Xt)[c]=void 0,E(this,Je)[c]=void 0,c===E(this,ks))le(this,ks,E(this,hr)[c]);else if(c===E(this,Fs))le(this,Fs,E(this,Ys)[c]);else{const u=E(this,hr)[c];E(this,Ys)[u]=E(this,Ys)[c];const p=E(this,Ys)[c];E(this,hr)[p]=E(this,hr)[c]}jo(this,xs)._--,E(this,Gr).push(c)}}if(E(this,Xs)&&((i=E(this,js))!=null&&i.length)){const c=E(this,js);let d;for(;d=c==null?void 0:c.shift();)(l=E(this,Hr))==null||l.call(this,...d)}return n},Zh=function(t){var r,n,o;for(const a of me(this,ke,Gn).call(this,{allowStale:!0})){const i=E(this,Je)[a];if(me(this,ke,Qt).call(this,i))i.__abortController.abort(new Error("deleted"));else{const l=E(this,Xt)[a];E(this,Xr)&&((r=E(this,$r))==null||r.call(this,i,l,t)),E(this,Xs)&&((n=E(this,js))==null||n.push([i,l,t]))}}if(E(this,hs).clear(),E(this,Je).fill(void 0),E(this,Xt).fill(void 0),E(this,fr)&&E(this,Yr)&&(E(this,fr).fill(0),E(this,Yr).fill(0)),E(this,Qr)&&E(this,Qr).fill(0),le(this,Fs,0),le(this,ks,0),E(this,Gr).length=0,le(this,Vr,0),le(this,xs,0),E(this,Xs)&&E(this,js)){const a=E(this,js);let i;for(;i=a==null?void 0:a.shift();)(o=E(this,Hr))==null||o.call(this,...i)}};let Nc=Ex;function h1(e,t,r){const n=h.useRef(e),o=h.useRef(null);h.useEffect(()=>{n.current=e},[e]),h.useEffect(()=>(o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{n.current()},t),()=>{o.current&&clearTimeout(o.current)}),[t,...r])}function f1(e,t,r){const n=t??[];return n.length===0?e:[...e,...n].slice(0,r)}function g1(e){if(e.length===0)return[];if(e.length===1)return e;let t=!1;for(const o of e)if(o.type==="say"&&(o.say==="api_req_started"||o.say==="api_req_finished")){t=!0;break}if(!t)return e;const r=[],n=[];for(const o of e){if(o.type!=="say"||o.say!=="api_req_started"&&o.say!=="api_req_finished"){r.push(o);continue}if(o.say==="api_req_started"){r.push(o),n.push(r.length-1);continue}const a=n.length>0?n.pop():void 0;if(a!==void 0){const i=r[a];let l={},c={};try{i.text&&(l=JSON.parse(i.text))}catch{}try{o.text&&(c=JSON.parse(o.text))}catch{}r[a]={...i,text:JSON.stringify({...l,...c})}}}return r}function wE(e){var n;const t={totalTokensIn:0,totalTokensOut:0,totalCacheWrites:void 0,totalCacheReads:void 0,totalCost:0,contextTokens:0};e.forEach(o=>{var a,i;if(o.type==="say"&&o.say==="api_req_started"&&o.text)try{const l=JSON.parse(o.text),{tokensIn:c,tokensOut:d,cacheWrites:u,cacheReads:p,cost:m}=l;typeof c=="number"&&(t.totalTokensIn+=c),typeof d=="number"&&(t.totalTokensOut+=d),typeof u=="number"&&(t.totalCacheWrites=(t.totalCacheWrites??0)+u),typeof p=="number"&&(t.totalCacheReads=(t.totalCacheReads??0)+p),typeof m=="number"&&(t.totalCost+=m)}catch(l){console.error("Error parsing JSON:",l)}else if(o.type==="say"&&o.say==="condense_context")t.totalCost+=((a=o.contextCondense)==null?void 0:a.cost)??0;else if(o.type==="ask"&&o.ask==="tool"&&o.text){const l=(i=xr(o.text))==null?void 0:i.fastApplyResult;t.totalTokensIn+=(l==null?void 0:l.tokensIn)??0,t.totalTokensOut+=(l==null?void 0:l.tokensOut)??0,t.totalCost+=(l==null?void 0:l.cost)??0}}),t.contextTokens=0;let r=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(a.type==="say"&&a.say==="api_req_started"&&a.text)try{const i=JSON.parse(a.text),{tokensIn:l,tokensOut:c}=i;(typeof l=="number"||typeof c=="number")&&(t.contextTokens=(l||0)+(c||0),r=!0)}catch(i){console.error("Error parsing JSON:",i);continue}else a.type==="say"&&a.say==="condense_context"&&(t.contextTokens=((n=a.contextCondense)==null?void 0:n.newContextTokens)??0,r=!0);if(r)break}return t}class kE{static isProfileAllowed(t,r){var o;if(r.allowAll)return!0;if(!t.apiProvider||!this.isProviderAllowed(t.apiProvider,r))return!1;if(t.apiProvider==="human-relay")return!0;const n=this.getModelIdFromProfile(t);return n?this.isModelAllowed(t.apiProvider,n,r):((o=r.providers[t.apiProvider])==null?void 0:o.allowAll)===!0}static isProviderAllowed(t,r){return r.allowAll?!0:t in r.providers}static isModelAllowed(t,r,n){var a;if(n.allowAll)return!0;const o=n.providers[t];return o?o.allowAll?!0:((a=o.models)==null?void 0:a.includes(r))??!1:!1}static getModelIdFromProfile(t){var r;switch(t.apiProvider){case"openai":return t.openAiModelId;case"anthropic":case"openai-native":case"bedrock":case"vertex":case"gemini":case"mistral":case"deepseek":case"xai":case"zai":case"minimax":case"groq":case"sambanova":case"chutes":case"fireworks":case"synthetic":case"featherless":return t.apiModelId;case"litellm":return t.litellmModelId;case"unbound":return t.unboundModelId;case"lmstudio":return t.lmStudioModelId;case"vscode-lm":return(r=t.vsCodeLmModelSelector)==null?void 0:r.id;case"openrouter":return t.openRouterModelId;case"glama":return t.glamaModelId;case"ollama":return t.ollamaModelId;case"requesty":return t.requestyModelId;case"io-intelligence":return t.ioIntelligenceModelId;case"deepinfra":return t.deepInfraModelId;case"ovhcloud":return t.ovhCloudAiEndpointsModelId;case"inception":return t.inceptionLabsModelId;case"human-relay":case"fake-ai":default:return}}}function xv(e){const t=e.filter(r=>r.type==="ask"&&r.ask==="tool"||r.type==="say"&&r.say==="user_edit_todos").map(r=>{try{return JSON.parse(r.text??"{}")}catch{return null}}).filter(r=>r&&r.tool==="updateTodoList"&&Array.isArray(r.todos)).map(r=>r.todos).pop();return t||[]}const jE=async e=>new Promise((t,r)=>{const n=()=>{window.removeEventListener("message",a)},o=setTimeout(()=>{n(),r(new Error("Router models request timed out"))},1e4),a=i=>{var c;const l=i.data;if(l.type==="routerModels"){const d=(c=l==null?void 0:l.values)==null?void 0:c.provider;if(e!==d)return;clearTimeout(o),n(),l.routerModels?t(l.routerModels):r(new Error("No router models in response"))}};window.addEventListener("message",a),e?R.postMessage({type:"requestRouterModels",values:{provider:e}}):R.postMessage({type:"requestRouterModels"})}),nl=(e,t={})=>{const r=t.provider||void 0;return Ln({queryKey:["routerModels",r||"all",e],queryFn:()=>jE(r),enabled:t.enabled!==!1})};function x1(e,t){return function(){return e.apply(t,arguments)}}const{toString:_E}=Object.prototype,{getPrototypeOf:Ag}=Object,{iterator:id,toStringTag:v1}=Symbol,ld=(e=>t=>{const r=_E.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),cn=e=>(e=e.toLowerCase(),t=>ld(t)===e),cd=e=>t=>typeof t===e,{isArray:si}=Array,Ha=cd("undefined");function ol(e){return e!==null&&!Ha(e)&&e.constructor!==null&&!Ha(e.constructor)&&ar(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const b1=cn("ArrayBuffer");function NE(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&b1(e.buffer),t}const SE=cd("string"),ar=cd("function"),y1=cd("number"),al=e=>e!==null&&typeof e=="object",TE=e=>e===!0||e===!1,Zl=e=>{if(ld(e)!=="object")return!1;const t=Ag(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(v1 in e)&&!(id in e)},PE=e=>{if(!al(e)||ol(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},IE=cn("Date"),EE=cn("File"),ME=cn("Blob"),CE=cn("FileList"),AE=e=>al(e)&&ar(e.pipe),RE=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ar(e.append)&&((t=ld(e))==="formdata"||t==="object"&&ar(e.toString)&&e.toString()==="[object FormData]"))},OE=cn("URLSearchParams"),[DE,FE,LE,BE]=["ReadableStream","Request","Response","Headers"].map(cn),zE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function il(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),si(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(ol(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(n=0;n<i;n++)l=a[n],t.call(null,e[l],l,e)}}function w1(e,t){if(ol(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const Io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,k1=e=>!Ha(e)&&e!==Io;function ef(){const{caseless:e,skipUndefined:t}=k1(this)&&this||{},r={},n=(o,a)=>{const i=e&&w1(r,a)||a;Zl(r[i])&&Zl(o)?r[i]=ef(r[i],o):Zl(o)?r[i]=ef({},o):si(o)?r[i]=o.slice():(!t||!Ha(o))&&(r[i]=o)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&il(arguments[o],n);return r}const qE=(e,t,r,{allOwnKeys:n}={})=>(il(t,(o,a)=>{r&&ar(o)?e[a]=x1(o,r):e[a]=o},{allOwnKeys:n}),e),UE=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),WE=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},KE=(e,t,r,n)=>{let o,a,i;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&Ag(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},$E=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},HE=e=>{if(!e)return null;if(si(e))return e;let t=e.length;if(!y1(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},VE=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ag(Uint8Array)),GE=(e,t)=>{const n=(e&&e[id]).call(e);let o;for(;(o=n.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},QE=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},YE=cn("HTMLFormElement"),XE=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),vv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),JE=cn("RegExp"),j1=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};il(r,(o,a)=>{let i;(i=t(o,a,e))!==!1&&(n[a]=i||o)}),Object.defineProperties(e,n)},ZE=e=>{j1(e,(t,r)=>{if(ar(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ar(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},eM=(e,t)=>{const r={},n=o=>{o.forEach(a=>{r[a]=!0})};return si(e)?n(e):n(String(e).split(t)),r},tM=()=>{},sM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function rM(e){return!!(e&&ar(e.append)&&e[v1]==="FormData"&&e[id])}const nM=e=>{const t=new Array(10),r=(n,o)=>{if(al(n)){if(t.indexOf(n)>=0)return;if(ol(n))return n;if(!("toJSON"in n)){t[o]=n;const a=si(n)?[]:{};return il(n,(i,l)=>{const c=r(i,o+1);!Ha(c)&&(a[l]=c)}),t[o]=void 0,a}}return n};return r(e,0)},oM=cn("AsyncFunction"),aM=e=>e&&(al(e)||ar(e))&&ar(e.then)&&ar(e.catch),_1=((e,t)=>e?setImmediate:t?((r,n)=>(Io.addEventListener("message",({source:o,data:a})=>{o===Io&&a===r&&n.length&&n.shift()()},!1),o=>{n.push(o),Io.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ar(Io.postMessage)),iM=typeof queueMicrotask<"u"?queueMicrotask.bind(Io):typeof process<"u"&&process.nextTick||_1,lM=e=>e!=null&&ar(e[id]),se={isArray:si,isArrayBuffer:b1,isBuffer:ol,isFormData:RE,isArrayBufferView:NE,isString:SE,isNumber:y1,isBoolean:TE,isObject:al,isPlainObject:Zl,isEmptyObject:PE,isReadableStream:DE,isRequest:FE,isResponse:LE,isHeaders:BE,isUndefined:Ha,isDate:IE,isFile:EE,isBlob:ME,isRegExp:JE,isFunction:ar,isStream:AE,isURLSearchParams:OE,isTypedArray:VE,isFileList:CE,forEach:il,merge:ef,extend:qE,trim:zE,stripBOM:UE,inherits:WE,toFlatObject:KE,kindOf:ld,kindOfTest:cn,endsWith:$E,toArray:HE,forEachEntry:GE,matchAll:QE,isHTMLForm:YE,hasOwnProperty:vv,hasOwnProp:vv,reduceDescriptors:j1,freezeMethods:ZE,toObjectSet:eM,toCamelCase:XE,noop:tM,toFiniteNumber:sM,findKey:w1,global:Io,isContextDefined:k1,isSpecCompliantForm:rM,toJSONObject:nM,isAsyncFn:oM,isThenable:aM,setImmediate:_1,asap:iM,isIterable:lM};function st(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}se.inherits(st,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const N1=st.prototype,S1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{S1[e]={value:e}});Object.defineProperties(st,S1);Object.defineProperty(N1,"isAxiosError",{value:!0});st.from=(e,t,r,n,o,a)=>{const i=Object.create(N1);se.toFlatObject(e,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return st.call(i,l,c,r,n,o),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const cM=null;function tf(e){return se.isPlainObject(e)||se.isArray(e)}function T1(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function bv(e,t,r){return e?e.concat(t).map(function(o,a){return o=T1(o),!r&&a?"["+o+"]":o}).join(r?".":""):t}function dM(e){return se.isArray(e)&&!e.some(tf)}const uM=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function dd(e,t,r){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!se.isUndefined(y[x])});const n=r.metaTokens,o=r.visitor||u,a=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(o))throw new TypeError("visitor must be a function");function d(f){if(f===null)return"";if(se.isDate(f))return f.toISOString();if(se.isBoolean(f))return f.toString();if(!c&&se.isBlob(f))throw new st("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(f)||se.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,x,y){let N=f;if(f&&!y&&typeof f=="object"){if(se.endsWith(x,"{}"))x=n?x:x.slice(0,-2),f=JSON.stringify(f);else if(se.isArray(f)&&dM(f)||(se.isFileList(f)||se.endsWith(x,"[]"))&&(N=se.toArray(f)))return x=T1(x),N.forEach(function(j,v){!(se.isUndefined(j)||j===null)&&t.append(i===!0?bv([x],v,a):i===null?x:x+"[]",d(j))}),!1}return tf(f)?!0:(t.append(bv(y,x,a),d(f)),!1)}const p=[],m=Object.assign(uM,{defaultVisitor:u,convertValue:d,isVisitable:tf});function g(f,x){if(!se.isUndefined(f)){if(p.indexOf(f)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(f),se.forEach(f,function(N,b){(!(se.isUndefined(N)||N===null)&&o.call(t,N,se.isString(b)?b.trim():b,x,m))===!0&&g(N,x?x.concat(b):[b])}),p.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return g(e),t}function yv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Rg(e,t){this._pairs=[],e&&dd(e,this,t)}const P1=Rg.prototype;P1.append=function(t,r){this._pairs.push([t,r])};P1.toString=function(t){const r=t?function(n){return t.call(this,n,yv)}:yv;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function pM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function I1(e,t,r){if(!t)return e;const n=r&&r.encode||pM;se.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(o?a=o(t,r):a=se.isURLSearchParams(t)?t.toString():new Rg(t,r).toString(n),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class wv{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(n){n!==null&&t(n)})}}const E1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mM=typeof URLSearchParams<"u"?URLSearchParams:Rg,hM=typeof FormData<"u"?FormData:null,fM=typeof Blob<"u"?Blob:null,gM={isBrowser:!0,classes:{URLSearchParams:mM,FormData:hM,Blob:fM},protocols:["http","https","file","blob","url","data"]},Og=typeof window<"u"&&typeof document<"u",sf=typeof navigator=="object"&&navigator||void 0,xM=Og&&(!sf||["ReactNative","NativeScript","NS"].indexOf(sf.product)<0),vM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bM=Og&&window.location.href||"http://localhost",yM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Og,hasStandardBrowserEnv:xM,hasStandardBrowserWebWorkerEnv:vM,navigator:sf,origin:bM},Symbol.toStringTag,{value:"Module"})),zs={...yM,...gM};function wM(e,t){return dd(e,new zs.classes.URLSearchParams,{visitor:function(r,n,o,a){return zs.isNode&&se.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function kM(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function jM(e){const t={},r=Object.keys(e);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],t[a]=e[a];return t}function M1(e){function t(r,n,o,a){let i=r[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=r.length;return i=!i&&se.isArray(o)?o.length:i,c?(se.hasOwnProp(o,i)?o[i]=[o[i],n]:o[i]=n,!l):((!o[i]||!se.isObject(o[i]))&&(o[i]=[]),t(r,n,o[i],a)&&se.isArray(o[i])&&(o[i]=jM(o[i])),!l)}if(se.isFormData(e)&&se.isFunction(e.entries)){const r={};return se.forEachEntry(e,(n,o)=>{t(kM(n),o,r,0)}),r}return null}function _M(e,t,r){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ll={transitional:E1,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=se.isObject(t);if(a&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return o?JSON.stringify(M1(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return wM(t,this.formSerializer).toString();if((l=se.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return dd(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),_M(t)):t}],transformResponse:[function(t){const r=this.transitional||ll.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(n&&!this.responseType||o)){const i=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?st.from(l,st.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zs.classes.FormData,Blob:zs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{ll.headers[e]={}});const NM=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SM=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),r=i.substring(0,o).trim().toLowerCase(),n=i.substring(o+1).trim(),!(!r||t[r]&&NM[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},kv=Symbol("internals");function pi(e){return e&&String(e).trim().toLowerCase()}function ec(e){return e===!1||e==null?e:se.isArray(e)?e.map(ec):String(e)}function TM(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const PM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Kd(e,t,r,n,o){if(se.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!se.isString(t)){if(se.isString(n))return t.indexOf(n)!==-1;if(se.isRegExp(n))return n.test(t)}}function IM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function EM(e,t){const r=se.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,a,i){return this[n].call(this,t,o,a,i)},configurable:!0})})}let ir=class{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function a(l,c,d){const u=pi(c);if(!u)throw new Error("header name must be a non-empty string");const p=se.findKey(o,u);(!p||o[p]===void 0||d===!0||d===void 0&&o[p]!==!1)&&(o[p||c]=ec(l))}const i=(l,c)=>se.forEach(l,(d,u)=>a(d,u,c));if(se.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(se.isString(t)&&(t=t.trim())&&!PM(t))i(SM(t),r);else if(se.isObject(t)&&se.isIterable(t)){let l={},c,d;for(const u of t){if(!se.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?se.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=pi(t),t){const n=se.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return TM(o);if(se.isFunction(r))return r.call(this,o,n);if(se.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=pi(t),t){const n=se.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Kd(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function a(i){if(i=pi(i),i){const l=se.findKey(n,i);l&&(!r||Kd(n,n[l],l,r))&&(delete n[l],o=!0)}}return se.isArray(t)?t.forEach(a):a(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const a=r[n];(!t||Kd(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const r=this,n={};return se.forEach(this,(o,a)=>{const i=se.findKey(n,a);if(i){r[i]=ec(o),delete r[a];return}const l=t?IM(a):String(a).trim();l!==a&&delete r[a],r[l]=ec(o),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return se.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&se.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[kv]=this[kv]={accessors:{}}).accessors,o=this.prototype;function a(i){const l=pi(i);n[l]||(EM(o,i),n[l]=!0)}return se.isArray(t)?t.forEach(a):a(t),this}};ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(ir.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});se.freezeMethods(ir);function $d(e,t){const r=this||ll,n=t||r,o=ir.from(n.headers);let a=n.data;return se.forEach(e,function(l){a=l.call(r,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function C1(e){return!!(e&&e.__CANCEL__)}function ri(e,t,r){st.call(this,e??"canceled",st.ERR_CANCELED,t,r),this.name="CanceledError"}se.inherits(ri,st,{__CANCEL__:!0});function A1(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new st("Request failed with status code "+r.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function MM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function CM(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[a];i||(i=d),r[o]=c,n[o]=d;let p=a,m=0;for(;p!==o;)m+=r[p++],p=p%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),d-i<t)return;const g=u&&d-u;return g?Math.round(m*1e3/g):void 0}}function AM(e,t){let r=0,n=1e3/t,o,a;const i=(d,u=Date.now())=>{r=u,o=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),p=u-r;p>=n?i(d,u):(o=d,a||(a=setTimeout(()=>{a=null,i(o)},n-p)))},()=>o&&i(o)]}const Sc=(e,t,r=3)=>{let n=0;const o=CM(50,250);return AM(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-n,d=o(c),u=i<=l;n=i;const p={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},r)},jv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},_v=e=>(...t)=>se.asap(()=>e(...t)),RM=zs.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,zs.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(zs.origin),zs.navigator&&/(msie|trident)/i.test(zs.navigator.userAgent)):()=>!0,OM=zs.hasStandardBrowserEnv?{write(e,t,r,n,o,a){const i=[e+"="+encodeURIComponent(t)];se.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),se.isString(n)&&i.push("path="+n),se.isString(o)&&i.push("domain="+o),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function DM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function FM(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function R1(e,t,r){let n=!DM(t);return e&&(n||r==!1)?FM(e,t):t}const Nv=e=>e instanceof ir?{...e}:e;function Go(e,t){t=t||{};const r={};function n(d,u,p,m){return se.isPlainObject(d)&&se.isPlainObject(u)?se.merge.call({caseless:m},d,u):se.isPlainObject(u)?se.merge({},u):se.isArray(u)?u.slice():u}function o(d,u,p,m){if(se.isUndefined(u)){if(!se.isUndefined(d))return n(void 0,d,p,m)}else return n(d,u,p,m)}function a(d,u){if(!se.isUndefined(u))return n(void 0,u)}function i(d,u){if(se.isUndefined(u)){if(!se.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,p){if(p in t)return n(d,u);if(p in e)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,p)=>o(Nv(d),Nv(u),p,!0)};return se.forEach(Object.keys({...e,...t}),function(u){const p=c[u]||o,m=p(e[u],t[u],u);se.isUndefined(m)&&p!==l||(r[u]=m)}),r}const O1=e=>{const t=Go({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=ir.from(i),t.url=I1(R1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),se.isFormData(r)){if(zs.hasStandardBrowserEnv||zs.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(se.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,p])=>{d.includes(u.toLowerCase())&&i.set(u,p)})}}if(zs.hasStandardBrowserEnv&&(n&&se.isFunction(n)&&(n=n(t)),n||n!==!1&&RM(t.url))){const c=o&&a&&OM.read(a);c&&i.set(o,c)}return t},LM=typeof XMLHttpRequest<"u",BM=LM&&function(e){return new Promise(function(r,n){const o=O1(e);let a=o.data;const i=ir.from(o.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=o,u,p,m,g,f;function x(){g&&g(),f&&f(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(o.method.toUpperCase(),o.url,!0),y.timeout=o.timeout;function N(){if(!y)return;const j=ir.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:j,config:e,request:y};A1(function(w){r(w),x()},function(w){n(w),x()},_),y=null}"onloadend"in y?y.onloadend=N:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(N)},y.onabort=function(){y&&(n(new st("Request aborted",st.ECONNABORTED,e,y)),y=null)},y.onerror=function(v){const _=v&&v.message?v.message:"Network Error",k=new st(_,st.ERR_NETWORK,e,y);k.event=v||null,n(k),y=null},y.ontimeout=function(){let v=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const _=o.transitional||E1;o.timeoutErrorMessage&&(v=o.timeoutErrorMessage),n(new st(v,_.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,e,y)),y=null},a===void 0&&i.setContentType(null),"setRequestHeader"in y&&se.forEach(i.toJSON(),function(v,_){y.setRequestHeader(_,v)}),se.isUndefined(o.withCredentials)||(y.withCredentials=!!o.withCredentials),l&&l!=="json"&&(y.responseType=o.responseType),d&&([m,f]=Sc(d,!0),y.addEventListener("progress",m)),c&&y.upload&&([p,g]=Sc(c),y.upload.addEventListener("progress",p),y.upload.addEventListener("loadend",g)),(o.cancelToken||o.signal)&&(u=j=>{y&&(n(!j||j.type?new ri(null,e,y):j),y.abort(),y=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const b=MM(o.url);if(b&&zs.protocols.indexOf(b)===-1){n(new st("Unsupported protocol "+b+":",st.ERR_BAD_REQUEST,e));return}y.send(a||null)})},zM=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,o;const a=function(d){if(!o){o=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof st?u:new ri(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,a(new st(`timeout ${t} of ms exceeded`,st.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>se.asap(l),c}},qM=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},UM=async function*(e,t){for await(const r of WM(e))yield*qM(r,t)},WM=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Sv=(e,t,r,n)=>{const o=UM(e,t);let a=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await o.next();if(d){l(),c.close();return}let p=u.byteLength;if(r){let m=a+=p;r(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),o.return()}},{highWaterMark:2})},Tv=64*1024,{isFunction:Il}=se,D1=(({fetch:e,Request:t,Response:r})=>({fetch:e,Request:t,Response:r}))(se.global),{ReadableStream:Pv,TextEncoder:Iv}=se.global,Ev=(e,...t)=>{try{return!!e(...t)}catch{return!1}},KM=e=>{const{fetch:t,Request:r,Response:n}=Object.assign({},D1,e),o=Il(t),a=Il(r),i=Il(n);if(!o)return!1;const l=o&&Il(Pv),c=o&&(typeof Iv=="function"?(f=>x=>f.encode(x))(new Iv):async f=>new Uint8Array(await new r(f).arrayBuffer())),d=a&&l&&Ev(()=>{let f=!1;const x=new r(zs.origin,{body:new Pv,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!x}),u=i&&l&&Ev(()=>se.isReadableStream(new n("").body)),p={stream:u&&(f=>f.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!p[f]&&(p[f]=(x,y)=>{let N=x&&x[f];if(N)return N.call(x);throw new st(`Response type '${f}' is not supported`,st.ERR_NOT_SUPPORT,y)})});const m=async f=>{if(f==null)return 0;if(se.isBlob(f))return f.size;if(se.isSpecCompliantForm(f))return(await new r(zs.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(se.isArrayBufferView(f)||se.isArrayBuffer(f))return f.byteLength;if(se.isURLSearchParams(f)&&(f=f+""),se.isString(f))return(await c(f)).byteLength},g=async(f,x)=>{const y=se.toFiniteNumber(f.getContentLength());return y??m(x)};return async f=>{let{url:x,method:y,data:N,signal:b,cancelToken:j,timeout:v,onDownloadProgress:_,onUploadProgress:k,responseType:w,headers:T,withCredentials:S="same-origin",fetchOptions:P}=O1(f);w=w?(w+"").toLowerCase():"text";let I=zM([b,j&&j.toAbortSignal()],v),M=null;const A=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let C;try{if(k&&d&&y!=="get"&&y!=="head"&&(C=await g(T,N))!==0){let q=new r(x,{method:"POST",body:N,duplex:"half"}),F;if(se.isFormData(N)&&(F=q.headers.get("content-type"))&&T.setContentType(F),q.body){const[W,te]=jv(C,Sc(_v(k)));N=Sv(q.body,Tv,W,te)}}se.isString(S)||(S=S?"include":"omit");const H=a&&"credentials"in r.prototype,z={...P,signal:I,method:y.toUpperCase(),headers:T.normalize().toJSON(),body:N,duplex:"half",credentials:H?S:void 0};M=a&&new r(x,z);let D=await(a?t(M,P):t(x,z));const Y=u&&(w==="stream"||w==="response");if(u&&(_||Y&&A)){const q={};["status","statusText","headers"].forEach(K=>{q[K]=D[K]});const F=se.toFiniteNumber(D.headers.get("content-length")),[W,te]=_&&jv(F,Sc(_v(_),!0))||[];D=new n(Sv(D.body,Tv,W,()=>{te&&te(),A&&A()}),q)}w=w||"text";let U=await p[se.findKey(p,w)||"text"](D,f);return!Y&&A&&A(),await new Promise((q,F)=>{A1(q,F,{data:U,headers:ir.from(D.headers),status:D.status,statusText:D.statusText,config:f,request:M})})}catch(H){throw A&&A(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new st("Network Error",st.ERR_NETWORK,f,M),{cause:H.cause||H}):st.from(H,H&&H.code,f,M)}}},$M=new Map,F1=e=>{let t=se.merge.call({skipUndefined:!0},D1,e?e.env:null);const{fetch:r,Request:n,Response:o}=t,a=[n,o,r];let i=a.length,l=i,c,d,u=$M;for(;l--;)c=a[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:KM(t)),u=d;return d};F1();const rf={http:cM,xhr:BM,fetch:{get:F1}};se.forEach(rf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Mv=e=>`- ${e}`,HM=e=>se.isFunction(e)||e===null||e===!1,L1={getAdapter:(e,t)=>{e=se.isArray(e)?e:[e];const{length:r}=e;let n,o;const a={};for(let i=0;i<r;i++){n=e[i];let l;if(o=n,!HM(n)&&(o=rf[(l=String(n)).toLowerCase()],o===void 0))throw new st(`Unknown adapter '${l}'`);if(o&&(se.isFunction(o)||(o=o.get(t))))break;a[l||"#"+i]=o}if(!o){const i=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(Mv).join(`
`):" "+Mv(i[0]):"as no adapter specified";throw new st("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o},adapters:rf};function Hd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ri(null,e)}function Cv(e){return Hd(e),e.headers=ir.from(e.headers),e.data=$d.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),L1.getAdapter(e.adapter||ll.adapter,e)(e).then(function(n){return Hd(e),n.data=$d.call(e,e.transformResponse,n),n.headers=ir.from(n.headers),n},function(n){return C1(n)||(Hd(e),n&&n.response&&(n.response.data=$d.call(e,e.transformResponse,n.response),n.response.headers=ir.from(n.response.headers))),Promise.reject(n)})}const B1="1.12.0",ud={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ud[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Av={};ud.transitional=function(t,r,n){function o(a,i){return"[Axios v"+B1+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,l)=>{if(t===!1)throw new st(o(i," has been removed"+(r?" in "+r:"")),st.ERR_DEPRECATED);return r&&!Av[i]&&(Av[i]=!0,console.warn(o(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,l):!0}};ud.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function VM(e,t,r){if(typeof e!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const a=n[o],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new st("option "+a+" must be "+c,st.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new st("Unknown option "+a,st.ERR_BAD_OPTION)}}const tc={assertOptions:VM,validators:ud},gn=tc.validators;let Ko=class{constructor(t){this.defaults=t||{},this.interceptors={request:new wv,response:new wv}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Go(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:a}=r;n!==void 0&&tc.assertOptions(n,{silentJSONParsing:gn.transitional(gn.boolean),forcedJSONParsing:gn.transitional(gn.boolean),clarifyTimeoutError:gn.transitional(gn.boolean)},!1),o!=null&&(se.isFunction(o)?r.paramsSerializer={serialize:o}:tc.assertOptions(o,{encode:gn.function,serialize:gn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),tc.assertOptions(r,{baseUrl:gn.spelling("baseURL"),withXsrfToken:gn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&se.merge(a.common,a[r.method]);a&&se.forEach(["delete","get","head","post","put","patch","common"],f=>{delete a[f]}),r.headers=ir.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,p=0,m;if(!c){const f=[Cv.bind(this),void 0];for(f.unshift(...l),f.push(...d),m=f.length,u=Promise.resolve(r);p<m;)u=u.then(f[p++],f[p++]);return u}m=l.length;let g=r;for(p=0;p<m;){const f=l[p++],x=l[p++];try{g=f(g)}catch(y){x.call(this,y);break}}try{u=Cv.call(this,g)}catch(f){return Promise.reject(f)}for(p=0,m=d.length;p<m;)u=u.then(d[p++],d[p++]);return u}getUri(t){t=Go(this.defaults,t);const r=R1(t.baseURL,t.url,t.allowAbsoluteUrls);return I1(r,t.params,t.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(t){Ko.prototype[t]=function(r,n){return this.request(Go(n||{},{method:t,url:r,data:(n||{}).data}))}});se.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,l){return this.request(Go(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}Ko.prototype[t]=r(),Ko.prototype[t+"Form"]=r(!0)});let GM=class z1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const i=new Promise(l=>{n.subscribe(l),a=l}).then(o);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,l){n.reason||(n.reason=new ri(a,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new z1(function(o){t=o}),cancel:t}}};function QM(e){return function(r){return e.apply(null,r)}}function YM(e){return se.isObject(e)&&e.isAxiosError===!0}const nf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nf).forEach(([e,t])=>{nf[t]=e});function q1(e){const t=new Ko(e),r=x1(Ko.prototype.request,t);return se.extend(r,Ko.prototype,t,{allOwnKeys:!0}),se.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return q1(Go(e,o))},r}const is=q1(ll);is.Axios=Ko;is.CanceledError=ri;is.CancelToken=GM;is.isCancel=C1;is.VERSION=B1;is.toFormData=dd;is.AxiosError=st;is.Cancel=is.CanceledError;is.all=function(t){return Promise.all(t)};is.spread=QM;is.isAxiosError=YM;is.mergeConfig=Go;is.AxiosHeaders=ir;is.formToJSON=e=>M1(se.isHTMLForm(e)?new FormData(e):e);is.getAdapter=L1.getAdapter;is.HttpStatusCode=nf;is.default=is;const{Axios:uK,AxiosError:pK,CanceledError:mK,isCancel:hK,CancelToken:fK,VERSION:gK,all:xK,Cancel:vK,isAxiosError:bK,spread:yK,toFormData:wK,AxiosHeaders:kK,HttpStatusCode:jK,formToJSON:_K,getAdapter:NK,mergeConfig:SK}=is,El=e=>e?parseFloat(e)*1e6:void 0,Vd="[default]",XM=Ns({data:Ns({id:He(),name:He(),description:He().optional(),architecture:Ns({input_modalities:ka(He()).nullish(),output_modalities:ka(He()).nullish(),tokenizer:He().nullish()}).nullish(),endpoints:ka(Ns({name:He(),provider_name:He(),tag:He().optional(),context_length:vr(),max_completion_tokens:vr().nullish(),pricing:Ns({prompt:wl([He(),vr()]).optional(),completion:wl([He(),vr()]).optional(),input_cache_read:wl([He(),vr()]).optional(),input_cache_write:wl([He(),vr()]).optional()}).optional()}))})});async function JM(e,t,r){var o,a,i,l,c,d;const n={};try{const u=await is.get(`${(t==null?void 0:t.trim())||"https://openrouter.ai/api/v1"}/models/${e}/endpoints`,r?{headers:{Authorization:`Bearer ${r}`}}:void 0),p=XM.safeParse(u.data);if(!p.success)return console.error("OpenRouter API response validation failed:",p.error),n;const{description:m,architecture:g,endpoints:f}=p.data.data;if((o=g==null?void 0:g.output_modalities)!=null&&o.includes("image"))return n;for(const x of f){const y=x.tag??x.provider_name,N=El((a=x.pricing)==null?void 0:a.prompt),b=El((i=x.pricing)==null?void 0:i.completion),j=El((l=x.pricing)==null?void 0:l.input_cache_read),v=El((c=x.pricing)==null?void 0:c.input_cache_write),_={maxTokens:x.max_completion_tokens||x.context_length,contextWindow:x.context_length,supportsImages:((d=g==null?void 0:g.input_modalities)==null?void 0:d.includes("image"))??!1,supportsPromptCache:typeof j<"u",cacheReadsPrice:j,cacheWritesPrice:v,inputPrice:N,outputPrice:b,description:m,label:y};n[y]=_}}catch(u){u instanceof Ej?console.error("OpenRouter API response validation failed:",u.errors):console.error("Error fetching OpenRouter providers:",u)}return n}const U1=(e,t,r,n,o)=>Ln({queryKey:["openrouter-model-providers",e,t,r,n],queryFn:()=>e?JM(e,t,r):{},...o}),ZM=async()=>new Promise((e,t)=>{const r=()=>{window.removeEventListener("message",o)},n=setTimeout(()=>{r(),t(new Error("LM Studio models request timed out"))},1e4),o=a=>{const i=a.data;i.type==="lmStudioModels"&&(clearTimeout(n),r(),i.lmStudioModels?e(i.lmStudioModels):t(new Error("No LMStudio models in response")))};window.addEventListener("message",o),R.postMessage({type:"requestLmStudioModels"})}),eC=e=>Ln({queryKey:["lmStudioModels"],queryFn:()=>e?ZM():{}}),tC=async()=>new Promise((e,t)=>{const r=()=>{window.removeEventListener("message",o)},n=setTimeout(()=>{r(),t(new Error("Ollama models request timed out"))},1e4),o=a=>{const i=a.data;i.type==="ollamaModels"&&(clearTimeout(n),r(),i.ollamaModels?e(i.ollamaModels):t(new Error("No Ollama models in response")))};window.addEventListener("message",o),R.postMessage({type:"requestOllamaModels"})}),sC=e=>Ln({queryKey:["ollamaModels"],queryFn:()=>e?tC():{}}),Dg=(e,t)=>{const r=t==null?void 0:t.apiProvider;return U1(r==="kilocode"?(t==null?void 0:t.kilocodeModel)??e:r==="openrouter"?(t==null?void 0:t.openRouterModelId)??tl:void 0,r==="openrouter"?t==null?void 0:t.openRouterBaseUrl:void 0,t==null?void 0:t.apiKey,(t==null?void 0:t.kilocodeOrganizationId)??"personal")};function xn(e,t,r){return e&&(t!=null&&t[e])?e:r}const Bn=e=>{const t=(e==null?void 0:e.apiProvider)||"anthropic",{kilocodeDefaultModel:r,virtualQuotaActiveModel:n}=Ye(),o=t==="lmstudio"?e==null?void 0:e.lmStudioModelId:void 0,a=t==="ollama"?e==null?void 0:e.ollamaModelId:void 0,i=Mj(t),l=nl({openRouterBaseUrl:e==null?void 0:e.openRouterBaseUrl,openRouterApiKey:e==null?void 0:e.apiKey,kilocodeOrganizationId:e==null?void 0:e.kilocodeOrganizationId,geminiApiKey:e==null?void 0:e.geminiApiKey,googleGeminiBaseUrl:e==null?void 0:e.googleGeminiBaseUrl,syntheticApiKey:e==null?void 0:e.syntheticApiKey},{provider:i?t:void 0,enabled:i}),c=Dg(r,e),d=eC(o),u=sC(a),p=i,m=t==="openrouter",g=typeof o<"u",f=typeof a<"u",x=p?l.data&&l.data[t]!==void 0&&typeof l.data[t]=="object"&&!l.isLoading:!0,y=(!g||typeof d.data<"u")&&(!f||typeof u.data<"u")&&x&&(!m||typeof c.data<"u"),{id:N,info:b}=e&&y?rC({provider:t,apiConfiguration:e,routerModels:l.data||{},openRouterModelProviders:c.data||{},lmStudioModels:d.data||void 0,kilocodeDefaultModel:r,ollamaModels:u.data||void 0,virtualQuotaActiveModel:n}):{id:Vh(t),info:void 0};return{provider:t,id:N,info:b,isLoading:p&&l.isLoading||m&&c.isLoading||g&&d.isLoading||f&&u.isLoading,isError:p&&l.isError||m&&c.isError||g&&d.isError||f&&u.isError}};function rC({provider:e,apiConfiguration:t,routerModels:r,openRouterModelProviders:n,lmStudioModels:o,kilocodeDefaultModel:a,ollamaModels:i,virtualQuotaActiveModel:l}){var d,u,p,m,g,f,x,y,N,b,j,v,_,k;const c=Vh(e);switch(e){case"openrouter":{const w=xn(t.openRouterModelId,r.openrouter,c);let T=(d=r.openrouter)==null?void 0:d[w];const S=t.openRouterSpecificProvider;return S&&n[S]&&(T=T?{...T,...n[S]}:n[S]),{id:w,info:T}}case"requesty":{const w=xn(t.requestyModelId,r.requesty,c),T=(u=r.requesty)==null?void 0:u[w],S=T?{...Od,...T}:void 0;return{id:w,info:S}}case"glama":{const w=xn(t.glamaModelId,r.glama,c),T=(p=r.glama)==null?void 0:p[w];return{id:w,info:T}}case"unbound":{const w=xn(t.unboundModelId,r.unbound,c),T=(m=r.unbound)==null?void 0:m[w],S=T?{...Od,...T}:void 0;return{id:w,info:S}}case"litellm":{const w=xn(t.litellmModelId,r.litellm,c),T=(g=r.litellm)==null?void 0:g[w],S=T?{...Od,...T}:eE;return{id:w,info:S}}case"xai":{const w=t.apiModelId??c,T=Sg[w];return T?{id:w,info:T}:{id:w,info:void 0}}case"groq":{const w=t.apiModelId??c,T=mg[w];return{id:w,info:T}}case"huggingface":return{id:t.huggingFaceModelId??"meta-llama/Llama-3.3-70B-Instruct",info:{maxTokens:8192,contextWindow:131072,supportsImages:!1,supportsPromptCache:!1}};case"chutes":{const w=xn(t.apiModelId,r.chutes,c),T=(f=r.chutes)==null?void 0:f[w];return{id:w,info:T}}case"baseten":{const w=t.apiModelId??c,T=tg[w];return{id:w,info:T}}case"bedrock":{const w=t.apiModelId??c,T=Vf[w];if(w==="custom-arn")return{id:w,info:{maxTokens:5e3,contextWindow:128e3,supportsPromptCache:!1,supportsImages:!0}};if(Cj.includes(w)&&t.awsBedrock1MContext&&T){const S={...T,contextWindow:1e6};return{id:w,info:S}}return{id:w,info:T}}case"vertex":{const w=t.apiModelId??c,T=_g[w];return{id:w,info:T}}case"gemini":{const w=t.apiModelId??$a,T=(x=r.gemini)==null?void 0:x[w],S=r1[w];return{id:w,info:T??S}}case"deepseek":{const w=t.apiModelId??c,T=ag[w];return{id:w,info:T}}case"doubao":{const w=t.apiModelId??c,T=Hf[w];return{id:w,info:T}}case"moonshot":{const w=t.apiModelId??c,T=gg[w];return{id:w,info:T}}case"minimax":{const w=t.apiModelId??c,T=$f[w];return{id:w,info:T}}case"zai":{const w=t.zaiApiLine==="china_coding",T=w?l1:Ig,S=Vh(e,{isChina:w}),P=t.apiModelId??S,I=T[P];return{id:P,info:I}}case"openai-native":{const w=t.apiModelId??c,T=vg[w];return{id:w,info:T}}case"mistral":{const w=t.apiModelId??c,T=hg[w];return{id:w,info:T}}case"openai":{const w=t.openAiModelId??"",T=t==null?void 0:t.openAiCustomModelInfo,S={supportsNativeTools:Gt.supportsNativeTools,defaultToolProtocol:Gt.defaultToolProtocol},P=T?{...S,...T}:Gt;return{id:w,info:P}}case"ollama":{const w=t.ollamaModelId??"",T=i&&i[t.ollamaModelId],S=t==null?void 0:t.ollamaNumCtx;let P;return T?P=S?{...T,contextWindow:S}:T:S&&(P={maxTokens:S,contextWindow:S,supportsImages:!0,supportsPromptCache:!0}),{id:w,info:P||void 0}}case"lmstudio":{const w=t.lmStudioModelId??"",T=o&&o[t.lmStudioModelId],S={supportsNativeTools:uv.supportsNativeTools,defaultToolProtocol:uv.defaultToolProtocol},P=T?{...S,...T}:void 0;return{id:w,info:P}}case"deepinfra":{const w=xn(t.deepInfraModelId,r.deepinfra,c),T=(y=r.deepinfra)==null?void 0:y[w];return{id:w,info:T}}case"vscode-lm":{const w=t!=null&&t.vsCodeLmModelSelector?`${t.vsCodeLmModelSelector.vendor}/${t.vsCodeLmModelSelector.family}`:Hh,T=((N=t==null?void 0:t.vsCodeLmModelSelector)==null?void 0:N.family)??Hh,S=i1[T];return{id:w,info:{...Gt,...S,supportsImages:!1}}}case"kilocode":{if(r.kilocode&&t.kilocodeModel){const T=Object.entries(r.kilocode),S=t.kilocodeModel.toLowerCase(),P=T.find(I=>I[0].toLowerCase()===S)??T.find(I=>I[0].toLowerCase().includes(S));if(P){const I=P[0];let M=P[1];const A=t.openRouterSpecificProvider;return A&&n[A]&&(M=M?{...M,...n[A]}:n[A]),{id:I,info:M}}}const w=t.kilocodeModel??a;return{id:w,info:r.kilocode[w]}}case"gemini-cli":{const w=t.apiModelId??n1,T=ug[w];return{id:w,info:T}}case"virtual-quota-fallback":return l||{id:"",info:{maxTokens:1,contextWindow:1,supportsPromptCache:!1}};case"claude-code":{const w=t.apiModelId??c,T=ZI(w),S=Ka[T];return{id:T,info:{...Gt,...S}}}case"cerebras":{const w=t.apiModelId??c,T=ng[w];return{id:w,info:T}}case"sambanova":{const w=t.apiModelId??c,T=kg[w];return{id:w,info:T}}case"fireworks":{const w=t.apiModelId??c,T=dg[w];return{id:w,info:T}}case"synthetic":{const w=t.apiModelId??Zc,T=r.synthetic[w];return{id:w,info:T}}case"featherless":{const w=t.apiModelId??c,T=ig[w];return{id:w,info:T}}case"io-intelligence":{const w=xn(t.ioIntelligenceModelId,r["io-intelligence"],c),T=((b=r["io-intelligence"])==null?void 0:b[w])??o1[w];return{id:w,info:T}}case"roo":{const w=xn(t.apiModelId,r.roo,c),T=(j=r.roo)==null?void 0:j[w];return{id:w,info:T}}case"qwen-code":{const w=t.apiModelId??c,T=yg[w];return{id:w,info:T}}case"vercel-ai-gateway":{const w=xn(t.vercelAiGatewayModelId,r["vercel-ai-gateway"],c),T=(v=r["vercel-ai-gateway"])==null?void 0:v[w];return{id:w,info:T}}case"nano-gpt":{const w=t.nanoGptModelId??"chatgpt-4o-latest",T=(_=r["nano-gpt"])==null?void 0:_[w];return{id:w,info:T}}case"ovhcloud":{const w=t.ovhCloudAiEndpointsModelId??Jc,T=r.ovhcloud[w];return{id:w,info:T}}case"inception":{const w=t.inceptionLabsModelId??ed,T=r.inception[w];return{id:w,info:T}}case"sap-ai-core":return{id:t.sapAiCoreModelId??"gpt-5",info:{maxTokens:128e3,contextWindow:4e5,supportsImages:!0,supportsPromptCache:!0,description:"GPT-5: The best model for coding and agentic tasks across domains"}};default:{const w=t.apiModelId??c,T=Yc[w];if(e==="anthropic"&&(w==="claude-sonnet-4-20250514"||w==="claude-sonnet-4-5")&&t.anthropicBeta1MContext&&T){const P=(k=T.tiers)==null?void 0:k[0];if(P){const I={...T,contextWindow:P.contextWindow,inputPrice:P.inputPrice??T.inputPrice,outputPrice:P.outputPrice??T.outputPrice,cacheWritesPrice:P.cacheWritesPrice??T.cacheWritesPrice,cacheReadsPrice:P.cacheReadsPrice??T.cacheReadsPrice};return{id:w,info:I}}}return{id:w,info:T}}}}var W1="AlertDialog",[nC,TK]=Af(W1,[bj]),zn=bj(),K1=e=>{const{__scopeAlertDialog:t,...r}=e,n=zn(t);return s.jsx(yj,{...n,...r,modal:!0})};K1.displayName=W1;var oC="AlertDialogTrigger",$1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=zn(r);return s.jsx(GS,{...o,...n,ref:t})});$1.displayName=oC;var aC="AlertDialogPortal",H1=e=>{const{__scopeAlertDialog:t,...r}=e,n=zn(t);return s.jsx(_j,{...n,...r})};H1.displayName=aC;var iC="AlertDialogOverlay",V1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=zn(r);return s.jsx(Nj,{...o,...n,ref:t})});V1.displayName=iC;var _a="AlertDialogContent",[lC,cC]=nC(_a),dC=YS("AlertDialogContent"),G1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...o}=e,a=zn(r),i=h.useRef(null),l=wr(t,i),c=h.useRef(null);return s.jsx(QS,{contentName:_a,titleName:Q1,docsSlug:"alert-dialog",children:s.jsx(lC,{scope:r,cancelRef:c,children:s.jsxs(wj,{role:"alertdialog",...a,...o,ref:l,onOpenAutoFocus:vs(o.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(dC,{children:n}),s.jsx(pC,{contentRef:i})]})})})});G1.displayName=_a;var Q1="AlertDialogTitle",Y1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=zn(r);return s.jsx(kj,{...o,...n,ref:t})});Y1.displayName=Q1;var X1="AlertDialogDescription",J1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=zn(r);return s.jsx(jj,{...o,...n,ref:t})});J1.displayName=X1;var uC="AlertDialogAction",Z1=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=zn(r);return s.jsx(Rf,{...o,...n,ref:t})});Z1.displayName=uC;var e_="AlertDialogCancel",t_=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:o}=cC(e_,r),a=zn(r),i=wr(t,o);return s.jsx(Rf,{...a,...n,ref:i})});t_.displayName=e_;var pC=({contentRef:e})=>{const t=`\`${_a}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_a}\` by passing a \`${X1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_a}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},mC=K1,hC=$1,fC=H1,gC=V1,xC=G1,vC=Z1,bC=t_,yC=Y1,wC=J1;function en({...e}){return s.jsx(mC,{"data-slot":"alert-dialog",...e})}function kC({...e}){return s.jsx(hC,{"data-slot":"alert-dialog-trigger",...e})}function jC({...e}){return s.jsx(fC,{"data-slot":"alert-dialog-portal",...e})}function _C({className:e,...t}){return s.jsx(gC,{"data-slot":"alert-dialog-overlay",className:Z("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function tn({className:e,...t}){return s.jsxs(jC,{children:[s.jsx(_C,{}),s.jsx(xC,{"data-slot":"alert-dialog-content",className:Z("bg-vscode-editor-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-3 rounded-sm border border-vscode-panel-border p-4 shadow-lg duration-200 sm:max-w-md",e),...t})]})}function sn({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:Z("flex flex-col gap-1 text-left",e),...t})}function rn({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:Z("flex flex-row justify-end gap-2 mt-4",e),...t})}function nn({className:e,...t}){return s.jsx(yC,{"data-slot":"alert-dialog-title",className:Z("text-base font-medium text-vscode-editor-foreground flex items-center gap-2 text-left",e),...t})}function on({className:e,...t}){return s.jsx(wC,{"data-slot":"alert-dialog-description",className:Z("text-vscode-descriptionForeground text-sm text-left",e),...t})}function Cr({className:e,...t}){return s.jsx(vC,{className:Z(Sj(),"bg-vscode-button-background text-vscode-button-foreground hover:bg-vscode-button-hoverBackground h-6 px-3 py-1 border",e),...t})}function an({className:e,...t}){return s.jsx(bC,{className:Z(Sj({variant:"outline"}),"bg-vscode-button-secondaryBackground text-vscode-button-secondaryForeground hover:bg-vscode-button-secondaryHoverBackground h-6 px-3 py-1 border",e),...t})}/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],s_=We("bell",NC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]],r_=We("book-open-text",SC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],sc=We("bot",TC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],IC=We("brain",PC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",key:"10bnsj"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",key:"1eqmu1"}],["path",{d:"M21 21v-2h-4",key:"14zm7j"}],["path",{d:"M3 5h4V3",key:"z442eg"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",key:"ebdjd7"}]],MC=We("cable",EC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Fg=We("check-check",CC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],n_=We("chevron-right",AC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],o_=We("chevrons-up-down",RC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],DC=We("circle-dollar-sign",OC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],LC=We("cloud-download",FC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],zC=We("cloud-upload",BC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Lg=We("database",qC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Bg=We("download",UC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KC=We("eye",WC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],HC=We("file-code-2",$C);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],GC=We("file-code",VC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M9 10h6",key:"9gxzsh"}],["path",{d:"M12 13V7",key:"h0r20n"}],["path",{d:"M9 17h6",key:"r8uit2"}]],YC=We("file-diff",QC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],JC=We("file-json",XC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]],eA=We("file-stack",ZC);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],a_=We("flask-conical",tA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M12 22v-6",key:"6o8u61"}],["path",{d:"M12 8V2",key:"1wkif3"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}],["path",{d:"m15 19-3-3-3 3",key:"e37ymu"}],["path",{d:"m15 5-3 3-3-3",key:"19d6lf"}]],pd=We("fold-vertical",sA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],nA=We("folder-tree",rA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M12 3v6",key:"1holv5"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 15v6",key:"a9ows0"}]],aA=We("git-commit-vertical",oA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]],lA=We("glasses",iA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],zg=We("info",cA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],uA=We("lightbulb",dA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],i_=We("list-checks",pA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]],hA=We("list-tree",mA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Rv=We("message-circle-warning",fA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M10 7.5 8 10l2 2.5",key:"xb17xw"}],["path",{d:"m14 7.5 2 2.5-2 2.5",key:"5rap1v"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],xA=We("message-square-code",gA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"m14.5 7.5-5 5",key:"3lb6iw"}],["path",{d:"m9.5 7.5 5 5",key:"ko136h"}]],bA=We("message-square-x",vA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],qg=We("message-square",yA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],kA=We("mic",wA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],_A=We("microscope",jA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],l_=We("monitor",NA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],TA=We("paperclip",SA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],c_=We("pin",PA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],EA=We("plug",IA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M3 2v1c0 1 2 1 2 2S3 6 3 7s2 1 2 2-2 1-2 2 2 1 2 2",key:"19w3oe"}],["path",{d:"M18 6h.01",key:"1v4wsw"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M20.83 8.83a4 4 0 0 0-5.66-5.66l-12 12a4 4 0 1 0 5.66 5.66Z",key:"6fykxj"}],["path",{d:"M18 11.66V22a4 4 0 0 0 4-4V6",key:"1utzek"}]],CA=We("pocket-knife",MA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],RA=We("repeat-2",AA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]],DA=We("router",OA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Ug=We("server",FA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d_=We("settings",LA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]],zA=We("square-arrow-out-up-right",BA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]],u_=We("square-dashed",qA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z",key:"xwnzip"}],["path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6",key:"14rsvq"}]],p_=We("square-mouse-pointer",UA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],m_=We("square-pen",WA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["line",{x1:"9",x2:"15",y1:"15",y2:"9",key:"1dfufj"}]],$A=We("square-slash",KA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],VA=We("timer",HA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Li=We("trash-2",GA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cl=We("triangle-alert",QA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],h_=We("upload",YA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],f_=We("users-round",XA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],ZA=We("volume-x",JA);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],tR=We("wand-sparkles",eR);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],g_=We("webhook",sR);var md="Collapsible",[rR,PK]=Af(md),[nR,Wg]=rR(md),x_=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:o,disabled:a,onOpenChange:i,...l}=e,[c,d]=Sh({prop:n,defaultProp:o??!1,onChange:i,caller:md});return s.jsx(nR,{scope:r,disabled:a,contentId:Wc(),open:c,onOpenToggle:h.useCallback(()=>d(u=>!u),[d]),children:s.jsx(Ws.div,{"data-state":$g(c),"data-disabled":a?"":void 0,...l,ref:t})})});x_.displayName=md;var v_="CollapsibleTrigger",b_=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,o=Wg(v_,r);return s.jsx(Ws.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":$g(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:t,onClick:vs(e.onClick,o.onOpenToggle)})});b_.displayName=v_;var Kg="CollapsibleContent",y_=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Wg(Kg,e.__scopeCollapsible);return s.jsx(XS,{present:r||o.open,children:({present:a})=>s.jsx(oR,{...n,ref:t,present:a})})});y_.displayName=Kg;var oR=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:o,...a}=e,i=Wg(Kg,r),[l,c]=h.useState(n),d=h.useRef(null),u=wr(t,d),p=h.useRef(0),m=p.current,g=h.useRef(0),f=g.current,x=i.open||l,y=h.useRef(x),N=h.useRef(void 0);return h.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),On(()=>{const b=d.current;if(b){N.current=N.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const j=b.getBoundingClientRect();p.current=j.height,g.current=j.width,y.current||(b.style.transitionDuration=N.current.transitionDuration,b.style.animationName=N.current.animationName),c(n)}},[i.open,n]),s.jsx(Ws.div,{"data-state":$g(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...a,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":f?`${f}px`:void 0,...e.style},children:x&&o})});function $g(e){return e?"open":"closed"}var aR=x_;const Hg=aR,Vg=b_,w_=y_;function ea({...e}){return s.jsx(yj,{"data-slot":"dialog",...e})}function iR({...e}){return s.jsx(_j,{"data-slot":"dialog-portal",...e})}function lR({className:e,...t}){return s.jsx(Nj,{"data-slot":"dialog-overlay",className:Z("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function ta({className:e,children:t,...r}){return s.jsxs(iR,{"data-slot":"dialog-portal",children:[s.jsx(lR,{}),s.jsxs(wj,{"data-slot":"dialog-content",className:Z("bg-vscode-editor-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,s.jsxs(Rf,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(_n,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ni({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:Z("flex flex-col gap-2 text-center sm:text-left",e),...t})}function hd({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-footer",className:Z("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function oi({className:e,...t}){return s.jsx(kj,{"data-slot":"dialog-title",className:Z("text-lg leading-none font-semibold my-0 cursor-default",e),...t})}function Gg({className:e,...t}){return s.jsx(jj,{"data-slot":"dialog-description",className:Z("text-muted-foreground text-sm my-0",e),...t})}const cR=({label:e,currentValue:t,limitValue:r,className:n})=>{const o=r>0?t/r*100:0;return s.jsxs("div",{className:n,children:[s.jsx(JS,{value:o,className:"[&>div]:bg-vscode-button-background mt-1 h-1"}),s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground mb-1 flex gap-2 justify-between",children:[s.jsx("span",{className:"whitespace-nowrap align-end",children:e}),s.jsxs("span",{className:"whitespace-nowrap flex text-[10px] items-end",children:[t," / ",r]})]})]})};function dl(e,t,r={}){const{preventDefault:n=!0,stopPropagation:o=!0}=r,a=h.useCallback(i=>{i.key==="Escape"&&e&&(n&&i.preventDefault(),o&&i.stopPropagation(),t())},[e,t,n,o]);h.useEffect(()=>(window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}),[a])}function Qo({value:e,onValueChange:t,options:r,placeholder:n,searchPlaceholder:o,emptyMessage:a,className:i,disabled:l,"data-testid":c}){const[d,u]=h.useState(!1),[p,m]=h.useState(""),g=h.useRef(null),f=h.useRef(null),x=h.useRef(!0),y=r.find(_=>_.value===e),N=h.useMemo(()=>p?r.filter(_=>_.label.toLowerCase().includes(p.toLowerCase())):r,[r,p]);h.useEffect(()=>()=>{x.current=!1,f.current&&clearTimeout(f.current)},[]),h.useEffect(()=>{const _=setTimeout(()=>{x.current&&m("")},100);return()=>clearTimeout(_)},[e]),dl(d,()=>u(!1));const b=_=>{u(_),_||(f.current&&clearTimeout(f.current),f.current=setTimeout(()=>m(""),100))},j=_=>{u(!1),t(_)},v=()=>{var _;m(""),(_=g.current)==null||_.focus()};return s.jsxs(Nn,{open:d,onOpenChange:b,children:[s.jsx(Dn,{asChild:!0,children:s.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":d,disabled:l,className:Z("w-full justify-between font-normal","h-7 px-3 py-2","border border-vscode-dropdown-border","bg-vscode-dropdown-background hover:bg-transparent","text-vscode-dropdown-foreground","focus-visible:border-vscode-focusBorder","aria-expanded:border-vscode-focusBorder",!y&&"text-muted-foreground",i),"data-testid":c,children:[s.jsx("span",{className:"truncate",children:y?y.label:n}),s.jsx(Zo,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(Sn,{className:"p-0 w-[var(--radix-popover-trigger-width)]",children:s.jsxs(Ji,{children:[s.jsxs("div",{className:"relative",children:[s.jsx(Kc,{ref:g,value:p,onValueChange:m,placeholder:o,className:"h-9 mr-4"}),p.length>0&&s.jsx("div",{className:"absolute right-2 top-0 bottom-0 flex items-center justify-center","data-testid":"clear-search-button",onClick:v,children:s.jsx(_n,{className:"text-vscode-input-foreground opacity-50 hover:opacity-100 size-4 p-0.5 cursor-pointer"})})]}),s.jsxs(Zi,{children:[s.jsx($c,{children:p&&s.jsx("div",{className:"py-2 px-1 text-sm",children:a})}),s.jsx(Wa,{children:N.map(_=>s.jsxs(mo,{value:_.label,onSelect:()=>j(_.value),disabled:_.disabled,className:_.disabled?"text-vscode-errorForeground":"",children:[s.jsxs("div",{className:"flex items-center",children:[_.icon,_.label]}),s.jsx(yr,{className:Z("ml-auto h-4 w-4 p-0.5",e===_.value?"opacity-100":"opacity-0")})]},_.value))})]})]})})]})}var dR=[" ","Enter","ArrowUp","ArrowDown"],uR=[" ","Enter"],Yo="Select",[fd,gd,pR]=tT(Yo),[ai,IK]=Af(Yo,[pR,Tj]),xd=Tj(),[mR,go]=ai(Yo),[hR,fR]=ai(Yo),k_=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:p,disabled:m,required:g,form:f}=e,x=xd(t),[y,N]=h.useState(null),[b,j]=h.useState(null),[v,_]=h.useState(!1),k=ZS(d),[w,T]=Sh({prop:n,defaultProp:o??!1,onChange:a,caller:Yo}),[S,P]=Sh({prop:i,defaultProp:l,onChange:c,caller:Yo}),I=h.useRef(null),M=y?f||!!y.closest("form"):!0,[A,C]=h.useState(new Set),H=Array.from(A).map(z=>z.props.value).join(";");return s.jsx(eT,{...x,children:s.jsxs(mR,{required:g,scope:t,trigger:y,onTriggerChange:N,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:v,onValueNodeHasChildrenChange:_,contentId:Wc(),value:S,onValueChange:P,open:w,onOpenChange:T,dir:k,triggerPointerDownPosRef:I,disabled:m,children:[s.jsx(fd.Provider,{scope:t,children:s.jsx(hR,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(z=>{C(D=>new Set(D).add(z))},[]),onNativeOptionRemove:h.useCallback(z=>{C(D=>{const Y=new Set(D);return Y.delete(z),Y})},[]),children:r})}),M?s.jsxs(H_,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:p,value:S,onChange:z=>P(z.target.value),disabled:m,form:f,children:[S===void 0?s.jsx("option",{value:""}):null,Array.from(A)]},H):null]})})};k_.displayName=Yo;var j_="SelectTrigger",__=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=xd(r),i=go(j_,r),l=i.disabled||n,c=wr(t,i.onTriggerChange),d=gd(r),u=h.useRef("touch"),[p,m,g]=G_(x=>{const y=d().filter(j=>!j.disabled),N=y.find(j=>j.value===i.value),b=Q_(y,x,N);b!==void 0&&i.onValueChange(b.value)}),f=x=>{l||(i.onOpenChange(!0),g()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(sT,{asChild:!0,...a,children:s.jsx(Ws.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":V_(i.value)?"":void 0,...o,ref:c,onClick:vs(o.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&f(x)}),onPointerDown:vs(o.onPointerDown,x=>{u.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(f(x),x.preventDefault())}),onKeyDown:vs(o.onKeyDown,x=>{const y=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(y&&x.key===" ")&&dR.includes(x.key)&&(f(),x.preventDefault())})})})});__.displayName=j_;var N_="SelectValue",S_=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:i="",...l}=e,c=go(N_,r),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,p=wr(t,c.onValueNodeChange);return On(()=>{d(u)},[d,u]),s.jsx(Ws.span,{...l,ref:p,style:{pointerEvents:"none"},children:V_(c.value)?s.jsx(s.Fragment,{children:i}):a})});S_.displayName=N_;var gR="SelectIcon",T_=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return s.jsx(Ws.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});T_.displayName=gR;var xR="SelectPortal",P_=e=>s.jsx(rT,{asChild:!0,...e});P_.displayName=xR;var Xo="SelectContent",I_=h.forwardRef((e,t)=>{const r=go(Xo,e.__scopeSelect),[n,o]=h.useState();if(On(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?Pj.createPortal(s.jsx(E_,{scope:e.__scopeSelect,children:s.jsx(fd.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(M_,{...e,ref:t})});I_.displayName=Xo;var qr=10,[E_,xo]=ai(Xo),vR="SelectContentImpl",bR=dT("SelectContent.RemoveScroll"),M_=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:f,hideWhenDetached:x,avoidCollisions:y,...N}=e,b=go(Xo,r),[j,v]=h.useState(null),[_,k]=h.useState(null),w=wr(t,J=>v(J)),[T,S]=h.useState(null),[P,I]=h.useState(null),M=gd(r),[A,C]=h.useState(!1),H=h.useRef(!1);h.useEffect(()=>{if(j)return iT(j)},[j]),lT();const z=h.useCallback(J=>{const[ae,...O]=M().map(xe=>xe.ref.current),[pe]=O.slice(-1),be=document.activeElement;for(const xe of J)if(xe===be||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===ae&&_&&(_.scrollTop=0),xe===pe&&_&&(_.scrollTop=_.scrollHeight),xe==null||xe.focus(),document.activeElement!==be))return},[M,_]),D=h.useCallback(()=>z([T,j]),[z,T,j]);h.useEffect(()=>{A&&D()},[A,D]);const{onOpenChange:Y,triggerPointerDownPosRef:U}=b;h.useEffect(()=>{if(j){let J={x:0,y:0};const ae=pe=>{var be,xe;J={x:Math.abs(Math.round(pe.pageX)-(((be=U.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((xe=U.current)==null?void 0:xe.y)??0))}},O=pe=>{J.x<=10&&J.y<=10?pe.preventDefault():j.contains(pe.target)||Y(!1),document.removeEventListener("pointermove",ae),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",O,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",O,{capture:!0})}}},[j,Y,U]),h.useEffect(()=>{const J=()=>Y(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[Y]);const[q,F]=G_(J=>{const ae=M().filter(be=>!be.disabled),O=ae.find(be=>be.ref.current===document.activeElement),pe=Q_(ae,J,O);pe&&setTimeout(()=>pe.ref.current.focus())}),W=h.useCallback((J,ae,O)=>{const pe=!H.current&&!O;(b.value!==void 0&&b.value===ae||pe)&&(S(J),pe&&(H.current=!0))},[b.value]),te=h.useCallback(()=>j==null?void 0:j.focus(),[j]),K=h.useCallback((J,ae,O)=>{const pe=!H.current&&!O;(b.value!==void 0&&b.value===ae||pe)&&I(J)},[b.value]),X=n==="popper"?of:C_,G=X===of?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:f,hideWhenDetached:x,avoidCollisions:y}:{};return s.jsx(E_,{scope:r,content:j,viewport:_,onViewportChange:k,itemRefCallback:W,selectedItem:T,onItemLeave:te,itemTextRefCallback:K,focusSelectedItem:D,selectedItemText:P,position:n,isPositioned:A,searchRef:q,children:s.jsx(cT,{as:bR,allowPinchZoom:!0,children:s.jsx(uT,{asChild:!0,trapped:b.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:vs(o,J=>{var ae;(ae=b.trigger)==null||ae.focus({preventScroll:!0}),J.preventDefault()}),children:s.jsx(pT,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(X,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:J=>J.preventDefault(),...N,...G,onPlaced:()=>C(!0),ref:w,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:vs(N.onKeyDown,J=>{const ae=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ae&&J.key.length===1&&F(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let pe=M().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(J.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const be=J.target,xe=pe.indexOf(be);pe=pe.slice(xe+1)}setTimeout(()=>z(pe)),J.preventDefault()}})})})})})})});M_.displayName=vR;var yR="SelectItemAlignedPosition",C_=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=go(Xo,r),i=xo(Xo,r),[l,c]=h.useState(null),[d,u]=h.useState(null),p=wr(t,w=>u(w)),m=gd(r),g=h.useRef(!1),f=h.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:N,focusSelectedItem:b}=i,j=h.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&x&&y&&N){const w=a.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),S=a.valueNode.getBoundingClientRect(),P=N.getBoundingClientRect();if(a.dir!=="rtl"){const be=P.left-T.left,xe=S.left-be,Pe=w.left-xe,Te=w.width+Pe,L=Math.max(Te,T.width),fe=window.innerWidth-qr,ne=Dx(xe,[qr,Math.max(qr,fe-L)]);l.style.minWidth=Te+"px",l.style.left=ne+"px"}else{const be=T.right-P.right,xe=window.innerWidth-S.right-be,Pe=window.innerWidth-w.right-xe,Te=w.width+Pe,L=Math.max(Te,T.width),fe=window.innerWidth-qr,ne=Dx(xe,[qr,Math.max(qr,fe-L)]);l.style.minWidth=Te+"px",l.style.right=ne+"px"}const I=m(),M=window.innerHeight-qr*2,A=x.scrollHeight,C=window.getComputedStyle(d),H=parseInt(C.borderTopWidth,10),z=parseInt(C.paddingTop,10),D=parseInt(C.borderBottomWidth,10),Y=parseInt(C.paddingBottom,10),U=H+z+A+Y+D,q=Math.min(y.offsetHeight*5,U),F=window.getComputedStyle(x),W=parseInt(F.paddingTop,10),te=parseInt(F.paddingBottom,10),K=w.top+w.height/2-qr,X=M-K,G=y.offsetHeight/2,J=y.offsetTop+G,ae=H+z+J,O=U-ae;if(ae<=K){const be=I.length>0&&y===I[I.length-1].ref.current;l.style.bottom="0px";const xe=d.clientHeight-x.offsetTop-x.offsetHeight,Pe=Math.max(X,G+(be?te:0)+xe+D),Te=ae+Pe;l.style.height=Te+"px"}else{const be=I.length>0&&y===I[0].ref.current;l.style.top="0px";const Pe=Math.max(K,H+x.offsetTop+(be?W:0)+G)+O;l.style.height=Pe+"px",x.scrollTop=ae-K+x.offsetTop}l.style.margin=`${qr}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[m,a.trigger,a.valueNode,l,d,x,y,N,a.dir,n]);On(()=>j(),[j]);const[v,_]=h.useState();On(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const k=h.useCallback(w=>{w&&f.current===!0&&(j(),b==null||b(),f.current=!1)},[j,b]);return s.jsx(kR,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:k,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:v},children:s.jsx(Ws.div,{...o,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});C_.displayName=yR;var wR="SelectPopperPosition",of=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=qr,...a}=e,i=xd(r);return s.jsx(mT,{...i,...a,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});of.displayName=wR;var[kR,Qg]=ai(Xo,{}),af="SelectViewport",A_=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,a=xo(af,r),i=Qg(af,r),l=wr(t,a.onViewportChange),c=h.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(fd.Slot,{scope:r,children:s.jsx(Ws.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:vs(o.onScroll,d=>{const u=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&p){const g=Math.abs(c.current-u.scrollTop);if(g>0){const f=window.innerHeight-qr*2,x=parseFloat(p.style.minHeight),y=parseFloat(p.style.height),N=Math.max(x,y);if(N<f){const b=N+g,j=Math.min(f,b),v=b-j;p.style.height=j+"px",p.style.bottom==="0px"&&(u.scrollTop=v>0?v:0,p.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});A_.displayName=af;var R_="SelectGroup",[jR,_R]=ai(R_),O_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Wc();return s.jsx(jR,{scope:r,id:o,children:s.jsx(Ws.div,{role:"group","aria-labelledby":o,...n,ref:t})})});O_.displayName=R_;var D_="SelectLabel",NR=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=_R(D_,r);return s.jsx(Ws.div,{id:o.id,...n,ref:t})});NR.displayName=D_;var Tc="SelectItem",[SR,F_]=ai(Tc),L_=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...i}=e,l=go(Tc,r),c=xo(Tc,r),d=l.value===n,[u,p]=h.useState(a??""),[m,g]=h.useState(!1),f=wr(t,b=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,b,n,o)}),x=Wc(),y=h.useRef("touch"),N=()=>{o||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(SR,{scope:r,value:n,disabled:o,textId:x,isSelected:d,onItemTextChange:h.useCallback(b=>{p(j=>j||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(fd.ItemSlot,{scope:r,value:n,disabled:o,textValue:u,children:s.jsx(Ws.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:f,onFocus:vs(i.onFocus,()=>g(!0)),onBlur:vs(i.onBlur,()=>g(!1)),onClick:vs(i.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:vs(i.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:vs(i.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:vs(i.onPointerMove,b=>{var j;y.current=b.pointerType,o?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:vs(i.onPointerLeave,b=>{var j;b.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:vs(i.onKeyDown,b=>{var v;((v=c.searchRef)==null?void 0:v.current)!==""&&b.key===" "||(uR.includes(b.key)&&N(),b.key===" "&&b.preventDefault())})})})})});L_.displayName=Tc;var _i="SelectItemText",B_=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,i=go(_i,r),l=xo(_i,r),c=F_(_i,r),d=fR(_i,r),[u,p]=h.useState(null),m=wr(t,N=>p(N),c.onItemTextChange,N=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,N,c.value,c.disabled)}),g=u==null?void 0:u.textContent,f=h.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=d;return On(()=>(x(f),()=>y(f)),[x,y,f]),s.jsxs(s.Fragment,{children:[s.jsx(Ws.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Pj.createPortal(a.children,i.valueNode):null]})});B_.displayName=_i;var z_="SelectItemIndicator",q_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return F_(z_,r).isSelected?s.jsx(Ws.span,{"aria-hidden":!0,...n,ref:t}):null});q_.displayName=z_;var lf="SelectScrollUpButton",U_=h.forwardRef((e,t)=>{const r=xo(lf,e.__scopeSelect),n=Qg(lf,e.__scopeSelect),[o,a]=h.useState(!1),i=wr(t,n.onScrollButtonChange);return On(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(K_,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});U_.displayName=lf;var cf="SelectScrollDownButton",W_=h.forwardRef((e,t)=>{const r=xo(cf,e.__scopeSelect),n=Qg(cf,e.__scopeSelect),[o,a]=h.useState(!1),i=wr(t,n.onScrollButtonChange);return On(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(K_,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});W_.displayName=cf;var K_=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=xo("SelectScrollButton",r),i=h.useRef(null),l=gd(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),On(()=>{var u;const d=l().find(p=>p.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ws.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:vs(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:vs(o.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:vs(o.onPointerLeave,()=>{c()})})}),TR="SelectSeparator",$_=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ws.div,{"aria-hidden":!0,...n,ref:t})});$_.displayName=TR;var df="SelectArrow",PR=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=xd(r),a=go(df,r),i=xo(df,r);return a.open&&i.position==="popper"?s.jsx(hT,{...o,...n,ref:t}):null});PR.displayName=df;var IR="SelectBubbleInput",H_=h.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=h.useRef(null),a=wr(n,o),i=nT(t);return h.useEffect(()=>{const l=o.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&u){const p=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(p)}},[i,t]),s.jsx(Ws.select,{...r,style:{...oT,...r.style},ref:a,defaultValue:t})});H_.displayName=IR;function V_(e){return e===""||e===void 0}function G_(e){const t=aT(e),r=h.useRef(""),n=h.useRef(0),o=h.useCallback(i=>{const l=r.current+i;t(l),(function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),a=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function Q_(e,t,r){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=ER(e,Math.max(a,0));o.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function ER(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var MR=k_,CR=__,AR=S_,RR=T_,OR=P_,DR=I_,FR=A_,LR=O_,BR=L_,zR=B_,qR=q_,UR=U_,WR=W_,KR=$_;function Ut({...e}){return s.jsx(MR,{"data-slot":"select",...e})}function Y_({...e}){return s.jsx(LR,{"data-slot":"select-group",...e})}function Wt({...e}){return s.jsx(AR,{"data-slot":"select-value",...e})}function Kt({className:e,children:t,...r}){return s.jsxs(CR,{"data-slot":"select-trigger",className:Z("data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground aria-invalid:border-destructive flex h-7 w-fit items-center justify-between gap-2 rounded-xs px-3 py-2 whitespace-nowrap transition-[color,box-shadow] outline-none disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 cursor-pointer","border border-vscode-dropdown-border aria-expanded:border-vscode-focusBorder focus-visible:border-vscode-focusBorder","bg-vscode-dropdown-background hover:bg-transparent","text-vscode-dropdown-foreground",e),...r,children:[t,s.jsx(RR,{asChild:!0,children:s.jsx(Zo,{className:"size-4 opacity-50"})})]})}function $t({className:e,children:t,position:r="popper",container:n,...o}){return s.jsx(OR,{container:n,children:s.jsxs(DR,{"data-slot":"select-content",className:Z("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-72 min-w-[8rem] overflow-hidden rounded-xs shadow-xs","bg-popover","border border-vscode-focusBorder","text-popover-foreground",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...o,children:[s.jsx(HR,{}),s.jsx(FR,{className:Z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(VR,{})]})})}function ze({className:e,children:t,...r}){return s.jsxs(BR,{"data-slot":"select-item",className:Z("[&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full items-center gap-2 py-1.5 pr-8 pl-2 outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2","focus:bg-vscode-list-activeSelectionBackground focus:text-vscode-list-activeSelectionForeground","text-vscode-dropdown-foreground text-sm","rounded-xs active:opacity-90 cursor-pointer",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(qR,{children:s.jsx(yr,{className:"size-4 p-0.5"})})}),s.jsx(zR,{children:t})]})}function $R({className:e,...t}){return s.jsx(KR,{"data-slot":"select-separator",className:Z("bg-vscode-dropdown-foreground/10 pointer-events-none -mx-1 my-1 h-px",e),...t})}function HR({className:e,...t}){return s.jsx(UR,{"data-slot":"select-scroll-up-button",className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Hc,{className:"size-4"})})}function VR({className:e,...t}){return s.jsx(WR,{"data-slot":"select-scroll-down-button",className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Zo,{className:"size-4"})})}const X_=({checked:e,onChange:t,disabled:r=!1,size:n="small","aria-label":o,"data-testid":a})=>{const i=n==="small"?{width:16,height:8,dotSize:4}:{width:20,height:10,dotSize:6},l=c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),r||t())};return s.jsx("div",{role:"switch","aria-checked":e,"aria-label":o,tabIndex:r?-1:0,"data-testid":a,style:{width:`${i.width}px`,height:`${i.height}px`,backgroundColor:e?"var(--vscode-button-background)":"var(--vscode-titleBar-inactiveForeground)",borderRadius:`${i.height/2}px`,position:"relative",cursor:r?"not-allowed":"pointer",transition:"background-color 0.2s",opacity:r?.4:e?.8:.6},onClick:r?void 0:t,onKeyDown:l,children:s.jsx("div",{style:{width:`${i.dotSize}px`,height:`${i.dotSize}px`,backgroundColor:"var(--vscode-titleBar-activeForeground)",borderRadius:"50%",position:"absolute",top:`${(i.height-i.dotSize)/2}px`,left:e?`${i.width-i.dotSize-(i.height-i.dotSize)/2}px`:`${(i.height-i.dotSize)/2}px`,transition:"left 0.2s"}})})},Yg=({className:e,showLabel:t=!1})=>{const[r,n]=h.useState([]),{apiConfiguration:o,currentApiConfigName:a}=Ye(),{t:i}=re(),[l,c]=h.useState(!1),d=r.find(g=>g.id===(o==null?void 0:o.kilocodeOrganizationId)),u=h.useRef(null),p=g=>{var x;const f=g.data;if(f.type==="profileDataResponse"){const y=f.payload;y.success?n(((x=y.data)==null?void 0:x.organizations)??[]):(console.error("Error fetching profile organizations data:",y.error),n([]))}else f.type==="updateProfileData"&&R.postMessage({type:"fetchProfileDataRequest"})};h.useEffect(()=>{const g=x=>{x.key==="Escape"&&c(!1)},f=x=>{u.current&&(u.current.contains(x.target)||c(!1))};return window.addEventListener("keydown",g),window.addEventListener("mousedown",f),window.addEventListener("message",p),()=>{window.removeEventListener("keydown",g),window.removeEventListener("mousedown",f),window.removeEventListener("message",p)}},[]),h.useEffect(()=>{o!=null&&o.kilocodeToken&&R.postMessage({type:"fetchProfileDataRequest"})},[o==null?void 0:o.kilocodeToken]);const m=g=>{g===null?(R.postMessage({type:"upsertApiConfiguration",text:a,apiConfiguration:{...o,kilocodeOrganizationId:void 0}}),R.postMessage({type:"fetchBalanceDataRequest",values:{apiKey:o==null?void 0:o.kilocodeToken}})):(R.postMessage({type:"upsertApiConfiguration",text:a,apiConfiguration:{...o,kilocodeOrganizationId:g.id}}),R.postMessage({type:"fetchBalanceDataRequest"}))};return r.length?s.jsxs("div",{className:e,children:[t&&s.jsx("div",{children:s.jsx("label",{className:"block font-medium mb-2",children:i("kilocode:profile.organization")})}),s.jsxs("div",{className:"relative",ref:u,children:[s.jsxs("button",{type:"button",onClick:()=>c(g=>!g),"aria-haspopup":"listbox","aria-expanded":l,title:d?`${d.name}  ${d.role.toUpperCase()}`:i("kilocode:profile.personal"),className:"w-full cursor-pointer border border-[var(--vscode-dropdown-border)] bg-[var(--vscode-dropdown-background)] text-[var(--vscode-dropdown-foreground)] rounded px-3 py-1.5 flex items-center justify-between gap-2 focus:outline-none focus:ring-1 focus:ring-[var(--vscode-focusBorder)] opacity-90 hover:opacity-100 hover:bg-[rgba(255,255,255,0.03)] hover:border-[rgba(255,255,255,0.15)] transition-all duration-150",children:[s.jsx("span",{className:"truncate",children:d?d.name:i("kilocode:profile.personal")}),s.jsxs("span",{className:"flex items-center gap-2 shrink-0",children:[d&&s.jsx("span",{className:"ml-2 shrink-0 rounded-full px-2 py-0.5 text-[10px] uppercase tracking-wide bg-[var(--vscode-badge-background)] text-[var(--vscode-badge-foreground)]",children:d.role.toUpperCase()}),s.jsx("svg",{className:`h-3 w-3 transition-transform ${l?"rotate-180":""}`,viewBox:"0 0 12 12",fill:"none",stroke:"rgb(156 163 175)","aria-hidden":"true",children:s.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),l&&s.jsx("div",{className:"absolute z-20 mt-1 right-0 w-max min-w-full max-h-60 overflow-auto rounded border border-[var(--vscode-dropdown-border)] bg-[var(--vscode-dropdown-background)] shadow",children:s.jsxs("div",{role:"listbox","aria-label":i("kilocode:profile.organization"),children:[s.jsx("button",{type:"button",role:"option","aria-selected":!d||d.id==="personal",onClick:()=>{m(null),c(!1)},className:"flex w-full cursor-pointer items-center justify-between gap-2 px-3 py-1.5 text-left hover:bg-[var(--vscode-list-hoverBackground)] text-[var(--vscode-foreground)]",children:s.jsx("span",{className:"truncate",children:i("kilocode:profile.personal")})}),r.map(g=>s.jsxs("button",{type:"button",role:"option","aria-selected":(d==null?void 0:d.id)===g.id,onClick:()=>{m(g),c(!1)},className:"flex w-full cursor-pointer items-center justify-between gap-2 px-3 py-1.5 text-left hover:bg-[var(--vscode-list-hoverBackground)] text-[var(--vscode-foreground)]",children:[s.jsx("span",{className:"truncate",children:g.name}),s.jsx("span",{className:"ml-2 shrink-0 rounded-full px-2 py-0.5 text-[10px] uppercase tracking-wide bg-[var(--vscode-badge-background)] text-[var(--vscode-badge-foreground)]",children:g.role.toUpperCase()})]},g.id))]})})]})]}):null},GR=()=>{const{t:e}=re(),[t,r]=h.useState(!1),n=()=>{r(!0),R.postMessage({type:"telemetrySetting",text:"enabled"})},o=()=>{window.postMessage({type:"action",action:"settingsButtonClicked",values:{section:"about"}})};return t?null:s.jsxs("div",{className:"relative p-4 pr-10 bg-vscode-editor-background border border-vscode-panel-border rounded text-sm leading-normal text-vscode-foreground",children:[s.jsx("button",{onClick:n,className:"absolute top-1.5 right-2 bg-transparent border-none text-vscode-foreground cursor-pointer text-2xl p-1 opacity-70 hover:opacity-100 transition-opacity duration-200 leading-none","aria-label":"Close",children:""}),s.jsx("div",{className:"mb-0.5 font-bold",children:e("welcome:telemetry.helpImprove")}),s.jsx("div",{children:s.jsx(we,{i18nKey:"welcome:telemetry.helpImproveMessage",components:{settingsLink:s.jsx(Oe,{href:"#",onClick:o})}})})]})},QR=h.memo(GR);function Tr(e){return e>=1e9?(e/1e9).toFixed(1)+Re.t("common:number_format.billion_suffix"):e>=1e6?(e/1e6).toFixed(1)+Re.t("common:number_format.million_suffix"):e>=1e3?(e/1e3).toFixed(1)+Re.t("common:number_format.thousand_suffix"):e.toString()}const YR=e=>{const r=Date.now()-e,n=Math.floor(r/1e3),o=Math.floor(n/60),a=Math.floor(o/60),i=Math.floor(a/24),l=Math.floor(i/7),c=Math.floor(i/30),d=Math.floor(i/365);return d>0?d===1?Re.t("common:time_ago.year_ago"):Re.t("common:time_ago.years_ago",{count:d}):c>0?c===1?Re.t("common:time_ago.month_ago"):Re.t("common:time_ago.months_ago",{count:c}):l>0?l===1?Re.t("common:time_ago.week_ago"):Re.t("common:time_ago.weeks_ago",{count:l}):i>0?i===1?Re.t("common:time_ago.day_ago"):Re.t("common:time_ago.days_ago",{count:i}):a>0?a===1?Re.t("common:time_ago.hour_ago"):Re.t("common:time_ago.hours_ago",{count:a}):o>0?o===1?Re.t("common:time_ago.minute_ago"):Re.t("common:time_ago.minutes_ago",{count:o}):n>30?Re.t("common:time_ago.seconds_ago",{count:n}):Re.t("common:time_ago.just_now")};function J_({timeout:e=2e3}={}){const[t,r]=h.useState(!1);return{isCopied:t,copy:o=>{var a;typeof window>"u"||!((a=navigator.clipboard)!=null&&a.writeText)||!o||navigator.clipboard.writeText(o).then(()=>{r(!0),setTimeout(()=>r(!1),e)})}}}function XR(e){h.useEffect(()=>{const t=r=>{const n=r.target;n.tagName!=="INPUT"&&n.tagName!=="SELECT"&&n.tagName!=="TEXTAREA"&&n.tagName!=="VSCODE-TEXT-AREA"&&n.tagName!=="VSCODE-TEXT-FIELD"&&!n.isContentEditable&&e()};return document.body.addEventListener("click",t),()=>{document.body.removeEventListener("click",t)}},[e])}const JR=({itemTask:e})=>{const{isCopied:t,copy:r}=J_(),{t:n}=re(),o=h.useCallback(a=>{a.stopPropagation(),t||r(e)},[t,r,e]);return s.jsx(ue,{content:n("history:copyPrompt"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:o,className:"group-hover:opacity-100 opacity-50 transition-opacity","data-testid":"copy-prompt-button",children:s.jsx("span",{className:Z("codicon scale-80",{"codicon-check":t,"codicon-copy":!t})})})})},ZR=({itemId:e})=>{const{t}=re(),r=h.useCallback(n=>{n.stopPropagation(),R.postMessage({type:"exportTaskWithId",text:e})},[e]);return s.jsx(ue,{content:t("history:exportTask"),children:s.jsx(oe,{"data-testid":"export",variant:"ghost",size:"icon",className:"group-hover:opacity-100 opacity-50 transition-opacity",onClick:r,children:s.jsx("span",{className:"codicon codicon-desktop-download scale-80"})})})},e5=({itemId:e,onDelete:t})=>{const{t:r}=re(),n=h.useCallback(o=>{o.stopPropagation(),o.shiftKey?R.postMessage({type:"deleteTaskWithId",text:e}):t&&t(e)},[e,t]);return s.jsx(ue,{content:r("history:deleteTaskTitle"),children:s.jsx(oe,{variant:"ghost",size:"icon","data-testid":"delete-task-button",onClick:n,className:"opacity-70",children:s.jsx("span",{className:"codicon codicon-trash size-4 align-middle text-vscode-descriptionForeground"})})})},t5=({id:e,isFavorited:t})=>{const{t:r}=re();return s.jsx(oe,{variant:"ghost",size:"icon",title:r(t?"history:unfavoriteTask":"history:favoriteTask"),"data-testid":"favorite-task-button",onClick:n=>{n.stopPropagation(),R.postMessage({type:"toggleTaskFavorite",text:e})},className:`group-hover:opacity-100 transition-opacity ${t?"opacity-70":"opacity-50"}`,children:s.jsx("span",{className:`codicon ${t?"codicon-star-full":"codicon-star-empty"}`})})},s5=({id:e})=>{const{t}=re();return s.jsx(oe,{variant:"ghost",size:"icon",title:t("history:shareSession"),"data-testid":"share-session-button",onClick:r=>{r.stopPropagation(),R.postMessage({type:"shareTaskSession",text:e})},className:"group-hover:opacity-100 opacity-50 transition-opacity",children:s.jsx("span",{className:"codicon codicon-link"})})},r5=({item:e,variant:t,isSelectionMode:r=!1,onDelete:n})=>s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-1 items-center text-vscode-descriptionForeground/60",children:[s.jsx(ue,{content:new Date(e.ts).toLocaleString(),children:s.jsx("span",{className:"first-letter:uppercase",children:YR(e.ts)})}),s.jsx("span",{children:""}),!!e.totalCost&&s.jsx("span",{className:"flex items-center","data-testid":"cost-footer-compact",children:"$"+e.totalCost.toFixed(2)})]}),!r&&s.jsxs("div",{className:"flex flex-row gap-0 -mx-2 items-center text-vscode-descriptionForeground/60 hover:text-vscode-descriptionForeground",children:[s.jsx(JR,{itemTask:e.task}),s.jsx(t5,{isFavorited:e.isFavorited??!1,id:e.id}),s.jsx(s5,{id:e.id}),t==="full"&&s.jsx(ZR,{itemId:e.id}),n&&s.jsx(e5,{itemId:e.id,onDelete:n})]})]}),n5=({item:e,variant:t,showWorkspace:r=!1,isSelectionMode:n=!1,isSelected:o=!1,onToggleSelection:a,onDelete:i,className:l})=>{const c=()=>{n&&a?a(e.id,!o):R.postMessage({type:"showTaskWithId",text:e.id})},d=t==="compact";return s.jsx("div",{"data-testid":`task-item-${e.id}`,className:Z("cursor-pointer group bg-vscode-editor-background rounded relative overflow-hidden border border-transparent hover:bg-vscode-list-hoverBackground transition-colors",l),onClick:c,children:s.jsxs("div",{className:(!d&&n?"pl-3 pb-3":"pl-4")+" flex gap-3 px-3 pt-3 pb-1",children:[!d&&n&&s.jsx("div",{className:"task-checkbox mt-1",onClick:u=>{u.stopPropagation()},children:s.jsx(bc,{checked:o,onCheckedChange:u=>a==null?void 0:a(e.id,u===!0),variant:"description"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:Z("overflow-hidden whitespace-pre-wrap font-light text-vscode-foreground text-ellipsis line-clamp-3",{"text-base":!d},!d&&n?"mb-1":""),"data-testid":"task-content",...e.highlight?{dangerouslySetInnerHTML:{__html:e.highlight}}:{},children:e.highlight?void 0:e.task}),s.jsx(r5,{item:e,variant:t,isSelectionMode:n,onDelete:i}),r&&e.workspace&&s.jsxs("div",{className:"flex flex-row gap-1 text-vscode-descriptionForeground text-xs mt-1",children:[s.jsx("span",{className:"codicon codicon-folder scale-80"}),s.jsx("span",{children:e.workspace})]})]})]})},e.id)},Z_=h.memo(n5);function o5(e,t){return new Promise((r,n)=>{const o=()=>{window.removeEventListener("message",i)},a=setTimeout(()=>{o(),n(new Error("Timeout"))},1e4),i=l=>{const c=l.data;if(c.type==="tasksByIdResponse"){const d=c.payload;if((d==null?void 0:d.requestId)!==e)return;clearTimeout(a),o(),d!=null&&d.tasks?r(d.tasks):n(new Error("Task not found"))}};window.addEventListener("message",i),R.postMessage({type:"tasksByIdRequest",payload:{requestId:e,taskIds:t}})})}function eN(e){return Ln({queryKey:["taskHistory",e],queryFn:()=>o5(crypto.randomUUID(),e)})}function a5(e){return new Promise((t,r)=>{const n=()=>{window.removeEventListener("message",a)},o=setTimeout(()=>{n(),r(new Error("Timeout"))},1e4),a=i=>{const l=i.data;if(l.type==="taskHistoryResponse"){const c=l.payload;if((c==null?void 0:c.requestId)!==e.requestId)return;clearTimeout(o),n(),c?t(c):r(new Error("Payload is empty"))}};window.addEventListener("message",a),R.postMessage({type:"taskHistoryRequest",payload:e})})}function Xg(e,t){return Ln({queryKey:["taskHistory",String(t),JSON.stringify(e)],queryFn:()=>a5({...e,requestId:crypto.randomUUID()})})}const i5=({taskHistoryVersion:e})=>{const{data:t}=Xg({workspace:"current",sort:"newest",favoritesOnly:!1,pageIndex:0},e),r=(t==null?void 0:t.historyItems)??[],{t:n}=re(),o=()=>{R.postMessage({type:"switchTab",tab:"history"})};return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between mt-4 mb-2",children:[s.jsx("h2",{className:"font-semibold text-lg grow m-0",children:n("history:recentTasks")}),s.jsx("button",{onClick:o,className:"text-base text-vscode-descriptionForeground hover:text-vscode-textLink-foreground transition-colors cursor-pointer","aria-label":n("history:viewAllHistory"),children:n("history:viewAllHistory")})]}),r.length!==0&&s.jsx(s.Fragment,{children:r.slice(0,4).map(a=>s.jsx(Z_,{item:a,variant:"compact"},a.id))})]})},l5=h.memo(i5);var tN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ov=Qe.createContext&&Qe.createContext(tN),c5=["attr","size","title"];function d5(e,t){if(e==null)return{};var r=u5(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pc.apply(this,arguments)}function Dv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dv(Object(r),!0).forEach(function(n){p5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p5(e,t,r){return t=m5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m5(e){var t=h5(e,"string");return typeof t=="symbol"?t:t+""}function h5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sN(e){return e&&e.map((t,r)=>Qe.createElement(t.tag,Ic({key:r},t.attr),sN(t.child)))}function Jg(e){return t=>Qe.createElement(f5,Pc({attr:Ic({},e.attr)},t),sN(e.child))}function f5(e){var t=r=>{var{attr:n,size:o,title:a}=e,i=d5(e,c5),l=o||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Qe.createElement("svg",Pc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:Ic(Ic({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Qe.createElement("title",null,a),e.children)};return Ov!==void 0?Qe.createElement(Ov.Consumer,null,r=>t(r)):t(tN)}function g5(e){return Jg({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"},child:[]}]})(e)}function x5(e){return Jg({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.373 0 0 5.373 0 12c0 3.314 1.343 6.314 3.515 8.485l-2.286 2.286C.775 23.225 1.097 24 1.738 24H12c6.627 0 12-5.373 12-12S18.627 0 12 0Zm4.388 3.199c1.104 0 1.999.895 1.999 1.999 0 1.105-.895 2-1.999 2-.946 0-1.739-.657-1.947-1.539v.002c-1.147.162-2.032 1.15-2.032 2.341v.007c1.776.067 3.4.567 4.686 1.363.473-.363 1.064-.58 1.707-.58 1.547 0 2.802 1.254 2.802 2.802 0 1.117-.655 2.081-1.601 2.531-.088 3.256-3.637 5.876-7.997 5.876-4.361 0-7.905-2.617-7.998-5.87-.954-.447-1.614-1.415-1.614-2.538 0-1.548 1.255-2.802 2.803-2.802.645 0 1.239.218 1.712.585 1.275-.79 2.881-1.291 4.64-1.365v-.01c0-1.663 1.263-3.034 2.88-3.207.188-.911.993-1.595 1.959-1.595Zm-8.085 8.376c-.784 0-1.459.78-1.506 1.797-.047 1.016.64 1.429 1.426 1.429.786 0 1.371-.369 1.418-1.385.047-1.017-.553-1.841-1.338-1.841Zm7.406 0c-.786 0-1.385.824-1.338 1.841.047 1.017.634 1.385 1.418 1.385.785 0 1.473-.413 1.426-1.429-.046-1.017-.721-1.797-1.506-1.797Zm-3.703 4.013c-.974 0-1.907.048-2.77.135-.147.015-.241.168-.183.305.483 1.154 1.622 1.964 2.953 1.964 1.33 0 2.47-.81 2.953-1.964.057-.137-.037-.29-.184-.305-.863-.087-1.795-.135-2.769-.135Z"},child:[]}]})(e)}function v5(e){return Jg({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}const b5="kilocode",Va={publisher:b5,name:"kilo-code",version:"4.148.1",sha:"986aee3e0c985823fa5a4e9fb22e5d34a90029e7"},y5=({hideAnnouncement:e})=>{const{t}=re(),[r,n]=h.useState(!0);return s.jsx(ea,{open:r,onOpenChange:o=>{n(o),o||e()},children:s.jsxs(ta,{className:"max-w-96",children:[s.jsx(ni,{children:s.jsx(oi,{children:t("chat:announcement.title",{version:Va.version})})}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"mb-3",children:t("chat:announcement.release.heading")}),s.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1.5",children:[s.jsx("li",{children:s.jsx(we,{i18nKey:"chat:announcement.release.skills",components:{skillsLink:s.jsx(Fv,{href:"https://agentskills.io"})}})}),s.jsx("li",{children:s.jsx(we,{i18nKey:"chat:announcement.release.nativeToolCalling",components:{blogLink:s.jsx(Fv,{href:"https://blog.roocode.com/p/sorry-we-didnt-listen-sooner-native"})}})})]})]}),s.jsx("div",{className:"mt-4 text-sm text-center text-vscode-descriptionForeground",children:s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx(Gd,{icon:s.jsx(v5,{className:"w-4 h-4","aria-hidden":!0}),label:"X",href:"https://x.com/roocode"}),s.jsx(Gd,{icon:s.jsx(g5,{className:"w-4 h-4","aria-hidden":!0}),label:"Discord",href:"https://discord.gg/rCQcvT7Fnt"}),s.jsx(Gd,{icon:s.jsx(x5,{className:"w-4 h-4","aria-hidden":!0}),label:"Reddit",href:"https://www.reddit.com/r/RooCode/"})]})}),s.jsx("div",{className:"mt-3 text-sm text-center text-vscode-descriptionForeground",children:s.jsx(we,{i18nKey:"chat:announcement.support",components:{githubLink:s.jsx(w5,{})}})}),s.jsx("div",{className:"mt-2 text-sm text-center",children:s.jsx(we,{i18nKey:"chat:announcement.careers",components:{careersLink:s.jsx(k5,{})}})})]})]})})},Gd=({icon:e,label:t,href:r})=>s.jsxs(Oe,{href:r,className:"inline-flex items-center gap-1",onClick:n=>{n.preventDefault(),R.postMessage({type:"openExternal",url:r})},children:[e,s.jsx("span",{className:"sr-only",children:t})]}),w5=({children:e})=>s.jsx(Oe,{href:"https://github.com/RooCodeInc/Roo-Code",onClick:t=>{t.preventDefault(),R.postMessage({type:"openExternal",url:"https://github.com/RooCodeInc/Roo-Code"})},children:e}),k5=({children:e})=>s.jsx(Oe,{href:"https://careers.roocode.com",onClick:t=>{t.preventDefault(),R.postMessage({type:"openExternal",url:"https://careers.roocode.com"})},children:e}),Fv=({href:e,children:t})=>s.jsx(Oe,{href:e,onClick:r=>{r.preventDefault(),R.postMessage({type:"openExternal",url:e})},children:t}),j5=h.memo(y5),_5=e=>{switch(e){case"click":return s.jsx(BT,{className:"w-3.5 h-3.5 opacity-70"});case"type":case"press":return s.jsx(LT,{className:"w-3.5 h-3.5 opacity-70"});case"scroll_down":return s.jsx(FT,{className:"w-3.5 h-3.5 opacity-70"});case"scroll_up":return s.jsx(DT,{className:"w-3.5 h-3.5 opacity-70"});case"launch":return s.jsx(OT,{className:"w-3.5 h-3.5 opacity-70"});case"close":return s.jsx(yr,{className:"w-3.5 h-3.5 opacity-70"});case"resize":return s.jsx(RT,{className:"w-3.5 h-3.5 opacity-70"});case"screenshot":return s.jsx(AT,{className:"w-3.5 h-3.5 opacity-70"});case"hover":default:return s.jsx(CT,{className:"w-3.5 h-3.5 opacity-70"})}},rN=h.memo(({message:e,nextMessage:t,actionIndex:r,totalActions:n})=>{const{t:o}=vt(),{isBrowserSessionActive:a}=Ye(),i=h.useRef(!1),l=h.useMemo(()=>{try{return JSON.parse(e.text||"{}")}catch{return null}},[e.text]),c=h.useMemo(()=>{if(!t||t.say!=="browser_action_result")return null;try{const p=JSON.parse(t.text||"{}");return{width:p.viewportWidth,height:p.viewportHeight}}catch{return null}},[t]),d=h.useMemo(()=>{var m;if(!l)return o("chat:browser.actions.title");const p=g=>ET(g,(c==null?void 0:c.width)??0,(c==null?void 0:c.height)??0);switch(l.action){case"launch":return o("chat:browser.actions.launched");case"click":return o("chat:browser.actions.clicked",{coordinate:l.executedCoordinate||p(l.coordinate)});case"type":return o("chat:browser.actions.typed",{text:l.text});case"press":return o("chat:browser.actions.pressed",{key:MT(l.text)});case"hover":return o("chat:browser.actions.hovered",{coordinate:l.executedCoordinate||p(l.coordinate)});case"scroll_down":return o("chat:browser.actions.scrolledDown");case"scroll_up":return o("chat:browser.actions.scrolledUp");case"resize":return o("chat:browser.actions.resized",{size:(m=l.size)==null?void 0:m.split(/[x,]/).join(" x ")});case"screenshot":return o("chat:browser.actions.screenshotSaved");case"close":return o("chat:browser.actions.closed");default:return l.action}},[l,c,o]);h.useEffect(()=>{if(!a||i.current)return;(l==null?void 0:l.action)==="launch"?(R.postMessage({type:"showBrowserSessionPanelAtStep",stepIndex:0,isLaunchAction:!0}),i.current=!0):(R.postMessage({type:"showBrowserSessionPanelAtStep",isLaunchAction:!1}),i.current=!0)},[a,l]);const u={display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px",wordBreak:"break-word"};return s.jsx("div",{className:"px-[15px] py-[10px] pr-[6px]",children:s.jsxs("div",{style:u,className:"cursor-pointer",onClick:()=>{const p=typeof r=="number"?Math.max(0,r-1):0;R.postMessage({type:"showBrowserSessionPanelAtStep",stepIndex:p,forceShow:!0})},children:[s.jsx("span",{className:"codicon codicon-globe text-vscode-testing-iconPassed shrink-0",style:{marginBottom:"-1.5px"}}),s.jsx("span",{style:{fontWeight:"bold"},children:o("chat:browser.actions.title")}),r!==void 0&&n!==void 0&&s.jsxs("span",{style:{fontWeight:"bold"},children:[" ","- ",r,"/",n," -"," "]}),l&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:_5(l.action)}),s.jsx("span",{className:"flex-1 truncate",children:d})]})]})})});rN.displayName="BrowserActionRow";const nN=h.memo(({message:e})=>{var r;const t=(r=e.text)==null?void 0:r.includes("opened");return s.jsxs("div",{className:"flex items-center gap-2 py-2 px-[15px] text-sm",children:[s.jsx(Gc,{className:"w-4 h-4 shrink-0",style:{opacity:.7,color:t?"#4ade80":"#9ca3af"}}),s.jsx("span",{style:{color:t?"var(--vscode-testing-iconPassed)":"var(--vscode-descriptionForeground)",fontWeight:500},children:e.text})]})});nN.displayName="BrowserSessionStatusRow";function N5(e,t=[]){return t.find(r=>{const n=String(r.uriTemplate).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\\{([^}]+)\\\}/g,"([^/]+)");return new RegExp(`^${n}$`).test(e)})}function S5(e,t=[],r=[]){const n=t.find(o=>o.uri===e);return n||N5(e,r)}const Zg=e=>e.replace(/^[/\\:*?"<>|]+/,"");function Ga(e,t){if(!e)return"";const r=Zg(e)+"";return t?r+t:r}const uo=({className:e,...t})=>s.jsx("div",{className:Z("overflow-hidden rounded-md p-2 cursor-pointer bg-vscode-editor-background",e),...t}),po=({className:e,...t})=>s.jsx("div",{className:Z("flex font-mono items-center select-none text-sm text-vscode-descriptionForeground",e),...t}),Lv=/[#.]/g;function T5(e,t){const r=e||"",n={};let o=0,a,i;for(;o<r.length;){Lv.lastIndex=o;const l=Lv.exec(r),c=r.slice(o,l?l.index:r.length);c&&(a?a==="#"?n.id=c:Array.isArray(n.className)?n.className.push(c):n.className=[c]:i=c,o+=c.length),l&&(a=l[0],o++)}return{type:"element",tagName:i||t||"div",properties:n,children:[]}}function oN(e,t,r){const n=r?M5(r):void 0;function o(a,i,...l){let c;if(a==null){c={type:"root",children:[]};const d=i;l.unshift(d)}else{c=T5(a,t);const d=c.tagName.toLowerCase(),u=n?n.get(d):void 0;if(c.tagName=u||d,P5(i))l.unshift(i);else for(const[p,m]of Object.entries(i))I5(e,c.properties,p,m)}for(const d of l)uf(c.children,d);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return o}function P5(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const o=t[n];if(o&&typeof o=="object"){if(!Array.isArray(o))return!0;const a=o;for(const i of a)if(typeof i!="number"&&typeof i!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function I5(e,t,r,n){const o=fT(e,r);let a;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;a=n}else typeof n=="boolean"?a=n:typeof n=="string"?o.spaceSeparated?a=Fx(n):o.commaSeparated?a=Lx(n):o.commaOrSpaceSeparated?a=Fx(Lx(n).join(" ")):a=Bv(o,o.property,n):Array.isArray(n)?a=[...n]:a=o.property==="style"?E5(n):String(n);if(Array.isArray(a)){const i=[];for(const l of a)i.push(Bv(o,o.property,l));a=i}o.property==="className"&&Array.isArray(t.className)&&(a=t.className.concat(a)),t[o.property]=a}}function uf(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)uf(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?uf(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Bv(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||Bx(r)===Bx(t)))return!0}return r}function E5(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}function M5(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const C5=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],A5=oN(gT,"div"),R5=oN(xT,"g",C5),Qd={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function O5(e,t){return aN(e,{})||{type:"root",children:[]}}function aN(e,t){const r=D5(e,t);return r&&t.afterTransform&&t.afterTransform(e,r),r}function D5(e,t){switch(e.nodeType){case 1:return z5(e,t);case 3:return L5(e);case 8:return B5(e);case 9:return zv(e,t);case 10:return F5();case 11:return zv(e,t);default:return}}function zv(e,t){return{type:"root",children:iN(e,t)}}function F5(){return{type:"doctype"}}function L5(e){return{type:"text",value:e.nodeValue||""}}function B5(e){return{type:"comment",value:e.nodeValue||""}}function z5(e,t){const r=e.namespaceURI,n=r===Qd.svg?R5:A5,o=r===Qd.html?e.tagName.toLowerCase():e.tagName,a=r===Qd.html&&o==="template"?e.content:e,i=e.getAttributeNames(),l={};let c=-1;for(;++c<i.length;)l[i[c]]=e.getAttribute(i[c])||"";return n(o,l,iN(a,t))}function iN(e,t){const r=e.childNodes,n=[];let o=-1;for(;++o<r.length;){const a=aN(r[o],t);a!==void 0&&n.push(a)}return n}new DOMParser;function q5(e,t){const r=U5(e);return O5(r)}function U5(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const qv=(function(e,t,r){const n=kP(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]}),sa=(function(e){if(e==null)return $5;if(typeof e=="string")return K5(e);if(typeof e=="object")return W5(e);if(typeof e=="function")return ex(e);throw new Error("Expected function, string, or array as `test`")});function W5(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=sa(e[r]);return ex(n);function n(...o){let a=-1;for(;++a<t.length;)if(t[a].apply(this,o))return!0;return!1}}function K5(e){return ex(t);function t(r){return r.tagName===e}}function ex(e){return t;function t(r,n,o){return!!(H5(r)&&e.call(this,r,typeof n=="number"?n:void 0,o||void 0))}}function $5(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function H5(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const Uv=/\n/g,Wv=/[\t ]+/g,pf=sa("br"),Kv=sa(e3),V5=sa("p"),$v=sa("tr"),G5=sa(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",Z5,t3]),lN=sa(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Q5(e,t){const r=t||{},n="children"in e?e.children:[],o=lN(e),a=uN(e,{whitespace:r.whitespace||"normal"}),i=[];(e.type==="text"||e.type==="comment")&&i.push(...dN(e,{breakBefore:!0,breakAfter:!0}));let l=-1;for(;++l<n.length;)i.push(...cN(n[l],e,{whitespace:a,breakBefore:l?void 0:o,breakAfter:l<n.length-1?pf(n[l+1]):o}));const c=[];let d;for(l=-1;++l<i.length;){const u=i[l];typeof u=="number"?d!==void 0&&u>d&&(d=u):u&&(d!==void 0&&d>-1&&c.push(`
`.repeat(d)||" "),d=-1,c.push(u))}return c.join("")}function cN(e,t,r){return e.type==="element"?Y5(e,t,r):e.type==="text"?r.whitespace==="normal"?dN(e,r):X5(e):[]}function Y5(e,t,r){const n=uN(e,r),o=e.children||[];let a=-1,i=[];if(G5(e))return i;let l,c;for(pf(e)||$v(e)&&qv(t,e,$v)?c=`
`:V5(e)?(l=2,c=2):lN(e)&&(l=1,c=1);++a<o.length;)i=i.concat(cN(o[a],e,{whitespace:n,breakBefore:a?void 0:l,breakAfter:a<o.length-1?pf(o[a+1]):c}));return Kv(e)&&qv(t,e,Kv)&&i.push("	"),l&&i.unshift(l),c&&i.push(c),i}function dN(e,t){const r=String(e.value),n=[],o=[];let a=0;for(;a<=r.length;){Uv.lastIndex=a;const c=Uv.exec(r),d=c&&"index"in c?c.index:r.length;n.push(J5(r.slice(a,d).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),a===0?t.breakBefore:!0,d===r.length?t.breakAfter:!0)),a=d+1}let i=-1,l;for(;++i<n.length;)n[i].charCodeAt(n[i].length-1)===8203||i<n.length-1&&n[i+1].charCodeAt(0)===8203?(o.push(n[i]),l=void 0):n[i]?(typeof l=="number"&&o.push(l),o.push(n[i]),l=0):(i===0||i===n.length-1)&&o.push(0);return o}function X5(e){return[String(e.value)]}function J5(e,t,r){const n=[];let o=0,a;for(;o<e.length;){Wv.lastIndex=o;const i=Wv.exec(e);a=i?i.index:e.length,!o&&!a&&i&&!t&&n.push(""),o!==a&&n.push(e.slice(o,a)),o=i?a+i[0].length:a}return o!==a&&!r&&n.push(""),n.join(" ")}function uN(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function Z5(e){return!!(e.properties||{}).hidden}function e3(e){return e.tagName==="td"||e.tagName==="th"}function t3(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const s3={},r3=[];function n3(e){const t=e||s3;return function(r,n){jP(r,"element",function(o,a){const i=Array.isArray(o.properties.className)?o.properties.className:r3,l=i.includes("language-math"),c=i.includes("math-display"),d=i.includes("math-inline");let u=c;if(!l&&!c&&!d)return;let p=a[a.length-1],m=o;if(o.tagName==="code"&&l&&p&&p.type==="element"&&p.tagName==="pre"&&(m=p,p=a[a.length-2],u=!0),!p)return;const g=Q5(m,{whitespace:"pre"});let f;try{f=Vx.renderToString(g,{...t,displayMode:u,throwOnError:!0})}catch(y){const N=y,b=N.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...a,o],cause:N,place:o.position,ruleId:b,source:"rehype-katex"});try{f=Vx.renderToString(g,{...t,displayMode:u,strict:"ignore",throwOnError:!1})}catch{f=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(y)},children:[{type:"text",value:g}]}]}}typeof f=="string"&&(f=q5(f).children);const x=p.children.indexOf(m);return p.children.splice(x,1,...f),_P})}}function o3(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:a},exit:{mathFlow:o,mathFlowFence:n,mathFlowFenceMeta:r,mathFlowValue:l,mathText:i,mathTextData:l}};function e(c){const d={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[d]}},c)}function t(){this.buffer()}function r(){const c=this.resume(),d=this.stack[this.stack.length-1];ui(d.type==="math"),d.meta=c}function n(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function o(c){const d=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),u=this.stack[this.stack.length-1];ui(u.type==="math"),this.exit(c),u.value=d;const p=u.data.hChildren[0];ui(p.type==="element"),ui(p.tagName==="code"),p.children.push({type:"text",value:d}),this.data.mathFlowInside=void 0}function a(c){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},c),this.buffer()}function i(c){const d=this.resume(),u=this.stack[this.stack.length-1];ui(u.type==="inlineMath"),this.exit(c),u.value=d,u.data.hChildren.push({type:"text",value:d})}function l(c){this.config.enter.data.call(this,c),this.config.exit.data.call(this,c)}}function a3(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),n.peek=o,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:n}};function r(a,i,l,c){const d=a.value||"",u=l.createTracker(c),p="$".repeat(Math.max(NP(d,"$")+1,2)),m=l.enter("mathFlow");let g=u.move(p);if(a.meta){const f=l.enter("mathFlowMeta");g+=u.move(l.safe(a.meta,{after:`
`,before:g,encode:["$"],...u.current()})),f()}return g+=u.move(`
`),d&&(g+=u.move(d+`
`)),g+=u.move(p),m(),g}function n(a,i,l){let c=a.value||"",d=1;for(t||d++;new RegExp("(^|[^$])"+"\\$".repeat(d)+"([^$]|$)").test(c);)d++;const u="$".repeat(d);/[^ \r\n]/.test(c)&&(/^[ \r\n]/.test(c)&&/[ \r\n]$/.test(c)||/^\$|\$$/.test(c))&&(c=" "+c+" ");let p=-1;for(;++p<l.unsafe.length;){const m=l.unsafe[p];if(!m.atBreak)continue;const g=l.compilePattern(m);let f;for(;f=g.exec(c);){let x=f.index;c.codePointAt(x)===10&&c.codePointAt(x-1)===13&&x--,c=c.slice(0,x)+" "+c.slice(f.index+1)}}return u+c+u}function o(){return"$"}}const i3={tokenize:l3,concrete:!0,name:"mathFlow"},Hv={tokenize:c3,partial:!0};function l3(e,t,r){const n=this,o=n.events[n.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let i=0;return l;function l(b){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),c(b)}function c(b){return b===36?(e.consume(b),i++,c):i<2?r(b):(e.exit("mathFlowFenceSequence"),Sl(e,d,"whitespace")(b))}function d(b){return b===null||So(b)?p(b):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),u(b))}function u(b){return b===null||So(b)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),p(b)):b===36?r(b):(e.consume(b),u)}function p(b){return e.exit("mathFlowFence"),n.interrupt?t(b):e.attempt(Hv,m,y)(b)}function m(b){return e.attempt({tokenize:N,partial:!0},y,g)(b)}function g(b){return(a?Sl(e,f,"linePrefix",a+1):f)(b)}function f(b){return b===null?y(b):So(b)?e.attempt(Hv,m,y)(b):(e.enter("mathFlowValue"),x(b))}function x(b){return b===null||So(b)?(e.exit("mathFlowValue"),f(b)):(e.consume(b),x)}function y(b){return e.exit("mathFlow"),t(b)}function N(b,j,v){let _=0;return Sl(b,k,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function k(S){return b.enter("mathFlowFence"),b.enter("mathFlowFenceSequence"),w(S)}function w(S){return S===36?(_++,b.consume(S),w):_<i?v(S):(b.exit("mathFlowFenceSequence"),Sl(b,T,"whitespace")(S))}function T(S){return S===null||So(S)?(b.exit("mathFlowFence"),j(S)):v(S)}}}function c3(e,t,r){const n=this;return o;function o(i){return i===null?t(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),a)}function a(i){return n.parser.lazy[n.now().line]?r(i):t(i)}}function d3(e){let r=(e||{}).singleDollarTextMath;return r==null&&(r=!0),{tokenize:n,resolve:u3,previous:p3,name:"mathText"};function n(o,a,i){let l=0,c,d;return u;function u(x){return o.enter("mathText"),o.enter("mathTextSequence"),p(x)}function p(x){return x===36?(o.consume(x),l++,p):l<2&&!r?i(x):(o.exit("mathTextSequence"),m(x))}function m(x){return x===null?i(x):x===36?(d=o.enter("mathTextSequence"),c=0,f(x)):x===32?(o.enter("space"),o.consume(x),o.exit("space"),m):So(x)?(o.enter("lineEnding"),o.consume(x),o.exit("lineEnding"),m):(o.enter("mathTextData"),g(x))}function g(x){return x===null||x===32||x===36||So(x)?(o.exit("mathTextData"),m(x)):(o.consume(x),g)}function f(x){return x===36?(o.consume(x),c++,f):c===l?(o.exit("mathTextSequence"),o.exit("mathText"),a(x)):(d.type="mathTextData",g(x))}}}function u3(e){let t=e.length-4,r=3,n,o;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[r][1].type="mathTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)o===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(o=n):(n===t||e[n][1].type==="lineEnding")&&(e[o][1].type="mathTextData",n!==o+2&&(e[o][1].end=e[n-1][1].end,e.splice(o+2,n-o-2),t-=n-o-2,n=o+2),o=void 0);return e}function p3(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function m3(e){return{flow:{36:i3},text:{36:d3(e)}}}const h3={};function f3(e){const t=this,r=e||h3,n=t.data(),o=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),i=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);o.push(m3(r)),a.push(o3()),i.push(a3(r))}class mf{static applyDeterministicFixes(t){return t.replace(/--&gt;/g,"-->").replace(/```mermaid/,"")}static async validateSyntax(t){try{return await(await Oj(async()=>{const{default:n}=await import("./mermaid-bundle.js").then(o=>o.n);return{default:n}},[])).default.parse(t),{isValid:!0}}catch(r){return{isValid:!1,error:r instanceof Error?r.message:Re.t("common:mermaid.errors.unknown_syntax")}}}static requestLLMFix(t,r){return new Promise((n,o)=>{const a=`mermaid-fix-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,i=setTimeout(()=>{c(),n({requestError:Re.t("common:mermaid.errors.fix_timeout")})},this.FIX_TIMEOUT),l=d=>{const u=d.data;u.type==="mermaidFixResponse"&&u.requestId===a&&(c(),u.success?n({fixedCode:u.fixedCode}):n({requestError:u.error||Re.t("common:mermaid.errors.fix_request_failed")}))},c=()=>{clearTimeout(i),window.removeEventListener("message",l)};window.addEventListener("message",l),R.postMessage({type:"fixMermaidSyntax",requestId:a,text:t,values:{error:r}})})}static async autoFixSyntax(t){let r=t,n=0,o;for(;;){console.info("attempt ",n),r=this.applyDeterministicFixes(r);const a=await this.validateSyntax(r);if(a.isValid)return{success:!0,fixedCode:r,attempts:n};const i=a.error||Re.t("common:mermaid.errors.unknown_syntax");if(n>=this.MAX_FIX_ATTEMPTS){o=Re.t("common:mermaid.errors.fix_attempts",{attempts:this.MAX_FIX_ATTEMPTS,error:i});break}n++;const l=await this.requestLLMFix(r,i);if("requestError"in l){o=l.requestError;break}else if(l.fixedCode)r=l.fixedCode;else{o=Re.t("common:mermaid.errors.no_fix_provided");break}}return o&&console.info(o),{success:!1,fixedCode:r,error:o,attempts:n}}}Nt(mf,"MAX_FIX_ATTEMPTS",2),Nt(mf,"FIX_TIMEOUT",3e4);function Ls({icon:e,onClick:t,onMouseDown:r,onMouseUp:n,onMouseLeave:o,title:a,size:i="medium",variant:l="default"}){const c={small:"w-6 h-6",medium:"w-7 h-7"},d={default:"bg-transparent hover:bg-vscode-toolbar-hoverBackground",transparent:"bg-transparent hover:bg-vscode-toolbar-hoverBackground"},u=t||(m=>{}),p=s.jsx("button",{className:`${c[i]} flex items-center justify-center border-none text-vscode-editor-foreground cursor-pointer rounded-[3px] ${d[l]}`,"aria-label":a,onClick:u,onMouseDown:r,onMouseUp:n,onMouseLeave:o,children:s.jsx("span",{className:`codicon codicon-${e}`})});return a?s.jsx(ue,{content:a,children:p}):p}function tx({zoomLevel:e,zoomInTitle:t,zoomOutTitle:r,useContinuousZoom:n=!1,adjustZoom:o,zoomInStep:a=.1,zoomOutStep:i=-.1,onZoomIn:l,onZoomOut:c}){const d=h.useRef(null),u=m=>{!n||!o||(d.current&&clearInterval(d.current),o(m),d.current=setInterval(()=>{o(m)},150))},p=()=>{d.current&&(clearInterval(d.current),d.current=null)};return h.useEffect(()=>()=>{d.current&&clearInterval(d.current)},[]),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{content:r,children:s.jsx(Ls,{icon:"zoom-out",onClick:n?void 0:c||(()=>o==null?void 0:o(i)),onMouseDown:n&&o?()=>u(i):void 0,onMouseUp:n&&o?p:void 0,onMouseLeave:n&&o?p:void 0})}),s.jsxs("div",{className:"text-sm text-vscode-editor-foreground min-w-[50px] text-center",children:[Math.round(e*100),"%"]}),s.jsx(ue,{content:t,children:s.jsx(Ls,{icon:"zoom-in",onClick:n?void 0:l||(()=>o==null?void 0:o(a)),onMouseDown:n&&o?()=>u(a):void 0,onMouseUp:n&&o?p:void 0,onMouseLeave:n&&o?p:void 0})})]})}const pN=({onZoom:e,onZoomIn:t,onZoomOut:r,onCopy:n,onSave:o,onViewCode:a,onClose:i,copyFeedback:l,showZoomControls:c=!1,zoomLevel:d})=>{const{t:u}=re();return c&&r&&t&&d!==void 0?s.jsxs(s.Fragment,{children:[s.jsx(tx,{zoomLevel:d,onZoomIn:t,onZoomOut:r,zoomInTitle:u("common:mermaid.buttons.zoomIn"),zoomOutTitle:u("common:mermaid.buttons.zoomOut")}),s.jsx(ue,{content:u("common:mermaid.buttons.viewCode"),children:s.jsx(Ls,{icon:"code",onClick:p=>{p.stopPropagation(),a()}})}),s.jsx(ue,{content:u("common:mermaid.buttons.copy"),children:s.jsx(Ls,{icon:l?"check":"copy",onClick:n})})]}):s.jsxs(s.Fragment,{children:[e&&s.jsx(ue,{content:u("common:mermaid.buttons.zoom"),children:s.jsx(Ls,{icon:"zoom-in",onClick:e})}),s.jsx(ue,{content:u("common:mermaid.buttons.viewCode"),children:s.jsx(Ls,{icon:"code",onClick:p=>{p.stopPropagation(),a()}})}),s.jsx(ue,{content:u("common:mermaid.buttons.copy"),children:s.jsx(Ls,{icon:l?"check":"copy",onClick:n})}),o&&s.jsx(ue,{content:u("common:mermaid.buttons.save"),children:s.jsx(Ls,{icon:"save",onClick:o})}),i&&s.jsx(ue,{content:u("common:mermaid.buttons.close"),children:s.jsx(Ls,{icon:"close",onClick:i})})]})};function mN({isOpen:e,onClose:t,children:r,className:n=""}){return e?s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[1000]",onClick:t,children:s.jsx("div",{className:`bg-vscode-editor-background rounded w-[90%] h-[90%] max-w-[1200px] flex flex-col shadow-[0_5px_15px_rgba(0,0,0,0.5)] border border-vscode-editorGroup-border relative ${n}`,onClick:o=>o.stopPropagation(),children:r})}):null}function hf({icon:e,label:t,isActive:r,onClick:n}){return s.jsxs("button",{className:`px-4 py-2 border-none cursor-pointer flex items-center gap-1.5 text-[13px] transition-all duration-200 ease-in-out ${r?"bg-vscode-editor-background border-b-2 border-vscode-focusBorder text-vscode-editor-foreground":"bg-transparent border-b-2 border-transparent text-vscode-descriptionForeground hover:text-vscode-editor-foreground hover:bg-vscode-toolbar-hoverBackground"}`,onClick:n,children:[s.jsx("span",{className:`codicon codicon-${e} text-sm`,style:r?{color:"var(--vscode-focusBorder)"}:void 0}),t]})}const g3=.5,x3=20;function v3({containerRef:e,code:t,isLoading:r,svgToPng:n,children:o}){const[a,i]=h.useState(!1),[l,c]=h.useState(1),[d,u]=h.useState(!1),[p,m]=h.useState(!1),[g,f]=h.useState("diagram"),[x,y]=h.useState(!1),[N,b]=h.useState({x:0,y:0}),{copyWithFeedback:j}=ti(),{t:v}=re(),_=async M=>{M.stopPropagation(),i(!0),c(1),f("diagram")},k=async M=>{M.stopPropagation();try{await j(t,M),u(!0),setTimeout(()=>u(!1),2e3)}catch(A){console.error("Error copying text:",A instanceof Error?A.message:String(A))}},w=async M=>{var C;M.stopPropagation();const A=(C=e.current)==null?void 0:C.querySelector("svg");if(!A){console.error("SVG element not found");return}try{const H=await n(A);R.postMessage({type:"saveImage",dataUri:H})}catch(H){console.error("Error saving image:",H)}},T=M=>{c(A=>{const C=A+M;return Math.max(g3,Math.min(x3,C))})},S=h.useCallback(M=>{M.preventDefault(),M.stopPropagation();const A=M.deltaY>0?-.2:.2;T(A)},[]),P=()=>{m(!0)},I=()=>{m(!1)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative w-full",onMouseEnter:P,onMouseLeave:I,children:[o,!r&&p&&s.jsx("div",{className:"absolute bottom-2 right-2 flex gap-1 bg-vscode-editor-background/90 rounded p-0.5 z-10 opacity-100 transition-opacity duration-200 ease-in-out",children:s.jsx(pN,{onZoom:_,onCopy:k,onSave:w,onViewCode:()=>{i(!0),f("code"),c(1)},copyFeedback:d})})]}),s.jsxs(mN,{isOpen:a,onClose:()=>i(!1),children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-vscode-editorGroup-border",children:[s.jsxs("div",{className:"flex gap-0",children:[s.jsx(hf,{icon:"graph",label:v("common:mermaid.tabs.diagram"),isActive:g==="diagram",onClick:()=>f("diagram")}),s.jsx(hf,{icon:"code",label:v("common:mermaid.tabs.code"),isActive:g==="code",onClick:()=>f("code")})]}),s.jsx("div",{className:"pr-3",children:s.jsx(ue,{content:v("common:mermaid.buttons.close"),children:s.jsx(Ls,{icon:"close",onClick:()=>i(!1)})})})]}),s.jsx("div",{className:"flex-1 p-4 pb-[60px] overflow-auto flex items-center justify-center",onWheel:g==="diagram"?S:void 0,children:g==="diagram"?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{transform:`scale(${l}) translate(${N.x}px, ${N.y}px)`,transformOrigin:"center center",transition:x?"none":"transform 0.1s ease",cursor:x?"grabbing":"grab"},onMouseDown:M=>{y(!0),M.preventDefault()},onMouseMove:M=>{x&&b(A=>({x:A.x+M.movementX/l,y:A.y+M.movementY/l}))},onMouseUp:()=>y(!1),onMouseLeave:()=>y(!1),children:e.current&&e.current.innerHTML&&s.jsx("div",{dangerouslySetInnerHTML:{__html:e.current.innerHTML}})}),s.jsxs("div",{className:"absolute bottom-4 left-4 bg-vscode-editor-background border border-vscode-editorGroup-border rounded px-2 py-1 text-xs text-vscode-descriptionForeground pointer-events-none opacity-80",children:[Math.round(l*100),"%"]})]}):s.jsx("textarea",{className:"w-full min-h-[200px] bg-vscode-editor-background text-vscode-editor-foreground border border-vscode-editorGroup-border rounded-[3px] p-2 font-mono resize-y outline-none",readOnly:!0,value:t,style:{height:"100%",minHeight:"unset",fontSize:"var(--vscode-editor-font-size)"}})}),s.jsx("div",{className:"absolute bottom-0 right-0 left-0 p-3 flex items-center justify-end gap-2 bg-vscode-editor-background border-t border-vscode-editorGroup-border rounded-b",children:g==="diagram"?s.jsxs(s.Fragment,{children:[s.jsx(tx,{zoomLevel:l,zoomInTitle:v("common:mermaid.buttons.zoomIn"),zoomOutTitle:v("common:mermaid.buttons.zoomOut"),useContinuousZoom:!0,adjustZoom:T,zoomInStep:.2,zoomOutStep:-.2}),s.jsx(ue,{content:v("common:mermaid.buttons.copy"),children:s.jsx(Ls,{icon:d?"check":"copy",onClick:k})}),s.jsx(ue,{content:v("common:mermaid.buttons.save"),children:s.jsx(Ls,{icon:"save",onClick:w})})]}):s.jsx(ue,{content:v("common:mermaid.buttons.copy"),children:s.jsx(Ls,{icon:d?"check":"copy",onClick:M=>{M.stopPropagation(),j(t,M)}})})})]})]})}const b3=Js.button`
	padding: 3px;
	height: 24px;
	margin-right: 4px;
	color: var(--vscode-editor-foreground);
	display: flex;
	align-items: center;
	justify-content: center;
	background: transparent;
	border: none;
	cursor: pointer;

	&:hover {
		opacity: 0.8;
		color: var(--vscode-button-foreground);
		background: var(--vscode-button-hoverBackground);
	}

	&:disabled {
		opacity: 0.5;
		cursor: not-allowed;
	}

	.codicon-loading {
		animation: spin 1s linear infinite;
	}

	@keyframes spin {
		from {
			transform: rotate(0deg);
		}
		to {
			transform: rotate(360deg);
		}
	}
`,hN={background:"#1e1e1e",textColor:"#ffffff",mainBkg:"#2d2d2d",nodeBorder:"#888888",lineColor:"#cccccc",primaryColor:"#3c3c3c",primaryTextColor:"#ffffff",primaryBorderColor:"#888888",secondaryColor:"#2d2d2d",tertiaryColor:"#454545",classText:"#ffffff",labelColor:"#ffffff",actorLineColor:"#cccccc",actorBkg:"#2d2d2d",actorBorder:"#888888",actorTextColor:"#ffffff",fillType0:"#2d2d2d",fillType1:"#3c3c3c",fillType2:"#454545"};Ih.initialize({startOnLoad:!1,securityLevel:"loose",theme:"dark",suppressErrorRendering:!0,themeVariables:{...hN,fontSize:"16px",fontFamily:"var(--vscode-font-family, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif)",noteTextColor:"#ffffff",noteBkgColor:"#454545",noteBorderColor:"#888888",critBorderColor:"#ff9580",critBkgColor:"#803d36",taskTextColor:"#ffffff",taskTextOutsideColor:"#ffffff",taskTextLightColor:"#ffffff",sectionBkgColor:"#2d2d2d",sectionBkgColor2:"#3c3c3c",altBackground:"#2d2d2d",linkColor:"#6cb6ff",compositeBackground:"#2d2d2d",compositeBorder:"#888888",titleColor:"#ffffff"}});function y3({code:e}){const t=h.useRef(null),[r,n]=h.useState(!1),[o,a]=h.useState(null),[i,l]=h.useState(!1),[c,d]=h.useState(""),[u,p]=h.useState(!1),[m,g]=h.useState(""),{showCopyFeedback:f,copyWithFeedback:x}=ti(),{t:y}=re();h.useEffect(()=>{n(!0),a(null),g(e),p(!1)},[e]);const N=async()=>{if(u)return;n(!0),p(!0);const j=await mf.autoFixSyntax(m);j.fixedCode&&g(j.fixedCode),j.success||a(j.error||y("common:mermaid.errors.fix_failed")),p(!1),n(!1)};h1(()=>{u||(n(!0),Ih.parse(m).then(()=>{const j=`mermaid-${Math.random().toString(36).substring(2)}`;return Ih.render(j,m)}).then(({svg:j})=>{a(null),d(j)}).catch(j=>{console.warn("Mermaid parse/render failed:",j);const v=j instanceof Error?j.message:y("common:mermaid.render_error");a(v)}).finally(()=>{n(!1)}))},500,[m,u,e,y]);const b=async()=>{if(!t.current)return;const j=t.current.querySelector("svg");if(j)try{const v=await Vv(j);R.postMessage({type:"openImage",text:v})}catch(v){console.error("Error converting SVG to PNG:",v)}};return s.jsxs(w3,{children:[r&&s.jsx(k3,{children:y(u?"common:mermaid.fixing_syntax":"common:mermaid.loading")}),o?s.jsxs("div",{style:{marginTop:"0px",overflow:"hidden",marginBottom:"8px"},children:[s.jsxs("div",{style:{borderBottom:i?"1px solid var(--vscode-editorGroup-border)":"none",fontWeight:"normal",fontSize:"var(--vscode-font-size)",color:"var(--vscode-editor-foreground)",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},onClick:()=>l(!i),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexGrow:1},children:[s.jsx("span",{className:"codicon codicon-warning",style:{color:"var(--vscode-editorWarning-foreground)",opacity:.8,fontSize:16,marginBottom:"-1.5px"}}),s.jsx("span",{style:{fontWeight:"bold"},children:y("common:mermaid.render_error")})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[!!o&&s.jsx(b3,{onClick:j=>{j.stopPropagation(),N()},disabled:u,title:y("common:mermaid.fix_syntax_button"),children:s.jsx("span",{className:`codicon codicon-${u?"loading":"wand"}`})}),s.jsx(j3,{onClick:j=>{j.stopPropagation();const v=`Error: ${o}

\`\`\`mermaid
${m}
\`\`\``;x(v,j)},children:s.jsx("span",{className:`codicon codicon-${f?"check":"copy"}`})}),s.jsx("span",{className:`codicon codicon-chevron-${i?"up":"down"}`})]})]}),i&&s.jsxs("div",{style:{padding:"8px",backgroundColor:"var(--vscode-editor-background)",borderTop:"none"},children:[s.jsx("div",{style:{marginBottom:"8px",color:"var(--vscode-descriptionForeground)"},children:o}),s.jsx(Fn,{language:"mermaid",source:m}),m!==e&&s.jsxs("div",{style:{marginTop:"8px"},children:[s.jsx("div",{style:{marginBottom:"4px",fontSize:"0.9em",fontWeight:"bold"},children:y("common:mermaid.original_code")}),s.jsx(Fn,{language:"mermaid",source:e})]})]})]}):s.jsx(v3,{containerRef:t,code:m,isLoading:r,svgToPng:Vv,children:s.jsx(_3,{onClick:b,ref:t,$isLoading:r,dangerouslySetInnerHTML:{__html:c}})})]})}async function Vv(e){var m;const t=e.cloneNode(!0),r=((m=t.getAttribute("viewBox"))==null?void 0:m.split(" ").map(Number))||[],n=r[2]||t.clientWidth,o=r[3]||t.clientHeight,a=3600,i=a/n,l=o*i;t.setAttribute("width",`${a}`),t.setAttribute("height",`${l}`);const d=new XMLSerializer().serializeToString(t),p=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(d).replace(/'/g,"%27").replace(/"/g,"%22")}`;return new Promise((g,f)=>{const x=new Image;x.onload=()=>{const y=document.createElement("canvas");y.width=a,y.height=l;const N=y.getContext("2d");if(!N)return f("Canvas context not available");N.fillStyle=hN.background,N.fillRect(0,0,y.width,y.height),N.imageSmoothingEnabled=!0,N.imageSmoothingQuality="high",N.drawImage(x,0,0,a,l),g(y.toDataURL("image/png",1))},x.onerror=f,x.src=p})}const w3=Js.div`
	position: relative;
	margin: 8px 0;
`,k3=Js.div`
	padding: 8px 0;
	color: var(--vscode-descriptionForeground);
	font-style: italic;
	font-size: 0.9em;
`,j3=Js.button`
	padding: 3px;
	height: 24px;
	margin-right: 4px;
	color: var(--vscode-editor-foreground);
	display: flex;
	align-items: center;
	justify-content: center;
	background: transparent;
	border: none;
	cursor: pointer;

	&:hover {
		opacity: 0.8;
	}
`,_3=Js.div`
	opacity: ${e=>e.$isLoading?.3:1};
	min-height: 20px;
	transition: opacity 0.2s ease;
	cursor: pointer;
	display: flex;
	justify-content: center;
	max-height: 400px;

	/* Ensure the SVG scales within the container */
	& > svg {
		display: block; /* Ensure block layout */
		width: 100%;
		max-height: 100%; /* Respect container's max-height */
	}
`,N3=Js.div`
	* {
		font-weight: 400;
	}

	strong {
		font-weight: 600;
	}

	code:not(pre > code) {
		font-family: var(--vscode-editor-font-family, monospace);
		font-size: 0.85em;
		filter: saturation(110%) brightness(95%);
		color: var(--vscode-textPreformat-foreground) !important;
		background-color: var(--vscode-textPreformat-background) !important;
		padding: 1px 2px;
		white-space: pre-line;
		word-break: break-word;
		overflow-wrap: anywhere;
	}

	/* Target only high-contrast theme(s) using the data attribute VS Code adds to the body */
	body[data-vscode-theme-kind*="high-contrast"] & code:not(pre > code) {
		color: var(
			--vscode-editorInlayHint-foreground,
			var(--vscode-symbolIcon-stringForeground, var(--vscode-charts-orange, #e9a700))
		);
	}

	/* KaTeX styling */
	.katex {
		font-size: 1.1em;
		color: var(--vscode-editor-foreground);
		font-family: KaTeX_Main, "Times New Roman", serif;
		line-height: 1.2;
		white-space: normal;
		text-indent: 0;
	}

	.katex-display {
		display: block;
		margin: 1em 0;
		text-align: center;
		padding: 0.5em;
		overflow-x: auto;
		overflow-y: hidden;
		background-color: var(--vscode-textCodeBlock-background);
		border-radius: 3px;
	}

	.katex-error {
		color: var(--vscode-errorForeground);
	}

	font-family:
		var(--vscode-font-family),
		system-ui,
		-apple-system,
		BlinkMacSystemFont,
		"Segoe UI",
		Roboto,
		Oxygen,
		Ubuntu,
		Cantarell,
		"Open Sans",
		"Helvetica Neue",
		sans-serif;

	font-size: var(--vscode-font-size, 13px);

	p,
	li,
	ol,
	ul {
		line-height: 1.35em;
	}

	li {
		margin: 0.5em 0;
	}

	ol,
	ul {
		padding-left: 2em;
		margin-left: 0;
	}

	ol {
		list-style-type: decimal;
	}

	ul {
		list-style-type: disc;
	}

	ol ol {
		list-style-type: lower-alpha;
	}

	ol ol ol {
		list-style-type: lower-roman;
	}

	p {
		white-space: pre-wrap;
		margin: 1em 0 0.25em;
	}

	/* Prevent layout shifts during streaming */
	pre {
		min-height: 3em;
		transition: height 0.2s ease-out;
	}

	/* Code block container styling */
	div:has(> pre) {
		position: relative;
		contain: layout style;
		padding: 0.5em 1em;
	}

	a {
		color: var(--vscode-textLink-foreground);
		text-decoration: none;
		text-decoration-color: var(--vscode-textLink-foreground);
		&:hover {
			color: var(--vscode-textLink-activeForeground);
			text-decoration: underline;
		}
	}

	h1 {
		font-size: 1.65em;
		font-weight: 700;
		margin: 1.35em 0 0.5em;
	}

	h2 {
		font-size: 1.35em;
		font-weight: 500;
		margin: 1.35em 0 0.5em;
	}

	h3 {
		font-size: 1.2em;
		font-weight: 500;
	}

	/* Table styles for remark-gfm */
	table {
		border-collapse: collapse;
		margin: 1em 0;
		width: auto;
		min-width: 50%;
		max-width: 100%;
		table-layout: fixed;
	}

	/* Table wrapper for horizontal scrolling */
	.table-wrapper {
		overflow-x: auto;
		margin: 1em 0;
	}

	th,
	td {
		border: 1px solid var(--vscode-panel-border);
		padding: 8px 12px;
		text-align: left;
		word-wrap: break-word;
		overflow-wrap: break-word;
	}

	th {
		background-color: var(--vscode-editor-background);
		font-weight: 600;
		color: var(--vscode-foreground);
	}

	tr:nth-child(even) {
		background-color: var(--vscode-editor-inactiveSelectionBackground);
	}

	tr:hover {
		background-color: var(--vscode-list-hoverBackground);
	}
`,br=h.memo(({markdown:e})=>{const t=h.useMemo(()=>({table:({children:r,...n})=>s.jsx("div",{className:"table-wrapper",children:s.jsx("table",{...n,children:r})}),a:({href:r,children:n,...o})=>{const a=i=>{if(!((r==null?void 0:r.startsWith("file://"))||(r==null?void 0:r.startsWith("/"))||!(r!=null&&r.includes("://"))))return;i.preventDefault();let c=r.replace("file://","");const d=c.match(/(.*):(\d+)(-\d+)?$/);let u;d&&(c=d[1],u={line:parseInt(d[2])}),!c.startsWith("/")&&!c.startsWith("./")&&(c="./"+c),R.postMessage({type:"openFile",text:c,values:u})};return s.jsx("a",{...o,href:r,onClick:a,children:n})},pre:({children:r,...n})=>{const o=r;if(!o||!o.props)return s.jsx("pre",{children:r});const{className:a="",children:i}=o.props;let l="";if(typeof i=="string"?l=i:Array.isArray(i)&&(l=i.filter(u=>typeof u=="string").join("")),a.includes("language-mermaid"))return s.jsx("div",{style:{margin:"1em 0"},children:s.jsx(y3,{code:l})});const c=/language-(\w+)/.exec(a),d=c?c[1]:"text";return s.jsx("div",{style:{margin:"1em 0"},children:s.jsx(Fn,{source:l,language:d})})},code:({children:r,className:n,...o})=>s.jsx("code",{className:n,...o,children:r})}),[]);return s.jsx(N3,{children:s.jsx(SP,{remarkPlugins:[TP,f3,()=>r=>{PP(r,"code",n=>{n.lang?n.lang.includes(".")&&(n.lang=n.lang.split(".").slice(-1)[0]):n.lang="text"})}],rehypePlugins:[n3],components:t,children:e||""})})}),S3=[{value:"",label:"Not Started",color:"var(--vscode-foreground)",border:"#bbb",bg:"transparent"},{value:"in_progress",label:"In Progress",color:"var(--vscode-charts-yellow)",border:"var(--vscode-charts-yellow)",bg:"rgba(255, 221, 51, 0.15)"},{value:"completed",label:"Completed",color:"var(--vscode-charts-green)",border:"var(--vscode-charts-green)",bg:"var(--vscode-charts-green)"}],Yd=()=>Math.random().toString(36).slice(2,10),T3=({todos:e=[],content:t,onChange:r,editable:n=!0,userEdited:o=!1})=>{const[a,i]=h.useState(e.length>0?e.map(w=>({...w,id:w.id||Yd()})):[]),[l,c]=h.useState(!1),[d,u]=h.useState(""),p=h.useRef(null),[m,g]=h.useState(null),[f,x]=h.useState(!1);h.useEffect(()=>{!n&&f&&x(!1)},[n,f]),h.useEffect(()=>{typeof r!="function"&&console.warn("UpdateTodoListToolBlock: onChange callback not passed, cannot notify model after todo changes!")},[]),h.useEffect(()=>{i(e.length>0?e.map(w=>({...w,id:w.id||Yd()})):[])},[e]),h.useEffect(()=>{l&&p.current&&p.current.focus()},[l]);const y=(w,T)=>{const S=a.map(P=>P.id===w?{...P,content:T}:P);i(S),r==null||r(S)},N=(w,T)=>{const S=a.map(P=>P.id===w?{...P,status:T}:P);i(S),r==null||r(S)},b=w=>{g(w)},j=()=>{if(!m)return;const w=a.filter(T=>T.id!==m);i(w),r==null||r(w),g(null)},v=()=>g(null),_=()=>{if(!d.trim())return;const w={id:Yd(),content:d.trim(),status:""},T=[...a,w];i(T),r==null||r(T),u(""),c(!1)},k=w=>{w.key==="Enter"?_():w.key==="Escape"&&(c(!1),u(""))};return o?s.jsxs(uo,{children:[s.jsx(po,{children:s.jsxs("div",{className:"flex items-center w-full",style:{width:"100%"},children:[s.jsx("span",{className:"codicon codicon-feedback mr-1.5",style:{color:"var(--vscode-charts-yellow)"}}),s.jsx("span",{className:"font-bold mr-2",style:{fontWeight:"bold"},children:"User Edit"}),s.jsx("div",{className:"flex-grow"})]})}),s.jsx("div",{className:"overflow-x-auto max-w-full",style:{padding:"12px 0 8px 0"},children:s.jsx("span",{className:"text-vscode-descriptionForeground",children:"User Edits"})})]}):s.jsx(s.Fragment,{children:s.jsxs(uo,{children:[s.jsx(po,{children:s.jsxs("div",{className:"flex items-center w-full",style:{width:"100%"},children:[s.jsx("span",{className:"codicon codicon-checklist mr-1.5",style:{color:"var(--vscode-foreground)"}}),s.jsx("span",{className:"font-bold mr-2",style:{fontWeight:"bold"},children:"Todo List Updated"}),s.jsx("div",{className:"flex-grow"}),n&&s.jsx("button",{onClick:()=>x(!f),style:{border:f?"1px solid var(--vscode-button-border)":"1px solid var(--vscode-button-secondaryBorder)",background:f?"var(--vscode-button-background)":"var(--vscode-button-secondaryBackground)",color:f?"var(--vscode-button-foreground)":"var(--vscode-button-secondaryForeground)",borderRadius:4,padding:"2px 8px",cursor:"pointer",fontSize:13,marginLeft:8},children:f?"Done":"Edit"})]})}),s.jsx("div",{className:"overflow-x-auto max-w-full",style:{padding:"6px 0 2px 0"},children:Array.isArray(a)&&a.length>0?s.jsxs("ul",{style:{margin:0,paddingLeft:0,listStyle:"none"},children:[a.map((w,T)=>{let S;return w.status==="completed"?S=s.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:"var(--vscode-charts-green)",marginRight:6,marginTop:7,flexShrink:0}}):w.status==="in_progress"?S=s.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:"var(--vscode-charts-yellow)",marginRight:6,marginTop:7,flexShrink:0}}):S=s.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",border:"1px solid var(--vscode-descriptionForeground)",background:"transparent",marginRight:6,marginTop:7,flexShrink:0}}),s.jsxs("li",{style:{marginBottom:2,display:"flex",alignItems:"flex-start",minHeight:20},children:[S,f?s.jsx("input",{type:"text",value:w.content,placeholder:"Enter todo item",onChange:P=>y(w.id,P.target.value),style:{flex:1,minWidth:0,fontWeight:500,color:"var(--vscode-input-foreground)",background:"var(--vscode-input-background)",border:"none",outline:"none",fontSize:13,marginRight:6,padding:"1px 3px",borderBottom:"1px solid var(--vscode-input-border)"},onBlur:P=>{P.target.value.trim()||b(w.id)}}):s.jsx("span",{style:{flex:1,minWidth:0,fontWeight:500,color:w.status==="completed"?"var(--vscode-charts-green)":w.status==="in_progress"?"var(--vscode-charts-yellow)":"var(--vscode-foreground)",fontSize:13,marginRight:6,padding:"1px 3px",lineHeight:"1.4"},children:w.content}),f&&s.jsx("select",{value:w.status||"",onChange:P=>N(w.id,P.target.value),style:{marginRight:6,borderRadius:4,border:"1px solid var(--vscode-input-border)",background:"var(--vscode-input-background)",color:"var(--vscode-input-foreground)",fontSize:12,padding:"1px 4px"},children:S3.map(P=>s.jsx("option",{value:P.value,children:P.label},P.value))}),f&&s.jsx("button",{onClick:()=>b(w.id),style:{border:"none",background:"transparent",color:"#f14c4c",cursor:"pointer",fontSize:14,marginLeft:2,padding:0,lineHeight:1},title:"Remove",children:""})]},w.id||T)}),l?s.jsxs("li",{style:{marginTop:2,display:"flex",alignItems:"center"},children:[s.jsx("span",{style:{width:14,marginRight:6}}),s.jsx("input",{ref:p,type:"text",value:d,placeholder:"Enter todo item, press Enter to add",onChange:w=>u(w.target.value),onKeyDown:k,style:{flex:1,minWidth:0,fontWeight:500,color:"var(--vscode-foreground)",background:"transparent",border:"none",outline:"none",fontSize:13,marginRight:6,padding:"1px 3px",borderBottom:"1px solid #eee"}}),s.jsx("button",{onClick:_,disabled:!d.trim(),style:{border:"1px solid var(--vscode-button-border)",background:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)",borderRadius:4,padding:"1px 7px",cursor:d.trim()?"pointer":"not-allowed",fontSize:12,marginRight:4},children:"Add"}),s.jsx("button",{onClick:()=>{c(!1),u("")},style:{border:"1px solid var(--vscode-button-secondaryBorder)",background:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",borderRadius:4,padding:"1px 7px",cursor:"pointer",fontSize:12},children:"Cancel"})]}):s.jsx("li",{style:{marginTop:2},children:f&&s.jsx("button",{onClick:()=>c(!0),style:{border:"1px dashed var(--vscode-button-secondaryBorder)",background:"var(--vscode-button-secondaryBackground)",color:"var(--vscode-button-secondaryForeground)",borderRadius:4,padding:"1px 8px",cursor:"pointer",fontSize:12},children:"+ Add Todo"})})]}):s.jsx(br,{markdown:t})}),m&&s.jsx("div",{style:{position:"fixed",left:0,top:0,right:0,bottom:0,background:"rgba(0,0,0,0.15)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:v,children:s.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 2px 16px rgba(0,0,0,0.15)",padding:"16px 20px",minWidth:200,zIndex:1e4},onClick:w=>w.stopPropagation(),children:[s.jsx("div",{style:{marginBottom:12,fontSize:14,color:"#333"},children:"Are you sure you want to delete this todo item?"}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[s.jsx("button",{onClick:v,style:{border:"1px solid #bbb",background:"transparent",color:"#888",borderRadius:4,padding:"2px 10px",cursor:"pointer",fontSize:12},children:"Cancel"}),s.jsx("button",{onClick:j,style:{border:"1px solid #f14c4c",background:"#f14c4c",color:"#fff",borderRadius:4,padding:"2px 10px",cursor:"pointer",fontSize:12},children:"Delete"})]})]})})]})})};function P3(e){switch(e){case"completed":return s.jsx(yr,{className:"size-3 mt-1 shrink-0"});case"in_progress":return s.jsx(Gf,{className:"size-3 mt-1 shrink-0"});default:return s.jsx(u_,{className:"size-3 mt-1 shrink-0"})}}function I3({previousTodos:e,newTodos:t}){const r=e.length===0;let n;return r&&t.length>0?n=t:n=t.filter(o=>{if(o.status==="completed"){const a=e.find(i=>i.id===o.id||i.content===o.content);return!a||a.status!=="completed"}if(o.status==="in_progress"){const a=e.find(i=>i.id===o.id||i.content===o.content);return!a||a.status!=="in_progress"}return!1}),n.length===0?null:s.jsxs("div",{"data-todo-changes":!0,className:"overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i_,{className:"size-4 shrink-0"}),s.jsx("span",{className:"flex-1 overflow-hidden text-ellipsis whitespace-nowrap text-base font-semibold",children:Sr("chat:todo.updated")})]}),s.jsx("div",{className:"pl-1 pr-1 pt-1 font-light leading-normal",children:s.jsx("ul",{className:"list-none space-y-1 my-1",children:n.map(o=>{const a=o.status||"pending",i=P3(a);return s.jsxs("li",{className:`flex flex-row gap-2 items-start ${a==="in_progress"?"text-vscode-charts-yellow":""}`,children:[i,s.jsx("span",{children:o.content})]},o.id||o.content)})})})]})}const E3={html:"html",htm:"html",css:"css",js:"javascript",jsx:"jsx",ts:"typescript",tsx:"tsx",py:"python",rb:"ruby",php:"php",java:"java",cs:"csharp",go:"go",rs:"rust",scala:"scala",kt:"kotlin",swift:"swift",json:"json",xml:"xml",yaml:"yaml",yml:"yaml",md:"markdown",csv:"csv",sh:"bash",bash:"bash",zsh:"bash",ps1:"powershell",toml:"toml",ini:"ini",cfg:"ini",conf:"ini",sql:"sql",graphql:"graphql",gql:"graphql",tex:"latex",svg:"svg",txt:"text",c:"c",cpp:"cpp",h:"c",hpp:"cpp",hs:"haskell",lhs:"haskell",elm:"elm",clj:"clojure",cljs:"clojure",erl:"erlang",ex:"elixir",exs:"elixir",dart:"dart",m:"objectivec",mm:"objectivec",lua:"lua",gd:"gdscript",unity:"csharp",r:"r",jl:"julia",ipynb:"jupyter"};function fN(e){var r;const t=((r=e.split(".").pop())==null?void 0:r.toLowerCase())||"";return E3[t]}function Ec({content:e,children:t,side:r="top",align:n="start",sideOffset:o=4,asChild:a=!0}){return s.jsx(ue,{content:e,side:r,align:n,sideOffset:o,className:"[text-wrap:wrap]",maxWidth:"min(300px,100vw)",asChild:a,children:t})}function vo(){}vo.prototype={diff:function(t,r){var n,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.callback;typeof o=="function"&&(a=o,o={}),this.options=o;var i=this;function l(v){return a?(setTimeout(function(){a(void 0,v)},0),!0):v}t=this.castInput(t),r=this.castInput(r),t=this.removeEmpty(this.tokenize(t)),r=this.removeEmpty(this.tokenize(r));var c=r.length,d=t.length,u=1,p=c+d;o.maxEditLength&&(p=Math.min(p,o.maxEditLength));var m=(n=o.timeout)!==null&&n!==void 0?n:1/0,g=Date.now()+m,f=[{oldPos:-1,lastComponent:void 0}],x=this.extractCommon(f[0],r,t,0);if(f[0].oldPos+1>=d&&x+1>=c)return l([{value:this.join(r),count:r.length}]);var y=-1/0,N=1/0;function b(){for(var v=Math.max(y,-u);v<=Math.min(N,u);v+=2){var _=void 0,k=f[v-1],w=f[v+1];k&&(f[v-1]=void 0);var T=!1;if(w){var S=w.oldPos-v;T=w&&0<=S&&S<c}var P=k&&k.oldPos+1<d;if(!T&&!P){f[v]=void 0;continue}if(!P||T&&k.oldPos+1<w.oldPos?_=i.addToPath(w,!0,void 0,0):_=i.addToPath(k,void 0,!0,1),x=i.extractCommon(_,r,t,v),_.oldPos+1>=d&&x+1>=c)return l(M3(i,_.lastComponent,r,t,i.useLongestToken));f[v]=_,_.oldPos+1>=d&&(N=Math.min(N,v-1)),x+1>=c&&(y=Math.max(y,v+1))}u++}if(a)(function v(){setTimeout(function(){if(u>p||Date.now()>g)return a();b()||v()},0)})();else for(;u<=p&&Date.now()<=g;){var j=b();if(j)return j}},addToPath:function(t,r,n,o){var a=t.lastComponent;return a&&a.added===r&&a.removed===n?{oldPos:t.oldPos+o,lastComponent:{count:a.count+1,added:r,removed:n,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+o,lastComponent:{count:1,added:r,removed:n,previousComponent:a}}},extractCommon:function(t,r,n,o){for(var a=r.length,i=n.length,l=t.oldPos,c=l-o,d=0;c+1<a&&l+1<i&&this.equals(r[c+1],n[l+1]);)c++,l++,d++;return d&&(t.lastComponent={count:d,previousComponent:t.lastComponent}),t.oldPos=l,c},equals:function(t,r){return this.options.comparator?this.options.comparator(t,r):t===r||this.options.ignoreCase&&t.toLowerCase()===r.toLowerCase()},removeEmpty:function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function M3(e,t,r,n,o){for(var a=[],i;t;)a.push(t),i=t.previousComponent,delete t.previousComponent,t=i;a.reverse();for(var l=0,c=a.length,d=0,u=0;l<c;l++){var p=a[l];if(p.removed){if(p.value=e.join(n.slice(u,u+p.count)),u+=p.count,l&&a[l-1].added){var g=a[l-1];a[l-1]=a[l],a[l]=g}}else{if(!p.added&&o){var m=r.slice(d,d+p.count);m=m.map(function(x,y){var N=n[u+y];return N.length>x.length?N:x}),p.value=e.join(m)}else p.value=e.join(r.slice(d,d+p.count));d+=p.count,p.added||(u+=p.count)}}var f=a[c-1];return c>1&&typeof f.value=="string"&&(f.added||f.removed)&&e.equals("",f.value)&&(a[c-2].value+=f.value,a.pop()),a}var Gv=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Qv=/\S/,gN=new vo;gN.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Qv.test(e)&&!Qv.test(t)};gN.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&Gv.test(t[r])&&Gv.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var xN=new vo;xN.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var o=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t};var C3=new vo;C3.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var A3=new vo;A3.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function rc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rc=function(t){return typeof t}:rc=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}var R3=Object.prototype.toString,Bi=new vo;Bi.useLongestToken=!0;Bi.tokenize=xN.tokenize;Bi.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,o=n===void 0?function(a,i){return typeof i>"u"?r:i}:n;return typeof e=="string"?e:JSON.stringify(ff(e,null,null,o),o,"  ")};Bi.equals=function(e,t){return vo.prototype.equals.call(Bi,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function ff(e,t,r,n,o){t=t||[],r=r||[],n&&(e=n(o,e));var a;for(a=0;a<t.length;a+=1)if(t[a]===e)return r[a];var i;if(R3.call(e)==="[object Array]"){for(t.push(e),i=new Array(e.length),r.push(i),a=0;a<e.length;a+=1)i[a]=ff(e[a],t,r,n,o);return t.pop(),r.pop(),i}if(e&&e.toJSON&&(e=e.toJSON()),rc(e)==="object"&&e!==null){t.push(e),i={},r.push(i);var l=[],c;for(c in e)e.hasOwnProperty(c)&&l.push(c);for(l.sort(),a=0;a<l.length;a+=1)c=l[a],i[c]=ff(e[c],t,r,n,c);t.pop(),r.pop()}else i=e;return i}var gf=new vo;gf.tokenize=function(e){return e.slice()};gf.join=gf.removeEmpty=function(e){return e};function O3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.split(/\r\n|[\n\v\f\r\x85]/),n=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],a=0;function i(){var d={};for(o.push(d);a<r.length;){var u=r[a];if(/^(\-\-\-|\+\+\+|@@)\s/.test(u))break;var p=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(u);p&&(d.index=p[1]),a++}for(l(d),l(d),d.hunks=[];a<r.length;){var m=r[a];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(m))break;if(/^@@/.test(m))d.hunks.push(c());else{if(m&&t.strict)throw new Error("Unknown line "+(a+1)+" "+JSON.stringify(m));a++}}}function l(d){var u=/^(---|\+\+\+)\s+(.*)$/.exec(r[a]);if(u){var p=u[1]==="---"?"old":"new",m=u[2].split("	",2),g=m[0].replace(/\\\\/g,"\\");/^".*"$/.test(g)&&(g=g.substr(1,g.length-2)),d[p+"FileName"]=g,d[p+"Header"]=(m[1]||"").trim(),a++}}function c(){var d=a,u=r[a++],p=u.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),m={oldStart:+p[1],oldLines:typeof p[2]>"u"?1:+p[2],newStart:+p[3],newLines:typeof p[4]>"u"?1:+p[4],lines:[],linedelimiters:[]};m.oldLines===0&&(m.oldStart+=1),m.newLines===0&&(m.newStart+=1);for(var g=0,f=0;a<r.length&&!(r[a].indexOf("--- ")===0&&a+2<r.length&&r[a+1].indexOf("+++ ")===0&&r[a+2].indexOf("@@")===0);a++){var x=r[a].length==0&&a!=r.length-1?" ":r[a][0];if(x==="+"||x==="-"||x===" "||x==="\\")m.lines.push(r[a]),m.linedelimiters.push(n[a]||`
`),x==="+"?g++:x==="-"?f++:x===" "&&(g++,f++);else break}if(!g&&m.newLines===1&&(m.newLines=0),!f&&m.oldLines===1&&(m.oldLines=0),t.strict){if(g!==m.newLines)throw new Error("Added line count did not match for hunk at line "+(d+1));if(f!==m.oldLines)throw new Error("Removed line count did not match for hunk at line "+(d+1))}return m}for(;a<r.length;)i();return o}function D3(e,t){if(!e)return[];try{const r=O3(e);if(!r||r.length===0)return[];const n=t?r.find(i=>[i.newFileName,i.oldFileName].some(l=>typeof l=="string"&&(l===t||l.endsWith("/"+t))))??r[0]:r[0];if(!n)return[];const o=[];let a=null;for(const i of n.hunks||[]){if(a){const d=i.newStart-(a.newStart+a.newLines),u=i.oldStart-(a.oldStart+a.oldLines),p=Math.max(d,u);p>0&&o.push({oldLineNum:null,newLineNum:null,type:"gap",content:"",hiddenCount:p})}let l=i.oldStart,c=i.newStart;for(const d of i.lines||[]){const u=d[0],p=d.slice(1);u==="-"?(o.push({oldLineNum:l,newLineNum:null,type:"deletion",content:p}),l++):u==="+"?(o.push({oldLineNum:null,newLineNum:c,type:"addition",content:p}),c++):(o.push({oldLineNum:l,newLineNum:c,type:"context",content:p}),l++,c++)}a=i}return o}catch{return[]}}async function F3(e,t,r,n,o=0,a){try{const i=await Aj(r),l=n==="light"?"github-light":"github-dark",c=p=>{var g,f,x,y,N;const m=p.split(`
`);if(!p.trim())return m.map(b=>b||"");try{const b=i.codeToHast(p,{lang:r,theme:l,transformers:[{pre(_){return _.properties.style="padding:0;margin:0;background:none;",_},code(_){return _.properties.class=`hljs language-${r}`,_},line(_,k){return _.properties["data-line"]=k,_}}]}),j=(x=(f=(g=b==null?void 0:b.children)==null?void 0:g[0])==null?void 0:f.children)==null?void 0:x[0];if(!j||!j.children)return m.map(_=>_||"");const v=[];for(const _ of j.children)if(_.tagName==="span"&&((N=(y=_.properties)==null?void 0:y.className)!=null&&N.includes("line"))){const k=zx({type:"element",tagName:"span",properties:{},children:_.children||[]},{Fragment:s.Fragment,jsx:s.jsx,jsxs:s.jsxs});v.push(k)}return v.length!==m.length?m.map(_=>{var k,w,T;if(!_.trim())return _;try{const S=i.codeToHast(_,{lang:r,theme:l,transformers:[{pre(I){return I.properties.style="padding:0;margin:0;background:none;",I},code(I){return I.properties.class=`hljs language-${r}`,I}}]}),P=(T=(w=(k=S==null?void 0:S.children)==null?void 0:k[0])==null?void 0:w.children)==null?void 0:T[0];return!P||!P.children?_:zx({type:"element",tagName:"span",properties:{},children:P.children},{Fragment:s.Fragment,jsx:s.jsx,jsxs:s.jsxs})}catch{return _}}):v}catch{return m.map(b=>b||"")}},d=c(e),u=c(t);return{oldLines:d,newLines:u}}catch{return{oldLines:e.split(`
`).map(i=>i||""),newLines:t.split(`
`).map(i=>i||"")}}}const L3=h.memo(({source:e,filePath:t})=>{const r=h.useMemo(()=>zT(fN(t||"")||"txt"),[t]),n=h.useMemo(()=>{if(typeof document>"u")return!1;const u=document.body.className;return/\bvscode-light\b|\bvscode-high-contrast-light\b/i.test(u)},[]),o=h.useMemo(()=>e.split(`
`).length<=1e3,[e]),a=h.useMemo(()=>D3(e,t),[e,t]),i=h.useMemo(()=>{const u=[];let p=[];for(const m of a)if(m.type==="gap"){if(p.length>0){const g=[],f=[];for(const x of p)(x.type==="deletion"||x.type==="context")&&g.push(x.content),(x.type==="addition"||x.type==="context")&&f.push(x.content);u.push({lines:[...p],oldText:g.join(`
`),newText:f.join(`
`)})}p=[m]}else p.push(m);if(p.length>0&&p.some(m=>m.type!=="gap")){const m=[],g=[];for(const f of p)(f.type==="deletion"||f.type==="context")&&m.push(f.content),(f.type==="addition"||f.type==="context")&&g.push(f.content);u.push({lines:[...p],oldText:m.join(`
`),newText:g.join(`
`)})}return u},[a]),[l,c]=h.useState(i);h.useEffect(()=>{if(!o){c(i);return}(async()=>{const p=[];for(let m=0;m<i.length;m++){const g=i[m];try{const f=await F3(g.oldText,g.newText,r,n?"light":"dark",m,t);p.push({...g,highlightedOldLines:f.oldLines,highlightedNewLines:f.newLines})}catch{p.push(g)}}c(p)})()},[i,o,r,n,t]);const d=(u,p,m)=>{if(!o||!p.highlightedOldLines||!p.highlightedNewLines)return u.content;const g=p.lines.slice(0,m).filter(f=>f.type!=="gap");if(u.type==="deletion"){const f=g.filter(x=>x.type==="deletion"||x.type==="context").length;return p.highlightedOldLines[f]||u.content}else if(u.type==="addition"){const f=g.filter(x=>x.type==="addition"||x.type==="context").length;return p.highlightedNewLines[f]||u.content}else if(u.type==="context"){const f=g.filter(y=>y.type==="addition"||y.type==="context").length,x=g.filter(y=>y.type==="deletion"||y.type==="context").length;return p.highlightedNewLines[f]||p.highlightedOldLines[x]||u.content}return u.content};return s.jsx("div",{className:"diff-view bg-[var(--vscode-editor-background)] rounded-md overflow-hidden text-[0.95em]",children:s.jsx("div",{className:"overflow-x-hidden",children:s.jsx("table",{className:"w-full border-collapse table-auto",children:s.jsx("tbody",{children:l.flatMap((u,p)=>u.lines.map((m,g)=>{const f=`${p}-${g}`;if(m.type==="gap")return s.jsxs("tr",{children:[s.jsx("td",{className:"w-[45px] text-right pr-3 pl-2 select-none align-top whitespace-nowrap bg-[var(--vscode-editor-background)]"}),s.jsx("td",{className:"w-[45px] text-right pr-3 select-none align-top whitespace-nowrap bg-[var(--vscode-editor-background)]"}),s.jsx("td",{className:"w-[12px] align-top bg-[var(--vscode-editor-background)]"}),s.jsx("td",{className:"w-[16px] text-center select-none bg-[var(--vscode-editor-background)]"}),s.jsx("td",{className:"pr-3 whitespace-pre-wrap break-words w-full italic bg-[var(--vscode-editor-background)]",children:`${m.hiddenCount??0} hidden lines`})]},f);const x=m.type==="addition"?"bg-[var(--vscode-diffEditor-insertedTextBackground)]":m.type==="deletion"?"bg-[var(--vscode-diffEditor-removedTextBackground)]":"bg-[var(--vscode-editorGroup-border)]",y=m.type==="addition"?"diff-content-inserted":m.type==="deletion"?"diff-content-removed":"diff-content-context",N=m.type==="addition"?"+":m.type==="deletion"?"-":"";return s.jsxs("tr",{children:[s.jsx("td",{className:`w-[45px] text-right pr-1 pl-1 select-none align-top whitespace-nowrap ${x}`,children:m.oldLineNum||""}),s.jsx("td",{className:`w-[45px] text-right pr-1 select-none align-top whitespace-nowrap ${x}`,children:m.newLineNum||""}),s.jsx("td",{className:`w-[12px] ${x} align-top`}),s.jsx("td",{className:`w-[16px] text-center select-none whitespace-nowrap px-1 ${x}`,children:N}),s.jsx("td",{className:`pl-1 pr-3 whitespace-pre-wrap break-words w-full ${y}`,children:d(m,u,g)})]},f)}))})})})})}),B3=({path:e,code:t="",language:r,progressStatus:n,isLoading:o,isExpanded:a,isFeedback:i,onToggleExpand:l,header:c,onJumpToFile:d,diffStats:u})=>{const p=h.useMemo(()=>r??(e?fN(e):"txt"),[e,r]),m=h.useMemo(()=>String(t).trim(),[t]),g=!!(e||i||c),f=h.useMemo(()=>u&&(u.added>0||u.removed>0)?u:null,[u]),x=!!(f&&(f.added>0||f.removed>0));return s.jsxs(uo,{children:[g&&s.jsxs(po,{onClick:l,className:"group",children:[o&&s.jsx(qT,{className:"size-3 mr-2"}),c?s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"codicon codicon-server mr-1.5"}),s.jsx(Ec,{content:c,children:s.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis mr-2",children:c})})]}):i?s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`codicon codicon-${i?"feedback":"codicon-output"} mr-1.5`}),s.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis mr-2 rtl",children:i?"User Edits":"Console Logs"})]}):s.jsxs(s.Fragment,{children:[(e==null?void 0:e.startsWith("."))&&s.jsx("span",{children:"."}),s.jsx(Ec,{content:Ga(e),children:s.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis text-left mr-2 rtl",children:Ga(e)})})]}),s.jsx("div",{className:"flex-grow-1"}),x?s.jsxs("div",{className:"flex items-center gap-2 mr-1",children:[s.jsxs("span",{className:"text-xs font-medium text-vscode-charts-green",children:["+",f.added]}),s.jsxs("span",{className:"text-xs font-medium text-vscode-charts-red",children:["-",f.removed]})]}):n&&n.text&&s.jsxs(s.Fragment,{children:[n.icon&&s.jsx("span",{className:`codicon codicon-${n.icon} mr-1`}),s.jsx("span",{className:"mr-1 ml-auto text-vscode-descriptionForeground",children:n.text})]}),d&&e&&s.jsx("span",{className:"codicon codicon-link-external mr-1",style:{fontSize:13.5},onClick:y=>{y.stopPropagation(),d()},"aria-label":`Open file: ${e}`}),!d&&s.jsx("span",{className:`opacity-0 group-hover:opacity-100 codicon codicon-chevron-${a?"up":"down"}`})]}),(!g||a)&&s.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[300px] max-w-full",children:p==="diff"?s.jsx(L3,{source:m,filePath:e}):s.jsx(Fn,{source:m,language:p})})]})},bn=h.memo(B3),z3=({content:e,isStreaming:t,isLast:r})=>{var f;const{t:n}=vt(),{reasoningBlockCollapsed:o}=Ye(),[a,i]=h.useState(o),l=h.useRef(Date.now()),[c,d]=h.useState(0),u=h.useRef(null);h.useEffect(()=>{i(o)},[o]),h.useEffect(()=>{if(r&&t){const x=()=>d(Date.now()-l.current);x();const y=setInterval(x,1e3);return()=>clearInterval(y)}},[r,t]);const p=Math.floor(c/1e3),m=n("chat:reasoning.seconds",{count:p}),g=()=>{i(!a)};return s.jsxs("div",{className:"group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2.5 pr-2 cursor-pointer select-none",onClick:g,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uA,{className:"w-4"}),s.jsx("span",{className:"font-bold text-vscode-foreground",children:n("chat:reasoning.thinking")}),c>0&&s.jsx("span",{className:"text-sm text-vscode-descriptionForeground mt-0.5",children:m})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Hc,{className:Z("w-4 transition-all opacity-0 group-hover:opacity-100",a&&"-rotate-180")})})]}),(((f=e==null?void 0:e.trim())==null?void 0:f.length)??0)>0&&!a&&s.jsx("div",{ref:u,className:"border-l border-vscode-descriptionForeground/20 ml-2 pl-4 pb-1 text-vscode-descriptionForeground",children:s.jsx(br,{markdown:e})})]})},q3=({images:e,style:t,setImages:r,onHeightChange:n})=>{const[o,a]=h.useState(null),i=h.useRef(null),{width:l}=Yf();h.useLayoutEffect(()=>{if(i.current){let p=i.current.clientHeight;p||(p=i.current.getBoundingClientRect().height),n==null||n(p)}a(null)},[e,l,n]);const c=p=>{r==null||r(m=>m.filter((g,f)=>f!==p))},d=r!==void 0,u=p=>{R.postMessage({type:"openImage",text:p})};return s.jsx("div",{ref:i,className:"py-1",style:{display:"flex",flexWrap:"wrap",gap:5,rowGap:3,...t},children:e.map((p,m)=>s.jsxs("div",{style:{position:"relative"},onMouseEnter:()=>a(m),onMouseLeave:()=>a(null),children:[s.jsx("img",{src:p,alt:`Thumbnail ${m+1}`,style:{width:34,height:34,objectFit:"cover",borderRadius:4,cursor:"pointer"},onClick:()=>u(p)}),d&&o===m&&s.jsx("div",{onClick:()=>c(m),style:{position:"absolute",top:-4,right:-4,width:13,height:13,borderRadius:"50%",backgroundColor:"var(--vscode-badge-background)",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:s.jsx("span",{className:"codicon codicon-close",style:{color:"var(--vscode-foreground)",fontSize:10,fontWeight:"bold"}})})]},m))})},vd=h.memo(q3),U3=.5,W3=20;function K3({imageUri:e,imagePath:t,alt:r="Generated image",showControls:n=!0,className:o=""}){const[a,i]=h.useState(!1),[l,c]=h.useState(1),[d,u]=h.useState(!1),[p,m]=h.useState(!1),[g,f]=h.useState(!1),[x,y]=h.useState({x:0,y:0}),[N,b]=h.useState(null),{copyWithFeedback:j}=ti(),{t:v}=re(),_=async z=>{z.stopPropagation(),i(!0),c(1),y({x:0,y:0})},k=async z=>{z.stopPropagation();try{t&&(await j(t,z),u(!0),setTimeout(()=>u(!1),2e3))}catch(D){console.error("Error copying:",D instanceof Error?D.message:String(D))}},w=async z=>{z.stopPropagation();try{R.postMessage({type:"saveImage",dataUri:e})}catch(D){console.error("Error saving image:",D)}},T=z=>{z.stopPropagation(),t?R.postMessage({type:"openImage",text:t}):e&&R.postMessage({type:"openImage",text:e})},S=z=>{c(D=>{const Y=D+z;return Math.max(U3,Math.min(W3,Y))})},P=h.useCallback(z=>{z.preventDefault(),z.stopPropagation();const D=z.deltaY>0?-.2:.2;S(D)},[]),I=()=>{m(!0)},M=()=>{m(!1)},A=h.useCallback(()=>{b("Failed to load image")},[]),C=h.useCallback(()=>{b(null)},[]),H=z=>{if(z.startsWith("./"))return z;const D=z.match(/\/([^/]+)\/(.+)$/);return D&&D[2]?`./${D[2]}`:z.split("/").pop()||z};return e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`relative w-full ${o}`,onMouseEnter:I,onMouseLeave:M,children:[N?s.jsx("div",{style:{minHeight:"100px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--vscode-editor-background)",borderRadius:"4px",padding:"20px"},children:s.jsxs("span",{style:{color:"var(--vscode-errorForeground)"},children:[" ",N]})}):s.jsx("img",{src:e,alt:r,className:"w-full h-auto rounded cursor-pointer",onClick:T,onError:A,onLoad:C,style:{maxHeight:"400px",objectFit:"contain",backgroundColor:"var(--vscode-editor-background)"}}),t&&s.jsx("div",{className:"mt-1 text-xs text-vscode-descriptionForeground",children:H(t)}),n&&p&&s.jsx("div",{className:"absolute bottom-2 right-2 flex gap-1 bg-vscode-editor-background/90 rounded p-0.5 z-10 opacity-100 transition-opacity duration-200 ease-in-out",children:s.jsx(pN,{onZoom:_,onCopy:k,onSave:w,onViewCode:()=>{},copyFeedback:d})})]}),s.jsxs(mN,{isOpen:a,onClose:()=>i(!1),children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-vscode-editorGroup-border",children:[s.jsx("div",{className:"flex gap-0",children:s.jsx(hf,{icon:"file-media",label:v("common:image.tabs.view"),isActive:!0,onClick:()=>{}})}),s.jsx("div",{className:"pr-3",children:s.jsx(ue,{content:v("common:mermaid.buttons.close"),children:s.jsx(Ls,{icon:"close",onClick:()=>i(!1)})})})]}),s.jsxs("div",{className:"flex-1 p-4 pb-[60px] overflow-auto flex items-center justify-center",onWheel:P,children:[s.jsx("div",{style:{transform:`scale(${l}) translate(${x.x}px, ${x.y}px)`,transformOrigin:"center center",transition:g?"none":"transform 0.1s ease",cursor:g?"grabbing":"grab"},onMouseDown:z=>{f(!0),z.preventDefault()},onMouseMove:z=>{g&&y(D=>({x:D.x+z.movementX/l,y:D.y+z.movementY/l}))},onMouseUp:()=>f(!1),onMouseLeave:()=>f(!1),children:s.jsx("img",{src:e,alt:r,style:{maxWidth:"90vw",maxHeight:"80vh",objectFit:"contain"}})}),s.jsxs("div",{className:"absolute bottom-4 left-4 bg-vscode-editor-background border border-vscode-editorGroup-border rounded px-2 py-1 text-xs text-vscode-descriptionForeground pointer-events-none opacity-80",children:[Math.round(l*100),"%"]})]}),s.jsxs("div",{className:"absolute bottom-0 right-0 left-0 p-3 flex items-center justify-end gap-2 bg-vscode-editor-background border-t border-vscode-editorGroup-border rounded-b",children:[s.jsx(tx,{zoomLevel:l,zoomInTitle:v("common:mermaid.buttons.zoomIn"),zoomOutTitle:v("common:mermaid.buttons.zoomOut"),useContinuousZoom:!0,adjustZoom:S,zoomInStep:.2,zoomOutStep:-.2}),t&&s.jsx(ue,{content:v("common:mermaid.buttons.copy"),children:s.jsx(Ls,{icon:d?"check":"copy",onClick:k})}),s.jsx(ue,{content:v("common:mermaid.buttons.save"),children:s.jsx(Ls,{icon:"save",onClick:w})})]})]})]}):s.jsx("div",{className:`relative w-full ${o}`,style:{minHeight:"100px",backgroundColor:"var(--vscode-editor-background)",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{style:{color:"var(--vscode-descriptionForeground)"},children:v("common:image.noData")})})}function Yv({imageUri:e,imagePath:t,imageData:r,path:n}){let o,a;if(e)o=e,a=t;else if(r)o=r,a=n;else return console.error("ImageBlock: No valid image data provided"),null;return s.jsx("div",{className:"my-2",children:s.jsx(K3,{imageUri:o,imagePath:a,alt:"AI Generated Image",showControls:!0})})}const mi=h.memo(({type:e,title:t,message:r,showCopyButton:n=!1,expandable:o=!1,defaultExpanded:a=!1,additionalContent:i,headerClassName:l,messageClassName:c,docsURL:d,code:u,showLoginButton:p=!1,onLoginClick:m,errorDetails:g})=>{const{t:f}=vt(),[x,y]=h.useState(a),[N,b]=h.useState(!1),[j,v]=h.useState(!1),[_,k]=h.useState(!1),{copyWithFeedback:w}=ti(),{version:T,apiConfiguration:S}=Ye(),{provider:P,id:I}=Bn(S),M=h.useMemo(()=>g?[`Date/time: ${new Date().toISOString()}`,`Extension version: ${T}`,`Provider: ${P}`,`Model: ${I}`,"",""].join(`
`)+g:void 0,[g,T,P,I]),A=h.useCallback(U=>{U.stopPropagation(),R.postMessage({type:"downloadErrorDiagnostics",values:{timestamp:new Date().toISOString(),version:T,provider:P,model:I,details:g||""}})},[T,P,I,g]),C=()=>{if(t)return t;switch(e){case"error":return f("chat:error");case"mistake_limit":return f("chat:troubleMessage");case"api_failure":return f("chat:apiRequest.failed");case"api_req_retry_delayed":return f("chat:apiRequest.errorTitle",{code:u?`  ${u}`:""});case"streaming_failed":return f("chat:apiRequest.streamingFailed");case"cancelled":return f("chat:apiRequest.cancelled");case"diff_error":return f("chat:diffError.title");default:return null}},H=h.useCallback(()=>{o&&y(!x)},[o,x]),z=h.useCallback(async U=>{U.stopPropagation(),await w(r)&&(b(!0),setTimeout(()=>{b(!1)},1e3))},[r,w]),D=h.useCallback(async U=>{U.stopPropagation(),M&&await w(M)&&(k(!0),setTimeout(()=>{k(!1)},1e3))},[M,w]),Y=C();return e==="diff_error"&&o?s.jsxs("div",{className:"mt-0 overflow-hidden mb-2 pr-1 group",children:[s.jsxs("div",{className:"font-sm text-vscode-editor-foreground flex items-center justify-between cursor-pointer",onClick:H,children:[s.jsxs("div",{className:"flex items-center gap-2 flex-grow  text-vscode-errorForeground",children:[s.jsx(Rv,{className:"w-4"}),s.jsx("span",{className:"text-vscode-errorForeground font-bold grow cursor-pointer",children:Y})]}),s.jsxs("div",{className:"flex items-center transition-opacity opacity-0 group-hover:opacity-100",children:[n&&s.jsx(xt,{appearance:"icon",className:"p-0.75 h-6 mr-1 text-vscode-editor-foreground flex items-center justify-center bg-transparent",onClick:z,children:s.jsx("span",{className:`codicon codicon-${N?"check":"copy"}`})}),s.jsx("span",{className:`codicon codicon-chevron-${x?"up":"down"}`})]})]}),x&&s.jsx("div",{className:"px-2 py-1 mt-2 bg-vscode-editor-background ml-6 rounded-lg",children:s.jsx(Fn,{source:r,language:"xml"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"group pr-2",children:[Y&&s.jsxs("div",{className:l||"flex items-center justify-between gap-2 break-words",children:[s.jsx(Rv,{className:"w-4 text-vscode-errorForeground"}),s.jsx("span",{className:"font-bold grow cursor-default",children:Y}),s.jsx("div",{className:"flex items-center gap-2",children:d&&s.jsxs("a",{href:d,className:"text-sm flex items-center gap-1 transition-opacity opacity-0 group-hover:opacity-100",onClick:U=>{U.preventDefault(),d.startsWith("roocode://settings")?R.postMessage({type:"switchTab",tab:"settings",values:{section:"providers"}}):R.postMessage({type:"openExternal",url:d})},children:[s.jsx(r_,{className:"size-3 mt-[3px]"}),d.startsWith("roocode://settings")?f("chat:apiRequest.errorMessage.goToSettings",{defaultValue:"Settings"}):f("chat:apiRequest.errorMessage.docs")]})})]}),s.jsxs("div",{className:"ml-2 pl-4 mt-1 pt-1 border-l border-vscode-errorForeground/50",children:[s.jsxs("p",{className:c||"my-0 font-light whitespace-pre-wrap break-words text-vscode-descriptionForeground",children:[r,M&&s.jsx("button",{onClick:()=>v(!0),className:"cursor-pointer ml-1 text-vscode-descriptionForeground/50 hover:text-vscode-descriptionForeground hover:underline font-normal","aria-label":f("chat:errorDetails.title"),children:f("chat:errorDetails.link")})]}),p&&m&&s.jsx("div",{className:"ml-6 mt-3",children:s.jsx(oe,{variant:"secondary",onClick:m,children:f("kilocode:settings.provider.login")})}),i]})]}),M&&s.jsx(ea,{open:j,onOpenChange:v,children:s.jsxs(ta,{className:"max-w-2xl",children:[s.jsx(ni,{children:s.jsx(oi,{children:f("chat:errorDetails.title")})}),s.jsx("div",{className:"max-h-96 overflow-auto px-3 bg-vscode-editor-background rounded-xl border border-vscode-editorGroup-border",children:s.jsx("pre",{className:"font-mono text-sm whitespace-pre-wrap break-words bg-transparent",children:M})}),s.jsxs(hd,{children:[s.jsx(oe,{variant:"secondary",className:"w-full",onClick:D,children:_?s.jsxs(s.Fragment,{children:[s.jsx(yr,{className:"size-3"}),f("chat:errorDetails.copied")]}):s.jsxs(s.Fragment,{children:[s.jsx(Of,{className:"size-3"}),f("chat:errorDetails.copyToClipboard")]})}),s.jsxs(oe,{variant:"secondary",className:"w-full",onClick:A,children:[s.jsx(_A,{className:"size-3"}),f("chat:errorDetails.diagnostics")]})]})]})})]})}),vN=({item:e})=>{const r="uri"in e?e.uri:e.uriTemplate;return s.jsxs("div",{style:{padding:"3px 0"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[s.jsx("span",{className:"codicon codicon-symbol-file",style:{marginRight:"6px"}}),s.jsx("span",{style:{fontWeight:500,wordBreak:"break-all"},children:r})]}),s.jsx("div",{style:{fontSize:"12px",opacity:.8,margin:"4px 0"},children:e.name&&e.description?`${e.name}: ${e.description}`:!e.name&&e.description?e.description:!e.description&&e.name?e.name:"No description"}),s.jsxs("div",{style:{fontSize:"12px"},children:[s.jsx("span",{style:{opacity:.8},children:"Returns "}),s.jsx("code",{style:{color:"var(--vscode-textPreformat-foreground)",background:"var(--vscode-textPreformat-background)",padding:"1px 4px",borderRadius:"3px"},children:e.mimeType||"Unknown"})]})]},r)},sx=new RegExp("(?:^|(?<=\\s))(?<!\\\\)@((?:\\/|\\w+:\\/\\/)(?:[^\\s\\\\]|\\\\ )+?|[a-f0-9]{7,40}\\b|problems\\b|git-changes\\b|terminal\\b)(?=[.,;:!?]?(?=[\\s\\r\\n]|$))"),rx=new RegExp(sx.source,"g");function $3(e){return e.replace(/\\ /g," ")}const bN=({text:e,withShadow:t=!1})=>{if(!e)return s.jsx(s.Fragment,{children:e});const r=e.split(rx).map((n,o)=>o%2===0?n:s.jsxs("span",{className:`${t?"mention-context-highlight-with-shadow":"mention-context-highlight"} text-[0.9em] cursor-pointer`,onClick:()=>R.postMessage({type:"openMention",text:n}),children:["@",n]},o));return s.jsx(s.Fragment,{children:r})},H3=({ts:e,commitHash:t,checkpoint:r,onOpenChange:n})=>{const{t:o}=vt(),[a,i]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState(!1),p=Vc("roo-portal"),m=r==null?void 0:r.from,g=a,f=d,x=h.useCallback(w=>{i(w),n&&n(w)},[n]),y=h.useCallback(w=>{u(w),n&&n(w)},[n]),N=h.useCallback(()=>{R.postMessage({type:"checkpointDiff",payload:{ts:e,previousCommitHash:m,commitHash:t,mode:"checkpoint"}})},[e,m,t]),b=h.useCallback(()=>{R.postMessage({type:"checkpointDiff",payload:{ts:e,commitHash:t,mode:"from-init"}})},[e,t]),j=h.useCallback(()=>{R.postMessage({type:"checkpointDiff",payload:{ts:e,commitHash:t,mode:"to-current"}})},[e,t]),v=h.useCallback(()=>{R.postMessage({type:"checkpointRestore",payload:{ts:e,commitHash:t,mode:"preview"}}),x(!1)},[e,t,x]),_=h.useCallback(()=>{R.postMessage({type:"checkpointRestore",payload:{ts:e,commitHash:t,mode:"restore"}}),x(!1)},[e,t,x]),k=h.useCallback(w=>{x(w),w||c(!1)},[x]);return s.jsxs("div",{className:"flex flex-row gap-1",children:[s.jsx(ue,{content:o("chat:checkpoint.menu.viewDiff"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:N,children:s.jsx("span",{className:"codicon codicon-diff-single"})})}),s.jsxs(Nn,{open:g,onOpenChange:w=>{k(w),c(!1)},"data-testid":"restore-popover",children:[s.jsx(ue,{content:o("chat:checkpoint.menu.restore"),children:s.jsx(Dn,{asChild:!0,children:s.jsx(oe,{variant:"ghost",size:"icon","aria-label":o("chat:checkpoint.menu.restore"),children:s.jsx("span",{className:"codicon codicon-history"})})})}),s.jsx(Sn,{align:"end",container:p,children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex flex-col gap-1 group hover:text-foreground",children:[s.jsx(oe,{variant:"secondary",onClick:v,"data-testid":"restore-files-btn",children:o("chat:checkpoint.menu.restoreFiles")}),s.jsx("div",{className:"text-muted transition-colors group-hover:text-foreground",children:o("chat:checkpoint.menu.restoreFilesDescription")})]}),s.jsxs("div",{className:"flex flex-col gap-1 group hover:text-foreground",children:[l?s.jsxs(s.Fragment,{children:[s.jsx(oe,{variant:"primary",onClick:_,className:"grow","data-testid":"confirm-restore-btn",children:s.jsxs("div",{className:"flex flex-row gap-1",children:[s.jsx(vT,{}),s.jsx("div",{children:o("chat:checkpoint.menu.confirm")})]})}),s.jsx(oe,{variant:"secondary",onClick:()=>c(!1),children:s.jsxs("div",{className:"flex flex-row gap-1",children:[s.jsx(bT,{}),s.jsx("div",{children:o("chat:checkpoint.menu.cancel")})]})})]}):s.jsx(oe,{variant:"secondary",onClick:()=>c(!0),"data-testid":"restore-files-and-task-btn",children:o("chat:checkpoint.menu.restoreFilesAndTask")}),l?s.jsx("div",{"data-testid":"checkpoint-confirm-warning",className:"text-destructive font-bold",children:o("chat:checkpoint.menu.cannotUndo")}):s.jsx("div",{className:"text-muted transition-colors group-hover:text-foreground",children:o("chat:checkpoint.menu.restoreFilesAndTaskDescription")})]})]})})]}),s.jsxs(Nn,{open:f,onOpenChange:w=>y(w),"data-testid":"more-popover",children:[s.jsx(ue,{content:o("chat:task.seeMore"),children:s.jsx(Dn,{asChild:!0,children:s.jsx(oe,{variant:"ghost",size:"icon","aria-label":o("chat:checkpoint.menu.more"),children:s.jsx("span",{className:"codicon codicon-kebab-vertical"})})})}),s.jsx(Sn,{align:"end",container:p,className:"w-auto min-w-max",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(oe,{variant:"secondary",onClick:()=>{b(),y(!1)},children:[s.jsx("span",{className:"codicon codicon-versions mr-2"}),o("chat:checkpoint.menu.viewDiffFromInit")]}),s.jsxs(oe,{variant:"secondary",onClick:()=>{j(),y(!1)},children:[s.jsx("span",{className:"codicon codicon-diff mr-2"}),o("chat:checkpoint.menu.viewDiffWithCurrent")]})]})})]})]})},V3=Ns({from:He(),to:He()}),G3=({checkpoint:e,currentHash:t,...r})=>{const{t:n}=vt(),o=t===r.commitHash,[a,i]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState(!1),p=h.useRef(null);h.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null)},[]);const m=N=>{i(N),N?(c(!1),p.current&&(window.clearTimeout(p.current),p.current=null)):(c(!0),p.current=window.setTimeout(()=>{c(!1),p.current=null},200))},g=()=>{u(!0)},f=()=>{u(!1)},x=d||a||l,y=h.useMemo(()=>{if(!e)return;const N=V3.safeParse(e);if(N.success)return{...N.data,isFirst:N.data.from===N.data.to}},[e]);return y?s.jsxs("div",{className:"flex items-center justify-between gap-2 pt-2 pb-3",onMouseEnter:g,onMouseLeave:f,children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-400 whitespace-nowrap",children:[s.jsx(aA,{className:"w-4"}),s.jsx("span",{className:"font-semibold",children:n("chat:checkpoint.regular")}),o&&s.jsxs("span",{className:"text-muted",children:["(",n("chat:checkpoint.current"),")"]})]}),s.jsx("span",{className:"block w-full h-[2px] mt-[2px] text-xs",style:{backgroundImage:"linear-gradient(90deg, rgba(0, 188, 255, .65), rgba(0, 188, 255, .65) 80%, rgba(0, 188, 255, 0) 99%)"}}),s.jsx("div",{"data-testid":"checkpoint-menu-container",className:Z("h-4 -mt-2",x?"block":"hidden"),children:s.jsx(H3,{ts:r.ts,commitHash:r.commitHash,checkpoint:y,onOpenChange:m})})]}):null},Q3=6e4,Y3=1e3,X3=({suggestions:e=[],onSuggestionClick:t,ts:r=1,onCancelAutoApproval:n,isAnswered:o=!1,isFollowUpAutoApprovalPaused:a=!1})=>{const{autoApprovalEnabled:i,alwaysAllowFollowupQuestions:l,followupAutoApproveTimeoutMs:c}=Ye(),[d,u]=h.useState(null),[p,m]=h.useState(!1),{t:g}=re();h.useEffect(()=>{if(i&&l&&e.length>0&&!p&&!o&&!a){const x=typeof c=="number"&&!isNaN(c)?c:Q3;u(Math.floor(x/1e3));const y=setInterval(()=>{u(N=>N===null||N<=1?(clearInterval(y),null):N-1)},Y3);return()=>{clearInterval(y),n==null||n()}}else u(null)},[i,l,e,c,p,n,o,a]);const f=h.useCallback((x,y)=>{y.shiftKey||(m(!0),n==null||n()),t==null||t(x,y)},[t,n]);return!(e!=null&&e.length)||!t?null:s.jsx("div",{className:"flex mb-2 flex-col h-full gap-2",children:e.map((x,y)=>{const N=y===0;return s.jsxs("div",{className:"w-full relative group",children:[s.jsx(oe,{variant:"outline",className:Z("text-left whitespace-normal break-words w-full h-auto px-3 py-2 justify-start pr-8 rounded-xl",N&&d!==null&&!p&&!o&&"border-vscode-foreground/60 rounded-b-none -mb-1"),onClick:b=>f(x,b),"aria-label":x.answer,children:x.answer}),N&&d!==null&&!p&&!o&&s.jsxs("p",{className:"rounded-b-xl border-1 border-t-0 border-vscode-foreground/60 text-vscode-descriptionForeground text-xs m-0 mt-1 px-3 pt-2 pb-2",children:[s.jsx(VA,{className:"size-3 inline-block -mt-0.5 mr-1 animate-pulse"}),g("chat:followUpSuggest.timerPrefix",{seconds:d})]}),x.mode&&s.jsxs("div",{className:"absolute bottom-0 right-0 text-[10px] bg-vscode-badge-background text-vscode-badge-foreground px-1 py-0.5 border border-vscode-badge-background flex items-center gap-0.5",children:[s.jsx("span",{className:"codicon codicon-arrow-right",style:{fontSize:"8px"}}),x.mode]}),s.jsx(ue,{content:g("chat:followUpSuggest.copyToInput"),children:s.jsx("div",{className:"absolute cursor-pointer top-1.5 right-3 opacity-0 group-hover:opacity-100 transition-opacity",onClick:b=>{b.stopPropagation(),m(!0),n==null||n(),t==null||t(x,{...b,shiftKey:!0})},children:s.jsx(IP,{className:"w-4"})})})]},`${x.answer}-${r}`)})})},yN=h.memo(({files:e=[],onPermissionResponse:t,ts:r})=>!(e!=null&&e.length)||!t?null:s.jsx("div",{className:"pt-[5px]",children:s.jsx("div",{className:"flex flex-col gap-0 border border-border rounded-md p-1",children:e.map(n=>{var o;return s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(uo,{className:"flex-1",children:s.jsxs(po,{onClick:()=>R.postMessage({type:"openFile",text:n.content}),children:[((o=n.path)==null?void 0:o.startsWith("."))&&s.jsx("span",{children:"."}),s.jsx(Ec,{content:Ga(n.path,n.lineSnippet?` ${n.lineSnippet}`:void 0),children:s.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis text-left mr-2 rtl",children:Ga(n.path,n.lineSnippet?` ${n.lineSnippet}`:void 0)})}),s.jsx("div",{className:"flex-grow"}),s.jsx("span",{className:"codicon codicon-link-external text-[13.5px] my-[1px]"})]})})},`${n.path}-${r}`)})})}));yN.displayName="BatchFilePermission";const wN=h.memo(({files:e=[],ts:t})=>{const[r,n]=h.useState({});if(!(e!=null&&e.length))return null;const o=a=>{n(i=>({...i,[a]:!i[a]}))};return s.jsx("div",{className:"pt-[5px]",children:s.jsx("div",{className:"flex flex-col gap-0 border border-border rounded-md p-1",children:e.map(a=>{const i=a.content||"";return s.jsx("div",{children:s.jsx(bn,{path:a.path,code:i,language:"diff",isExpanded:r[a.path]||!1,onToggleExpand:()=>o(a.path),diffStats:a.diffStats??void 0})},`${a.path}-${t}`)})})})});wN.displayName="BatchDiffApproval";const Jn=h.memo(({markdown:e,partial:t})=>{const[r,n]=h.useState(!1),{copyWithFeedback:o}=ti(200);return!e||e.length===0?null:s.jsxs("div",{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),style:{position:"relative"},children:[s.jsx("div",{style:{wordBreak:"break-word",overflowWrap:"anywhere"},children:s.jsx(br,{markdown:e})}),e&&!t&&r&&s.jsxs("div",{style:{position:"absolute",bottom:"-4px",right:"8px",opacity:0,animation:"fadeIn 0.2s ease-in-out forwards",borderRadius:"4px"},children:[s.jsx("style",{children:"@keyframes fadeIn { from { opacity: 0; } to { opacity: 1.0; } }"}),s.jsx(ue,{content:"Copy as markdown",children:s.jsx(xt,{className:"copy-button",appearance:"icon",style:{height:"24px",border:"none",background:"var(--vscode-editor-background)",transition:"background 0.2s ease-in-out"},onClick:async()=>{if(await o(e)){const i=document.activeElement;i&&(i.style.background="var(--vscode-button-background)",setTimeout(()=>{i.style.background=""},200))}},children:s.jsx("span",{className:"codicon codicon-copy"})})})]})]})});var Ml={},Xd,Xv;function J3(){return Xv||(Xv=1,Xd=function(t){return t.map(function(r){return r===""?"''":r&&typeof r=="object"?r.op.replace(/(.)/g,"\\$1"):/["\s\\]/.test(r)&&!/'/.test(r)?"'"+r.replace(/(['])/g,"\\$1")+"'":/["'\s]/.test(r)?'"'+r.replace(/(["\\$`!])/g,"\\$1")+'"':String(r).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")}),Xd}var Jd,Jv;function Z3(){if(Jv)return Jd;Jv=1;for(var e="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",t=new RegExp("^"+e+"$"),r="|&;()<> \\t",n='"((\\\\"|[^"])*?)"',o="'((\\\\'|[^'])*?)'",a=/^#$/,i="'",l='"',c="$",d="",u=4294967296,p=0;p<4;p++)d+=(u*Math.random()).toString(16);var m=new RegExp("^"+d);function g(y,N){for(var b=N.lastIndex,j=[],v;v=N.exec(y);)j.push(v),N.lastIndex===v.index&&(N.lastIndex+=1);return N.lastIndex=b,j}function f(y,N,b){var j=typeof y=="function"?y(b):y[b];return typeof j>"u"&&b!=""?j="":typeof j>"u"&&(j="$"),typeof j=="object"?N+d+JSON.stringify(j)+d:N+j}function x(y,N,b){b||(b={});var j=b.escape||"\\",v="(\\"+j+`['"`+r+`]|[^\\s'"`+r+"])+",_=new RegExp(["("+e+")","("+v+"|"+n+"|"+o+")+"].join("|"),"g"),k=g(y,_);if(k.length===0)return[];N||(N={});var w=!1;return k.map(function(T){var S=T[0];if(!S||w)return;if(t.test(S))return{op:S};var P=!1,I=!1,M="",A=!1,C;function H(){C+=1;var Y,U,q=S.charAt(C);if(q==="{"){if(C+=1,S.charAt(C)==="}")throw new Error("Bad substitution: "+S.slice(C-2,C+1));if(Y=S.indexOf("}",C),Y<0)throw new Error("Bad substitution: "+S.slice(C));U=S.slice(C,Y),C=Y}else if(/[*@#?$!_-]/.test(q))U=q,C+=1;else{var F=S.slice(C);Y=F.match(/[^\w\d_]/),Y?(U=F.slice(0,Y.index),C+=Y.index-1):(U=F,C=S.length)}return f(N,"",U)}for(C=0;C<S.length;C++){var z=S.charAt(C);if(A=A||!P&&(z==="*"||z==="?"),I)M+=z,I=!1;else if(P)z===P?P=!1:P==i?M+=z:z===j?(C+=1,z=S.charAt(C),z===l||z===j||z===c?M+=z:M+=j+z):z===c?M+=H():M+=z;else if(z===l||z===i)P=z;else{if(t.test(z))return{op:S};if(a.test(z)){w=!0;var D={comment:y.slice(T.index+C+1)};return M.length?[M,D]:[D]}else z===j?I=!0:z===c?M+=H():M+=z}}return A?{op:"glob",pattern:M}:M}).reduce(function(T,S){return typeof S>"u"?T:T.concat(S)},[])}return Jd=function(N,b,j){var v=x(N,b,j);return typeof b!="function"?v:v.reduce(function(_,k){if(typeof k=="object")return _.concat(k);var w=k.split(RegExp("("+d+".*?"+d+")","g"));return w.length===1?_.concat(w[0]):_.concat(w.filter(Boolean).map(function(T){return m.test(T)?JSON.parse(T.split(d)[1]):T}))},[])},Jd}var Zv;function e4(){return Zv||(Zv=1,Ml.quote=J3(),Ml.parse=Z3()),Ml}var t4=e4();const eb="___NEWLINE___",tb="___CARRIAGE_RETURN___";function s4(e,t,r){let n="",o=0;for(;o<e.length;){const a=e[o];if(a==='"')for(n+=a,o++;o<e.length;){const i=e[o],l=o>0?e[o-1]:"";if(i==='"'&&l!=="\\"){n+=i,o++;break}else i===`
`?(n+=t,o++):i==="\r"?(n+=r,o++):(n+=i,o++)}else if(a==="'")for(n+=a,o++;o<e.length;){const i=e[o];if(i==="'"){n+=i,o++;break}else i===`
`?(n+=t,o++):i==="\r"?(n+=r,o++):(n+=i,o++)}else n+=a,o++}return n}function r4(e,t,r){return e.replace(new RegExp(t,"g"),`
`).replace(new RegExp(r,"g"),"\r")}function n4(e){if(!(e!=null&&e.trim()))return[];const r=s4(e,eb,tb).split(/\r\n|\r|\n/),n=[];for(const o of r){if(!o.trim())continue;const a=o4(o);n.push(...a)}return n.map(o=>r4(o,eb,tb))}function o4(e){if(!(e!=null&&e.trim()))return[];const t=[],r=[],n=[],o=[],a=[],i=[],l=[];let c=e.replace(/\d*>&\d*/g,m=>(t.push(m),`__REDIR_${t.length-1}__`));c=c.replace(/\$\(\([^)]*(?:\)[^)]*)*\)\)/g,m=>(a.push(m),`__ARITH_${a.length-1}__`)),c=c.replace(/\$\[[^\]]*\]/g,m=>(a.push(m),`__ARITH_${a.length-1}__`)),c=c.replace(/\$\{[^}]+\}/g,m=>(l.push(m),`__PARAM_${l.length-1}__`)),c=c.replace(/[<>]\(([^)]+)\)/g,(m,g)=>(r.push(g.trim()),`__SUBSH_${r.length-1}__`)),c=c.replace(/\$[a-zA-Z_][a-zA-Z0-9_]*/g,m=>(i.push(m),`__VAR_${i.length-1}__`)),c=c.replace(/\$[?!#$@*\-0-9]/g,m=>(i.push(m),`__VAR_${i.length-1}__`)),c=c.replace(/\$\((.*?)\)/g,(m,g)=>(r.push(g.trim()),`__SUBSH_${r.length-1}__`)).replace(/`(.*?)`/g,(m,g)=>(r.push(g.trim()),`__SUBSH_${r.length-1}__`)),c=c.replace(/"[^"]*"/g,m=>(n.push(m),`__QUOTE_${n.length-1}__`));let d;try{d=t4.parse(c)}catch(m){return console.warn("shell-quote parse error:",m.message,"for command:",c),c.split(/(?:&&|\|\||;|\||&)/).map(f=>f.trim()).filter(f=>f.length>0).map(f=>sb(f,n,t,o,a,l,i,r))}const u=[];let p=[];for(const m of d)if(typeof m=="object"&&"op"in m)["&&","||",";","|","&"].includes(m.op)?p.length>0&&(u.push(p.join(" ")),p=[]):p.push(m.op);else if(typeof m=="string"){const g=m.match(/__SUBSH_(\d+)__/);g?(p.length>0&&(u.push(p.join(" ")),p=[]),u.push(r[parseInt(g[1])])):p.push(m)}return p.length>0&&u.push(p.join(" ")),u.map(m=>sb(m,n,t,o,a,l,i,r))}function sb(e,t,r,n,o,a,i,l){let c=e;return c=c.replace(/__QUOTE_(\d+)__/g,(d,u)=>t[parseInt(u)]),c=c.replace(/__REDIR_(\d+)__/g,(d,u)=>r[parseInt(u)]),c=c.replace(/__ARRAY_(\d+)__/g,(d,u)=>n[parseInt(u)]),c=c.replace(/__ARITH_(\d+)__/g,(d,u)=>o[parseInt(u)]),c=c.replace(/__PARAM_(\d+)__/g,(d,u)=>a[parseInt(u)]),c=c.replace(/__VAR_(\d+)__/g,(d,u)=>i[parseInt(u)]),c=c.replace(/__SUBSH_(\d+)__/g,(d,u)=>l[parseInt(u)]),c}var Cl={},Zd,rb;function a4(){return rb||(rb=1,Zd=function(t){return t.map(function(r){return r===""?"''":r&&typeof r=="object"?r.op.replace(/(.)/g,"\\$1"):/["\s]/.test(r)&&!/'/.test(r)?"'"+r.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(r)?'"'+r.replace(/(["\\$`!])/g,"\\$1")+'"':String(r).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")}),Zd}var eu,nb;function i4(){if(nb)return eu;nb=1;for(var e="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",t=new RegExp("^"+e+"$"),r="|&;()<> \\t",n='"((\\\\"|[^"])*?)"',o="'((\\\\'|[^'])*?)'",a=/^#$/,i="'",l='"',c="$",d="",u=4294967296,p=0;p<4;p++)d+=(u*Math.random()).toString(16);var m=new RegExp("^"+d);function g(y,N){for(var b=N.lastIndex,j=[],v;v=N.exec(y);)j.push(v),N.lastIndex===v.index&&(N.lastIndex+=1);return N.lastIndex=b,j}function f(y,N,b){var j=typeof y=="function"?y(b):y[b];return typeof j>"u"&&b!=""?j="":typeof j>"u"&&(j="$"),typeof j=="object"?N+d+JSON.stringify(j)+d:N+j}function x(y,N,b){b||(b={});var j=b.escape||"\\",v="(\\"+j+`['"`+r+`]|[^\\s'"`+r+"])+",_=new RegExp(["("+e+")","("+v+"|"+n+"|"+o+")+"].join("|"),"g"),k=g(y,_);if(k.length===0)return[];N||(N={});var w=!1;return k.map(function(T){var S=T[0];if(!S||w)return;if(t.test(S))return{op:S};var P=!1,I=!1,M="",A=!1,C;function H(){C+=1;var Y,U,q=S.charAt(C);if(q==="{"){if(C+=1,S.charAt(C)==="}")throw new Error("Bad substitution: "+S.slice(C-2,C+1));if(Y=S.indexOf("}",C),Y<0)throw new Error("Bad substitution: "+S.slice(C));U=S.slice(C,Y),C=Y}else if(/[*@#?$!_-]/.test(q))U=q,C+=1;else{var F=S.slice(C);Y=F.match(/[^\w\d_]/),Y?(U=F.slice(0,Y.index),C+=Y.index-1):(U=F,C=S.length)}return f(N,"",U)}for(C=0;C<S.length;C++){var z=S.charAt(C);if(A=A||!P&&(z==="*"||z==="?"),I)M+=z,I=!1;else if(P)z===P?P=!1:P==i?M+=z:z===j?(C+=1,z=S.charAt(C),z===l||z===j||z===c?M+=z:M+=j+z):z===c?M+=H():M+=z;else if(z===l||z===i)P=z;else{if(t.test(z))return{op:S};if(a.test(z)){w=!0;var D={comment:y.slice(T.index+C+1)};return M.length?[M,D]:[D]}else z===j?I=!0:z===c?M+=H():M+=z}}return A?{op:"glob",pattern:M}:M}).reduce(function(T,S){return typeof S>"u"?T:T.concat(S)},[])}return eu=function(N,b,j){var v=x(N,b,j);return typeof b!="function"?v:v.reduce(function(_,k){if(typeof k=="object")return _.concat(k);var w=k.split(RegExp("("+d+".*?"+d+")","g"));return w.length===1?_.concat(w[0]):_.concat(w.filter(Boolean).map(function(T){return m.test(T)?JSON.parse(T.split(d)[1]):T}))},[])},eu}var ob;function l4(){return ob||(ob=1,Cl.quote=a4(),Cl.parse=i4()),Cl}var c4=l4();function d4(e){if(!(e!=null&&e.trim()))return[];const t=new Set;try{const r=c4.parse(e),n=new Set(["|","&&","||",";"]);let o=[];for(const a of r)typeof a=="object"&&"op"in a&&n.has(a.op)?o.length>0&&(ab(o,t),o=[]):typeof a=="string"&&o.push(a);o.length>0&&ab(o,t)}catch(r){console.warn("Failed to parse command:",r);const n=e.trim().split(/\s+/)[0];n&&t.add(n)}return Array.from(t).sort()}function ab(e,t){if(e.length===0||typeof e[0]!="string")return;const r=e[0];if(/^\d+$/.test(r))return;t.add(r);const n=[/^-/,/[\\/:.~ ]/],o=Math.min(e.length,3);for(let a=1;a<o;a++){const i=e[a];if(typeof i!="string"||n.some(c=>c.test(i)))break;const l=e.slice(0,a+1).join(" ");t.add(l.trim())}}const u4=({patterns:e,allowedCommands:t,deniedCommands:r,onAllowPatternChange:n,onDenyPatternChange:o})=>{const{t:a}=vt(),[i,l]=h.useState(!1),[c,d]=h.useState({}),u=h.useMemo(()=>{const f=new Set;return e.filter(y=>f.has(y.pattern)?!1:(f.add(y.pattern),!0))},[e]),p=f=>t.includes(f)?"allowed":r.includes(f)?"denied":"none",m=f=>c[f]||{isEditing:!1,value:f},g=(f,x,y)=>{d(N=>({...N,[f]:{isEditing:x,value:y??f}}))};return s.jsxs("div",{className:"border-t border-vscode-panel-border/50 bg-vscode-sideBar-background/30",children:[s.jsx("button",{onClick:()=>l(!i),className:"w-full px-3 py-2 flex items-center justify-between hover:bg-vscode-list-hoverBackground transition-colors",children:s.jsxs("div",{className:"group flex items-center gap-2 cursor-pointer w-full text-left",children:[s.jsxs("span",{className:Z("text-sm flex-1 group-hover:opacity-100",i?"opacity-100":"opacity-40"),children:[s.jsx(Fg,{className:"size-3 inline-block mr-2"}),a("chat:commandExecution.manageCommands")]}),s.jsx(Hc,{className:Z("group-hover:opacity-100 size-4 transition-transform",i?"opacity-100":"opacity-40 -rotate-180")})]})}),i&&s.jsx("div",{className:"pl-6 pr-2 pt-1 pb-2 space-y-2",children:u.map(f=>{const x=m(f.pattern),y=p(x.value);return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1",children:x.isEditing?s.jsx("input",{type:"text",value:x.value,onChange:N=>g(f.pattern,!0,N.target.value),onBlur:()=>g(f.pattern,!1),onKeyDown:N=>{N.key==="Enter"&&g(f.pattern,!1),N.key==="Escape"&&g(f.pattern,!1,f.pattern)},className:"font-mono text-xs bg-vscode-input-background text-vscode-input-foreground border border-vscode-input-border rounded px-2 py-1.5 w-full focus:outline-0 focus:ring-1 focus:ring-vscode-focusBorder",placeholder:f.pattern,autoFocus:!0}):s.jsxs("div",{onClick:()=>g(f.pattern,!0),className:"font-mono text-xs text-vscode-foreground cursor-pointer hover:bg-vscode-list-hoverBackground px-2 py-1.5 rounded transition-colors border border-transparent break-all",title:"Click to edit pattern",children:[s.jsx("span",{className:"break-all",children:x.value}),f.description&&s.jsxs("span",{className:"text-vscode-descriptionForeground ml-2",children:["- ",f.description]})]})}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ue,{content:a(y==="allowed"?"chat:commandExecution.removeFromAllowed":"chat:commandExecution.addToAllowed"),children:s.jsx("button",{className:Z("p-1 rounded transition-all cursor-pointer",{"bg-green-500/20 text-green-500 hover:bg-green-500/30":y==="allowed","text-vscode-descriptionForeground hover:text-green-500 hover:bg-green-500/10":y!=="allowed"}),onClick:()=>n(x.value),"aria-label":a(y==="allowed"?"chat:commandExecution.removeFromAllowed":"chat:commandExecution.addToAllowed"),children:s.jsx(yr,{className:"size-3.5"})})}),s.jsx(ue,{content:a(y==="denied"?"chat:commandExecution.removeFromDenied":"chat:commandExecution.addToDenied"),children:s.jsx("button",{className:Z("p-1 rounded transition-all cursor-pointer",{"bg-red-500/20 text-red-500 hover:bg-red-500/30":y==="denied","text-vscode-descriptionForeground hover:text-red-500 hover:bg-red-500/10":y!=="denied"}),onClick:()=>o(x.value),"aria-label":a(y==="denied"?"chat:commandExecution.removeFromDenied":"chat:commandExecution.addToDenied"),children:s.jsx(_n,{className:"size-3.5"})})})]})]},f.pattern)})})]})},kN=({executionId:e,text:t,icon:r,title:n})=>{const{terminalShellIntegrationDisabled:o=!0,allowedCommands:a=[],deniedCommands:i=[],setAllowedCommands:l,setDeniedCommands:c}=Ye(),{command:d,output:u}=h.useMemo(()=>h4(t),[t]),[p,m]=h.useState(o),[g,f]=h.useState(""),[x,y]=h.useState(null),N=g||u,b=h.useMemo(()=>{const k=n4(d),w=new Set;return k.forEach(T=>{T.trim()&&w.add(T.trim())}),k.forEach(T=>{d4(T).forEach(P=>w.add(P))}),Array.from(w).map(T=>({pattern:T}))},[d]),j=k=>{const T=a.includes(k)?a.filter(P=>P!==k):[...a,k],S=i.filter(P=>P!==k);l(T),c(S),R.postMessage({type:"updateSettings",updatedSettings:{allowedCommands:T,deniedCommands:S}})},v=k=>{const T=i.includes(k)?i.filter(P=>P!==k):[...i,k],S=a.filter(P=>P!==k);l(S),c(T),R.postMessage({type:"updateSettings",updatedSettings:{allowedCommands:S,deniedCommands:T}})},_=h.useCallback(k=>{const w=k.data;if(w.type==="commandExecutionStatus"){const T=UT.safeParse(xr(w.text,{}));if(T.success){const S=T.data;if(S.executionId!==e)return;switch(S.status){case"started":y(S);break;case"output":f(S.output);break;case"fallback":m(!0);break;default:y(S);break}}}},[e]);return Us("message",_),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 mb-1",children:[s.jsxs("div",{className:"flex flex-row items-center gap-2",children:[r,n,(x==null?void 0:x.status)==="exited"&&s.jsx("div",{className:"flex flex-row items-center gap-2 font-mono text-xs",children:s.jsx(ue,{content:Sr("chat.commandExecution.exitStatus",{exitStatus:x.exitCode}),children:s.jsx("div",{className:Z("rounded-full size-2",x.exitCode===0?"bg-green-600":"bg-red-600")})})})]}),s.jsx("div",{className:" flex flex-row items-center justify-between gap-2 px-1",children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[(x==null?void 0:x.status)==="started"&&s.jsxs("div",{className:"flex flex-row items-center gap-2 font-mono text-xs",children:[x.pid&&s.jsxs("div",{className:"whitespace-nowrap",children:["(PID: ",x.pid,")"]}),s.jsx(ue,{content:Sr("chat:commandExecution.abort"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>R.postMessage({type:"terminalOperation",terminalOperation:"abort"}),children:s.jsx(WT,{className:"size-4"})})})]}),N.length>0&&s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>m(!p),children:s.jsx(Zo,{className:Z("size-4 transition-transform duration-300",p&&"rotate-180")})})]})})]}),s.jsxs("div",{className:"bg-vscode-editor-background border border-vscode-border rounded-xs ml-6 mt-2",children:[s.jsxs("div",{className:"p-2",children:[s.jsx(Fn,{source:d,language:"shell"}),s.jsx(m4,{isExpanded:p,output:N})]}),d&&d.trim()&&s.jsx(u4,{patterns:b,allowedCommands:a,deniedCommands:i,onAllowPatternChange:j,onDenyPatternChange:v})]})]})};kN.displayName="CommandExecution";const p4=({isExpanded:e,output:t})=>s.jsx("div",{className:Z("overflow-hidden",{"max-h-0":!e,"max-h-[100%] mt-1 pt-1 border-t border-border/25":e}),children:t.length>0&&s.jsx(Fn,{source:t,language:"log"})}),m4=h.memo(p4),h4=e=>{if(!e)return{command:"",output:""};const t=e.indexOf(Eh);return t===-1?{command:e,output:""}:{command:e.slice(0,t),output:e.slice(t+Eh.length)}};function St(e,t){const r=e.replace(/^\//,"").replace("troubleshooting/shell-integration/","features/shell-integration"),[n,o]=r.split("#"),a=`https://kilo.ai/docs/${n}`;return o?`${a}#${o}`:a}const f4=()=>{const{t:e}=vt(),t=h.useCallback(r=>{r.preventDefault(),window.postMessage({type:"action",action:"settingsButtonClicked",values:{section:"terminal"}},"*")},[]);return s.jsx("div",{className:"text-sm bg-vscode-editor-background border border-vscode-border rounded-lg p-3 ml-6",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"codicon codicon-warning mr-1 text-vscode-editorWarning-foreground"}),s.jsx("span",{className:"text-vscode-editorWarning-foreground font-semibold",children:e("chat:shellIntegration.title")})]}),s.jsx("div",{children:s.jsx(we,{i18nKey:"chat:shellIntegration.description",components:{settingsLink:s.jsx(Oe,{href:"#",onClick:t,className:"inline"})}})}),s.jsx("a",{href:St("troubleshooting/shell-integration/"),className:"underline",style:{color:"inherit"},children:e("chat:shellIntegration.troubleshooting")})]})})},g4=({data:e})=>{const t=Qe.useMemo(()=>{try{return JSON.parse(e||"{}")}catch(r){return console.error("Failed to parse bug report data",r),{}}},[e]);return s.jsxs("div",{className:"bg-[var(--vscode-badge-background)] text-[var(--vscode-badge-foreground)] rounded-[3px] p-[14px]",children:[s.jsx("h3",{className:"font-bold text-base mb-3 mt-0",children:t.title||"Bug Report"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[t.description&&s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"What Happened?"}),s.jsx(br,{markdown:t.description})]}),t.provider_and_model&&s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Provider/Model"}),s.jsx(br,{markdown:t.provider_and_model})]}),t.operating_system&&s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Operating System"}),s.jsx(br,{markdown:t.operating_system})]}),t.system_info&&s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"System Info"}),s.jsx(br,{markdown:t.system_info})]}),t.kilocode_version&&s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Kilo Code Version"}),s.jsx(br,{markdown:t.kilocode_version})]})]})]})},x4=h.memo(({message:e})=>{const[t,r]=h.useState(!1),{count:n,type:o="requests"}=JSON.parse(e.text??"{}");if(t)return null;const a=o==="cost",i=a?"ask.autoApprovedCostLimitReached.title":"ask.autoApprovedRequestLimitReached.title",l=a?"ask.autoApprovedCostLimitReached.description":"ask.autoApprovedRequestLimitReached.description",c=a?"ask.autoApprovedCostLimitReached.button":"ask.autoApprovedRequestLimitReached.button";return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--vscode-foreground)"},children:[s.jsx("span",{className:"codicon codicon-warning"}),s.jsx("span",{style:{fontWeight:"bold"},children:s.jsx(we,{i18nKey:i,ns:"chat"})})]}),s.jsxs("div",{className:"bg-vscode-panel-border flex flex-col gap-3",style:{borderRadius:"4px",display:"flex",marginTop:"15px",padding:"14px 16px 22px",justifyContent:"center"},children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx(we,{i18nKey:l,ns:"chat",values:{count:n}})}),s.jsx(oe,{style:{width:"100%",padding:"6px",borderRadius:"4px"},onClick:d=>{d.preventDefault(),r(!0),R.postMessage({type:"askResponse",askResponse:"yesButtonClicked"})},children:s.jsx(we,{i18nKey:c,ns:"chat"})})]})]})});function ib({eventType:e}){const{t}=vt(),r=t(e==="condense_context"?"chat:contextManagement.condensation.inProgress":"chat:contextManagement.truncation.inProgress");return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wi,{}),s.jsx("span",{className:"font-bold text-vscode-foreground",children:r})]})}function v4({data:e}){const{t}=vt(),[r,n]=h.useState(!1),{cost:o,prevContextTokens:a,newContextTokens:i,summary:l}=e,c=a??0,d=i??0,u=o??0;return s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer select-none",onClick:()=>n(!r),children:[s.jsxs("div",{className:"flex items-center gap-2 flex-grow",children:[s.jsx(pd,{size:16,className:"text-vscode-foreground"}),s.jsx("span",{className:"font-bold text-vscode-foreground",children:t("chat:contextManagement.condensation.title")}),s.jsxs("span",{className:"text-vscode-descriptionForeground text-sm",children:[c.toLocaleString(),"  ",d.toLocaleString()," ",t("chat:contextManagement.tokens")]}),s.jsxs(yc,{className:u>0?"opacity-100":"opacity-0",children:["$",u.toFixed(2)]})]}),s.jsx("span",{className:`codicon codicon-chevron-${r?"up":"down"}`})]}),r&&s.jsx("div",{className:"mt-2 ml-0 p-4 bg-vscode-editor-background rounded text-vscode-foreground text-sm",children:s.jsx(Jn,{markdown:l})})]})}function b4({errorText:e}){const{t}=vt();return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-warning text-vscode-editorWarning-foreground opacity-80 text-base -mb-0.5"}),s.jsx("span",{className:"font-bold text-vscode-foreground",children:t("chat:contextManagement.condensation.errorHeader")})]}),e&&s.jsx("span",{className:"text-vscode-descriptionForeground text-sm",children:e})]})}function y4({data:e}){const{t}=vt(),[r,n]=h.useState(!1),{messagesRemoved:o,prevContextTokens:a,newContextTokens:i}=e,l=o??0,c=a??0,d=i??0;return s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer select-none",onClick:()=>n(!r),children:[s.jsxs("div",{className:"flex items-center gap-2 flex-grow",children:[s.jsx(pd,{size:16,className:"text-vscode-foreground"}),s.jsx("span",{className:"font-bold text-vscode-foreground",children:t("chat:contextManagement.truncation.title")}),s.jsxs("span",{className:"text-vscode-descriptionForeground text-sm",children:[c.toLocaleString(),"  ",d.toLocaleString()," ",t("chat:contextManagement.tokens")]})]}),s.jsx("span",{className:`codicon codicon-chevron-${r?"up":"down"}`})]}),r&&s.jsx("div",{className:"mt-2 ml-0 p-4 bg-vscode-editor-background rounded text-vscode-foreground text-sm",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"text-vscode-descriptionForeground",children:t("chat:contextManagement.truncation.messagesRemoved",{count:l})})}),s.jsx("p",{className:"text-vscode-descriptionForeground text-xs",children:t("chat:contextManagement.truncation.description")})]})})]})}const w4=({filePath:e,score:t,startLine:r,endLine:n})=>{const{t:o}=vt("chat"),a=()=>{console.log(e),R.postMessage({type:"openFile",text:"./"+e,values:{line:r}})};return s.jsx(ue,{content:o("codebaseSearch.resultTooltip",{score:t.toFixed(3)}),children:s.jsx("div",{onClick:a,className:"p-2 border border-[var(--vscode-editorGroup-border)] cursor-pointer hover:bg-secondary hover:text-white",children:s.jsxs("div",{className:"flex gap-2 items-center overflow-hidden",children:[s.jsxs("span",{className:"text-primary-300 whitespace-nowrap flex-shrink-0",children:[e.split("/").at(-1),":",r===n?r:`${r}-${n}`]}),s.jsx("span",{className:"text-gray-500 truncate min-w-0 flex-1",children:e.split("/").slice(0,-1).join("/")}),s.jsx("span",{className:"text-xs text-vscode-descriptionForeground whitespace-nowrap ml-auto opacity-60",children:t.toFixed(3)})]})})})},k4=({results:e})=>{const[t,r]=h.useState(!1);return s.jsxs("div",{className:"flex flex-col -mt-4 gap-1",children:[s.jsxs("div",{onClick:()=>r(!t),className:"cursor-pointer flex items-center justify-between px-2 py-2 border bg-[var(--vscode-editor-background)] border-[var(--vscode-editorGroup-border)]",children:[s.jsx("span",{children:s.jsx(we,{i18nKey:"chat:codebaseSearch.didSearch",count:e.length,values:{count:e.length}})}),s.jsx("span",{className:`codicon codicon-chevron-${t?"up":"down"}`})]}),t&&s.jsx("div",{className:"flex flex-col gap-1",children:e.map((n,o)=>s.jsx(w4,{filePath:n.filePath,score:n.score,startLine:n.startLine,endLine:n.endLine,language:"plaintext",snippet:n.codeChunk},o))})]})},xf=({tool:e,serverName:t,serverSource:r,alwaysAllowMcp:n,isInChatContext:o=!1})=>{const{t:a}=re(),i=e.enabledForPrompt??!0,l=()=>{t&&R.postMessage({type:"toggleToolAlwaysAllow",serverName:t,source:r||"global",toolName:e.name,alwaysAllow:!e.alwaysAllow})},c=()=>{t&&R.postMessage({type:"toggleToolEnabledForPrompt",serverName:t,source:r||"global",toolName:e.name,isEnabled:!e.enabledForPrompt})};return s.jsxs("div",{className:"py-2 border-b border-vscode-panel-border last:border-b-0",children:[s.jsxs("div",{"data-testid":"tool-row-container",className:"flex items-center gap-4",onClick:d=>d.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[s.jsx("span",{className:`codicon codicon-symbol-method mr-2 flex-shrink-0 ${i?"text-vscode-symbolIcon-methodForeground":"text-vscode-descriptionForeground opacity-60"}`}),s.jsx(ue,{content:e.name,children:s.jsx("span",{className:`font-medium truncate ${i?"text-vscode-foreground":"text-vscode-descriptionForeground opacity-60"}`,children:e.name})})]}),t&&s.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[n&&i&&s.jsx(qe,{checked:e.alwaysAllow,onChange:l,"data-tool":e.name,className:"text-xs",children:s.jsx("span",{className:"text-vscode-descriptionForeground whitespace-nowrap",children:a("mcp:tool.alwaysAllow")})}),!o&&s.jsx(ue,{content:a("mcp:tool.togglePromptInclusion"),children:s.jsx(X_,{checked:i,onChange:c,size:"medium","aria-label":a("mcp:tool.togglePromptInclusion"),"data-testid":`tool-prompt-toggle-${e.name}`})})]})]}),e.description&&s.jsx("div",{className:`mt-1 text-xs text-vscode-descriptionForeground ${i?"opacity-80":"opacity-40"}`,children:e.description}),i&&e.inputSchema&&"properties"in e.inputSchema&&Object.keys(e.inputSchema.properties).length>0&&s.jsxs("div",{className:"mt-2 text-xs border border-vscode-panel-border rounded p-2",children:[s.jsx("div",{className:"mb-1 text-[11px] uppercase opacity-80 text-vscode-descriptionForeground",children:a("mcp:tool.parameters")}),Object.entries(e.inputSchema.properties).map(([d,u])=>{const p=e.inputSchema&&"required"in e.inputSchema&&Array.isArray(e.inputSchema.required)&&e.inputSchema.required.includes(d);return s.jsxs("div",{className:"flex items-baseline mt-1",children:[s.jsxs("code",{className:"text-vscode-textPreformat-foreground mr-2",children:[d,p&&s.jsx("span",{className:"text-vscode-errorForeground",children:"*"})]}),s.jsx("span",{className:"opacity-80 break-words text-vscode-descriptionForeground",children:u.description||a("mcp:tool.noDescription")})]},d)})]})]},e.name)};function j4(e){const t="renamed_";return!e||!e.startsWith(t)?e:e.substring(t.length)}const jN=({executionId:e,text:t,serverName:r,toolName:n,isArguments:o=!1,server:a,useMcpServer:i,alwaysAllowMcp:l=!1,initiallyExpanded:c=!1})=>{var C,H,z,D;const{t:d}=vt("mcp"),[u,p]=h.useState(null),[m,g]=h.useState(t||""),[f,x]=h.useState(t||""),[y,N]=h.useState(r),[b,j]=h.useState(n),[v,_]=h.useState(c),k=h.useCallback(Y=>{if(!Y)return{isJson:!1,formatted:""};try{const U=JSON.parse(Y);return{isJson:!0,formatted:JSON.stringify(U,null,2)}}catch{return{isJson:!1,formatted:Y}}},[]),w=h.useMemo(()=>v?u&&u.status==="completed"?k(m):{isJson:!1,formatted:m}:{isJson:!1,formatted:m},[m,v,k,u]),T=h.useMemo(()=>{if(!f)return{isJson:!1,formatted:""};const Y=f.trim();if(Y&&(Y.startsWith("{")&&Y.endsWith("}")||Y.startsWith("[")&&Y.endsWith("]")))try{const U=JSON.parse(Y);return{isJson:!0,formatted:JSON.stringify(U,null,2)}}catch{return{isJson:!1,formatted:f}}return{isJson:!1,formatted:f}},[f]),S=w.formatted,P=T.formatted,I=w.isJson,M=h.useCallback(()=>{_(!v)},[v]),A=h.useCallback(Y=>{const U=Y.data;if(U.type==="mcpExecutionStatus")try{const q=KT.safeParse(xr(U.text||"{}",{}));if(q.success){const F=q.data;F.executionId===e&&(p(F),F.status==="output"&&F.response?g(W=>W+F.response):F.status==="completed"&&F.response&&g(F.response))}}catch(q){console.error("Failed to parse MCP execution status",q)}},[e]);return Us("message",A),h.useEffect(()=>{t&&x(t),i!=null&&i.response&&g(i.response),r&&r!==y&&N(r),n&&n!==b&&j(n)},[t,i,r,n,y,b,o]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 mb-1 cursor-pointer select-none",onClick:M,children:[s.jsxs("div",{className:"flex flex-row items-center gap-1 flex-wrap",children:[s.jsx(Ug,{size:16,className:"text-vscode-descriptionForeground"}),s.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:b&&s.jsx("span",{className:"font-bold text-vscode-foreground",children:b})})]}),s.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 px-1",children:[s.jsx("div",{className:"flex flex-row items-center gap-1",children:u&&s.jsxs("div",{className:"flex flex-row items-center gap-2 font-mono text-xs",children:[s.jsx("div",{className:Z("rounded-full size-1.5",{"bg-lime-400":u.status==="started"||u.status==="completed","bg-red-400":u.status==="error"})}),s.jsx("div",{className:Z("whitespace-nowrap",{"text-vscode-foreground":u.status==="started"||u.status==="completed","text-vscode-errorForeground":u.status==="error"}),children:u.status==="started"?d("execution.running"):u.status==="completed"?d("execution.completed"):d("execution.error")}),u.status==="error"&&"error"in u&&u.error&&s.jsxs("div",{className:"whitespace-nowrap",children:["(",u.error,")"]})]})}),s.jsx(oe,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation(),M()},children:v?s.jsx(Zo,{className:"size-4"}):s.jsx(n_,{className:"size-4"})})]})]}),s.jsxs("div",{className:Z("w-full bg-vscode-editor-background rounded-xs p-2",!v&&"hidden"),children:[(i==null?void 0:i.type)==="use_mcp_tool"&&s.jsx("div",{onClick:Y=>Y.stopPropagation(),children:s.jsx(xf,{tool:{name:i.toolName||"",description:((H=(C=a==null?void 0:a.tools)==null?void 0:C.find(Y=>Y.name===i.toolName))==null?void 0:H.description)||"",alwaysAllow:((D=(z=a==null?void 0:a.tools)==null?void 0:z.find(Y=>Y.name===i.toolName))==null?void 0:D.alwaysAllow)||!1},serverName:i.serverName,serverSource:a==null?void 0:a.source,alwaysAllowMcp:l,isInChatContext:!0})}),!i&&b&&y&&s.jsx("div",{onClick:Y=>Y.stopPropagation(),children:s.jsx(xf,{tool:{name:b||"",description:"",alwaysAllow:!1},serverName:y,serverSource:void 0,alwaysAllowMcp:l,isInChatContext:!0})}),(o||(i==null?void 0:i.arguments)||f)&&s.jsx("div",{className:Z({"mt-1 pt-1":!o&&((i==null?void 0:i.type)==="use_mcp_tool"||b&&y)}),children:s.jsx(Fn,{source:j4(P),language:"json"})}),s.jsx(N4,{isExpanded:v,response:S,isJson:I,hasArguments:!!(o||i!=null&&i.arguments||f),isPartial:u?u.status!=="completed":!1})]})]})};jN.displayName="McpExecution";const _4=({isExpanded:e,response:t,isJson:r,hasArguments:n,isPartial:o=!1})=>!e||t.length===0?s.jsx("div",{className:Z("overflow-hidden",{"max-h-0":!e})}):s.jsx("div",{className:Z("overflow-hidden",{"max-h-96 overflow-y-auto mt-1 pt-1 border-t border-border/25":n,"max-h-96 overflow-y-auto mt-1 pt-1":!n}),children:r?s.jsx(Fn,{source:t,language:"json"}):s.jsx(Jn,{markdown:t,partial:o})}),N4=h.memo(_4);/** @license
 * fzf v0.5.2
 * Copyright (c) 2021 Ajit
 * Licensed under BSD 3-Clause
 */const nx={216:"O",223:"s",248:"o",273:"d",295:"h",305:"i",320:"l",322:"l",359:"t",383:"s",384:"b",385:"B",387:"b",390:"O",392:"c",393:"D",394:"D",396:"d",398:"E",400:"E",402:"f",403:"G",407:"I",409:"k",410:"l",412:"M",413:"N",414:"n",415:"O",421:"p",427:"t",429:"t",430:"T",434:"V",436:"y",438:"z",477:"e",485:"g",544:"N",545:"d",549:"z",564:"l",565:"n",566:"t",567:"j",570:"A",571:"C",572:"c",573:"L",574:"T",575:"s",576:"z",579:"B",580:"U",581:"V",582:"E",583:"e",584:"J",585:"j",586:"Q",587:"q",588:"R",589:"r",590:"Y",591:"y",592:"a",593:"a",595:"b",596:"o",597:"c",598:"d",599:"d",600:"e",603:"e",604:"e",605:"e",606:"e",607:"j",608:"g",609:"g",610:"G",613:"h",614:"h",616:"i",618:"I",619:"l",620:"l",621:"l",623:"m",624:"m",625:"m",626:"n",627:"n",628:"N",629:"o",633:"r",634:"r",635:"r",636:"r",637:"r",638:"r",639:"r",640:"R",641:"R",642:"s",647:"t",648:"t",649:"u",651:"v",652:"v",653:"w",654:"y",655:"Y",656:"z",657:"z",663:"c",665:"B",666:"e",667:"G",668:"H",669:"j",670:"k",671:"L",672:"q",686:"h",867:"a",868:"e",869:"i",870:"o",871:"u",872:"c",873:"d",874:"h",875:"m",876:"r",877:"t",878:"v",879:"x",7424:"A",7427:"B",7428:"C",7429:"D",7431:"E",7432:"e",7433:"i",7434:"J",7435:"K",7436:"L",7437:"M",7438:"N",7439:"O",7440:"O",7441:"o",7442:"o",7443:"o",7446:"o",7447:"o",7448:"P",7449:"R",7450:"R",7451:"T",7452:"U",7453:"u",7454:"u",7455:"m",7456:"V",7457:"W",7458:"Z",7522:"i",7523:"r",7524:"u",7525:"v",7834:"a",7835:"s",8305:"i",8341:"h",8342:"k",8343:"l",8344:"m",8345:"n",8346:"p",8347:"s",8348:"t",8580:"c"};for(let e="".codePointAt(0);e<="".codePointAt(0);++e){const t=String.fromCodePoint(e);for(const r of"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"){const o=(r+t).normalize().codePointAt(0);o>126&&(nx[o]=r)}}const tu={a:[7844,7863],e:[7870,7879],o:[7888,7907],u:[7912,7921]};for(const e of Object.keys(tu)){const t=e.toUpperCase();for(let r=tu[e][0];r<=tu[e][1];++r)nx[r]=r%2===0?t:e}function ul(e){if(e<192||e>8580)return e;const t=nx[e];return t!==void 0?t.codePointAt(0):e}function Zn(e,t){return e>t?e:t}const _N=e=>e.split("").map(t=>t.codePointAt(0)),S4=new Set(` \f
\r	\v\u2028\u2029\uFEFF`.split("").map(e=>e.codePointAt(0)));for(let e="".codePointAt(0);e<="".codePointAt(0);e++)S4.add(e);const Qa="".codePointAt(0),zi="A".codePointAt(0),qi="Z".codePointAt(0),NN="a".codePointAt(0),SN="z".codePointAt(0),T4="0".codePointAt(0),P4="9".codePointAt(0);function xa(e,t,r){return r?e:t-e-1}const Ui=16,vf=-3,Mc=-1,Jo=Ui/2,I4=Ui/2,E4=Jo+Mc,TN=4,PN=2;function bf(e){return e?new Set:null}function hi(e,t,r){if(t!==null&&t.i16.length>e+r){const n=t.i16.subarray(e,e+r);return[e+r,n]}return[e,new Int16Array(r)]}function lb(e,t,r){if(t!==null&&t.i32.length>e+r){const n=t.i32.subarray(e,e+r);return[e+r,n]}return[e,new Int32Array(r)]}function IN(e){return e>=NN&&e<=SN?1:e>=zi&&e<=qi?2:e>=T4&&e<=P4?4:0}function EN(e){const t=String.fromCodePoint(e);return t!==t.toUpperCase()?1:t!==t.toLowerCase()?2:t.match(new RegExp("\\p{Number}","gu"))!==null?4:t.match(new RegExp("\\p{Letter}","gu"))!==null?3:0}function Cc(e){return e<=Qa?IN(e):EN(e)}function ox(e,t){return e===0&&t!==0?Jo:e===1&&t===2||e!==4&&t===4?E4:t===0?I4:0}function M4(e,t){return t===0?Jo:ox(Cc(e[t-1]),Cc(e[t]))}function C4(e,t,r,n){let o=e.slice(n),a=o.indexOf(r);if(a===0)return n;if(!t&&r>=NN&&r<=SN){a>0&&(o=o.slice(0,a));const i=o.indexOf(r-32);i>=0&&(a=i)}return a<0?-1:n+a}function cb(e){for(const t of e)if(t>=128)return!1;return!0}function ax(e,t,r){if(!cb(e))return 0;if(!cb(t))return-1;let n=0,o=0;for(let a=0;a<t.length;a++){if(o=C4(e,r,t[a],o),o<0)return-1;a===0&&o>0&&(n=o-1),o++}return n}const A4=(e,t,r,n,o,a,i)=>{const l=o.length;if(l===0)return[{start:0,end:0,score:0},bf(a)];const c=n.length;if(i!==null&&c*l>i.i16.length)return CN(e,t,r,n,o,a);const d=ax(n,o,e);if(d<0)return[{start:-1,end:-1,score:0},null];let u=0,p=0,m=null,g=null,f=null,x=null;[u,m]=hi(u,i,c),[u,g]=hi(u,i,c),[u,f]=hi(u,i,c),[p,x]=lb(p,i,l);const[,y]=lb(p,i,c);for(let W=0;W<y.length;W++)y[W]=n[W];let N=0,b=0,j=0,v=0;const _=o[0];let k=o[0],w=0,T=0,S=!1,P=y.subarray(d),I=m.subarray(d).subarray(0,P.length),M=g.subarray(d).subarray(0,P.length),A=f.subarray(d).subarray(0,P.length);for(let[W,te]of P.entries()){let K=null;te<=Qa?(K=IN(te),!e&&K===2&&(te+=32)):(K=EN(te),!e&&K===2&&(te=String.fromCodePoint(te).toLowerCase().codePointAt(0)),t&&(te=ul(te))),P[W]=te;const X=ox(T,K);if(A[W]=X,T=K,te===k&&(j<l&&(x[j]=d+W,j++,k=o[Math.min(j,l-1)]),v=d+W),te===_){const G=Ui+X*PN;if(I[W]=G,M[W]=1,l===1&&(r&&G>N||!r&&G>=N)&&(N=G,b=d+W,r&&X===Jo))break;S=!1}else S?I[W]=Zn(w+Mc,0):I[W]=Zn(w+vf,0),M[W]=0,S=!0;w=I[W]}if(j!==l)return[{start:-1,end:-1,score:0},null];if(l===1){const W={start:b,end:b+1,score:N};if(!a)return[W,null];const te=new Set;return te.add(b),[W,te]}const C=x[0],H=v-C+1;let z=null;[u,z]=hi(u,i,H*l);{const W=m.subarray(C,v+1);for(const[te,K]of W.entries())z[te]=K}let[,D]=hi(u,i,H*l);{const W=g.subarray(C,v+1);for(const[te,K]of W.entries())D[te]=K}const Y=x.subarray(1),U=o.slice(1).slice(0,Y.length);for(const[W,te]of Y.entries()){let K=!1;const X=U[W],G=W+1,J=G*H,ae=y.subarray(te,v+1),O=f.subarray(te).subarray(0,ae.length),pe=D.subarray(J+te-C).subarray(0,ae.length),be=D.subarray(J+te-C-1-H).subarray(0,ae.length),xe=z.subarray(J+te-C).subarray(0,ae.length),Pe=z.subarray(J+te-C-1-H).subarray(0,ae.length),Te=z.subarray(J+te-C-1).subarray(0,ae.length);Te[0]=0;for(const[L,fe]of ae.entries()){const ne=L+te;let Ve=0,mt=0,V=0;if(K?mt=Te[L]+Mc:mt=Te[L]+vf,X===fe){Ve=Pe[L]+Ui;let _e=O[L];V=be[L]+1,_e===Jo?V=1:V>1&&(_e=Zn(_e,Zn(TN,f[ne-V+1]))),Ve+_e<mt?(Ve+=O[L],V=0):Ve+=_e}pe[L]=V,K=Ve<mt;const je=Zn(Zn(Ve,mt),0);G===l-1&&(r&&je>N||!r&&je>=N)&&(N=je,b=ne),xe[L]=je}}const q=bf(a);let F=C;if(a&&q!==null){let W=l-1;F=b;let te=!0;for(;;){const K=W*H,X=F-C,G=z[K+X];let J=0,ae=0;if(W>0&&F>=x[W]&&(J=z[K-H+X-1]),F>x[W]&&(ae=z[K+X-1]),G>J&&(G>ae||G===ae&&te)){if(q.add(F),W===0)break;W--}te=D[K+X]>1||K+H+X+1<D.length&&D[K+H+X+1]>0,F--}}return[{start:F,end:b+1,score:N},q]};function MN(e,t,r,n,o,a,i){let l=0,c=0,d=!1,u=0,p=0;const m=bf(i);let g=0;o>0&&(g=Cc(r[o-1]));for(let f=o;f<a;f++){let x=r[f];const y=Cc(x);if(e||(x>=zi&&x<=qi?x+=32:x>Qa&&(x=String.fromCodePoint(x).toLowerCase().codePointAt(0))),t&&(x=ul(x)),x===n[l]){i&&m!==null&&m.add(f),c+=Ui;let N=ox(g,y);u===0?p=N:(N===Jo&&(p=N),N=Zn(Zn(N,p),TN)),l===0?c+=N*PN:c+=N,d=!1,u++,l++}else d?c+=Mc:c+=vf,d=!0,u=0,p=0;g=y}return[c,m]}const CN=(e,t,r,n,o,a,i)=>{if(o.length===0)return[{start:0,end:0,score:0},null];if(ax(n,o,e)<0)return[{start:-1,end:-1,score:0},null];let l=0,c=-1,d=-1;const u=n.length,p=o.length;for(let m=0;m<u;m++){let g=n[xa(m,u,r)];e||(g>=zi&&g<=qi?g+=32:g>Qa&&(g=String.fromCodePoint(g).toLowerCase().codePointAt(0))),t&&(g=ul(g));const f=o[xa(l,p,r)];if(g===f&&(c<0&&(c=m),l++,l===p)){d=m+1;break}}if(c>=0&&d>=0){l--;for(let f=d-1;f>=c;f--){const x=xa(f,u,r);let y=n[x];e||(y>=zi&&y<=qi?y+=32:y>Qa&&(y=String.fromCodePoint(y).toLowerCase().codePointAt(0)));const N=xa(l,p,r),b=o[N];if(y===b&&(l--,l<0)){c=f;break}}if(!r){const f=c;c=u-d,d=u-f}const[m,g]=MN(e,t,n,o,c,d,a);return[{start:c,end:d,score:m},g]}return[{start:-1,end:-1,score:0},null]},R4=(e,t,r,n,o,a,i)=>{if(o.length===0)return[{start:0,end:0,score:0},null];const l=n.length,c=o.length;if(l<c)return[{start:-1,end:-1,score:0},null];if(ax(n,o,e)<0)return[{start:-1,end:-1,score:0},null];let d=0,u=-1,p=0,m=-1;for(let g=0;g<l;g++){const f=xa(g,l,r);let x=n[f];e||(x>=zi&&x<=qi?x+=32:x>Qa&&(x=String.fromCodePoint(x).toLowerCase().codePointAt(0))),t&&(x=ul(x));const y=xa(d,c,r);if(o[y]===x){if(y===0&&(p=M4(n,f)),d++,d===c){if(p>m&&(u=g,m=p),p===Jo)break;g-=d-1,d=0,p=0}}else g-=d,d=0,p=0}if(u>=0){let g=0,f=0;r?(g=u-c+1,f=u+1):(g=l-(u+1),f=l-(u-c+1));const[x]=MN(e,t,n,o,g,f,!1);return[{start:g,end:f,score:x},null]}return[{start:-1,end:-1,score:0},null]},O4=100*1024,D4=2048;function F4(e,t){return{i16:new Int16Array(e),i32:new Int32Array(t)}}const L4=F4(O4,D4),B4=(e,t,r)=>{let n=!1;switch(t){case"smart-case":e.toLowerCase()!==e&&(n=!0);break;case"case-sensitive":n=!0;break;case"case-insensitive":e=e.toLowerCase(),n=!1;break}let o=_N(e);return r&&(o=o.map(ul)),{queryRunes:o,caseSensitive:n}};function z4(e,t){const r=Object.keys(e).map(o=>parseInt(o,10)).sort((o,a)=>a-o);let n=[];for(const o of r)if(n=n.concat(e[o]),n.length>=t)break;return n}function q4(e,t,r){return n=>{const o=this.runesList[n];if(t.length>o.length)return;let[a,i]=this.algoFn(r,this.opts.normalize,this.opts.forward,o,t,!0,L4);if(a.start===-1)return;if(this.opts.fuzzy===!1){i=new Set;for(let c=a.start;c<a.end;++c)i.add(c)}const l=this.opts.sort?a.score:0;e[l]===void 0&&(e[l]=[]),e[l].push({item:this.items[n],...a,positions:i??new Set})}}function U4(e){const{queryRunes:t,caseSensitive:r}=B4(e,this.opts.casing,this.opts.normalize),n={},o=q4.bind(this)(n,t,r);for(let a=0,i=this.runesList.length;a<i;++a)o(a);return z4(n,this.opts.limit)}const AN={limit:1/0,selector:e=>e,casing:"smart-case",normalize:!0,fuzzy:"v2",tiebreakers:[],sort:!0,forward:!0};class W4{constructor(t,...r){switch(this.opts={...AN,...r[0]},this.items=t,this.runesList=t.map(n=>_N(this.opts.selector(n).normalize())),this.algoFn=R4,this.opts.fuzzy){case"v2":this.algoFn=A4;break;case"v1":this.algoFn=CN;break}}}const K4={...AN,match:U4};class $4 extends W4{constructor(t,...r){super(t,...r),this.opts={...K4,...r[0]}}find(t){if(t.length===0||this.items.length===0)return this.items.slice(0,this.opts.limit).map(H4);t=t.normalize();let r=this.opts.match.bind(this)(t);return V4(r,this.opts)}}const H4=e=>({item:e,start:-1,end:-1,score:0,positions:new Set});function V4(e,t){if(t.sort){const{selector:r}=t;e.sort((n,o)=>{if(n.score===o.score)for(const a of t.tiebreakers){const i=a(n,o,r);if(i!==0)return i}return 0})}return Number.isFinite(t.limit)&&e.splice(t.limit),e}class su{constructor(t,...r){this.finder=new $4(t,...r),this.find=this.finder.find.bind(this.finder)}}function RN(e){return e.replace(/ /g,"\\ ")}function G4(e,t){let r=e;if(e.startsWith("file://"))r=e.substring(7);else if(e.startsWith("vscode-remote://")){const l=e.substring(16),c=l.indexOf("/");c!==-1?r=l.substring(c+1):r=""}try{r=decodeURIComponent(r),r.startsWith("/")&&r[2]===":"&&(r=r.substring(1))}catch(l){console.error("Error decoding URI component in convertToMentionPath:",l,r)}const n=r.replace(/\\/g,"/");let o=t?t.replace(/\\/g,"/"):"";if(!o)return r;o.endsWith("/")&&(o=o.slice(0,-1));const a=n.toLowerCase(),i=o.toLowerCase();if(a.startsWith(i)){let l=n.substring(o.length);return l=l.startsWith("/")?l:"/"+l,"@"+RN(l)}return r}function db(e){return(e.description||e.whenToUse||e.roleDefinition).split(`
`)[0]}function Q4(e){return e.split("/").pop()||e}function Y4(e,t,r,n=!1){if(n)return{newValue:r,mentionIndex:0};const o=e.slice(0,t),a=e.slice(t),i=o.lastIndexOf("@");let l=r;r&&r.startsWith("/")&&r.includes(" ")&&!r.includes("\\ ")&&(l=RN(r));let c,d;if(i!==-1){const u=e.slice(0,i),p=/^[a-zA-Z0-9\s]*$/.test(a)?a.replace(/^[^\s]*/,""):a;c=u+"@"+l+" "+p,d=i}else c=o+"@"+l+" "+a,d=t;return{newValue:c,mentionIndex:d}}function X4(e,t){const r=e.slice(0,t),n=e.slice(t),o=r.match(new RegExp(sx.source+"$"));if(o){const a=o[0].length,i=e.slice(0,t-a)+n.replace(/^\s/,""),l=t-a;return{newText:i,newPosition:l}}return{newText:e,newPosition:t}}var Ie=(e=>(e.OpenedFile="openedFile",e.File="file",e.Folder="folder",e.Problems="problems",e.Terminal="terminal",e.URL="url",e.Git="git",e.NoResults="noResults",e.Mode="mode",e.Image="image",e.Command="command",e.SectionHeader="sectionHeader",e))(Ie||{});function yf(e,t=null,r,n=[],o,a){if(e.startsWith("/")){const b=e.slice(1),j=[];if(a!=null&&a.length){const v=a.map(w=>({original:w,searchStr:w.name})),_=new su(v,{selector:w=>w.searchStr}),k=b?_.find(b).map(w=>({type:"command",value:w.item.original.name,slashCommand:`/${w.item.original.name}`,description:w.item.original.description,argumentHint:w.item.original.argumentHint})):a.map(w=>({type:"command",value:w.name,slashCommand:`/${w.name}`,description:w.description,argumentHint:w.argumentHint}));k.length>0&&(j.push({type:"sectionHeader",label:"Commands"}),j.push(...k))}if(o!=null&&o.length){const v=o.map(w=>({original:w,searchStr:w.name})),_=new su(v,{selector:w=>w.searchStr}),k=b?_.find(b).map(w=>({type:"mode",value:w.item.original.slug,slashCommand:`/${w.item.original.slug}`,description:db(w.item.original)})):o.map(w=>({type:"mode",value:w.slug,slashCommand:`/${w.slug}`,description:db(w)}));k.length>0&&(j.push({type:"sectionHeader",label:"Modes"}),j.push(...k))}return j.length>0?j:[{type:"noResults"}]}const i={type:"git",value:"git-changes",label:"Working changes",description:"Current uncommitted changes",icon:"$(git-commit)"};if(e===""){if(t==="file"){const b=r.filter(j=>j.type==="file"||j.type==="openedFile").map(j=>({type:j.type,value:j.value}));return b.length>0?b:[{type:"noResults"}]}if(t==="folder"){const b=r.filter(j=>j.type==="folder").map(j=>({type:"folder",value:j.value}));return b.length>0?b:[{type:"noResults"}]}if(t==="git"){const b=r.filter(j=>j.type==="git");return b.length>0?[i,...b]:[i]}return[{type:"problems"},{type:"terminal"},{type:"url"},{type:"folder"},{type:"file"},{type:"image"},{type:"git"}]}const l=e.toLowerCase(),c=[];if("git".startsWith(l)?c.push({type:"git",label:"Git Commits",description:"Search repository history",icon:"$(git-commit)"}):"git-changes".startsWith(l)&&c.push(i),"problems".startsWith(l)&&c.push({type:"problems"}),"terminal".startsWith(l)&&c.push({type:"terminal"}),e.startsWith("http")&&c.push({type:"url",value:e}),/^[a-f0-9]{7,40}$/i.test(l)){const b=r.filter(j=>{var v;return j.type==="git"&&((v=j.value)==null?void 0:v.toLowerCase())===l});b.length>0?c.push(...b):c.push({type:"git",value:l,label:`Commit ${l}`,description:"Git commit hash",icon:"$(git-commit)"})}const d=r.map(b=>({original:b,searchStr:[b.value,b.label,b.description].filter(Boolean).join(" ")})),u=new su(d,{selector:b=>b.searchStr}),p=e?u.find(e).map(b=>b.item.original):[],m=p.filter(b=>b.type==="openedFile"),g=p.filter(b=>b.type==="git"),f=n.map(b=>{const j=b.path.startsWith("/")?b.path:`/${b.path}`,v=j,_=b.label||Q4(b.path);return{type:b.type==="folder"?"folder":"file",value:j,label:_,description:v}}),x=[...c,...m,...f,...g],y=new Set,N=x.filter(b=>{const j=b.value;let v="";return b.type==="file"||b.type==="folder"||b.type==="openedFile"?v=j:v=`${b.type}-${j}`,y.has(v)?!1:(y.add(v),!0)});return N.length>0?N:[{type:"noResults"}]}function J4(e,t){const r=e.slice(0,t);if(e.startsWith("/")&&!e.includes(" ")&&t<=e.length)return!0;const n=r.lastIndexOf("@");if(n===-1)return!1;const o=r.slice(n+1);return!(new RegExp("(?<!\\\\)\\s").test(o)||o.toLowerCase().startsWith("http"))}const ub=new Nc({max:500});function Z4(e){const t=ub.get(e);if(t!==void 0)return t;const r=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");return ub.set(e,r),r}function eO(){return Math.random().toString(36).substring(2,9)}function tO({textAreaRef:e,enableChatAutocomplete:t=!0}){const[r,n]=h.useState(""),o=h.useRef(!1),a=h.useRef(null),i=h.useRef(""),l=h.useRef(""),c=h.useRef(!1),d=h.useRef(""),u=h.useRef(""),p=h.useCallback(()=>{const b=e.current;if(!b)return;const j=b.value,v=b.selectionStart===j.length&&b.selectionEnd===j.length,_=o.current&&v&&d.current&&j===u.current;n(_?d.current:"")},[e]);h.useEffect(()=>{const b=j=>{const v=j.data;if(v.type==="chatCompletionResult"&&v.requestId===i.current&&o.current){const _=e.current;if(!_)return;const k=_.value,w=l.current,T=_.selectionStart===k.length;k===w&&T&&(d.current=v.text||"",u.current=k,p())}};return window.addEventListener("message",b),()=>window.removeEventListener("message",b)},[e,p]);const m=h.useCallback(()=>{d.current="",u.current="",n("")},[]),g=h.useCallback(b=>{const j=e.current;if(!j)return!1;const v=j.selectionStart!==j.selectionEnd,_=j.selectionStart===j.value.length,k=r&&!v&&_;if(b.key==="Tab"&&!b.shiftKey&&k)return b.preventDefault(),c.current=!0,pb(j,r),R.postMessage({type:"chatCompletionAccepted",suggestionLength:r.length}),m(),!0;if(b.key==="ArrowRight"&&!b.shiftKey&&!b.ctrlKey&&!b.metaKey&&k){b.preventDefault(),c.current=!0;const{word:w,remainder:T}=sO(r);return pb(j,w),R.postMessage({type:"chatCompletionAccepted",suggestionLength:w.length}),d.current=T,u.current=j.value,p(),!0}return b.key==="Escape"&&r&&m(),!1},[r,e,m,p]),f=h.useCallback(b=>{const j=b.target.value;if(m(),a.current&&clearTimeout(a.current),c.current)c.current=!1;else if(t&&o.current&&j.length>=5&&!j.startsWith("/")&&!j.includes("@")){const v=eO();i.current=v,l.current=j,a.current=setTimeout(()=>{R.postMessage({type:"requestChatCompletion",text:j,requestId:v})},300)}},[t,m]),x=h.useCallback(()=>{o.current=!0,p()},[p]),y=h.useCallback(()=>{o.current=!1,p(),a.current&&(clearTimeout(a.current),a.current=null)},[p]),N=h.useCallback(()=>{p()},[p]);return h.useEffect(()=>()=>{a.current&&clearTimeout(a.current)},[]),{ghostText:r,handleKeyDown:g,handleInputChange:f,handleFocus:x,handleBlur:y,handleSelect:N,clearGhostText:m}}function sO(e){if(!e)return{word:"",remainder:""};const t=e.match(/^(\s*\S+\s*)/);return t?{word:t[1],remainder:e.slice(t[1].length)}:{word:e,remainder:""}}function pb(e,t){e.setSelectionRange(e.value.length,e.value.length),document==null||document.execCommand("insertText",!1,t)}const rO=({value:e,onChange:t,modeShortcutText:r,customModes:n,disabled:o=!1,title:a,triggerClassName:i,initiallyOpen:l})=>{var f;const{t:c}=re(),d=Qe.useMemo(()=>ho(n),[n]),{organizationModes:u,otherModes:p}=Qe.useMemo(()=>{const x=d.filter(N=>N.source==="organization"),y=d.filter(N=>N.source!=="organization");return{organizationModes:x,otherModes:y}},[d]),m=Qe.useCallback(x=>{t(x),R.postMessage({type:"mode",text:x})},[t]),g=Qe.useMemo(()=>{const x=[{value:"shortcut",label:r,disabled:!0,type:Jt.SHORTCUT}];return u.length>0&&(x.push({value:"org-header",label:c("chat:modeSelector.organizationModes"),disabled:!0,type:Jt.SHORTCUT}),x.push(...u.map(y=>({value:y.slug,label:y.name,codicon:y.iconName||"codicon-organization",description:y.description,type:Jt.ITEM}))),x.push({value:"sep-org",label:c("chat:separator"),type:Jt.SEPARATOR})),x.push(...p.map(y=>({value:y.slug,label:y.name,codicon:y.iconName,description:y.description,type:Jt.ITEM}))),x.push({value:"sep-1",label:c("chat:separator"),type:Jt.SEPARATOR},{value:"promptsButtonClicked",label:c("chat:edit"),type:Jt.ACTION}),x},[u,p,r,c]);return s.jsx(Df,{value:((f=d.find(x=>x.slug===e))==null?void 0:f.slug)??Th,title:a||c("chat:selectMode"),disabled:o,initiallyOpen:l,options:g,onChange:m,shortcutText:r,triggerClassName:Z("w-full bg-[var(--background)] border-[var(--vscode-input-border)] hover:bg-[var(--color-vscode-list-hoverBackground)]",i)})},nO=({currentConfigId:e,currentApiConfigName:t,displayName:r,listApiConfigMeta:n,pinnedApiConfigs:o,togglePinnedApiConfig:a,selectApiConfigDisabled:i=!1,initiallyOpen:l=!1})=>{const{t:c}=re();return((n==null?void 0:n.length)??0)<2?null:s.jsx("div",{className:Z("flex-1","min-w-0","overflow-hidden"),children:s.jsx(Df,{value:e,disabled:i,title:c("chat:selectApiConfig"),disableSearch:!1,placeholder:r,initiallyOpen:l,options:[...(n||[]).filter(d=>o&&o[d.id]).map(d=>({value:d.id,label:d.name,name:d.name,type:Jt.ITEM,pinned:!0})).sort((d,u)=>d.label.localeCompare(u.label)),...o&&Object.keys(o).length>0&&(n||[]).some(d=>!o[d.id])?[{value:"sep-pinned",label:c("chat:separator"),type:Jt.SEPARATOR}]:[],...(n||[]).filter(d=>!o||!o[d.id]).map(d=>({value:d.id,label:d.name,name:d.name,type:Jt.ITEM,pinned:!1})).sort((d,u)=>d.label.localeCompare(u.label)),{value:"sep-2",label:c("chat:separator"),type:Jt.SEPARATOR},{value:"settingsButtonClicked",label:c("chat:edit"),type:Jt.ACTION}],onChange:d=>{d==="settingsButtonClicked"?R.postMessage({type:"loadApiConfiguration",text:d,values:{section:"providers"}}):R.postMessage({type:"loadApiConfigurationById",text:d})},contentClassName:"max-h-[300px] overflow-y-auto",triggerClassName:Z("w-full text-ellipsis overflow-hidden","bg-[var(--background)] border-[var(--vscode-input-border)] hover:bg-[var(--color-vscode-list-hoverBackground)]"),itemClassName:"group",renderItem:({type:d,value:u,label:p,pinned:m})=>{if(d!==Jt.ITEM)return s.jsx("div",{className:"py-1.5 px-3",children:p});const g=n==null?void 0:n.find(x=>x.id===u),f=(g==null?void 0:g.name)===t;return s.jsxs("div",{className:"flex justify-between gap-2 w-full py-1.5 px-3",children:[s.jsx("div",{className:Z("truncate min-w-0 overflow-hidden",{"font-medium":f}),children:p}),s.jsxs("div",{className:"flex justify-end w-10 flex-shrink-0",children:[s.jsx("div",{className:Z("size-5 p-1",{"block group-hover:hidden":!m,hidden:!f}),children:s.jsx(yr,{className:"size-3"})}),s.jsx(ue,{content:c(m?"chat:unpin":"chat:pin"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:x=>{x.stopPropagation(),a(u),R.postMessage({type:"toggleApiConfigPin",text:u})},className:Z("size-5",{"hidden group-hover:flex":!m,"bg-accent":m}),children:s.jsx(c_,{className:"size-3 p-0.5 opacity-50"})})})]})]})}})})};var va={folderNames:{bot:"folder-robot",".bot":"folder-robot",_bot:"folder-robot",__bot__:"folder-robot",robot:"folder-robot",".robot":"folder-robot",_robot:"folder-robot",__robot__:"folder-robot",src:"folder-src",".src":"folder-src",_src:"folder-src",__src__:"folder-src",srcs:"folder-src",".srcs":"folder-src",_srcs:"folder-src",__srcs__:"folder-src",source:"folder-src",".source":"folder-src",_source:"folder-src",__source__:"folder-src",sources:"folder-src",".sources":"folder-src",_sources:"folder-src",__sources__:"folder-src",code:"folder-src",".code":"folder-src",_code:"folder-src",__code__:"folder-src",dist:"folder-dist",".dist":"folder-dist",_dist:"folder-dist",__dist__:"folder-dist",out:"folder-dist",".out":"folder-dist",_out:"folder-dist",__out__:"folder-dist",build:"folder-dist",".build":"folder-dist",_build:"folder-dist",__build__:"folder-dist",release:"folder-dist",".release":"folder-dist",_release:"folder-dist",__release__:"folder-dist",bin:"folder-dist",".bin":"folder-dist",_bin:"folder-dist",__bin__:"folder-dist",css:"folder-css",".css":"folder-css",_css:"folder-css",__css__:"folder-css",stylesheet:"folder-css",".stylesheet":"folder-css",_stylesheet:"folder-css",__stylesheet__:"folder-css",stylesheets:"folder-css",".stylesheets":"folder-css",_stylesheets:"folder-css",__stylesheets__:"folder-css",style:"folder-css",".style":"folder-css",_style:"folder-css",__style__:"folder-css",styles:"folder-css",".styles":"folder-css",_styles:"folder-css",__styles__:"folder-css",sass:"folder-sass",".sass":"folder-sass",_sass:"folder-sass",__sass__:"folder-sass",scss:"folder-sass",".scss":"folder-sass",_scss:"folder-sass",__scss__:"folder-sass",tv:"folder-television",".tv":"folder-television",_tv:"folder-television",__tv__:"folder-television",television:"folder-television",".television":"folder-television",_television:"folder-television",__television__:"folder-television",desktop:"folder-desktop",".desktop":"folder-desktop",_desktop:"folder-desktop",__desktop__:"folder-desktop",console:"folder-console",".console":"folder-console",_console:"folder-console",__console__:"folder-console",images:"folder-images",".images":"folder-images",_images:"folder-images",__images__:"folder-images",image:"folder-images",".image":"folder-images",_image:"folder-images",__image__:"folder-images",imgs:"folder-images",".imgs":"folder-images",_imgs:"folder-images",__imgs__:"folder-images",img:"folder-images",".img":"folder-images",_img:"folder-images",__img__:"folder-images",icons:"folder-images",".icons":"folder-images",_icons:"folder-images",__icons__:"folder-images",icon:"folder-images",".icon":"folder-images",_icon:"folder-images",__icon__:"folder-images",icos:"folder-images",".icos":"folder-images",_icos:"folder-images",__icos__:"folder-images",ico:"folder-images",".ico":"folder-images",_ico:"folder-images",__ico__:"folder-images",figures:"folder-images",".figures":"folder-images",_figures:"folder-images",__figures__:"folder-images",figure:"folder-images",".figure":"folder-images",_figure:"folder-images",__figure__:"folder-images",figs:"folder-images",".figs":"folder-images",_figs:"folder-images",__figs__:"folder-images",fig:"folder-images",".fig":"folder-images",_fig:"folder-images",__fig__:"folder-images",screenshot:"folder-images",".screenshot":"folder-images",_screenshot:"folder-images",__screenshot__:"folder-images",screenshots:"folder-images",".screenshots":"folder-images",_screenshots:"folder-images",__screenshots__:"folder-images",screengrab:"folder-images",".screengrab":"folder-images",_screengrab:"folder-images",__screengrab__:"folder-images",screengrabs:"folder-images",".screengrabs":"folder-images",_screengrabs:"folder-images",__screengrabs__:"folder-images",pic:"folder-images",".pic":"folder-images",_pic:"folder-images",__pic__:"folder-images",pics:"folder-images",".pics":"folder-images",_pics:"folder-images",__pics__:"folder-images",picture:"folder-images",".picture":"folder-images",_picture:"folder-images",__picture__:"folder-images",pictures:"folder-images",".pictures":"folder-images",_pictures:"folder-images",__pictures__:"folder-images",photo:"folder-images",".photo":"folder-images",_photo:"folder-images",__photo__:"folder-images",photos:"folder-images",".photos":"folder-images",_photos:"folder-images",__photos__:"folder-images",photograph:"folder-images",".photograph":"folder-images",_photograph:"folder-images",__photograph__:"folder-images",photographs:"folder-images",".photographs":"folder-images",_photographs:"folder-images",__photographs__:"folder-images",script:"folder-scripts",".script":"folder-scripts",_script:"folder-scripts",__script__:"folder-scripts",scripts:"folder-scripts",".scripts":"folder-scripts",_scripts:"folder-scripts",__scripts__:"folder-scripts",scripting:"folder-scripts",".scripting":"folder-scripts",_scripting:"folder-scripts",__scripting__:"folder-scripts",node_modules:"folder-node",".node_modules":"folder-node",_node_modules:"folder-node",__node_modules__:"folder-node",js:"folder-javascript",".js":"folder-javascript",_js:"folder-javascript",__js__:"folder-javascript",javascript:"folder-javascript",".javascript":"folder-javascript",_javascript:"folder-javascript",__javascript__:"folder-javascript",javascripts:"folder-javascript",".javascripts":"folder-javascript",_javascripts:"folder-javascript",__javascripts__:"folder-javascript",json:"folder-json",".json":"folder-json",_json:"folder-json",__json__:"folder-json",jsons:"folder-json",".jsons":"folder-json",_jsons:"folder-json",__jsons__:"folder-json",font:"folder-font",".font":"folder-font",_font:"folder-font",__font__:"folder-font",fonts:"folder-font",".fonts":"folder-font",_fonts:"folder-font",__fonts__:"folder-font",bower_components:"folder-bower",".bower_components":"folder-bower",_bower_components:"folder-bower",__bower_components__:"folder-bower",test:"folder-test",".test":"folder-test",_test:"folder-test",__test__:"folder-test",tests:"folder-test",".tests":"folder-test",_tests:"folder-test",__tests__:"folder-test",testing:"folder-test",".testing":"folder-test",_testing:"folder-test",__testing__:"folder-test",snapshots:"folder-test",".snapshots":"folder-test",_snapshots:"folder-test",__snapshots__:"folder-test",spec:"folder-test",".spec":"folder-test",_spec:"folder-test",__spec__:"folder-test",specs:"folder-test",".specs":"folder-test",_specs:"folder-test",__specs__:"folder-test",jinja:"folder-jinja",".jinja":"folder-jinja",_jinja:"folder-jinja",__jinja__:"folder-jinja",jinja2:"folder-jinja",".jinja2":"folder-jinja",_jinja2:"folder-jinja",__jinja2__:"folder-jinja",j2:"folder-jinja",".j2":"folder-jinja",_j2:"folder-jinja",__j2__:"folder-jinja",markdown:"folder-markdown",".markdown":"folder-markdown",_markdown:"folder-markdown",__markdown__:"folder-markdown",md:"folder-markdown",".md":"folder-markdown",_md:"folder-markdown",__md__:"folder-markdown","pdm-plugins":"folder-pdm",".pdm-plugins":"folder-pdm","_pdm-plugins":"folder-pdm","__pdm-plugins__":"folder-pdm","pdm-build":"folder-pdm",".pdm-build":"folder-pdm","_pdm-build":"folder-pdm","__pdm-build__":"folder-pdm",php:"folder-php",".php":"folder-php",_php:"folder-php",__php__:"folder-php",phpmailer:"folder-phpmailer",".phpmailer":"folder-phpmailer",_phpmailer:"folder-phpmailer",__phpmailer__:"folder-phpmailer",sublime:"folder-sublime",".sublime":"folder-sublime",_sublime:"folder-sublime",__sublime__:"folder-sublime",doc:"folder-docs",".doc":"folder-docs",_doc:"folder-docs",__doc__:"folder-docs",docs:"folder-docs",".docs":"folder-docs",_docs:"folder-docs",__docs__:"folder-docs",document:"folder-docs",".document":"folder-docs",_document:"folder-docs",__document__:"folder-docs",documents:"folder-docs",".documents":"folder-docs",_documents:"folder-docs",__documents__:"folder-docs",documentation:"folder-docs",".documentation":"folder-docs",_documentation:"folder-docs",__documentation__:"folder-docs",post:"folder-docs",".post":"folder-docs",_post:"folder-docs",__post__:"folder-docs",posts:"folder-docs",".posts":"folder-docs",_posts:"folder-docs",__posts__:"folder-docs",article:"folder-docs",".article":"folder-docs",_article:"folder-docs",__article__:"folder-docs",articles:"folder-docs",".articles":"folder-docs",_articles:"folder-docs",__articles__:"folder-docs",git:"folder-git",".git":"folder-git",_git:"folder-git",__git__:"folder-git",patches:"folder-git",".patches":"folder-git",_patches:"folder-git",__patches__:"folder-git",githooks:"folder-git",".githooks":"folder-git",_githooks:"folder-git",__githooks__:"folder-git",submodules:"folder-git",".submodules":"folder-git",_submodules:"folder-git",__submodules__:"folder-git",github:"folder-github",".github":"folder-github",_github:"folder-github",__github__:"folder-github",gitlab:"folder-gitlab",".gitlab":"folder-gitlab",_gitlab:"folder-gitlab",__gitlab__:"folder-gitlab",vscode:"folder-vscode",".vscode":"folder-vscode",_vscode:"folder-vscode",__vscode__:"folder-vscode","vscode-test":"folder-vscode",".vscode-test":"folder-vscode","_vscode-test":"folder-vscode","__vscode-test__":"folder-vscode",view:"folder-views",".view":"folder-views",_view:"folder-views",__view__:"folder-views",views:"folder-views",".views":"folder-views",_views:"folder-views",__views__:"folder-views",screen:"folder-views",".screen":"folder-views",_screen:"folder-views",__screen__:"folder-views",screens:"folder-views",".screens":"folder-views",_screens:"folder-views",__screens__:"folder-views",page:"folder-views",".page":"folder-views",_page:"folder-views",__page__:"folder-views",pages:"folder-views",".pages":"folder-views",_pages:"folder-views",__pages__:"folder-views",public_html:"folder-views",".public_html":"folder-views",_public_html:"folder-views",__public_html__:"folder-views",html:"folder-views",".html":"folder-views",_html:"folder-views",__html__:"folder-views",vue:"folder-vue",".vue":"folder-vue",_vue:"folder-vue",__vue__:"folder-vue",vuepress:"folder-vuepress",".vuepress":"folder-vuepress",_vuepress:"folder-vuepress",__vuepress__:"folder-vuepress",expo:"folder-expo",".expo":"folder-expo",_expo:"folder-expo",__expo__:"folder-expo","expo-shared":"folder-expo",".expo-shared":"folder-expo","_expo-shared":"folder-expo","__expo-shared__":"folder-expo",cfg:"folder-config",".cfg":"folder-config",_cfg:"folder-config",__cfg__:"folder-config",cfgs:"folder-config",".cfgs":"folder-config",_cfgs:"folder-config",__cfgs__:"folder-config",conf:"folder-config",".conf":"folder-config",_conf:"folder-config",__conf__:"folder-config",confs:"folder-config",".confs":"folder-config",_confs:"folder-config",__confs__:"folder-config",config:"folder-config",".config":"folder-config",_config:"folder-config",__config__:"folder-config",configs:"folder-config",".configs":"folder-config",_configs:"folder-config",__configs__:"folder-config",configuration:"folder-config",".configuration":"folder-config",_configuration:"folder-config",__configuration__:"folder-config",configurations:"folder-config",".configurations":"folder-config",_configurations:"folder-config",__configurations__:"folder-config",setting:"folder-config",".setting":"folder-config",_setting:"folder-config",__setting__:"folder-config",settings:"folder-config",".settings":"folder-config",_settings:"folder-config",__settings__:"folder-config","META-INF":"folder-config",".META-INF":"folder-config","_META-INF":"folder-config","__META-INF__":"folder-config",option:"folder-config",".option":"folder-config",_option:"folder-config",__option__:"folder-config",options:"folder-config",".options":"folder-config",_options:"folder-config",__options__:"folder-config",i18n:"folder-i18n",".i18n":"folder-i18n",_i18n:"folder-i18n",__i18n__:"folder-i18n",internationalization:"folder-i18n",".internationalization":"folder-i18n",_internationalization:"folder-i18n",__internationalization__:"folder-i18n",lang:"folder-i18n",".lang":"folder-i18n",_lang:"folder-i18n",__lang__:"folder-i18n",langs:"folder-i18n",".langs":"folder-i18n",_langs:"folder-i18n",__langs__:"folder-i18n",language:"folder-i18n",".language":"folder-i18n",_language:"folder-i18n",__language__:"folder-i18n",languages:"folder-i18n",".languages":"folder-i18n",_languages:"folder-i18n",__languages__:"folder-i18n",locale:"folder-i18n",".locale":"folder-i18n",_locale:"folder-i18n",__locale__:"folder-i18n",locales:"folder-i18n",".locales":"folder-i18n",_locales:"folder-i18n",__locales__:"folder-i18n",l10n:"folder-i18n",".l10n":"folder-i18n",_l10n:"folder-i18n",__l10n__:"folder-i18n",localization:"folder-i18n",".localization":"folder-i18n",_localization:"folder-i18n",__localization__:"folder-i18n",translation:"folder-i18n",".translation":"folder-i18n",_translation:"folder-i18n",__translation__:"folder-i18n",translate:"folder-i18n",".translate":"folder-i18n",_translate:"folder-i18n",__translate__:"folder-i18n",translations:"folder-i18n",".translations":"folder-i18n",_translations:"folder-i18n",__translations__:"folder-i18n",tx:"folder-i18n",".tx":"folder-i18n",_tx:"folder-i18n",__tx__:"folder-i18n",components:"folder-components",".components":"folder-components",_components:"folder-components",__components__:"folder-components",widget:"folder-components",".widget":"folder-components",_widget:"folder-components",__widget__:"folder-components",widgets:"folder-components",".widgets":"folder-components",_widgets:"folder-components",__widgets__:"folder-components",fragments:"folder-components",".fragments":"folder-components",_fragments:"folder-components",__fragments__:"folder-components",verdaccio:"folder-verdaccio",".verdaccio":"folder-verdaccio",_verdaccio:"folder-verdaccio",__verdaccio__:"folder-verdaccio",aurelia_project:"folder-aurelia",".aurelia_project":"folder-aurelia",_aurelia_project:"folder-aurelia",__aurelia_project__:"folder-aurelia",resource:"folder-resource",".resource":"folder-resource",_resource:"folder-resource",__resource__:"folder-resource",resources:"folder-resource",".resources":"folder-resource",_resources:"folder-resource",__resources__:"folder-resource",res:"folder-resource",".res":"folder-resource",_res:"folder-resource",__res__:"folder-resource",asset:"folder-resource",".asset":"folder-resource",_asset:"folder-resource",__asset__:"folder-resource",assets:"folder-resource",".assets":"folder-resource",_assets:"folder-resource",__assets__:"folder-resource",static:"folder-resource",".static":"folder-resource",_static:"folder-resource",__static__:"folder-resource",report:"folder-resource",".report":"folder-resource",_report:"folder-resource",__report__:"folder-resource",reports:"folder-resource",".reports":"folder-resource",_reports:"folder-resource",__reports__:"folder-resource",lib:"folder-lib",".lib":"folder-lib",_lib:"folder-lib",__lib__:"folder-lib",libs:"folder-lib",".libs":"folder-lib",_libs:"folder-lib",__libs__:"folder-lib",library:"folder-lib",".library":"folder-lib",_library:"folder-lib",__library__:"folder-lib",libraries:"folder-lib",".libraries":"folder-lib",_libraries:"folder-lib",__libraries__:"folder-lib",vendor:"folder-lib",".vendor":"folder-lib",_vendor:"folder-lib",__vendor__:"folder-lib",vendors:"folder-lib",".vendors":"folder-lib",_vendors:"folder-lib",__vendors__:"folder-lib","third-party":"folder-lib",".third-party":"folder-lib","_third-party":"folder-lib","__third-party__":"folder-lib",themes:"folder-theme",".themes":"folder-theme",_themes:"folder-theme",__themes__:"folder-theme",theme:"folder-theme",".theme":"folder-theme",_theme:"folder-theme",__theme__:"folder-theme",color:"folder-theme",".color":"folder-theme",_color:"folder-theme",__color__:"folder-theme",colors:"folder-theme",".colors":"folder-theme",_colors:"folder-theme",__colors__:"folder-theme",design:"folder-theme",".design":"folder-theme",_design:"folder-theme",__design__:"folder-theme",designs:"folder-theme",".designs":"folder-theme",_designs:"folder-theme",__designs__:"folder-theme",webpack:"folder-webpack",".webpack":"folder-webpack",_webpack:"folder-webpack",__webpack__:"folder-webpack",global:"folder-global",".global":"folder-global",_global:"folder-global",__global__:"folder-global",public:"folder-public",".public":"folder-public",_public:"folder-public",__public__:"folder-public",www:"folder-public",".www":"folder-public",_www:"folder-public",__www__:"folder-public",wwwroot:"folder-public",".wwwroot":"folder-public",_wwwroot:"folder-public",__wwwroot__:"folder-public",web:"folder-public",".web":"folder-public",_web:"folder-public",__web__:"folder-public",website:"folder-public",".website":"folder-public",_website:"folder-public",__website__:"folder-public",site:"folder-public",".site":"folder-public",_site:"folder-public",__site__:"folder-public",browser:"folder-public",".browser":"folder-public",_browser:"folder-public",__browser__:"folder-public",browsers:"folder-public",".browsers":"folder-public",_browsers:"folder-public",__browsers__:"folder-public",inc:"folder-include",".inc":"folder-include",_inc:"folder-include",__inc__:"folder-include",include:"folder-include",".include":"folder-include",_include:"folder-include",__include__:"folder-include",includes:"folder-include",".includes":"folder-include",_includes:"folder-include",__includes__:"folder-include",partial:"folder-include",".partial":"folder-include",_partial:"folder-include",__partial__:"folder-include",partials:"folder-include",".partials":"folder-include",_partials:"folder-include",__partials__:"folder-include",docker:"folder-docker",".docker":"folder-docker",_docker:"folder-docker",__docker__:"folder-docker",dockerfiles:"folder-docker",".dockerfiles":"folder-docker",_dockerfiles:"folder-docker",__dockerfiles__:"folder-docker",db:"folder-database",".db":"folder-database",_db:"folder-database",__db__:"folder-database",data:"folder-database",".data":"folder-database",_data:"folder-database",__data__:"folder-database",database:"folder-database",".database":"folder-database",_database:"folder-database",__database__:"folder-database",databases:"folder-database",".databases":"folder-database",_databases:"folder-database",__databases__:"folder-database",sql:"folder-database",".sql":"folder-database",_sql:"folder-database",__sql__:"folder-database",log:"folder-log",".log":"folder-log",_log:"folder-log",__log__:"folder-log",logs:"folder-log",".logs":"folder-log",_logs:"folder-log",__logs__:"folder-log",logging:"folder-log",".logging":"folder-log",_logging:"folder-log",__logging__:"folder-log",target:"folder-target",".target":"folder-target",_target:"folder-target",__target__:"folder-target",temp:"folder-temp",".temp":"folder-temp",_temp:"folder-temp",__temp__:"folder-temp",tmp:"folder-temp",".tmp":"folder-temp",_tmp:"folder-temp",__tmp__:"folder-temp",cached:"folder-temp",".cached":"folder-temp",_cached:"folder-temp",__cached__:"folder-temp",cache:"folder-temp",".cache":"folder-temp",_cache:"folder-temp",__cache__:"folder-temp",aws:"folder-aws",".aws":"folder-aws",_aws:"folder-aws",__aws__:"folder-aws",aud:"folder-audio",".aud":"folder-audio",_aud:"folder-audio",__aud__:"folder-audio",auds:"folder-audio",".auds":"folder-audio",_auds:"folder-audio",__auds__:"folder-audio",audio:"folder-audio",".audio":"folder-audio",_audio:"folder-audio",__audio__:"folder-audio",audios:"folder-audio",".audios":"folder-audio",_audios:"folder-audio",__audios__:"folder-audio",music:"folder-audio",".music":"folder-audio",_music:"folder-audio",__music__:"folder-audio",sound:"folder-audio",".sound":"folder-audio",_sound:"folder-audio",__sound__:"folder-audio",sounds:"folder-audio",".sounds":"folder-audio",_sounds:"folder-audio",__sounds__:"folder-audio",vid:"folder-video",".vid":"folder-video",_vid:"folder-video",__vid__:"folder-video",vids:"folder-video",".vids":"folder-video",_vids:"folder-video",__vids__:"folder-video",video:"folder-video",".video":"folder-video",_video:"folder-video",__video__:"folder-video",videos:"folder-video",".videos":"folder-video",_videos:"folder-video",__videos__:"folder-video",movie:"folder-video",".movie":"folder-video",_movie:"folder-video",__movie__:"folder-video",movies:"folder-video",".movies":"folder-video",_movies:"folder-video",__movies__:"folder-video",kubernetes:"folder-kubernetes",".kubernetes":"folder-kubernetes",_kubernetes:"folder-kubernetes",__kubernetes__:"folder-kubernetes",k8s:"folder-kubernetes",".k8s":"folder-kubernetes",_k8s:"folder-kubernetes",__k8s__:"folder-kubernetes",import:"folder-import",".import":"folder-import",_import:"folder-import",__import__:"folder-import",imports:"folder-import",".imports":"folder-import",_imports:"folder-import",__imports__:"folder-import",imported:"folder-import",".imported":"folder-import",_imported:"folder-import",__imported__:"folder-import",export:"folder-export",".export":"folder-export",_export:"folder-export",__export__:"folder-export",exports:"folder-export",".exports":"folder-export",_exports:"folder-export",__exports__:"folder-export",exported:"folder-export",".exported":"folder-export",_exported:"folder-export",__exported__:"folder-export",wakatime:"folder-wakatime",".wakatime":"folder-wakatime",_wakatime:"folder-wakatime",__wakatime__:"folder-wakatime",circleci:"folder-circleci",".circleci":"folder-circleci",_circleci:"folder-circleci",__circleci__:"folder-circleci","wordpress-org":"folder-wordpress",".wordpress-org":"folder-wordpress","_wordpress-org":"folder-wordpress","__wordpress-org__":"folder-wordpress","wp-content":"folder-wordpress",".wp-content":"folder-wordpress","_wp-content":"folder-wordpress","__wp-content__":"folder-wordpress",gradle:"folder-gradle",".gradle":"folder-gradle",_gradle:"folder-gradle",__gradle__:"folder-gradle",coverage:"folder-coverage",".coverage":"folder-coverage",_coverage:"folder-coverage",__coverage__:"folder-coverage","nyc-output":"folder-coverage",".nyc-output":"folder-coverage","_nyc-output":"folder-coverage","__nyc-output__":"folder-coverage",nyc_output:"folder-coverage",".nyc_output":"folder-coverage",_nyc_output:"folder-coverage",__nyc_output__:"folder-coverage",e2e:"folder-coverage",".e2e":"folder-coverage",_e2e:"folder-coverage",__e2e__:"folder-coverage",it:"folder-coverage",".it":"folder-coverage",_it:"folder-coverage",__it__:"folder-coverage","integration-test":"folder-coverage",".integration-test":"folder-coverage","_integration-test":"folder-coverage","__integration-test__":"folder-coverage","integration-tests":"folder-coverage",".integration-tests":"folder-coverage","_integration-tests":"folder-coverage","__integration-tests__":"folder-coverage",class:"folder-class",".class":"folder-class",_class:"folder-class",__class__:"folder-class",classes:"folder-class",".classes":"folder-class",_classes:"folder-class",__classes__:"folder-class",model:"folder-class",".model":"folder-class",_model:"folder-class",__model__:"folder-class",models:"folder-class",".models":"folder-class",_models:"folder-class",__models__:"folder-class",schemas:"folder-class",".schemas":"folder-class",_schemas:"folder-class",__schemas__:"folder-class",schema:"folder-class",".schema":"folder-class",_schema:"folder-class",__schema__:"folder-class",other:"folder-other",".other":"folder-other",_other:"folder-other",__other__:"folder-other",others:"folder-other",".others":"folder-other",_others:"folder-other",__others__:"folder-other",misc:"folder-other",".misc":"folder-other",_misc:"folder-other",__misc__:"folder-other",miscellaneous:"folder-other",".miscellaneous":"folder-other",_miscellaneous:"folder-other",__miscellaneous__:"folder-other",extra:"folder-other",".extra":"folder-other",_extra:"folder-other",__extra__:"folder-other",extras:"folder-other",".extras":"folder-other",_extras:"folder-other",__extras__:"folder-other",etc:"folder-other",".etc":"folder-other",_etc:"folder-other",__etc__:"folder-other",lua:"folder-lua",".lua":"folder-lua",_lua:"folder-lua",__lua__:"folder-lua",typescript:"folder-typescript",".typescript":"folder-typescript",_typescript:"folder-typescript",__typescript__:"folder-typescript",ts:"folder-typescript",".ts":"folder-typescript",_ts:"folder-typescript",__ts__:"folder-typescript",typings:"folder-typescript",".typings":"folder-typescript",_typings:"folder-typescript",__typings__:"folder-typescript","@types":"folder-typescript",".@types":"folder-typescript","_@types":"folder-typescript","__@types__":"folder-typescript",types:"folder-typescript",".types":"folder-typescript",_types:"folder-typescript",__types__:"folder-typescript",graphql:"folder-graphql",".graphql":"folder-graphql",_graphql:"folder-graphql",__graphql__:"folder-graphql",gql:"folder-graphql",".gql":"folder-graphql",_gql:"folder-graphql",__gql__:"folder-graphql",routes:"folder-routes",".routes":"folder-routes",_routes:"folder-routes",__routes__:"folder-routes",router:"folder-routes",".router":"folder-routes",_router:"folder-routes",__router__:"folder-routes",routers:"folder-routes",".routers":"folder-routes",_routers:"folder-routes",__routers__:"folder-routes",ci:"folder-ci",".ci":"folder-ci",_ci:"folder-ci",__ci__:"folder-ci",benchmark:"folder-benchmark",".benchmark":"folder-benchmark",_benchmark:"folder-benchmark",__benchmark__:"folder-benchmark",benchmarks:"folder-benchmark",".benchmarks":"folder-benchmark",_benchmarks:"folder-benchmark",__benchmarks__:"folder-benchmark",performance:"folder-benchmark",".performance":"folder-benchmark",_performance:"folder-benchmark",__performance__:"folder-benchmark",measure:"folder-benchmark",".measure":"folder-benchmark",_measure:"folder-benchmark",__measure__:"folder-benchmark",measures:"folder-benchmark",".measures":"folder-benchmark",_measures:"folder-benchmark",__measures__:"folder-benchmark",measurement:"folder-benchmark",".measurement":"folder-benchmark",_measurement:"folder-benchmark",__measurement__:"folder-benchmark",messages:"folder-messages",".messages":"folder-messages",_messages:"folder-messages",__messages__:"folder-messages",messaging:"folder-messages",".messaging":"folder-messages",_messaging:"folder-messages",__messaging__:"folder-messages",forum:"folder-messages",".forum":"folder-messages",_forum:"folder-messages",__forum__:"folder-messages",chat:"folder-messages",".chat":"folder-messages",_chat:"folder-messages",__chat__:"folder-messages",chats:"folder-messages",".chats":"folder-messages",_chats:"folder-messages",__chats__:"folder-messages",conversation:"folder-messages",".conversation":"folder-messages",_conversation:"folder-messages",__conversation__:"folder-messages",conversations:"folder-messages",".conversations":"folder-messages",_conversations:"folder-messages",__conversations__:"folder-messages",less:"folder-less",".less":"folder-less",_less:"folder-less",__less__:"folder-less",gulp:"folder-gulp",".gulp":"folder-gulp",_gulp:"folder-gulp",__gulp__:"folder-gulp","gulp-tasks":"folder-gulp",".gulp-tasks":"folder-gulp","_gulp-tasks":"folder-gulp","__gulp-tasks__":"folder-gulp","gulpfile.js":"folder-gulp",".gulpfile.js":"folder-gulp","_gulpfile.js":"folder-gulp","__gulpfile.js__":"folder-gulp","gulpfile.mjs":"folder-gulp",".gulpfile.mjs":"folder-gulp","_gulpfile.mjs":"folder-gulp","__gulpfile.mjs__":"folder-gulp","gulpfile.ts":"folder-gulp",".gulpfile.ts":"folder-gulp","_gulpfile.ts":"folder-gulp","__gulpfile.ts__":"folder-gulp","gulpfile.babel.js":"folder-gulp",".gulpfile.babel.js":"folder-gulp","_gulpfile.babel.js":"folder-gulp","__gulpfile.babel.js__":"folder-gulp",python:"folder-python",".python":"folder-python",_python:"folder-python",__python__:"folder-python",pycache:"folder-python",".pycache":"folder-python",_pycache:"folder-python",__pycache__:"folder-python",pytest_cache:"folder-python",".pytest_cache":"folder-python",_pytest_cache:"folder-python",__pytest_cache__:"folder-python",mojo:"folder-mojo",".mojo":"folder-mojo",_mojo:"folder-mojo",__mojo__:"folder-mojo",moon:"folder-moon",".moon":"folder-moon",_moon:"folder-moon",__moon__:"folder-moon",debug:"folder-debug",".debug":"folder-debug",_debug:"folder-debug",__debug__:"folder-debug",debugging:"folder-debug",".debugging":"folder-debug",_debugging:"folder-debug",__debugging__:"folder-debug",fastlane:"folder-fastlane",".fastlane":"folder-fastlane",_fastlane:"folder-fastlane",__fastlane__:"folder-fastlane",plugin:"folder-plugin",".plugin":"folder-plugin",_plugin:"folder-plugin",__plugin__:"folder-plugin",plugins:"folder-plugin",".plugins":"folder-plugin",_plugins:"folder-plugin",__plugins__:"folder-plugin",mod:"folder-plugin",".mod":"folder-plugin",_mod:"folder-plugin",__mod__:"folder-plugin",mods:"folder-plugin",".mods":"folder-plugin",_mods:"folder-plugin",__mods__:"folder-plugin",modding:"folder-plugin",".modding":"folder-plugin",_modding:"folder-plugin",__modding__:"folder-plugin",extension:"folder-plugin",".extension":"folder-plugin",_extension:"folder-plugin",__extension__:"folder-plugin",extensions:"folder-plugin",".extensions":"folder-plugin",_extensions:"folder-plugin",__extensions__:"folder-plugin",addon:"folder-plugin",".addon":"folder-plugin",_addon:"folder-plugin",__addon__:"folder-plugin",addons:"folder-plugin",".addons":"folder-plugin",_addons:"folder-plugin",__addons__:"folder-plugin",module:"folder-plugin",".module":"folder-plugin",_module:"folder-plugin",__module__:"folder-plugin",modules:"folder-plugin",".modules":"folder-plugin",_modules:"folder-plugin",__modules__:"folder-plugin",middleware:"folder-middleware",".middleware":"folder-middleware",_middleware:"folder-middleware",__middleware__:"folder-middleware",middlewares:"folder-middleware",".middlewares":"folder-middleware",_middlewares:"folder-middleware",__middlewares__:"folder-middleware",controller:"folder-controller",".controller":"folder-controller",_controller:"folder-controller",__controller__:"folder-controller",controllers:"folder-controller",".controllers":"folder-controller",_controllers:"folder-controller",__controllers__:"folder-controller",service:"folder-controller",".service":"folder-controller",_service:"folder-controller",__service__:"folder-controller",services:"folder-controller",".services":"folder-controller",_services:"folder-controller",__services__:"folder-controller",provider:"folder-controller",".provider":"folder-controller",_provider:"folder-controller",__provider__:"folder-controller",providers:"folder-controller",".providers":"folder-controller",_providers:"folder-controller",__providers__:"folder-controller",handler:"folder-controller",".handler":"folder-controller",_handler:"folder-controller",__handler__:"folder-controller",handlers:"folder-controller",".handlers":"folder-controller",_handlers:"folder-controller",__handlers__:"folder-controller",ansible:"folder-ansible",".ansible":"folder-ansible",_ansible:"folder-ansible",__ansible__:"folder-ansible",server:"folder-server",".server":"folder-server",_server:"folder-server",__server__:"folder-server",servers:"folder-server",".servers":"folder-server",_servers:"folder-server",__servers__:"folder-server",backend:"folder-server",".backend":"folder-server",_backend:"folder-server",__backend__:"folder-server",backends:"folder-server",".backends":"folder-server",_backends:"folder-server",__backends__:"folder-server",client:"folder-client",".client":"folder-client",_client:"folder-client",__client__:"folder-client",clients:"folder-client",".clients":"folder-client",_clients:"folder-client",__clients__:"folder-client",frontend:"folder-client",".frontend":"folder-client",_frontend:"folder-client",__frontend__:"folder-client",frontends:"folder-client",".frontends":"folder-client",_frontends:"folder-client",__frontends__:"folder-client",pwa:"folder-client",".pwa":"folder-client",_pwa:"folder-client",__pwa__:"folder-client",tasks:"folder-tasks",".tasks":"folder-tasks",_tasks:"folder-tasks",__tasks__:"folder-tasks",tickets:"folder-tasks",".tickets":"folder-tasks",_tickets:"folder-tasks",__tickets__:"folder-tasks",android:"folder-android",".android":"folder-android",_android:"folder-android",__android__:"folder-android",ios:"folder-ios",".ios":"folder-ios",_ios:"folder-ios",__ios__:"folder-ios",uploads:"folder-upload",".uploads":"folder-upload",_uploads:"folder-upload",__uploads__:"folder-upload",upload:"folder-upload",".upload":"folder-upload",_upload:"folder-upload",__upload__:"folder-upload",downloads:"folder-download",".downloads":"folder-download",_downloads:"folder-download",__downloads__:"folder-download",download:"folder-download",".download":"folder-download",_download:"folder-download",__download__:"folder-download",tools:"folder-tools",".tools":"folder-tools",_tools:"folder-tools",__tools__:"folder-tools",toolkit:"folder-tools",".toolkit":"folder-tools",_toolkit:"folder-tools",__toolkit__:"folder-tools",toolkits:"folder-tools",".toolkits":"folder-tools",_toolkits:"folder-tools",__toolkits__:"folder-tools",toolbox:"folder-tools",".toolbox":"folder-tools",_toolbox:"folder-tools",__toolbox__:"folder-tools",toolboxes:"folder-tools",".toolboxes":"folder-tools",_toolboxes:"folder-tools",__toolboxes__:"folder-tools",tooling:"folder-tools",".tooling":"folder-tools",_tooling:"folder-tools",__tooling__:"folder-tools",helpers:"folder-helper",".helpers":"folder-helper",_helpers:"folder-helper",__helpers__:"folder-helper",helper:"folder-helper",".helper":"folder-helper",_helper:"folder-helper",__helper__:"folder-helper",serverless:"folder-serverless",".serverless":"folder-serverless",_serverless:"folder-serverless",__serverless__:"folder-serverless",api:"folder-api",".api":"folder-api",_api:"folder-api",__api__:"folder-api",apis:"folder-api",".apis":"folder-api",_apis:"folder-api",__apis__:"folder-api",restapi:"folder-api",".restapi":"folder-api",_restapi:"folder-api",__restapi__:"folder-api",app:"folder-app",".app":"folder-app",_app:"folder-app",__app__:"folder-app",apps:"folder-app",".apps":"folder-app",_apps:"folder-app",__apps__:"folder-app",apollo:"folder-apollo",".apollo":"folder-apollo",_apollo:"folder-apollo",__apollo__:"folder-apollo","apollo-client":"folder-apollo",".apollo-client":"folder-apollo","_apollo-client":"folder-apollo","__apollo-client__":"folder-apollo","apollo-cache":"folder-apollo",".apollo-cache":"folder-apollo","_apollo-cache":"folder-apollo","__apollo-cache__":"folder-apollo","apollo-config":"folder-apollo",".apollo-config":"folder-apollo","_apollo-config":"folder-apollo","__apollo-config__":"folder-apollo",arc:"folder-archive",".arc":"folder-archive",_arc:"folder-archive",__arc__:"folder-archive",arcs:"folder-archive",".arcs":"folder-archive",_arcs:"folder-archive",__arcs__:"folder-archive",archive:"folder-archive",".archive":"folder-archive",_archive:"folder-archive",__archive__:"folder-archive",archives:"folder-archive",".archives":"folder-archive",_archives:"folder-archive",__archives__:"folder-archive",archival:"folder-archive",".archival":"folder-archive",_archival:"folder-archive",__archival__:"folder-archive",bkp:"folder-archive",".bkp":"folder-archive",_bkp:"folder-archive",__bkp__:"folder-archive",bkps:"folder-archive",".bkps":"folder-archive",_bkps:"folder-archive",__bkps__:"folder-archive",bak:"folder-archive",".bak":"folder-archive",_bak:"folder-archive",__bak__:"folder-archive",baks:"folder-archive",".baks":"folder-archive",_baks:"folder-archive",__baks__:"folder-archive",backup:"folder-archive",".backup":"folder-archive",_backup:"folder-archive",__backup__:"folder-archive",backups:"folder-archive",".backups":"folder-archive",_backups:"folder-archive",__backups__:"folder-archive","back-up":"folder-archive",".back-up":"folder-archive","_back-up":"folder-archive","__back-up__":"folder-archive","back-ups":"folder-archive",".back-ups":"folder-archive","_back-ups":"folder-archive","__back-ups__":"folder-archive",history:"folder-archive",".history":"folder-archive",_history:"folder-archive",__history__:"folder-archive",histories:"folder-archive",".histories":"folder-archive",_histories:"folder-archive",__histories__:"folder-archive",batch:"folder-batch",".batch":"folder-batch",_batch:"folder-batch",__batch__:"folder-batch",batchs:"folder-batch",".batchs":"folder-batch",_batchs:"folder-batch",__batchs__:"folder-batch",batches:"folder-batch",".batches":"folder-batch",_batches:"folder-batch",__batches__:"folder-batch",buildkite:"folder-buildkite",".buildkite":"folder-buildkite",_buildkite:"folder-buildkite",__buildkite__:"folder-buildkite",cluster:"folder-cluster",".cluster":"folder-cluster",_cluster:"folder-cluster",__cluster__:"folder-cluster",clusters:"folder-cluster",".clusters":"folder-cluster",_clusters:"folder-cluster",__clusters__:"folder-cluster",command:"folder-command",".command":"folder-command",_command:"folder-command",__command__:"folder-command",commands:"folder-command",".commands":"folder-command",_commands:"folder-command",__commands__:"folder-command",cmd:"folder-command",".cmd":"folder-command",_cmd:"folder-command",__cmd__:"folder-command",cli:"folder-command",".cli":"folder-command",_cli:"folder-command",__cli__:"folder-command",clis:"folder-command",".clis":"folder-command",_clis:"folder-command",__clis__:"folder-command",constant:"folder-constant",".constant":"folder-constant",_constant:"folder-constant",__constant__:"folder-constant",constants:"folder-constant",".constants":"folder-constant",_constants:"folder-constant",__constants__:"folder-constant",container:"folder-container",".container":"folder-container",_container:"folder-container",__container__:"folder-container",containers:"folder-container",".containers":"folder-container",_containers:"folder-container",__containers__:"folder-container",devcontainer:"folder-container",".devcontainer":"folder-container",_devcontainer:"folder-container",__devcontainer__:"folder-container",content:"folder-content",".content":"folder-content",_content:"folder-content",__content__:"folder-content",contents:"folder-content",".contents":"folder-content",_contents:"folder-content",__contents__:"folder-content",context:"folder-context",".context":"folder-context",_context:"folder-context",__context__:"folder-context",contexts:"folder-context",".contexts":"folder-context",_contexts:"folder-context",__contexts__:"folder-context",core:"folder-core",".core":"folder-core",_core:"folder-core",__core__:"folder-core",delta:"folder-delta",".delta":"folder-delta",_delta:"folder-delta",__delta__:"folder-delta",deltas:"folder-delta",".deltas":"folder-delta",_deltas:"folder-delta",__deltas__:"folder-delta",changes:"folder-delta",".changes":"folder-delta",_changes:"folder-delta",__changes__:"folder-delta",dump:"folder-dump",".dump":"folder-dump",_dump:"folder-dump",__dump__:"folder-dump",dumps:"folder-dump",".dumps":"folder-dump",_dumps:"folder-dump",__dumps__:"folder-dump",demo:"folder-examples",".demo":"folder-examples",_demo:"folder-examples",__demo__:"folder-examples",demos:"folder-examples",".demos":"folder-examples",_demos:"folder-examples",__demos__:"folder-examples",example:"folder-examples",".example":"folder-examples",_example:"folder-examples",__example__:"folder-examples",examples:"folder-examples",".examples":"folder-examples",_examples:"folder-examples",__examples__:"folder-examples",sample:"folder-examples",".sample":"folder-examples",_sample:"folder-examples",__sample__:"folder-examples",samples:"folder-examples",".samples":"folder-examples",_samples:"folder-examples",__samples__:"folder-examples","sample-data":"folder-examples",".sample-data":"folder-examples","_sample-data":"folder-examples","__sample-data__":"folder-examples",env:"folder-environment",".env":"folder-environment",_env:"folder-environment",__env__:"folder-environment",envs:"folder-environment",".envs":"folder-environment",_envs:"folder-environment",__envs__:"folder-environment",environment:"folder-environment",".environment":"folder-environment",_environment:"folder-environment",__environment__:"folder-environment",environments:"folder-environment",".environments":"folder-environment",_environments:"folder-environment",__environments__:"folder-environment",venv:"folder-environment",".venv":"folder-environment",_venv:"folder-environment",__venv__:"folder-environment",func:"folder-functions",".func":"folder-functions",_func:"folder-functions",__func__:"folder-functions",funcs:"folder-functions",".funcs":"folder-functions",_funcs:"folder-functions",__funcs__:"folder-functions",function:"folder-functions",".function":"folder-functions",_function:"folder-functions",__function__:"folder-functions",functions:"folder-functions",".functions":"folder-functions",_functions:"folder-functions",__functions__:"folder-functions",lambda:"folder-functions",".lambda":"folder-functions",_lambda:"folder-functions",__lambda__:"folder-functions",lambdas:"folder-functions",".lambdas":"folder-functions",_lambdas:"folder-functions",__lambdas__:"folder-functions",logic:"folder-functions",".logic":"folder-functions",_logic:"folder-functions",__logic__:"folder-functions",math:"folder-functions",".math":"folder-functions",_math:"folder-functions",__math__:"folder-functions",maths:"folder-functions",".maths":"folder-functions",_maths:"folder-functions",__maths__:"folder-functions",calc:"folder-functions",".calc":"folder-functions",_calc:"folder-functions",__calc__:"folder-functions",calcs:"folder-functions",".calcs":"folder-functions",_calcs:"folder-functions",__calcs__:"folder-functions",calculation:"folder-functions",".calculation":"folder-functions",_calculation:"folder-functions",__calculation__:"folder-functions",calculations:"folder-functions",".calculations":"folder-functions",_calculations:"folder-functions",__calculations__:"folder-functions",generator:"folder-generator",".generator":"folder-generator",_generator:"folder-generator",__generator__:"folder-generator",generators:"folder-generator",".generators":"folder-generator",_generators:"folder-generator",__generators__:"folder-generator",generated:"folder-generator",".generated":"folder-generator",_generated:"folder-generator",__generated__:"folder-generator","cfn-gen":"folder-generator",".cfn-gen":"folder-generator","_cfn-gen":"folder-generator","__cfn-gen__":"folder-generator",gen:"folder-generator",".gen":"folder-generator",_gen:"folder-generator",__gen__:"folder-generator",gens:"folder-generator",".gens":"folder-generator",_gens:"folder-generator",__gens__:"folder-generator",auto:"folder-generator",".auto":"folder-generator",_auto:"folder-generator",__auto__:"folder-generator",hook:"folder-hook",".hook":"folder-hook",_hook:"folder-hook",__hook__:"folder-hook",hooks:"folder-hook",".hooks":"folder-hook",_hooks:"folder-hook",__hooks__:"folder-hook",trigger:"folder-hook",".trigger":"folder-hook",_trigger:"folder-hook",__trigger__:"folder-hook",triggers:"folder-hook",".triggers":"folder-hook",_triggers:"folder-hook",__triggers__:"folder-hook",job:"folder-job",".job":"folder-job",_job:"folder-job",__job__:"folder-job",jobs:"folder-job",".jobs":"folder-job",_jobs:"folder-job",__jobs__:"folder-job",key:"folder-keys",".key":"folder-keys",_key:"folder-keys",__key__:"folder-keys",keys:"folder-keys",".keys":"folder-keys",_keys:"folder-keys",__keys__:"folder-keys",token:"folder-keys",".token":"folder-keys",_token:"folder-keys",__token__:"folder-keys",tokens:"folder-keys",".tokens":"folder-keys",_tokens:"folder-keys",__tokens__:"folder-keys",jwt:"folder-keys",".jwt":"folder-keys",_jwt:"folder-keys",__jwt__:"folder-keys",secret:"folder-keys",".secret":"folder-keys",_secret:"folder-keys",__secret__:"folder-keys",secrets:"folder-keys",".secrets":"folder-keys",_secrets:"folder-keys",__secrets__:"folder-keys",layout:"folder-layout",".layout":"folder-layout",_layout:"folder-layout",__layout__:"folder-layout",layouts:"folder-layout",".layouts":"folder-layout",_layouts:"folder-layout",__layouts__:"folder-layout",mail:"folder-mail",".mail":"folder-mail",_mail:"folder-mail",__mail__:"folder-mail",mails:"folder-mail",".mails":"folder-mail",_mails:"folder-mail",__mails__:"folder-mail",email:"folder-mail",".email":"folder-mail",_email:"folder-mail",__email__:"folder-mail",emails:"folder-mail",".emails":"folder-mail",_emails:"folder-mail",__emails__:"folder-mail",smtp:"folder-mail",".smtp":"folder-mail",_smtp:"folder-mail",__smtp__:"folder-mail",mailers:"folder-mail",".mailers":"folder-mail",_mailers:"folder-mail",__mailers__:"folder-mail",mappings:"folder-mappings",".mappings":"folder-mappings",_mappings:"folder-mappings",__mappings__:"folder-mappings",mapping:"folder-mappings",".mapping":"folder-mappings",_mapping:"folder-mappings",__mapping__:"folder-mappings",meta:"folder-meta",".meta":"folder-meta",_meta:"folder-meta",__meta__:"folder-meta",changesets:"folder-changesets",".changesets":"folder-changesets",_changesets:"folder-changesets",__changesets__:"folder-changesets",changeset:"folder-changesets",".changeset":"folder-changesets",_changeset:"folder-changesets",__changeset__:"folder-changesets",package:"folder-packages",".package":"folder-packages",_package:"folder-packages",__package__:"folder-packages",packages:"folder-packages",".packages":"folder-packages",_packages:"folder-packages",__packages__:"folder-packages",pkg:"folder-packages",".pkg":"folder-packages",_pkg:"folder-packages",__pkg__:"folder-packages",pkgs:"folder-packages",".pkgs":"folder-packages",_pkgs:"folder-packages",__pkgs__:"folder-packages",shared:"folder-shared",".shared":"folder-shared",_shared:"folder-shared",__shared__:"folder-shared",common:"folder-shared",".common":"folder-shared",_common:"folder-shared",__common__:"folder-shared",glsl:"folder-shader",".glsl":"folder-shader",_glsl:"folder-shader",__glsl__:"folder-shader",hlsl:"folder-shader",".hlsl":"folder-shader",_hlsl:"folder-shader",__hlsl__:"folder-shader",shader:"folder-shader",".shader":"folder-shader",_shader:"folder-shader",__shader__:"folder-shader",shaders:"folder-shader",".shaders":"folder-shader",_shaders:"folder-shader",__shaders__:"folder-shader",stack:"folder-stack",".stack":"folder-stack",_stack:"folder-stack",__stack__:"folder-stack",stacks:"folder-stack",".stacks":"folder-stack",_stacks:"folder-stack",__stacks__:"folder-stack",template:"folder-template",".template":"folder-template",_template:"folder-template",__template__:"folder-template",templates:"folder-template",".templates":"folder-template",_templates:"folder-template",__templates__:"folder-template",util:"folder-utils",".util":"folder-utils",_util:"folder-utils",__util__:"folder-utils",utils:"folder-utils",".utils":"folder-utils",_utils:"folder-utils",__utils__:"folder-utils",utility:"folder-utils",".utility":"folder-utils",_utility:"folder-utils",__utility__:"folder-utils",utilities:"folder-utils",".utilities":"folder-utils",_utilities:"folder-utils",__utilities__:"folder-utils",supabase:"folder-supabase",".supabase":"folder-supabase",_supabase:"folder-supabase",__supabase__:"folder-supabase",private:"folder-private",".private":"folder-private",_private:"folder-private",__private__:"folder-private",linux:"folder-linux",".linux":"folder-linux",_linux:"folder-linux",__linux__:"folder-linux",linuxbsd:"folder-linux",".linuxbsd":"folder-linux",_linuxbsd:"folder-linux",__linuxbsd__:"folder-linux",unix:"folder-linux",".unix":"folder-linux",_unix:"folder-linux",__unix__:"folder-linux",windows:"folder-windows",".windows":"folder-windows",_windows:"folder-windows",__windows__:"folder-windows",win:"folder-windows",".win":"folder-windows",_win:"folder-windows",__win__:"folder-windows",macos:"folder-macos",".macos":"folder-macos",_macos:"folder-macos",__macos__:"folder-macos",mac:"folder-macos",".mac":"folder-macos",_mac:"folder-macos",__mac__:"folder-macos",DS_Store:"folder-macos",".DS_Store":"folder-macos",_DS_Store:"folder-macos",__DS_Store__:"folder-macos",error:"folder-error",".error":"folder-error",_error:"folder-error",__error__:"folder-error",errors:"folder-error",".errors":"folder-error",_errors:"folder-error",__errors__:"folder-error",err:"folder-error",".err":"folder-error",_err:"folder-error",__err__:"folder-error",errs:"folder-error",".errs":"folder-error",_errs:"folder-error",__errs__:"folder-error",crash:"folder-error",".crash":"folder-error",_crash:"folder-error",__crash__:"folder-error",crashes:"folder-error",".crashes":"folder-error",_crashes:"folder-error",__crashes__:"folder-error",event:"folder-event",".event":"folder-event",_event:"folder-event",__event__:"folder-event",events:"folder-event",".events":"folder-event",_events:"folder-event",__events__:"folder-event",auth:"folder-secure",".auth":"folder-secure",_auth:"folder-secure",__auth__:"folder-secure",authentication:"folder-secure",".authentication":"folder-secure",_authentication:"folder-secure",__authentication__:"folder-secure",secure:"folder-secure",".secure":"folder-secure",_secure:"folder-secure",__secure__:"folder-secure",security:"folder-secure",".security":"folder-secure",_security:"folder-secure",__security__:"folder-secure",cert:"folder-secure",".cert":"folder-secure",_cert:"folder-secure",__cert__:"folder-secure",certs:"folder-secure",".certs":"folder-secure",_certs:"folder-secure",__certs__:"folder-secure",certificate:"folder-secure",".certificate":"folder-secure",_certificate:"folder-secure",__certificate__:"folder-secure",certificates:"folder-secure",".certificates":"folder-secure",_certificates:"folder-secure",__certificates__:"folder-secure",ssl:"folder-secure",".ssl":"folder-secure",_ssl:"folder-secure",__ssl__:"folder-secure",custom:"folder-custom",".custom":"folder-custom",_custom:"folder-custom",__custom__:"folder-custom",customs:"folder-custom",".customs":"folder-custom",_customs:"folder-custom",__customs__:"folder-custom",draft:"folder-mock",".draft":"folder-mock",_draft:"folder-mock",__draft__:"folder-mock",drafts:"folder-mock",".drafts":"folder-mock",_drafts:"folder-mock",__drafts__:"folder-mock",mock:"folder-mock",".mock":"folder-mock",_mock:"folder-mock",__mock__:"folder-mock",mocks:"folder-mock",".mocks":"folder-mock",_mocks:"folder-mock",__mocks__:"folder-mock",fixture:"folder-mock",".fixture":"folder-mock",_fixture:"folder-mock",__fixture__:"folder-mock",fixtures:"folder-mock",".fixtures":"folder-mock",_fixtures:"folder-mock",__fixtures__:"folder-mock",concept:"folder-mock",".concept":"folder-mock",_concept:"folder-mock",__concept__:"folder-mock",concepts:"folder-mock",".concepts":"folder-mock",_concepts:"folder-mock",__concepts__:"folder-mock",sketch:"folder-mock",".sketch":"folder-mock",_sketch:"folder-mock",__sketch__:"folder-mock",sketches:"folder-mock",".sketches":"folder-mock",_sketches:"folder-mock",__sketches__:"folder-mock",syntax:"folder-syntax",".syntax":"folder-syntax",_syntax:"folder-syntax",__syntax__:"folder-syntax",syntaxes:"folder-syntax",".syntaxes":"folder-syntax",_syntaxes:"folder-syntax",__syntaxes__:"folder-syntax",spellcheck:"folder-syntax",".spellcheck":"folder-syntax",_spellcheck:"folder-syntax",__spellcheck__:"folder-syntax",vm:"folder-vm",".vm":"folder-vm",_vm:"folder-vm",__vm__:"folder-vm",vms:"folder-vm",".vms":"folder-vm",_vms:"folder-vm",__vms__:"folder-vm",stylus:"folder-stylus",".stylus":"folder-stylus",_stylus:"folder-stylus",__stylus__:"folder-stylus","flow-typed":"folder-flow",".flow-typed":"folder-flow","_flow-typed":"folder-flow","__flow-typed__":"folder-flow",rule:"folder-rules",".rule":"folder-rules",_rule:"folder-rules",__rule__:"folder-rules",rules:"folder-rules",".rules":"folder-rules",_rules:"folder-rules",__rules__:"folder-rules",validation:"folder-rules",".validation":"folder-rules",_validation:"folder-rules",__validation__:"folder-rules",validations:"folder-rules",".validations":"folder-rules",_validations:"folder-rules",__validations__:"folder-rules",validator:"folder-rules",".validator":"folder-rules",_validator:"folder-rules",__validator__:"folder-rules",validators:"folder-rules",".validators":"folder-rules",_validators:"folder-rules",__validators__:"folder-rules",review:"folder-review",".review":"folder-review",_review:"folder-review",__review__:"folder-review",reviews:"folder-review",".reviews":"folder-review",_reviews:"folder-review",__reviews__:"folder-review",revisal:"folder-review",".revisal":"folder-review",_revisal:"folder-review",__revisal__:"folder-review",revisals:"folder-review",".revisals":"folder-review",_revisals:"folder-review",__revisals__:"folder-review",reviewed:"folder-review",".reviewed":"folder-review",_reviewed:"folder-review",__reviewed__:"folder-review",anim:"folder-animation",".anim":"folder-animation",_anim:"folder-animation",__anim__:"folder-animation",anims:"folder-animation",".anims":"folder-animation",_anims:"folder-animation",__anims__:"folder-animation",animation:"folder-animation",".animation":"folder-animation",_animation:"folder-animation",__animation__:"folder-animation",animations:"folder-animation",".animations":"folder-animation",_animations:"folder-animation",__animations__:"folder-animation",animated:"folder-animation",".animated":"folder-animation",_animated:"folder-animation",__animated__:"folder-animation",guard:"folder-guard",".guard":"folder-guard",_guard:"folder-guard",__guard__:"folder-guard",guards:"folder-guard",".guards":"folder-guard",_guards:"folder-guard",__guards__:"folder-guard",prisma:"folder-prisma",".prisma":"folder-prisma",_prisma:"folder-prisma",__prisma__:"folder-prisma",pipe:"folder-pipe",".pipe":"folder-pipe",_pipe:"folder-pipe",__pipe__:"folder-pipe",pipes:"folder-pipe",".pipes":"folder-pipe",_pipes:"folder-pipe",__pipes__:"folder-pipe",svg:"folder-svg",".svg":"folder-svg",_svg:"folder-svg",__svg__:"folder-svg",svgs:"folder-svg",".svgs":"folder-svg",_svgs:"folder-svg",__svgs__:"folder-svg",terraform:"folder-terraform",".terraform":"folder-terraform",_terraform:"folder-terraform",__terraform__:"folder-terraform",mobile:"folder-mobile",".mobile":"folder-mobile",_mobile:"folder-mobile",__mobile__:"folder-mobile",mobiles:"folder-mobile",".mobiles":"folder-mobile",_mobiles:"folder-mobile",__mobiles__:"folder-mobile",portable:"folder-mobile",".portable":"folder-mobile",_portable:"folder-mobile",__portable__:"folder-mobile",portability:"folder-mobile",".portability":"folder-mobile",_portability:"folder-mobile",__portability__:"folder-mobile",stencil:"folder-stencil",".stencil":"folder-stencil",_stencil:"folder-stencil",__stencil__:"folder-stencil",firebase:"folder-firebase",".firebase":"folder-firebase",_firebase:"folder-firebase",__firebase__:"folder-firebase",svelte:"folder-svelte",".svelte":"folder-svelte",_svelte:"folder-svelte",__svelte__:"folder-svelte","svelte-kit":"folder-svelte",".svelte-kit":"folder-svelte","_svelte-kit":"folder-svelte","__svelte-kit__":"folder-svelte",update:"folder-update",".update":"folder-update",_update:"folder-update",__update__:"folder-update",updates:"folder-update",".updates":"folder-update",_updates:"folder-update",__updates__:"folder-update",upgrade:"folder-update",".upgrade":"folder-update",_upgrade:"folder-update",__upgrade__:"folder-update",upgrades:"folder-update",".upgrades":"folder-update",_upgrades:"folder-update",__upgrades__:"folder-update",idea:"folder-intellij",".idea":"folder-intellij",_idea:"folder-intellij",__idea__:"folder-intellij","azure-pipelines":"folder-azure-pipelines",".azure-pipelines":"folder-azure-pipelines","_azure-pipelines":"folder-azure-pipelines","__azure-pipelines__":"folder-azure-pipelines","azure-pipelines-ci":"folder-azure-pipelines",".azure-pipelines-ci":"folder-azure-pipelines","_azure-pipelines-ci":"folder-azure-pipelines","__azure-pipelines-ci__":"folder-azure-pipelines",mjml:"folder-mjml",".mjml":"folder-mjml",_mjml:"folder-mjml",__mjml__:"folder-mjml",admin:"folder-admin",".admin":"folder-admin",_admin:"folder-admin",__admin__:"folder-admin",admins:"folder-admin",".admins":"folder-admin",_admins:"folder-admin",__admins__:"folder-admin",manager:"folder-admin",".manager":"folder-admin",_manager:"folder-admin",__manager__:"folder-admin",managers:"folder-admin",".managers":"folder-admin",_managers:"folder-admin",__managers__:"folder-admin",moderator:"folder-admin",".moderator":"folder-admin",_moderator:"folder-admin",__moderator__:"folder-admin",moderators:"folder-admin",".moderators":"folder-admin",_moderators:"folder-admin",__moderators__:"folder-admin",scala:"folder-scala",".scala":"folder-scala",_scala:"folder-scala",__scala__:"folder-scala",connection:"folder-connection",".connection":"folder-connection",_connection:"folder-connection",__connection__:"folder-connection",connections:"folder-connection",".connections":"folder-connection",_connections:"folder-connection",__connections__:"folder-connection",integration:"folder-connection",".integration":"folder-connection",_integration:"folder-connection",__integration__:"folder-connection",integrations:"folder-connection",".integrations":"folder-connection",_integrations:"folder-connection",__integrations__:"folder-connection",quasar:"folder-quasar",".quasar":"folder-quasar",_quasar:"folder-quasar",__quasar__:"folder-quasar",next:"folder-next",".next":"folder-next",_next:"folder-next",__next__:"folder-next",cobol:"folder-cobol",".cobol":"folder-cobol",_cobol:"folder-cobol",__cobol__:"folder-cobol",yarn:"folder-yarn",".yarn":"folder-yarn",_yarn:"folder-yarn",__yarn__:"folder-yarn",husky:"folder-husky",".husky":"folder-husky",_husky:"folder-husky",__husky__:"folder-husky",storybook:"folder-storybook",".storybook":"folder-storybook",_storybook:"folder-storybook",__storybook__:"folder-storybook",stories:"folder-storybook",".stories":"folder-storybook",_stories:"folder-storybook",__stories__:"folder-storybook",base:"folder-base",".base":"folder-base",_base:"folder-base",__base__:"folder-base",bases:"folder-base",".bases":"folder-base",_bases:"folder-base",__bases__:"folder-base",cart:"folder-cart",".cart":"folder-cart",_cart:"folder-cart",__cart__:"folder-cart","shopping-cart":"folder-cart",".shopping-cart":"folder-cart","_shopping-cart":"folder-cart","__shopping-cart__":"folder-cart",shopping:"folder-cart",".shopping":"folder-cart",_shopping:"folder-cart",__shopping__:"folder-cart",shop:"folder-cart",".shop":"folder-cart",_shop:"folder-cart",__shop__:"folder-cart",home:"folder-home",".home":"folder-home",_home:"folder-home",__home__:"folder-home",start:"folder-home",".start":"folder-home",_start:"folder-home",__start__:"folder-home",project:"folder-project",".project":"folder-project",_project:"folder-project",__project__:"folder-project",projects:"folder-project",".projects":"folder-project",_projects:"folder-project",__projects__:"folder-project",interface:"folder-interface",".interface":"folder-interface",_interface:"folder-interface",__interface__:"folder-interface",interfaces:"folder-interface",".interfaces":"folder-interface",_interfaces:"folder-interface",__interfaces__:"folder-interface",netlify:"folder-netlify",".netlify":"folder-netlify",_netlify:"folder-netlify",__netlify__:"folder-netlify",enum:"folder-enum",".enum":"folder-enum",_enum:"folder-enum",__enum__:"folder-enum",enums:"folder-enum",".enums":"folder-enum",_enums:"folder-enum",__enums__:"folder-enum",pact:"folder-contract",".pact":"folder-contract",_pact:"folder-contract",__pact__:"folder-contract",pacts:"folder-contract",".pacts":"folder-contract",_pacts:"folder-contract",__pacts__:"folder-contract",contract:"folder-contract",".contract":"folder-contract",_contract:"folder-contract",__contract__:"folder-contract",contracts:"folder-contract",".contracts":"folder-contract",_contracts:"folder-contract",__contracts__:"folder-contract","contract-testing":"folder-contract",".contract-testing":"folder-contract","_contract-testing":"folder-contract","__contract-testing__":"folder-contract","contract-test":"folder-contract",".contract-test":"folder-contract","_contract-test":"folder-contract","__contract-test__":"folder-contract","contract-tests":"folder-contract",".contract-tests":"folder-contract","_contract-tests":"folder-contract","__contract-tests__":"folder-contract",queue:"folder-queue",".queue":"folder-queue",_queue:"folder-queue",__queue__:"folder-queue",queues:"folder-queue",".queues":"folder-queue",_queues:"folder-queue",__queues__:"folder-queue",bull:"folder-queue",".bull":"folder-queue",_bull:"folder-queue",__bull__:"folder-queue",mq:"folder-queue",".mq":"folder-queue",_mq:"folder-queue",__mq__:"folder-queue",vercel:"folder-vercel",".vercel":"folder-vercel",_vercel:"folder-vercel",__vercel__:"folder-vercel",now:"folder-vercel",".now":"folder-vercel",_now:"folder-vercel",__now__:"folder-vercel",cypress:"folder-cypress",".cypress":"folder-cypress",_cypress:"folder-cypress",__cypress__:"folder-cypress",decorator:"folder-decorators",".decorator":"folder-decorators",_decorator:"folder-decorators",__decorator__:"folder-decorators",decorators:"folder-decorators",".decorators":"folder-decorators",_decorators:"folder-decorators",__decorators__:"folder-decorators",java:"folder-java",".java":"folder-java",_java:"folder-java",__java__:"folder-java",resolver:"folder-resolver",".resolver":"folder-resolver",_resolver:"folder-resolver",__resolver__:"folder-resolver",resolvers:"folder-resolver",".resolvers":"folder-resolver",_resolvers:"folder-resolver",__resolvers__:"folder-resolver",angular:"folder-angular",".angular":"folder-angular",_angular:"folder-angular",__angular__:"folder-angular",unity:"folder-unity",".unity":"folder-unity",_unity:"folder-unity",__unity__:"folder-unity",pdf:"folder-pdf",".pdf":"folder-pdf",_pdf:"folder-pdf",__pdf__:"folder-pdf",pdfs:"folder-pdf",".pdfs":"folder-pdf",_pdfs:"folder-pdf",__pdfs__:"folder-pdf",protobuf:"folder-proto",".protobuf":"folder-proto",_protobuf:"folder-proto",__protobuf__:"folder-proto",protobufs:"folder-proto",".protobufs":"folder-proto",_protobufs:"folder-proto",__protobufs__:"folder-proto",proto:"folder-proto",".proto":"folder-proto",_proto:"folder-proto",protos:"folder-proto",".protos":"folder-proto",_protos:"folder-proto",__protos__:"folder-proto",plastic:"folder-plastic",".plastic":"folder-plastic",_plastic:"folder-plastic",__plastic__:"folder-plastic",gamemaker:"folder-gamemaker",".gamemaker":"folder-gamemaker",_gamemaker:"folder-gamemaker",__gamemaker__:"folder-gamemaker",gamemaker2:"folder-gamemaker",".gamemaker2":"folder-gamemaker",_gamemaker2:"folder-gamemaker",__gamemaker2__:"folder-gamemaker",hg:"folder-mercurial",".hg":"folder-mercurial",_hg:"folder-mercurial",__hg__:"folder-mercurial",hghooks:"folder-mercurial",".hghooks":"folder-mercurial",_hghooks:"folder-mercurial",__hghooks__:"folder-mercurial",hgext:"folder-mercurial",".hgext":"folder-mercurial",_hgext:"folder-mercurial",__hgext__:"folder-mercurial",godot:"folder-godot",".godot":"folder-godot",_godot:"folder-godot",__godot__:"folder-godot","godot-cpp":"folder-godot",".godot-cpp":"folder-godot","_godot-cpp":"folder-godot","__godot-cpp__":"folder-godot",lottie:"folder-lottie",".lottie":"folder-lottie",_lottie:"folder-lottie",__lottie__:"folder-lottie",lotties:"folder-lottie",".lotties":"folder-lottie",_lotties:"folder-lottie",__lotties__:"folder-lottie",lottiefiles:"folder-lottie",".lottiefiles":"folder-lottie",_lottiefiles:"folder-lottie",__lottiefiles__:"folder-lottie",taskfile:"folder-taskfile",".taskfile":"folder-taskfile",_taskfile:"folder-taskfile",__taskfile__:"folder-taskfile",taskfiles:"folder-taskfile",".taskfiles":"folder-taskfile",_taskfiles:"folder-taskfile",__taskfiles__:"folder-taskfile",cloudflare:"folder-cloudflare",".cloudflare":"folder-cloudflare",_cloudflare:"folder-cloudflare",__cloudflare__:"folder-cloudflare",seeds:"folder-seeders",".seeds":"folder-seeders",_seeds:"folder-seeders",__seeds__:"folder-seeders",seeders:"folder-seeders",".seeders":"folder-seeders",_seeders:"folder-seeders",__seeders__:"folder-seeders",seed:"folder-seeders",".seed":"folder-seeders",_seed:"folder-seeders",__seed__:"folder-seeders",seeding:"folder-seeders",".seeding":"folder-seeders",_seeding:"folder-seeders",__seeding__:"folder-seeders"},fileExtensions:{htm:"html",xhtml:"html",html_vm:"html",asp:"html",jade:"pug",pug:"pug",md:"markdown",markdown:"markdown",rst:"markdown",blink:"blink",css:"css",scss:"sass",sass:"sass",less:"less",json:"json",jsonc:"json",tsbuildinfo:"json",json5:"json",jsonl:"json",ndjson:"json",hjson:"hjson",jinja:"jinja",jinja2:"jinja",j2:"jinja","jinja-html":"jinja",proto:"proto","sublime-project":"sublime","sublime-workspace":"sublime",tw:"twine",twee:"twine","yml.dist":"yaml","yaml.dist":"yaml","YAML-tmLanguage":"yaml",xml:"xml",plist:"xml",xsd:"xml",dtd:"xml",xsl:"xml",xslt:"xml",resx:"xml",iml:"xml",xquery:"xml",tmLanguage:"xml",manifest:"xml",project:"xml","xml.dist":"xml","xml.dist.sample":"xml",dmn:"xml",jrxml:"xml",png:"image",jpeg:"image",jpg:"image",gif:"image",ico:"image",tif:"image",tiff:"image",psd:"image",psb:"image",ami:"image",apx:"image",avif:"image",bmp:"image",bpg:"image",brk:"image",cur:"image",dds:"image",dng:"image",exr:"image",fpx:"image",gbr:"image",img:"image",jbig2:"image",jb2:"image",jng:"image",jxr:"image",pgf:"image",pic:"image",raw:"image",webp:"image",eps:"image",afphoto:"image",ase:"image",aseprite:"image",clip:"image",cpt:"image",heif:"image",heic:"image",kra:"image",mdp:"image",ora:"image",pdn:"image",reb:"image",sai:"image",tga:"image",xcf:"image",jfif:"image",ppm:"image",pbm:"image",pgm:"image",pnm:"image",icns:"image",esx:"javascript",mjs:"javascript",jsx:"react",tsx:"react_ts","routing.ts":"routing","routing.tsx":"routing","routing.js":"routing","routing.jsx":"routing","routes.ts":"routing","routes.tsx":"routing","routes.js":"routing","routes.jsx":"routing",ini:"settings",dlc:"settings",config:"settings",conf:"settings",properties:"settings",prop:"settings",settings:"settings",option:"settings",props:"settings",toml:"settings",prefs:"settings","sln.dotsettings":"settings","sln.dotsettings.user":"settings",cfg:"settings","d.ts":"typescript-def","d.cts":"typescript-def","d.mts":"typescript-def",marko:"markojs",astro:"astro",pdf:"pdf",xlsx:"table",xlsm:"table",xls:"table",csv:"table",tsv:"table",psv:"table",ods:"table",vscodeignore:"vscode",vsixmanifest:"vscode",vsix:"vscode","code-workplace":"vscode","code-workspace":"vscode","code-profile":"vscode","code-snippets":"vscode",csproj:"visualstudio",ruleset:"visualstudio",sln:"visualstudio",slnx:"visualstudio",suo:"visualstudio",vb:"visualstudio",vbs:"visualstudio",vcxitems:"visualstudio","vcxitems.filters":"visualstudio",vcxproj:"visualstudio","vcxproj.filters":"visualstudio",pdb:"database",sql:"database",pks:"database",pkb:"database",accdb:"database",mdb:"database",sqlite:"database",sqlite3:"database",pgsql:"database",postgres:"database",plpgsql:"database",psql:"database",db:"database",db3:"database",dblite:"database",dblite3:"database",debugsymbols:"database",kql:"kusto",cs:"csharp",csx:"csharp",csharp:"csharp",qs:"qsharp",zip:"zip",tar:"zip",gz:"zip",xz:"zip",lzma:"zip",lz4:"zip",br:"zip",bz2:"zip",bzip2:"zip",gzip:"zip",brotli:"zip","7z":"zip",rar:"zip",tz:"zip",txz:"zip",tgz:"zip",zst:"zip",vala:"vala",zig:"zig",zon:"zig",exe:"exe",msi:"exe",dat:"hex",bin:"hex",hex:"hex",java:"java",jsp:"java",jar:"jar",class:"javaclass",c:"c",i:"c",mi:"c",h:"h",cc:"cpp",cpp:"cpp",cxx:"cpp","c++":"cpp",cp:"cpp",mii:"cpp",ii:"cpp",hh:"hpp",hpp:"hpp",hxx:"hpp","h++":"hpp",hp:"hpp",tcc:"hpp",inl:"hpp",rc:"rc",go:"go",py:"python",pyc:"python-misc",whl:"python-misc",url:"url",sh:"console",ksh:"console",csh:"console",tcsh:"console",zsh:"console",bash:"console",bat:"console",cmd:"console",awk:"console",fish:"console",exp:"console",nu:"console",ps1:"powershell",psm1:"powershell",psd1:"powershell",ps1xml:"powershell",psc1:"powershell",pssc:"powershell",gradle:"gradle",doc:"word",docx:"word",rtf:"word",odt:"word",cer:"certificate",cert:"certificate",crt:"certificate",pub:"key",key:"key",pem:"key",asc:"key",gpg:"key",passwd:"key",woff:"font",woff2:"font",ttf:"font",eot:"font",suit:"font",otf:"font",bmap:"font",fnt:"font",odttf:"font",ttc:"font",font:"font",fonts:"font",sui:"font",ntf:"font",mrf:"font",lib:"lib",bib:"lib",a:"lib",dll:"dll",ilk:"dll",so:"dll",rb:"ruby",erb:"ruby",rbs:"ruby",fs:"fsharp",fsx:"fsharp",fsi:"fsharp",fsproj:"fsharp",swift:"swift",ino:"arduino",dockerignore:"docker",dockerfile:"docker","docker-compose.yml":"docker","docker-compose.yaml":"docker",containerignore:"docker",containerfile:"docker","compose.yaml":"docker","compose.yml":"docker",tex:"tex",sty:"tex",dtx:"tex",ltx:"tex",pptx:"powerpoint",ppt:"powerpoint",pptm:"powerpoint",potx:"powerpoint",potm:"powerpoint",ppsx:"powerpoint",ppsm:"powerpoint",pps:"powerpoint",ppam:"powerpoint",ppa:"powerpoint",odp:"powerpoint",webm:"video",mkv:"video",flv:"video",vob:"video",ogv:"video",ogg:"video",gifv:"video",avi:"video",mov:"video",qt:"video",wmv:"video",yuv:"video",rm:"video",rmvb:"video",mp4:"video",m4v:"video",mpg:"video",mp2:"video",mpeg:"video",mpe:"video",mpv:"video",m2v:"video",vdi:"virtual",vbox:"virtual","vbox-prev":"virtual",ved:"vedic",veda:"vedic",vedic:"vedic",ics:"email",mp3:"audio",flac:"audio",m4a:"audio",wma:"audio",aiff:"audio",wav:"audio",coffee:"coffee",cson:"coffee",iced:"coffee",txt:"document",graphql:"graphql",gql:"graphql",rs:"rust",ron:"rust",raml:"raml",xaml:"xaml",hs:"haskell",kt:"kotlin",kts:"kotlin",otne:"otne",patch:"git",lua:"lua",clj:"clojure",cljs:"clojure",cljc:"clojure",groovy:"groovy",r:"r",rmd:"r",dart:"dart","freezed.dart":"dart_generated","g.dart":"dart_generated",as:"actionscript",mxml:"mxml",ahk:"autohotkey",swf:"flash",swc:"swc",cmake:"cmake",asm:"assembly",a51:"assembly",inc:"assembly",nasm:"assembly",s:"assembly",ms:"assembly",agc:"assembly",ags:"assembly",aea:"assembly",argus:"assembly",mitigus:"assembly",binsource:"assembly",vue:"vue",ml:"ocaml",mli:"ocaml",cmx:"ocaml",odin:"odin","js.map":"javascript-map","mjs.map":"javascript-map","cjs.map":"javascript-map","css.map":"css-map",lock:"lock",hbs:"handlebars",mustache:"handlebars",pm:"perl",raku:"perl",hx:"haxe","spec.ts":"test-ts","spec.cts":"test-ts","spec.mts":"test-ts","cy.ts":"test-ts","e2e-spec.ts":"test-ts","e2e-spec.cts":"test-ts","e2e-spec.mts":"test-ts","test.ts":"test-ts","test.cts":"test-ts","test.mts":"test-ts","ts.snap":"test-ts","spec-d.ts":"test-ts","test-d.ts":"test-ts","spec.tsx":"test-jsx","test.tsx":"test-jsx","tsx.snap":"test-jsx","spec.jsx":"test-jsx","test.jsx":"test-jsx","jsx.snap":"test-jsx","cy.jsx":"test-jsx","cy.tsx":"test-jsx","spec-d.tsx":"test-jsx","test-d.tsx":"test-jsx","spec.js":"test-js","spec.cjs":"test-js","spec.mjs":"test-js","e2e-spec.js":"test-js","e2e-spec.cjs":"test-js","e2e-spec.mjs":"test-js","test.js":"test-js","test.cjs":"test-js","test.mjs":"test-js","js.snap":"test-js","cy.js":"test-js","module.ts":"angular","module.js":"angular","ng-template":"angular","component.ts":"angular-component","component.js":"angular-component","guard.ts":"angular-guard","guard.js":"angular-guard","service.ts":"angular-service","service.js":"angular-service","pipe.ts":"angular-pipe","pipe.js":"angular-pipe","filter.js":"angular-pipe","directive.ts":"angular-directive","directive.js":"angular-directive","resolver.ts":"angular-resolver","resolver.js":"angular-resolver",pp:"puppet",ex:"elixir",exs:"elixir",eex:"elixir",leex:"elixir",heex:"elixir",ls:"livescript",erl:"erlang",twig:"twig",jl:"julia",elm:"elm",pure:"purescript",purs:"purescript",tpl:"smarty",styl:"stylus",re:"reason",rei:"reason",cmj:"bucklescript",merlin:"merlin",vhd:"verilog",sv:"verilog",svh:"verilog",nb:"mathematica",wl:"wolframlanguage",wls:"wolframlanguage",njk:"nunjucks",nunjucks:"nunjucks",robot:"robot",sol:"solidity",au3:"autoit",haml:"haml",yang:"yang",mjml:"mjml",tf:"terraform","tf.json":"terraform",tfvars:"terraform",tfstate:"terraform",tfbackend:"terraform","blade.php":"laravel","inky.php":"laravel",applescript:"applescript",ipa:"applescript",cake:"cake",feature:"cucumber",features:"cucumber",nim:"nim",nimble:"nim",apib:"apiblueprint",apiblueprint:"apiblueprint",riot:"riot",tag:"riot",vfl:"vfl",kl:"kl",pcss:"postcss",sss:"postcss",todo:"todo",cfml:"coldfusion",cfc:"coldfusion",lucee:"coldfusion",cfm:"coldfusion",cabal:"cabal",nix:"nix",slim:"slim",http:"http",rest:"http",rql:"restql",restql:"restql",kv:"kivy",graphcool:"graphcool",sbt:"sbt",apk:"android",smali:"android",dex:"android",env:"tune","gitlab-ci.yml":"gitlab",jenkinsfile:"jenkins",jenkins:"jenkins",fig:"figma",huff:"huff",cr:"crystal",ecr:"crystal","drone.yml":"drone",cu:"cuda",cuh:"cuda",log:"log",def:"dotjs",dot:"dotjs",jst:"dotjs",ejs:"ejs",".wakatime-project":"wakatime",pde:"processing","stories.js":"storybook","stories.jsx":"storybook","stories.mdx":"storybook","story.js":"storybook","story.jsx":"storybook","stories.ts":"storybook","stories.tsx":"storybook","story.ts":"storybook","story.tsx":"storybook","stories.svelte":"storybook","story.mdx":"storybook",wpy:"wepy",hcl:"hcl",san:"san","quokka.js":"quokka","quokka.ts":"quokka","quokka.jsx":"quokka","quokka.tsx":"quokka",djt:"django",red:"red",mk:"makefile",fxp:"foxpro",prg:"foxpro",pot:"i18n",po:"i18n",mo:"i18n",lang:"i18n",wat:"webassembly",wasm:"webassembly",ipynb:"jupyter",d:"d",mdx:"mdx",svx:"mdsvex",bal:"ballerina",balx:"ballerina",rkt:"racket",bzl:"bazel",bazel:"bazel",mint:"mint",vm:"velocity",fhtml:"velocity",vtl:"velocity",gd:"godot",godot:"godot-assets",tres:"godot-assets",tscn:"godot-assets",gdns:"godot-assets",gdnlib:"godot-assets",gdshader:"godot-assets",gdshaderinc:"godot-assets",gdextension:"godot-assets","azure-pipelines.yml":"azure-pipelines","azure-pipelines.yaml":"azure-pipelines","azure-pipelines-main.yml":"azure-pipelines","azure-pipelines-main.yaml":"azure-pipelines",azcli:"azure",vagrantfile:"vagrant",prisma:"prisma",cshtml:"razor",vbhtml:"razor",abc:"abc",ad:"asciidoc",adoc:"asciidoc",asciidoc:"asciidoc",edge:"edge",ss:"scheme",scm:"scheme",lisp:"lisp",lsp:"lisp",cl:"lisp",fast:"lisp",stl:"3d",stp:"3d",obj:"3d",o:"3d",ac:"3d",blend:"3d",dxf:"3d",fbx:"3d",mesh:"3d",mqo:"3d",pmd:"3d",pmx:"3d",skp:"3d",vac:"3d",vdp:"3d",vox:"3d",svg:"svg",svelte:"svelte",vimrc:"vim",gvimrc:"vim",exrc:"vim",vim:"vim",viminfo:"vim",moon:"moonscript",prw:"advpl_prw",prx:"advpl_prw",ptm:"advpl_ptm",tlpp:"advpl_tlpp",ch:"advpl_include",iso:"disc",vmdk:"disc",hdd:"disc",qcow:"disc",qcow2:"disc",qed:"disc",dmg:"disc",f:"fortran",f77:"fortran",f90:"fortran",f95:"fortran",f03:"fortran",f08:"fortran",tcl:"tcl",liquid:"liquid",p:"prolog",pro:"prolog",pl:"prolog",coco:"coconut",sketch:"sketch",pwn:"pawn",amx:"pawn","4th":"forth",fth:"forth",frt:"forth",iuml:"uml",pu:"uml",puml:"uml",plantuml:"uml",wsd:"uml",wrap:"meson",dhall:"dhall",dhallb:"dhall",sml:"sml",mlton:"sml",mlb:"sml",sig:"sml",fun:"sml",cm:"sml",lex:"sml",use:"sml",grm:"sml",opam:"opam",imba:"imba",drawio:"drawio",dio:"drawio",pas:"pascal",unity:"shaderlab",sas:"sas",sas7bdat:"sas",sashdat:"sas",astore:"sas",ast:"sas",sast:"sas",nupkg:"nuget",command:"command",dsc:"denizenscript","code-search":"search",nginx:"nginx",nginxconf:"nginx",nginxconfig:"nginx",mcfunction:"minecraft",mcmeta:"minecraft",mcr:"minecraft",mca:"minecraft",mcgame:"minecraft",mclevel:"minecraft",mcworld:"minecraft",mine:"minecraft",mus:"minecraft",mcstructure:"minecraft",mcpack:"minecraft",mcaddon:"minecraft",mctemplate:"minecraft",mcproject:"minecraft",res:"rescript",resi:"rescript-interface",b:"brainfuck",bf:"brainfuck",bicep:"bicep",cob:"cobol",cbl:"cobol",gr:"grain",lol:"lolcode",idr:"idris",ibc:"idris",pipeline:"pipeline",rego:"opa",windi:"windicss",scala:"scala",sc:"scala",ly:"lilypond",v:"vlang",pgn:"chess",fen:"chess",gmi:"gemini",gemini:"gemini","tsconfig.json":"tsconfig",tauri:"tauri","jsconfig.json":"jsconfig",ada:"ada",adb:"ada",ads:"ada",ali:"ada","horusec-config.json":"horusec","pdm.lock":"pdm","pdm.toml":"pdm",coarc:"coala",coafile:"coala",bubble:"dinophp","html.bubble":"dinophp","php.bubble":"dinophp",tl:"teal",template:"template",glsl:"shader",vert:"shader",tesc:"shader",tese:"shader",geom:"shader",frag:"shader",comp:"shader","vert.glsl":"shader","tesc.glsl":"shader","tese.glsl":"shader","geom.glsl":"shader","frag.glsl":"shader","comp.glsl":"shader","vertex.glsl":"shader","geometry.glsl":"shader","fragment.glsl":"shader","compute.glsl":"shader","ts.glsl":"shader","gs.glsl":"shader","vs.glsl":"shader","fs.glsl":"shader",shader:"shader",vertexshader:"shader",fragmentshader:"shader",geometryshader:"shader",computeshader:"shader",hlsl:"shader","pixel.hlsl":"shader","geometry.hlsl":"shader","compute.hlsl":"shader","tessellation.hlsl":"shader","px.hlsl":"shader","geom.hlsl":"shader","comp.hlsl":"shader","tess.hlsl":"shader",wgsl:"shader",sy:"siyuan","ndst.yml":"ndst","ndst.yaml":"ndst","ndst.json":"ndst",tobi:"tobi",gleam:"gleam","steadybit.yml":"steadybit","steadybit.yaml":"steadybit",capnp:"capnp",tree:"tree",cdc:"cadence","openapi.json":"openapi","openapi.yml":"openapi","openapi.yaml":"openapi","swagger.json":"swagger","swagger.yml":"swagger","swagger.yaml":"swagger",g4:"antlr","st.css":"stylable",pine:"pinejs","taskfile.yml":"taskfile","taskfile.yaml":"taskfile",gml:"gamemaker",yy:"gamemaker",yyp:"gamemaker",yyz:"gamemaker",tldr:"tldraw",typ:"typst",mmd:"mermaid",mermaid:"mermaid",mojo:"mojo","":"mojo",rbxl:"roblox",rbxlx:"roblox",rbxm:"roblox",rbxmx:"roblox",spwn:"spwn",templ:"templ",crx:"chrome",stan:"stan",abap:"abap",acds:"abap",asddls:"abap",lottie:"lottie",gs:"apps-script",pkl:"pkl"},fileNames:{".pug-lintrc":"pug",".pug-lintrc.js":"pug",".pug-lintrc.json":"pug",".jscsrc":"json",".jshintrc":"json","composer.lock":"json",".jsbeautifyrc":"json",".esformatter":"json","cdp.pid":"json",".lintstagedrc":"json",".whitesource":"json","playwright.config.js":"playwright","playwright.config.mjs":"playwright","playwright.config.ts":"playwright","playwright.config.base.js":"playwright","playwright.config.base.mjs":"playwright","playwright.config.base.ts":"playwright","playwright-ct.config.js":"playwright","playwright-ct.config.mjs":"playwright","playwright-ct.config.ts":"playwright",".htaccess":"xml","router.js":"routing","router.jsx":"routing","router.ts":"routing","router.tsx":"routing","routes.js":"routing","routes.jsx":"routing","routes.ts":"routing","routes.tsx":"routing",".jshintignore":"settings",".buildignore":"settings",".mrconfig":"settings",".yardopts":"settings","manifest.mf":"settings",".clang-format":"settings",".clang-tidy":"settings","astro.config.js":"astro","astro.config.mjs":"astro","astro.config.cjs":"astro","astro.config.ts":"astro","astro.config.cts":"astro","astro.config.mts":"astro","go.mod":"go-mod","go.sum":"go-mod","go.work":"go-mod","go.work.sum":"go-mod","requirements.txt":"python-misc",pipfile:"python-misc",".python-version":"python-misc","manifest.in":"python-misc",pylintrc:"python-misc",".pylintrc":"python-misc","pyproject.toml":"python-misc","commit-msg":"console","pre-commit":"console","pre-push":"console","post-merge":"console","gradle.properties":"gradle",gradlew:"gradle","gradle-wrapper.properties":"gradle",copying:"certificate","copying.md":"certificate","copying.rst":"certificate","copying.txt":"certificate",copyright:"certificate","copyright.md":"certificate","copyright.rst":"certificate","copyright.txt":"certificate",license:"certificate","license-agpl":"certificate","license-apache":"certificate","license-bsd":"certificate","license-mit":"certificate","license-gpl":"certificate","license-lgpl":"certificate","license.md":"certificate","license.rst":"certificate","license.txt":"certificate",licence:"certificate","licence-agpl":"certificate","licence-apache":"certificate","licence-bsd":"certificate","licence-mit":"certificate","licence-gpl":"certificate","licence-lgpl":"certificate","licence.md":"certificate","licence.rst":"certificate","licence.txt":"certificate",".htpasswd":"key",".ruby-version":"ruby",gemfile:"gemfile",".rubocop.yml":"rubocop",".rubocop-todo.yml":"rubocop",".rubocop_todo.yml":"rubocop",".rspec":"rspec",dockerfile:"docker","dockerfile.prod":"docker","dockerfile.production":"docker","dockerfile.alpha":"docker","dockerfile.beta":"docker","dockerfile.stage":"docker","dockerfile.staging":"docker","dockerfile.dev":"docker","dockerfile.development":"docker","dockerfile.local":"docker","dockerfile.test":"docker","dockerfile.testing":"docker","dockerfile.ci":"docker","dockerfile.web":"docker","dockerfile.worker":"docker","docker-compose.yml":"docker","docker-compose.override.yml":"docker","docker-compose.prod.yml":"docker","docker-compose.production.yml":"docker","docker-compose.alpha.yml":"docker","docker-compose.beta.yml":"docker","docker-compose.stage.yml":"docker","docker-compose.staging.yml":"docker","docker-compose.dev.yml":"docker","docker-compose.development.yml":"docker","docker-compose.local.yml":"docker","docker-compose.test.yml":"docker","docker-compose.testing.yml":"docker","docker-compose.ci.yml":"docker","docker-compose.web.yml":"docker","docker-compose.worker.yml":"docker","docker-compose.yaml":"docker","docker-compose.override.yaml":"docker","docker-compose.prod.yaml":"docker","docker-compose.production.yaml":"docker","docker-compose.alpha.yaml":"docker","docker-compose.beta.yaml":"docker","docker-compose.stage.yaml":"docker","docker-compose.staging.yaml":"docker","docker-compose.dev.yaml":"docker","docker-compose.development.yaml":"docker","docker-compose.local.yaml":"docker","docker-compose.test.yaml":"docker","docker-compose.testing.yaml":"docker","docker-compose.ci.yaml":"docker","docker-compose.web.yaml":"docker","docker-compose.worker.yaml":"docker",containerfile:"docker","containerfile.prod":"docker","containerfile.production":"docker","containerfile.alpha":"docker","containerfile.beta":"docker","containerfile.stage":"docker","containerfile.staging":"docker","containerfile.dev":"docker","containerfile.development":"docker","containerfile.local":"docker","containerfile.test":"docker","containerfile.testing":"docker","containerfile.ci":"docker","containerfile.web":"docker","containerfile.worker":"docker","compose.yaml":"docker","compose.override.yaml":"docker","compose.prod.yaml":"docker","compose.production.yaml":"docker","compose.alpha.yaml":"docker","compose.beta.yaml":"docker","compose.stage.yaml":"docker","compose.staging.yaml":"docker","compose.dev.yaml":"docker","compose.development.yaml":"docker","compose.local.yaml":"docker","compose.test.yaml":"docker","compose.testing.yaml":"docker","compose.ci.yaml":"docker","compose.web.yaml":"docker","compose.worker.yaml":"docker","compose.yml":"docker","compose.override.yml":"docker","compose.prod.yml":"docker","compose.production.yml":"docker","compose.alpha.yml":"docker","compose.beta.yml":"docker","compose.stage.yml":"docker","compose.staging.yml":"docker","compose.dev.yml":"docker","compose.development.yml":"docker","compose.local.yml":"docker","compose.test.yml":"docker","compose.testing.yml":"docker","compose.ci.yml":"docker","compose.web.yml":"docker","compose.worker.yml":"docker",".mailmap":"email",".graphqlrc":"graphql",".graphqlrc.json":"graphql",".graphqlrc.jsonc":"graphql",".graphqlrc.json5":"graphql",".graphqlrc.yaml":"graphql",".graphqlrc.yml":"graphql",".graphqlrc.toml":"graphql",".graphqlrc.js":"graphql",".graphqlrc.mjs":"graphql",".graphqlrc.cjs":"graphql",".graphqlrc.ts":"graphql",".graphqlrc.mts":"graphql",".graphqlrc.cts":"graphql",".config/graphqlrc":"graphql",".config/graphqlrc.json":"graphql",".config/graphqlrc.jsonc":"graphql",".config/graphqlrc.json5":"graphql",".config/graphqlrc.yaml":"graphql",".config/graphqlrc.yml":"graphql",".config/graphqlrc.toml":"graphql",".config/graphqlrc.js":"graphql",".config/graphqlrc.mjs":"graphql",".config/graphqlrc.cjs":"graphql",".config/graphqlrc.ts":"graphql",".config/graphqlrc.mts":"graphql",".config/graphqlrc.cts":"graphql","graphql.config.json":"graphql","graphql.config.jsonc":"graphql","graphql.config.json5":"graphql","graphql.config.yaml":"graphql","graphql.config.yml":"graphql","graphql.config.toml":"graphql","graphql.config.js":"graphql","graphql.config.mjs":"graphql","graphql.config.cjs":"graphql","graphql.config.ts":"graphql","graphql.config.mts":"graphql","graphql.config.cts":"graphql",".graphqlconfig":"graphql",".git":"git",".gitignore":"git",".gitmessage":"git",".gitignore-global":"git",".gitignore_global":"git",".gitattributes":"git",".gitattributes-global":"git",".gitattributes_global":"git",".gitconfig":"git",".gitmodules":"git",".gitkeep":"git",".keep":"git",".gitpreserve":"git",".gitinclude":"git",".git-blame-ignore":"git",".git-blame-ignore-revs":"git",".git-for-windows-updater":"git","git-history":"git",".luacheckrc":"lua",".Rhistory":"r",".pubignore":"dart","cmakelists.txt":"cmake","cmakecache.txt":"cmake","semgrep.yml":"semgrep",".semgrepignore":"semgrep","vue.config.js":"vue-config","vue.config.ts":"vue-config","vetur.config.js":"vue-config","vetur.config.ts":"vue-config","volar.config.js":"vue-config","nuxt.config.js":"nuxt","nuxt.config.ts":"nuxt",".nuxtignore":"nuxt","security.md":"lock","security.txt":"lock",security:"lock","angular-cli.json":"angular",".angular-cli.json":"angular","angular.json":"angular","ng-package.json":"angular",".mjmlconfig":"mjml","vercel.json":"vercel",".vercelignore":"vercel","now.json":"vercel",".nowignore":"vercel","verdaccio.yml":"verdaccio","payload.config.js":"payload","payload.config.mjs":"payload","payload.config.ts":"payload","payload.config.mts":"payload","next.config.js":"next","next.config.mjs":"next","next.config.ts":"next","next.config.mts":"next","remix.config.js":"remix","remix.config.ts":"remix",artisan:"laravel",".vfl":"vfl",".kl":"kl",".postcssrc":"postcss",".postcssrc.json":"postcss",".postcssrc.jsonc":"postcss",".postcssrc.json5":"postcss",".postcssrc.yaml":"postcss",".postcssrc.yml":"postcss",".postcssrc.toml":"postcss",".postcssrc.js":"postcss",".postcssrc.mjs":"postcss",".postcssrc.cjs":"postcss",".postcssrc.ts":"postcss",".postcssrc.mts":"postcss",".postcssrc.cts":"postcss",".config/postcssrc":"postcss",".config/postcssrc.json":"postcss",".config/postcssrc.jsonc":"postcss",".config/postcssrc.json5":"postcss",".config/postcssrc.yaml":"postcss",".config/postcssrc.yml":"postcss",".config/postcssrc.toml":"postcss",".config/postcssrc.js":"postcss",".config/postcssrc.mjs":"postcss",".config/postcssrc.cjs":"postcss",".config/postcssrc.ts":"postcss",".config/postcssrc.mts":"postcss",".config/postcssrc.cts":"postcss","postcss.config.json":"postcss","postcss.config.jsonc":"postcss","postcss.config.json5":"postcss","postcss.config.yaml":"postcss","postcss.config.yml":"postcss","postcss.config.toml":"postcss","postcss.config.js":"postcss","postcss.config.mjs":"postcss","postcss.config.cjs":"postcss","postcss.config.ts":"postcss","postcss.config.mts":"postcss","postcss.config.cts":"postcss",".posthtmlrc":"posthtml",".posthtmlrc.json":"posthtml",".posthtmlrc.jsonc":"posthtml",".posthtmlrc.json5":"posthtml",".posthtmlrc.yaml":"posthtml",".posthtmlrc.yml":"posthtml",".posthtmlrc.toml":"posthtml",".posthtmlrc.js":"posthtml",".posthtmlrc.mjs":"posthtml",".posthtmlrc.cjs":"posthtml",".posthtmlrc.ts":"posthtml",".posthtmlrc.mts":"posthtml",".posthtmlrc.cts":"posthtml",".config/posthtmlrc":"posthtml",".config/posthtmlrc.json":"posthtml",".config/posthtmlrc.jsonc":"posthtml",".config/posthtmlrc.json5":"posthtml",".config/posthtmlrc.yaml":"posthtml",".config/posthtmlrc.yml":"posthtml",".config/posthtmlrc.toml":"posthtml",".config/posthtmlrc.js":"posthtml",".config/posthtmlrc.mjs":"posthtml",".config/posthtmlrc.cjs":"posthtml",".config/posthtmlrc.ts":"posthtml",".config/posthtmlrc.mts":"posthtml",".config/posthtmlrc.cts":"posthtml","posthtml.config.json":"posthtml","posthtml.config.jsonc":"posthtml","posthtml.config.json5":"posthtml","posthtml.config.yaml":"posthtml","posthtml.config.yml":"posthtml","posthtml.config.toml":"posthtml","posthtml.config.js":"posthtml","posthtml.config.mjs":"posthtml","posthtml.config.cjs":"posthtml","posthtml.config.ts":"posthtml","posthtml.config.mts":"posthtml","posthtml.config.cts":"posthtml","todo.md":"todo","todos.md":"todo","cabal.project":"cabal","cabal.project.freeze":"cabal","cabal.project.local":"cabal",CNAME:"http","project.graphcool":"graphcool","webpack.base.js":"webpack","webpack.base.mjs":"webpack","webpack.base.cjs":"webpack","webpack.base.ts":"webpack","webpack.base.mts":"webpack","webpack.base.cts":"webpack","webpack.client.js":"webpack","webpack.client.mjs":"webpack","webpack.client.cjs":"webpack","webpack.client.ts":"webpack","webpack.client.mts":"webpack","webpack.client.cts":"webpack","webpack.common.js":"webpack","webpack.common.mjs":"webpack","webpack.common.cjs":"webpack","webpack.common.ts":"webpack","webpack.common.mts":"webpack","webpack.common.cts":"webpack","webpack.config.babel.js":"webpack","webpack.config.babel.mjs":"webpack","webpack.config.babel.cjs":"webpack","webpack.config.babel.ts":"webpack","webpack.config.babel.mts":"webpack","webpack.config.babel.cts":"webpack","webpack.config.base.babel.js":"webpack","webpack.config.base.babel.mjs":"webpack","webpack.config.base.babel.cjs":"webpack","webpack.config.base.babel.ts":"webpack","webpack.config.base.babel.mts":"webpack","webpack.config.base.babel.cts":"webpack","webpack.config.base.js":"webpack","webpack.config.base.mjs":"webpack","webpack.config.base.cjs":"webpack","webpack.config.base.ts":"webpack","webpack.config.base.mts":"webpack","webpack.config.base.cts":"webpack","webpack.config.client.js":"webpack","webpack.config.client.mjs":"webpack","webpack.config.client.cjs":"webpack","webpack.config.client.ts":"webpack","webpack.config.client.mts":"webpack","webpack.config.client.cts":"webpack","webpack.config.common.babel.js":"webpack","webpack.config.common.babel.mjs":"webpack","webpack.config.common.babel.cjs":"webpack","webpack.config.common.babel.ts":"webpack","webpack.config.common.babel.mts":"webpack","webpack.config.common.babel.cts":"webpack","webpack.config.common.js":"webpack","webpack.config.common.mjs":"webpack","webpack.config.common.cjs":"webpack","webpack.config.common.ts":"webpack","webpack.config.common.mts":"webpack","webpack.config.common.cts":"webpack","webpack.config.dev.babel.js":"webpack","webpack.config.dev.babel.mjs":"webpack","webpack.config.dev.babel.cjs":"webpack","webpack.config.dev.babel.ts":"webpack","webpack.config.dev.babel.mts":"webpack","webpack.config.dev.babel.cts":"webpack","webpack.config.dev.js":"webpack","webpack.config.dev.mjs":"webpack","webpack.config.dev.cjs":"webpack","webpack.config.dev.ts":"webpack","webpack.config.dev.mts":"webpack","webpack.config.dev.cts":"webpack","webpack.config.main.js":"webpack","webpack.config.main.mjs":"webpack","webpack.config.main.cjs":"webpack","webpack.config.main.ts":"webpack","webpack.config.main.mts":"webpack","webpack.config.main.cts":"webpack","webpack.config.prod.babel.js":"webpack","webpack.config.prod.babel.mjs":"webpack","webpack.config.prod.babel.cjs":"webpack","webpack.config.prod.babel.ts":"webpack","webpack.config.prod.babel.mts":"webpack","webpack.config.prod.babel.cts":"webpack","webpack.config.prod.js":"webpack","webpack.config.prod.mjs":"webpack","webpack.config.prod.cjs":"webpack","webpack.config.prod.ts":"webpack","webpack.config.prod.mts":"webpack","webpack.config.prod.cts":"webpack","webpack.config.production.babel.js":"webpack","webpack.config.production.babel.mjs":"webpack","webpack.config.production.babel.cjs":"webpack","webpack.config.production.babel.ts":"webpack","webpack.config.production.babel.mts":"webpack","webpack.config.production.babel.cts":"webpack","webpack.config.production.js":"webpack","webpack.config.production.mjs":"webpack","webpack.config.production.cjs":"webpack","webpack.config.production.ts":"webpack","webpack.config.production.mts":"webpack","webpack.config.production.cts":"webpack","webpack.config.renderer.js":"webpack","webpack.config.renderer.mjs":"webpack","webpack.config.renderer.cjs":"webpack","webpack.config.renderer.ts":"webpack","webpack.config.renderer.mts":"webpack","webpack.config.renderer.cts":"webpack","webpack.config.server.js":"webpack","webpack.config.server.mjs":"webpack","webpack.config.server.cjs":"webpack","webpack.config.server.ts":"webpack","webpack.config.server.mts":"webpack","webpack.config.server.cts":"webpack","webpack.config.staging.babel.js":"webpack","webpack.config.staging.babel.mjs":"webpack","webpack.config.staging.babel.cjs":"webpack","webpack.config.staging.babel.ts":"webpack","webpack.config.staging.babel.mts":"webpack","webpack.config.staging.babel.cts":"webpack","webpack.config.staging.js":"webpack","webpack.config.staging.mjs":"webpack","webpack.config.staging.cjs":"webpack","webpack.config.staging.ts":"webpack","webpack.config.staging.mts":"webpack","webpack.config.staging.cts":"webpack","webpack.config.test.js":"webpack","webpack.config.test.mjs":"webpack","webpack.config.test.cjs":"webpack","webpack.config.test.ts":"webpack","webpack.config.test.mts":"webpack","webpack.config.test.cts":"webpack","webpack.config.vendor.production.js":"webpack","webpack.config.vendor.production.mjs":"webpack","webpack.config.vendor.production.cjs":"webpack","webpack.config.vendor.production.ts":"webpack","webpack.config.vendor.production.mts":"webpack","webpack.config.vendor.production.cts":"webpack","webpack.config.vendor.js":"webpack","webpack.config.vendor.mjs":"webpack","webpack.config.vendor.cjs":"webpack","webpack.config.vendor.ts":"webpack","webpack.config.vendor.mts":"webpack","webpack.config.vendor.cts":"webpack","webpack.config.js":"webpack","webpack.config.mjs":"webpack","webpack.config.cjs":"webpack","webpack.config.ts":"webpack","webpack.config.mts":"webpack","webpack.config.cts":"webpack","webpack.dev.js":"webpack","webpack.dev.mjs":"webpack","webpack.dev.cjs":"webpack","webpack.dev.ts":"webpack","webpack.dev.mts":"webpack","webpack.dev.cts":"webpack","webpack.development.js":"webpack","webpack.development.mjs":"webpack","webpack.development.cjs":"webpack","webpack.development.ts":"webpack","webpack.development.mts":"webpack","webpack.development.cts":"webpack","webpack.dist.js":"webpack","webpack.dist.mjs":"webpack","webpack.dist.cjs":"webpack","webpack.dist.ts":"webpack","webpack.dist.mts":"webpack","webpack.dist.cts":"webpack","webpack.mix.js":"webpack","webpack.mix.mjs":"webpack","webpack.mix.cjs":"webpack","webpack.mix.ts":"webpack","webpack.mix.mts":"webpack","webpack.mix.cts":"webpack","webpack.prod.config.js":"webpack","webpack.prod.config.mjs":"webpack","webpack.prod.config.cjs":"webpack","webpack.prod.config.ts":"webpack","webpack.prod.config.mts":"webpack","webpack.prod.config.cts":"webpack","webpack.prod.js":"webpack","webpack.prod.mjs":"webpack","webpack.prod.cjs":"webpack","webpack.prod.ts":"webpack","webpack.prod.mts":"webpack","webpack.prod.cts":"webpack","webpack.production.js":"webpack","webpack.production.mjs":"webpack","webpack.production.cjs":"webpack","webpack.production.ts":"webpack","webpack.production.mts":"webpack","webpack.production.cts":"webpack","webpack.server.js":"webpack","webpack.server.mjs":"webpack","webpack.server.cjs":"webpack","webpack.server.ts":"webpack","webpack.server.mts":"webpack","webpack.server.cts":"webpack","webpack.test.js":"webpack","webpack.test.mjs":"webpack","webpack.test.cjs":"webpack","webpack.test.ts":"webpack","webpack.test.mts":"webpack","webpack.test.cts":"webpack","webpack.js":"webpack","webpack.mjs":"webpack","webpack.cjs":"webpack","webpack.ts":"webpack","webpack.mts":"webpack","webpack.cts":"webpack","webpackfile.js":"webpack","webpackfile.mjs":"webpack","webpackfile.cjs":"webpack","webpackfile.ts":"webpack","webpackfile.mts":"webpack","webpackfile.cts":"webpack","webpack.config.coffee":"webpack","ionic.config.json":"ionic",".io-config.json":"ionic","gulpfile.js":"gulp","gulpfile.mjs":"gulp","gulpfile.ts":"gulp","gulpfile.cts":"gulp","gulpfile.mts":"gulp","gulpfile.babel.js":"gulp","package.json":"nodejs","package-lock.json":"nodejs",".nvmrc":"nodejs",".esmrc":"nodejs",".node-version":"nodejs",".npmignore":"npm",".npmrc":"npm",".yarnrc":"yarn","yarn.lock":"yarn",".yarnclean":"yarn",".yarn-integrity":"yarn","yarn-error.log":"yarn",".yarnrc.yml":"yarn",".yarnrc.yaml":"yarn","androidmanifest.xml":"android",".env.defaults":"tune",".env.example":"tune",".env.sample":"tune",".env.template":"tune",".env.schema":"tune",".env.local":"tune",".env.dev":"tune",".env.development":"tune",".env.alpha":"tune",".env.e2e":"tune",".env.qa":"tune",".env.dist":"tune",".env.prod":"tune",".env.production":"tune",".env.stage":"tune",".env.staging":"tune",".env.preview":"tune",".env.test":"tune",".env.testing":"tune",".env.development.local":"tune",".env.qa.local":"tune",".env.production.local":"tune",".env.staging.local":"tune",".env.test.local":"tune",".env.uat":"tune","turbo.json":"turborepo",".babelrc":"babel",".babelrc.json":"babel",".babelrc.jsonc":"babel",".babelrc.json5":"babel",".babelrc.yaml":"babel",".babelrc.yml":"babel",".babelrc.toml":"babel",".babelrc.js":"babel",".babelrc.mjs":"babel",".babelrc.cjs":"babel",".babelrc.ts":"babel",".babelrc.mts":"babel",".babelrc.cts":"babel",".config/babelrc":"babel",".config/babelrc.json":"babel",".config/babelrc.jsonc":"babel",".config/babelrc.json5":"babel",".config/babelrc.yaml":"babel",".config/babelrc.yml":"babel",".config/babelrc.toml":"babel",".config/babelrc.js":"babel",".config/babelrc.mjs":"babel",".config/babelrc.cjs":"babel",".config/babelrc.ts":"babel",".config/babelrc.mts":"babel",".config/babelrc.cts":"babel","babel.config.json":"babel","babel.config.jsonc":"babel","babel.config.json5":"babel","babel.config.yaml":"babel","babel.config.yml":"babel","babel.config.toml":"babel","babel.config.js":"babel","babel.config.mjs":"babel","babel.config.cjs":"babel","babel.config.ts":"babel","babel.config.mts":"babel","babel.config.cts":"babel",".babel-plugin-macrosrc":"babel",".babel-plugin-macrosrc.json":"babel",".babel-plugin-macrosrc.jsonc":"babel",".babel-plugin-macrosrc.json5":"babel",".babel-plugin-macrosrc.yaml":"babel",".babel-plugin-macrosrc.yml":"babel",".babel-plugin-macrosrc.toml":"babel",".babel-plugin-macrosrc.js":"babel",".babel-plugin-macrosrc.mjs":"babel",".babel-plugin-macrosrc.cjs":"babel",".babel-plugin-macrosrc.ts":"babel",".babel-plugin-macrosrc.mts":"babel",".babel-plugin-macrosrc.cts":"babel",".config/babel-plugin-macrosrc":"babel",".config/babel-plugin-macrosrc.json":"babel",".config/babel-plugin-macrosrc.jsonc":"babel",".config/babel-plugin-macrosrc.json5":"babel",".config/babel-plugin-macrosrc.yaml":"babel",".config/babel-plugin-macrosrc.yml":"babel",".config/babel-plugin-macrosrc.toml":"babel",".config/babel-plugin-macrosrc.js":"babel",".config/babel-plugin-macrosrc.mjs":"babel",".config/babel-plugin-macrosrc.cjs":"babel",".config/babel-plugin-macrosrc.ts":"babel",".config/babel-plugin-macrosrc.mts":"babel",".config/babel-plugin-macrosrc.cts":"babel","babel-plugin-macros.config.json":"babel","babel-plugin-macros.config.jsonc":"babel","babel-plugin-macros.config.json5":"babel","babel-plugin-macros.config.yaml":"babel","babel-plugin-macros.config.yml":"babel","babel-plugin-macros.config.toml":"babel","babel-plugin-macros.config.js":"babel","babel-plugin-macros.config.mjs":"babel","babel-plugin-macros.config.cjs":"babel","babel-plugin-macros.config.ts":"babel","babel-plugin-macros.config.mts":"babel","babel-plugin-macros.config.cts":"babel","babel-transform.js":"babel","blitz.config.js":"blitz","blitz.config.ts":"blitz",".blitz.config.compiled.js":"blitz","contributing.md":"contributing","contributing.rst":"contributing","contributing.txt":"contributing",contributing:"contributing","readme.md":"readme","readme.rst":"readme","readme.txt":"readme",readme:"readme",changelog:"changelog","changelog.md":"changelog","changelog.rst":"changelog","changelog.txt":"changelog",changes:"changelog","changes.md":"changelog","changes.rst":"changelog","changes.txt":"changelog","architecture.md":"architecture","architecture.rst":"architecture","architecture.txt":"architecture",architecture:"architecture","credits.md":"credits","credits.rst":"credits","credits.txt":"credits",credits:"credits","authors.md":"authors","authors.rst":"authors","authors.txt":"authors",authors:"authors","contributors.md":"authors","contributors.rst":"authors","contributors.txt":"authors",contributors:"authors",".flowconfig":"flow","favicon.ico":"favicon","karma.conf.js":"karma","karma.conf.ts":"karma","karma.conf.coffee":"karma","karma.config.js":"karma","karma.config.ts":"karma","karma-main.js":"karma","karma-main.ts":"karma",".bithoundrc":"bithound","svgo.config.js":"svgo","svgo.config.cjs":"svgo","svgo.config.mjs":"svgo",".appveyor.yml":"appveyor","appveyor.yml":"appveyor",".travis.yml":"travis",".codecov.yml":"codecov","codecov.yml":"codecov","sonar-project.properties":"sonarcloud",".sonarcloud.properties":"sonarcloud","sonarcloud.yaml":"sonarcloud","protractor.conf.js":"protractor","protractor.conf.ts":"protractor","protractor.conf.coffee":"protractor","protractor.config.js":"protractor","protractor.config.ts":"protractor","fuse.js":"fusebox",procfile:"heroku","procfile.windows":"heroku",".editorconfig":"editorconfig",".bowerrc":"bower","bower.json":"bower",".eslintrc":"eslint",".eslintrc.json":"eslint",".eslintrc.jsonc":"eslint",".eslintrc.json5":"eslint",".eslintrc.yaml":"eslint",".eslintrc.yml":"eslint",".eslintrc.toml":"eslint",".eslintrc.js":"eslint",".eslintrc.mjs":"eslint",".eslintrc.cjs":"eslint",".eslintrc.ts":"eslint",".eslintrc.mts":"eslint",".eslintrc.cts":"eslint",".config/eslintrc":"eslint",".config/eslintrc.json":"eslint",".config/eslintrc.jsonc":"eslint",".config/eslintrc.json5":"eslint",".config/eslintrc.yaml":"eslint",".config/eslintrc.yml":"eslint",".config/eslintrc.toml":"eslint",".config/eslintrc.js":"eslint",".config/eslintrc.mjs":"eslint",".config/eslintrc.cjs":"eslint",".config/eslintrc.ts":"eslint",".config/eslintrc.mts":"eslint",".config/eslintrc.cts":"eslint","eslint.config.json":"eslint","eslint.config.jsonc":"eslint","eslint.config.json5":"eslint","eslint.config.yaml":"eslint","eslint.config.yml":"eslint","eslint.config.toml":"eslint","eslint.config.js":"eslint","eslint.config.mjs":"eslint","eslint.config.cjs":"eslint","eslint.config.ts":"eslint","eslint.config.mts":"eslint","eslint.config.cts":"eslint",".eslintrc-md.js":"eslint",".eslintrc-jsdoc.js":"eslint",".eslintignore":"eslint",".eslintcache":"eslint",".eslintrc.base.json":"eslint","code_of_conduct.md":"conduct","code_of_conduct.txt":"conduct",code_of_conduct:"conduct",".watchmanconfig":"watchman","aurelia.json":"aurelia",".autorc":"auto","auto.config.js":"auto","auto.config.ts":"auto","auto-config.json":"auto","auto-config.yaml":"auto","auto-config.yml":"auto","auto-config.ts":"auto","auto-config.js":"auto","mocha.opts":"mocha",".mocharc.yml":"mocha",".mocharc.yaml":"mocha",".mocharc.js":"mocha",".mocharc.json":"mocha",".mocharc.jsonc":"mocha",jenkinsfile:"jenkins","firebase.json":"firebase",".firebaserc":"firebase","firestore.rules":"firebase","firestore.indexes.json":"firebase","rollup.config.js":"rollup","rollup.config.mjs":"rollup","rollup.config.ts":"rollup","rollup-config.js":"rollup","rollup-config.mjs":"rollup","rollup-config.ts":"rollup","rollup.config.common.js":"rollup","rollup.config.common.mjs":"rollup","rollup.config.common.ts":"rollup","rollup.config.base.js":"rollup","rollup.config.base.mjs":"rollup","rollup.config.base.ts":"rollup","rollup.config.prod.js":"rollup","rollup.config.prod.mjs":"rollup","rollup.config.prod.ts":"rollup","rollup.config.dev.js":"rollup","rollup.config.dev.mjs":"rollup","rollup.config.dev.ts":"rollup","rollup.config.prod.vendor.js":"rollup","rollup.config.prod.vendor.mjs":"rollup","rollup.config.prod.vendor.ts":"rollup",".hhconfig":"hack","hardhat.config.js":"hardhat","hardhat.config.ts":"hardhat",".stylelintrc":"stylelint",".stylelintrc.json":"stylelint",".stylelintrc.jsonc":"stylelint",".stylelintrc.json5":"stylelint",".stylelintrc.yaml":"stylelint",".stylelintrc.yml":"stylelint",".stylelintrc.toml":"stylelint",".stylelintrc.js":"stylelint",".stylelintrc.mjs":"stylelint",".stylelintrc.cjs":"stylelint",".stylelintrc.ts":"stylelint",".stylelintrc.mts":"stylelint",".stylelintrc.cts":"stylelint",".config/stylelintrc":"stylelint",".config/stylelintrc.json":"stylelint",".config/stylelintrc.jsonc":"stylelint",".config/stylelintrc.json5":"stylelint",".config/stylelintrc.yaml":"stylelint",".config/stylelintrc.yml":"stylelint",".config/stylelintrc.toml":"stylelint",".config/stylelintrc.js":"stylelint",".config/stylelintrc.mjs":"stylelint",".config/stylelintrc.cjs":"stylelint",".config/stylelintrc.ts":"stylelint",".config/stylelintrc.mts":"stylelint",".config/stylelintrc.cts":"stylelint","stylelint.config.json":"stylelint","stylelint.config.jsonc":"stylelint","stylelint.config.json5":"stylelint","stylelint.config.yaml":"stylelint","stylelint.config.yml":"stylelint","stylelint.config.toml":"stylelint","stylelint.config.js":"stylelint","stylelint.config.mjs":"stylelint","stylelint.config.cjs":"stylelint","stylelint.config.ts":"stylelint","stylelint.config.mts":"stylelint","stylelint.config.cts":"stylelint",".stylelintignore":"stylelint",".stylelintcache":"stylelint",".codeclimate.yml":"code-climate",".prettierrc":"prettier",".prettierrc.json":"prettier",".prettierrc.jsonc":"prettier",".prettierrc.json5":"prettier",".prettierrc.yaml":"prettier",".prettierrc.yml":"prettier",".prettierrc.toml":"prettier",".prettierrc.js":"prettier",".prettierrc.mjs":"prettier",".prettierrc.cjs":"prettier",".prettierrc.ts":"prettier",".prettierrc.mts":"prettier",".prettierrc.cts":"prettier",".config/prettierrc":"prettier",".config/prettierrc.json":"prettier",".config/prettierrc.jsonc":"prettier",".config/prettierrc.json5":"prettier",".config/prettierrc.yaml":"prettier",".config/prettierrc.yml":"prettier",".config/prettierrc.toml":"prettier",".config/prettierrc.js":"prettier",".config/prettierrc.mjs":"prettier",".config/prettierrc.cjs":"prettier",".config/prettierrc.ts":"prettier",".config/prettierrc.mts":"prettier",".config/prettierrc.cts":"prettier","prettier.config.json":"prettier","prettier.config.jsonc":"prettier","prettier.config.json5":"prettier","prettier.config.yaml":"prettier","prettier.config.yml":"prettier","prettier.config.toml":"prettier","prettier.config.js":"prettier","prettier.config.mjs":"prettier","prettier.config.cjs":"prettier","prettier.config.ts":"prettier","prettier.config.mts":"prettier","prettier.config.cts":"prettier",".prettierignore":"prettier",".renovaterc":"renovate",".renovaterc.json":"renovate","renovate-config.json":"renovate","renovate.json":"renovate","renovate.json5":"renovate","apollo.config.js":"apollo","nodemon.json":"nodemon","nodemon-debug.json":"nodemon",".hintrc":"webhint",browserslist:"browserlist",".browserslistrc":"browserlist",".snyk":"snyk",".drone.yml":"drone",".sequelizerc":"sequelize","gatsby-config.js":"gatsby","gatsby-config.mjs":"gatsby","gatsby-config.ts":"gatsby","gatsby-node.js":"gatsby","gatsby-node.mjs":"gatsby","gatsby-node.ts":"gatsby","gatsby-browser.js":"gatsby","gatsby-browser.tsx":"gatsby","gatsby-ssr.js":"gatsby","gatsby-ssr.tsx":"gatsby",".wakatime-project":"wakatime","circle.yml":"circleci",".cfignore":"cloudfoundry","gruntfile.js":"grunt","gruntfile.ts":"grunt","gruntfile.cjs":"grunt","gruntfile.cts":"grunt","gruntfile.coffee":"grunt","gruntfile.babel.js":"grunt","gruntfile.babel.ts":"grunt","gruntfile.babel.coffee":"grunt","jest.config.js":"jest","jest.config.cjs":"jest","jest.config.mjs":"jest","jest.config.ts":"jest","jest.config.cts":"jest","jest.config.mts":"jest","jest.config.json":"jest","jest.e2e.config.js":"jest","jest.e2e.config.cjs":"jest","jest.e2e.config.mjs":"jest","jest.e2e.config.ts":"jest","jest.e2e.config.cts":"jest","jest.e2e.config.mts":"jest","jest.e2e.config.json":"jest","jest.e2e.json":"jest","jest-unit.config.js":"jest","jest-e2e.config.js":"jest","jest-e2e.config.cjs":"jest","jest-e2e.config.mjs":"jest","jest-e2e.config.ts":"jest","jest-e2e.config.cts":"jest","jest-e2e.config.mts":"jest","jest-e2e.config.json":"jest","jest-e2e.json":"jest","jest-github-actions-reporter.js":"jest","jest.setup.js":"jest","jest.setup.ts":"jest","jest.json":"jest",".jestrc":"jest",".jestrc.js":"jest",".jestrc.json":"jest","jest.teardown.js":"jest","jest-preset.json":"jest","jest-preset.js":"jest","jest-preset.cjs":"jest","jest-preset.mjs":"jest","jest.preset.js":"jest","jest.preset.mjs":"jest","jest.preset.cjs":"jest","jest.preset.json":"jest",fastfile:"fastlane",appfile:"fastlane",".helmignore":"helm","wallaby.js":"wallaby","wallaby.conf.js":"wallaby","stencil.config.js":"stencil","stencil.config.ts":"stencil",makefile:"makefile",gnumakefile:"makefile",kbuild:"makefile",".releaserc":"semantic-release",".releaserc.json":"semantic-release",".releaserc.jsonc":"semantic-release",".releaserc.json5":"semantic-release",".releaserc.yaml":"semantic-release",".releaserc.yml":"semantic-release",".releaserc.toml":"semantic-release",".releaserc.js":"semantic-release",".releaserc.mjs":"semantic-release",".releaserc.cjs":"semantic-release",".releaserc.ts":"semantic-release",".releaserc.mts":"semantic-release",".releaserc.cts":"semantic-release",".config/releaserc":"semantic-release",".config/releaserc.json":"semantic-release",".config/releaserc.jsonc":"semantic-release",".config/releaserc.json5":"semantic-release",".config/releaserc.yaml":"semantic-release",".config/releaserc.yml":"semantic-release",".config/releaserc.toml":"semantic-release",".config/releaserc.js":"semantic-release",".config/releaserc.mjs":"semantic-release",".config/releaserc.cjs":"semantic-release",".config/releaserc.ts":"semantic-release",".config/releaserc.mts":"semantic-release",".config/releaserc.cts":"semantic-release","release.config.json":"semantic-release","release.config.jsonc":"semantic-release","release.config.json5":"semantic-release","release.config.yaml":"semantic-release","release.config.yml":"semantic-release","release.config.toml":"semantic-release","release.config.js":"semantic-release","release.config.mjs":"semantic-release","release.config.cjs":"semantic-release","release.config.ts":"semantic-release","release.config.mts":"semantic-release","release.config.cts":"semantic-release","bitbucket-pipelines.yaml":"bitbucket","bitbucket-pipelines.yml":"bitbucket",".bazelignore":"bazel",".bazelrc":"bazel",".bazelversion":"bazel",".gdignore":"godot-assets","._sc_":"godot-assets",_sc_:"godot-assets","azure-pipelines.yml":"azure-pipelines","azure-pipelines.yaml":"azure-pipelines","azure-pipelines-main.yml":"azure-pipelines","azure-pipelines-main.yaml":"azure-pipelines",vagrantfile:"vagrant","prisma.yml":"prisma",".nycrc":"istanbul",".nycrc.json":"istanbul",".nycrc.yaml":"istanbul",".nycrc.yml":"istanbul","nyc.config.js":"istanbul",".istanbul.yml":"istanbul","tailwind.js":"tailwindcss","tailwind.ts":"tailwindcss","tailwind.config.js":"tailwindcss","tailwind.config.cjs":"tailwindcss","tailwind.config.mjs":"tailwindcss","tailwind.config.ts":"tailwindcss","tailwind.config.cts":"tailwindcss","tailwind.config.mts":"tailwindcss","buildkite.yml":"buildkite","buildkite.yaml":"buildkite","netlify.json":"netlify","netlify.yml":"netlify","netlify.yaml":"netlify","netlify.toml":"netlify","svelte.config.js":"svelte","svelte.config.cjs":"svelte","nest-cli.json":"nest",".nest-cli.json":"nest","nestconfig.json":"nest",".nestconfig.json":"nest","moon.yml":"moon",".percy.yml":"percy",".gitpod.yml":"gitpod",codeowners:"codeowners",OWNERS:"codeowners",".gcloudignore":"gcp",".huskyrc":"husky",".huskyrc.json":"husky",".huskyrc.jsonc":"husky",".huskyrc.json5":"husky",".huskyrc.yaml":"husky",".huskyrc.yml":"husky",".huskyrc.toml":"husky",".huskyrc.js":"husky",".huskyrc.mjs":"husky",".huskyrc.cjs":"husky",".huskyrc.ts":"husky",".huskyrc.mts":"husky",".huskyrc.cts":"husky",".config/huskyrc":"husky",".config/huskyrc.json":"husky",".config/huskyrc.jsonc":"husky",".config/huskyrc.json5":"husky",".config/huskyrc.yaml":"husky",".config/huskyrc.yml":"husky",".config/huskyrc.toml":"husky",".config/huskyrc.js":"husky",".config/huskyrc.mjs":"husky",".config/huskyrc.cjs":"husky",".config/huskyrc.ts":"husky",".config/huskyrc.mts":"husky",".config/huskyrc.cts":"husky","husky.config.json":"husky","husky.config.jsonc":"husky","husky.config.json5":"husky","husky.config.yaml":"husky","husky.config.yml":"husky","husky.config.toml":"husky","husky.config.js":"husky","husky.config.mjs":"husky","husky.config.cjs":"husky","husky.config.ts":"husky","husky.config.mts":"husky","husky.config.cts":"husky",tiltfile:"tilt","capacitor.config.json":"capacitor","capacitor.config.ts":"capacitor",".adonisrc.json":"adonis",ace:"adonis","meson.build":"meson","meson_options.txt":"meson",".commitlintrc":"commitlint",".commitlintrc.json":"commitlint",".commitlintrc.jsonc":"commitlint",".commitlintrc.json5":"commitlint",".commitlintrc.yaml":"commitlint",".commitlintrc.yml":"commitlint",".commitlintrc.toml":"commitlint",".commitlintrc.js":"commitlint",".commitlintrc.mjs":"commitlint",".commitlintrc.cjs":"commitlint",".commitlintrc.ts":"commitlint",".commitlintrc.mts":"commitlint",".commitlintrc.cts":"commitlint",".config/commitlintrc":"commitlint",".config/commitlintrc.json":"commitlint",".config/commitlintrc.jsonc":"commitlint",".config/commitlintrc.json5":"commitlint",".config/commitlintrc.yaml":"commitlint",".config/commitlintrc.yml":"commitlint",".config/commitlintrc.toml":"commitlint",".config/commitlintrc.js":"commitlint",".config/commitlintrc.mjs":"commitlint",".config/commitlintrc.cjs":"commitlint",".config/commitlintrc.ts":"commitlint",".config/commitlintrc.mts":"commitlint",".config/commitlintrc.cts":"commitlint","commitlint.config.json":"commitlint","commitlint.config.jsonc":"commitlint","commitlint.config.json5":"commitlint","commitlint.config.yaml":"commitlint","commitlint.config.yml":"commitlint","commitlint.config.toml":"commitlint","commitlint.config.js":"commitlint","commitlint.config.mjs":"commitlint","commitlint.config.cjs":"commitlint","commitlint.config.ts":"commitlint","commitlint.config.mts":"commitlint","commitlint.config.cts":"commitlint",".commitlint.yaml":"commitlint",".commitlint.yml":"commitlint",".buckconfig":"buck","nx.json":"nx",".nxignore":"nx",dune:"dune","dune-project":"dune","dune-workspace":"dune","dune-workspace.dev":"dune","roadmap.md":"roadmap","roadmap.txt":"roadmap","timeline.md":"roadmap","timeline.txt":"roadmap","milestones.md":"roadmap","milestones.txt":"roadmap","nuget.config":"nuget",".nuspec":"nuget","nuget.exe":"nuget","stryker.conf.json":"stryker","stryker.conf.js":"stryker","stryker.conf.cjs":"stryker","stryker.conf.mjs":"stryker",".stryker.conf.json":"stryker",".stryker.conf.js":"stryker",".stryker.conf.cjs":"stryker",".stryker.conf.mjs":"stryker",".modernizrrc":"modernizr",".modernizrrc.js":"modernizr",".modernizrrc.json":"modernizr",".slugignore":"slug","stitches.config.js":"stitches","stitches.config.ts":"stitches","nginx.conf":"nginx",".mcattributes":"minecraft",".mcdefinitions":"minecraft",".mcignore":"minecraft",".replit":"replit","snowpack.config.js":"snowpack","snowpack.config.cjs":"snowpack","snowpack.config.mjs":"snowpack","snowpack.config.ts":"snowpack","snowpack.config.cts":"snowpack","snowpack.config.mts":"snowpack","snowpack.deps.json":"snowpack","snowpack.config.json":"snowpack","quasar.conf.js":"quasar","quasar.config.js":"quasar","dependabot.yml":"dependabot","dependabot.yaml":"dependabot","vite.config.js":"vite","vite.config.mjs":"vite","vite.config.cjs":"vite","vite.config.ts":"vite","vite.config.cts":"vite","vite.config.mts":"vite","vitest.config.ts":"vitest","vitest.config.mts":"vitest","vitest.config.cts":"vitest","vitest.config.js":"vitest","vitest.config.mjs":"vitest","vitest.config.cjs":"vitest","vitest.workspace.ts":"vitest","vitest.workspace.mts":"vitest","vitest.workspace.cts":"vitest","vitest.workspace.js":"vitest","vitest.workspace.mjs":"vitest","vitest.workspace.cjs":"vitest","lerna.json":"lerna","windi.config.js":"windicss","windi.config.cjs":"windicss","windi.config.ts":"windicss","windi.config.cts":"windicss","windi.config.json":"windicss",".textlintrc":"textlint",".textlintrc.js":"textlint",".textlintrc.json":"textlint",".textlintrc.yml":"textlint",".textlintrc.yaml":"textlint","vpkg.json":"vlang","v.mod":"vlang",".sentryclirc":"sentry",".phpunit.result.cache":"phpunit",".phpunit-watcher.yml":"phpunit","phpunit.xml":"phpunit","phpunit.xml.dist":"phpunit","phpunit-watcher.yml":"phpunit","phpunit-watcher.yml.dist":"phpunit",".php_cs":"php-cs-fixer",".php_cs.dist":"php-cs-fixer",".php_cs.php":"php-cs-fixer",".php_cs.dist.php":"php-cs-fixer",".php-cs-fixer.php":"php-cs-fixer",".php-cs-fixer.dist.php":"php-cs-fixer","robots.txt":"robots","tsconfig.json":"tsconfig","tsconfig.app.json":"tsconfig","tsconfig.editor.json":"tsconfig","tsconfig.spec.json":"tsconfig","tsconfig.base.json":"tsconfig","tsconfig.build.json":"tsconfig","tsconfig.eslint.json":"tsconfig","tsconfig.lib.json":"tsconfig","tsconfig.lib.prod.json":"tsconfig","tsconfig.node.json":"tsconfig","tsconfig.test.json":"tsconfig","tsconfig.e2e.json":"tsconfig","tsconfig.web.json":"tsconfig","tsconfig.webworker.json":"tsconfig","tsconfig.worker.json":"tsconfig","tsconfig.config.json":"tsconfig","tsconfig.vitest.json":"tsconfig","tsconfig.cjs.json":"tsconfig","tsconfig.esm.json":"tsconfig","tsconfig.mjs.json":"tsconfig","tsconfig.doc.json":"tsconfig","tsconfig.paths.json":"tsconfig","tsconfig.main.json":"tsconfig","tsconfig.renderer.json":"tsconfig","tsconfig.server.json":"tsconfig","tauri.conf.json":"tauri","tauri.config.json":"tauri","tauri.linux.conf.json":"tauri","tauri.windows.conf.json":"tauri","tauri.macos.conf.json":"tauri",".taurignore":"tauri","jsconfig.json":"jsconfig","maven.config":"maven","jvm.config":"maven","pom.xml":"maven","serverless.yml":"serverless","serverless.yaml":"serverless","serverless.json":"serverless","serverless.js":"serverless","serverless.ts":"serverless","supabase.js":"supabase","supabase.py":"supabase",".ember-cli":"ember",".ember-cli.js":"ember","ember-cli-builds.js":"ember","horusec-config.json":"horusec","poetry.lock":"poetry","pdm.lock":"pdm","pdm.toml":"pdm",".pdm-python":"pdm",".parcelrc":"parcel",".astylerc":"astyle",".lighthouserc.js":"lighthouse","lighthouserc.js":"lighthouse",".lighthouserc.cjs":"lighthouse","lighthouserc.cjs":"lighthouse",".lighthouserc.json":"lighthouse","lighthouserc.json":"lighthouse",".lighthouserc.yml":"lighthouse","lighthouserc.yml":"lighthouse",".lighthouserc.yaml":"lighthouse","lighthouserc.yaml":"lighthouse",".svgrrc":"svgr",".svgrrc.json":"svgr",".svgrrc.jsonc":"svgr",".svgrrc.json5":"svgr",".svgrrc.yaml":"svgr",".svgrrc.yml":"svgr",".svgrrc.toml":"svgr",".svgrrc.js":"svgr",".svgrrc.mjs":"svgr",".svgrrc.cjs":"svgr",".svgrrc.ts":"svgr",".svgrrc.mts":"svgr",".svgrrc.cts":"svgr",".config/svgrrc":"svgr",".config/svgrrc.json":"svgr",".config/svgrrc.jsonc":"svgr",".config/svgrrc.json5":"svgr",".config/svgrrc.yaml":"svgr",".config/svgrrc.yml":"svgr",".config/svgrrc.toml":"svgr",".config/svgrrc.js":"svgr",".config/svgrrc.mjs":"svgr",".config/svgrrc.cjs":"svgr",".config/svgrrc.ts":"svgr",".config/svgrrc.mts":"svgr",".config/svgrrc.cts":"svgr","svgr.config.json":"svgr","svgr.config.jsonc":"svgr","svgr.config.json5":"svgr","svgr.config.yaml":"svgr","svgr.config.yml":"svgr","svgr.config.toml":"svgr","svgr.config.js":"svgr","svgr.config.mjs":"svgr","svgr.config.cjs":"svgr","svgr.config.ts":"svgr","svgr.config.mts":"svgr","svgr.config.cts":"svgr","rome.json":"rome","cypress.json":"cypress","cypress.env.json":"cypress","cypress.config.ts":"cypress","cypress.config.js":"cypress","cypress.config.cjs":"cypress","cypress.config.mjs":"cypress","plopfile.js":"plop","plopfile.cjs":"plop","plopfile.mjs":"plop","plopfile.ts":"plop",".tobimake":"tobimake","gleam.toml":"gleam","pnpm-lock.yaml":"pnpm","pnpm-workspace.yaml":"pnpm",".pnpmfile.cjs":"pnpm","gridsome.config.js":"gridsome","gridsome.server.js":"gridsome",".steadybit.yml":"steadybit","steadybit.yml":"steadybit",".steadybit.yaml":"steadybit","steadybit.yaml":"steadybit",Caddyfile:"caddy","openapi.json":"openapi","openapi.yml":"openapi","openapi.yaml":"openapi","swagger.json":"swagger","swagger.yml":"swagger","swagger.yaml":"swagger","bun.lockb":"bun","bunfig.toml":"bun",".nano-staged.js":"nano-staged","nano-staged.js":"nano-staged",".nano-staged.cjs":"nano-staged","nano-staged.cjs":"nano-staged",".nano-staged.mjs":"nano-staged","nano-staged.mjs":"nano-staged",".nano-staged.json":"nano-staged","nano-staged.json":"nano-staged",".nanostagedrc":"nano-staged","knip.json":"knip","knip.jsonc":"knip",".knip.json":"knip",".knip.jsonc":"knip","knip.ts":"knip","knip.js":"knip","knip.config.ts":"knip","knip.config.js":"knip","taskfile.yml":"taskfile","taskfile.yaml":"taskfile","taskfile.dist.yml":"taskfile","taskfile.dist.yaml":"taskfile",".cracorc":"craco",".cracorc.json":"craco",".cracorc.jsonc":"craco",".cracorc.json5":"craco",".cracorc.yaml":"craco",".cracorc.yml":"craco",".cracorc.toml":"craco",".cracorc.js":"craco",".cracorc.mjs":"craco",".cracorc.cjs":"craco",".cracorc.ts":"craco",".cracorc.mts":"craco",".cracorc.cts":"craco",".config/cracorc":"craco",".config/cracorc.json":"craco",".config/cracorc.jsonc":"craco",".config/cracorc.json5":"craco",".config/cracorc.yaml":"craco",".config/cracorc.yml":"craco",".config/cracorc.toml":"craco",".config/cracorc.js":"craco",".config/cracorc.mjs":"craco",".config/cracorc.cjs":"craco",".config/cracorc.ts":"craco",".config/cracorc.mts":"craco",".config/cracorc.cts":"craco","craco.config.json":"craco","craco.config.jsonc":"craco","craco.config.json5":"craco","craco.config.yaml":"craco","craco.config.yml":"craco","craco.config.toml":"craco","craco.config.js":"craco","craco.config.mjs":"craco","craco.config.cjs":"craco","craco.config.ts":"craco","craco.config.mts":"craco","craco.config.cts":"craco",".hg":"mercurial",".hgignore":"mercurial",".hgflow":"mercurial",".hgrc":"mercurial",hgrc:"mercurial","mercurial.ini":"mercurial","deno.json":"deno","deno.jsonc":"deno","deno.lock":"deno","plastic.branchexplorer":"plastic","plastic.selector":"plastic","plastic.wktree":"plastic","plastic.workspace":"plastic","plastic.workspaces":"plastic","uno.config.js":"unocss","uno.config.mjs":"unocss","uno.config.ts":"unocss","uno.config.mts":"unocss","unocss.config.js":"unocss","unocss.config.mjs":"unocss","unocss.config.ts":"unocss","unocss.config.mts":"unocss",".mincloudrc":"ifanr-cloud","concourse.yml":"concourse",".syncpackrc":"syncpack",".syncpackrc.json":"syncpack",".syncpackrc.jsonc":"syncpack",".syncpackrc.json5":"syncpack",".syncpackrc.yaml":"syncpack",".syncpackrc.yml":"syncpack",".syncpackrc.toml":"syncpack",".syncpackrc.js":"syncpack",".syncpackrc.mjs":"syncpack",".syncpackrc.cjs":"syncpack",".syncpackrc.ts":"syncpack",".syncpackrc.mts":"syncpack",".syncpackrc.cts":"syncpack",".config/syncpackrc":"syncpack",".config/syncpackrc.json":"syncpack",".config/syncpackrc.jsonc":"syncpack",".config/syncpackrc.json5":"syncpack",".config/syncpackrc.yaml":"syncpack",".config/syncpackrc.yml":"syncpack",".config/syncpackrc.toml":"syncpack",".config/syncpackrc.js":"syncpack",".config/syncpackrc.mjs":"syncpack",".config/syncpackrc.cjs":"syncpack",".config/syncpackrc.ts":"syncpack",".config/syncpackrc.mts":"syncpack",".config/syncpackrc.cts":"syncpack","syncpack.config.json":"syncpack","syncpack.config.jsonc":"syncpack","syncpack.config.json5":"syncpack","syncpack.config.yaml":"syncpack","syncpack.config.yml":"syncpack","syncpack.config.toml":"syncpack","syncpack.config.js":"syncpack","syncpack.config.mjs":"syncpack","syncpack.config.cjs":"syncpack","syncpack.config.ts":"syncpack","syncpack.config.mts":"syncpack","syncpack.config.cts":"syncpack","werf.yaml":"werf","werf.yml":"werf","werf-giterminism.yaml":"werf","werf-giterminism.yml":"werf","panda.config.ts":"panda","panda.config.js":"panda","panda.config.mjs":"panda","panda.config.mts":"panda","panda.config.cjs":"panda","biome.json":"biome","esbuild.js":"esbuild","esbuild.ts":"esbuild","esbuild.cjs":"esbuild","esbuild.mjs":"esbuild","esbuild.config.js":"esbuild","esbuild.config.ts":"esbuild","esbuild.config.cjs":"esbuild","esbuild.config.mjs":"esbuild",".puppeteerrc":"puppeteer",".puppeteerrc.json":"puppeteer",".puppeteerrc.jsonc":"puppeteer",".puppeteerrc.json5":"puppeteer",".puppeteerrc.yaml":"puppeteer",".puppeteerrc.yml":"puppeteer",".puppeteerrc.toml":"puppeteer",".puppeteerrc.js":"puppeteer",".puppeteerrc.mjs":"puppeteer",".puppeteerrc.cjs":"puppeteer",".puppeteerrc.ts":"puppeteer",".puppeteerrc.mts":"puppeteer",".puppeteerrc.cts":"puppeteer",".config/puppeteerrc":"puppeteer",".config/puppeteerrc.json":"puppeteer",".config/puppeteerrc.jsonc":"puppeteer",".config/puppeteerrc.json5":"puppeteer",".config/puppeteerrc.yaml":"puppeteer",".config/puppeteerrc.yml":"puppeteer",".config/puppeteerrc.toml":"puppeteer",".config/puppeteerrc.js":"puppeteer",".config/puppeteerrc.mjs":"puppeteer",".config/puppeteerrc.cjs":"puppeteer",".config/puppeteerrc.ts":"puppeteer",".config/puppeteerrc.mts":"puppeteer",".config/puppeteerrc.cts":"puppeteer","puppeteer.config.json":"puppeteer","puppeteer.config.jsonc":"puppeteer","puppeteer.config.json5":"puppeteer","puppeteer.config.yaml":"puppeteer","puppeteer.config.yml":"puppeteer","puppeteer.config.toml":"puppeteer","puppeteer.config.js":"puppeteer","puppeteer.config.mjs":"puppeteer","puppeteer.config.cjs":"puppeteer","puppeteer.config.ts":"puppeteer","puppeteer.config.mts":"puppeteer","puppeteer.config.cts":"puppeteer",PklProject:"pkl","PklProject.deps.json":"pkl","k8s.yml":"kubernetes","k8s.yaml":"kubernetes","kubernetes.yml":"kubernetes","kubernetes.yaml":"kubernetes",".k8s.yml":"kubernetes",".k8s.yaml":"kubernetes"}};function ON(e){const t=e.split("/");return t[t.length-1]??e}function oO(e){return va.fileNames[e]??va.fileNames[e.toLowerCase()]??va.fileExtensions[lO(e)]??va.fileExtensions[iO(e)]??(e.endsWith(".html")?"html":null)??(e.endsWith(".ts")?"typescript":null)??(e.endsWith(".js")?"javascript":null)??"file"}function aO(e){return va.folderNames[e]??va.folderNames[e.toLowerCase()]??"folder"}function iO(e){return e.substring(e.lastIndexOf(".")+1)}function lO(e){return e.slice(e.indexOf(".")+1)}function cO(e,t){return`${t}/${e.toString()}.svg`}function dO(e){const t=ON(e);return oO(t)}function uO(e){const t=ON(e);return aO(t)}const pO=[],mO=[],hO=({onSelect:e,searchQuery:t,onMouseDown:r,selectedIndex:n,setSelectedIndex:o,selectedType:a,queryItems:i,modes:l,dynamicSearchResults:c=mO,commands:d=pO})=>{const[u,p]=h.useState(""),m=h.useRef(null),g=h.useMemo(()=>yf(t,a,i,c,l,d),[t,a,i,c,l,d]),[f,x]=h.useState(!1),y=h.useRef(null);h.useEffect(()=>{if(y.current===null||g!==y.current){x(!1);const k=setTimeout(()=>{x(!0)},100);return()=>clearTimeout(k)}y.current=g},[g]),h.useEffect(()=>{if(m.current){const k=m.current.children[n];if(k){const w=m.current.getBoundingClientRect(),T=k.getBoundingClientRect();T.bottom>w.bottom?m.current.scrollTop+=T.bottom-w.bottom:T.top<w.top&&(m.current.scrollTop-=w.top-T.top)}}},[n]),h.useEffect(()=>{p(window.MATERIAL_ICONS_BASE_URI)},[]);const N=k=>{switch(k.type){case Ie.SectionHeader:return s.jsx("span",{style:{fontWeight:"bold",fontSize:"0.85em",opacity:.8},children:k.label});case Ie.Mode:return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[s.jsx("div",{style:{lineHeight:"1.2"},children:s.jsx("span",{children:k.slashCommand})}),k.description&&s.jsx("span",{style:{opacity:.5,fontSize:"0.9em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:k.description})]});case Ie.Command:return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[s.jsxs("div",{style:{lineHeight:"1.2",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{children:k.slashCommand}),k.argumentHint&&s.jsx("span",{style:{opacity:.5,fontSize:"0.9em",lineHeight:"1.2"},children:k.argumentHint})]}),k.description&&s.jsx("span",{style:{opacity:.5,fontSize:"0.9em",lineHeight:"1.2",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:k.description})]});case Ie.Problems:return s.jsx("span",{children:Sr("chat:contextMenu.problems")});case Ie.Terminal:return s.jsx("span",{children:Sr("chat:contextMenu.terminal")});case Ie.URL:return s.jsx("span",{children:Sr("chat:contextMenu.url")});case Ie.NoResults:return s.jsx("span",{children:Sr("chat:contextMenu.noResults")});case Ie.Image:return s.jsx("span",{children:"Add Image"});case Ie.Git:return k.value?s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:0},children:[s.jsx("span",{style:{lineHeight:"1.2"},children:k.label}),s.jsx("span",{style:{fontSize:"0.85em",opacity:.7,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",lineHeight:"1.2"},children:k.description})]}):s.jsx("span",{children:"Git Commits"});case Ie.File:case Ie.OpenedFile:case Ie.Folder:if(k.value){const T=Zg(k.value||"").replace(/\/$/,"").split("/"),S=T.at(-1),P=T.slice(0,-1).join("/");return s.jsxs("div",{style:{flex:1,overflow:"hidden",display:"flex",gap:"0.5em",whiteSpace:"nowrap",alignItems:"center",justifyContent:"space-between",textAlign:"left"},children:[s.jsx("span",{children:S}),s.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",direction:"rtl",textAlign:"right",flex:1,opacity:.75,fontSize:"0.75em"},children:P})]})}else return s.jsxs("span",{children:["Add ",k.type===Ie.File?"File":"Folder"]})}},b=k=>{switch(k.type){case Ie.Mode:return"symbol-misc";case Ie.Command:return"play";case Ie.OpenedFile:return"window";case Ie.File:return"file";case Ie.Folder:return"folder";case Ie.Problems:return"warning";case Ie.Terminal:return"terminal";case Ie.URL:return"link";case Ie.Image:return"device-camera";case Ie.Git:return"git-commit";case Ie.NoResults:return"info";default:return"file"}},j=k=>{var S;const w=((S=k.value)==null?void 0:S.split("/").filter(Boolean).at(-1))??"",T=k.type===Ie.Folder?uO(w):dO(w);return cO(T,u)},v=k=>k.type!==Ie.NoResults&&k.type!==Ie.URL&&k.type!==Ie.SectionHeader,_=k=>{k.preventDefault(),R.postMessage({type:"switchTab",tab:"settings",values:{section:"slashCommands"}})};return s.jsx("div",{style:{position:"absolute",bottom:"calc(100% - 10px)",left:15,right:15,overflowX:"hidden"},onMouseDown:r,children:s.jsxs("div",{ref:m,style:{backgroundColor:"var(--vscode-dropdown-background)",border:"1px solid var(--vscode-editorGroup-border)",borderRadius:"3px",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.25)",zIndex:1e3,display:"flex",flexDirection:"column",maxHeight:"300px",overflowY:"auto",overflowX:"hidden"},children:[t==="/"&&s.jsxs("div",{className:"p-2 flex items-start gap-4 justify-between",children:[t.length===1&&s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-bold text-base text-vscode-foreground mt-1 mb-0.5",children:"Slash Commands"}),s.jsx("p",{className:"text-xs mt-0.5 -mb-1",children:s.jsx(we,{i18nKey:"settings:slashCommands.description",components:{DocsLink:s.jsx("a",{href:St("features/slash-commands"),target:"_blank",rel:"noopener noreferrer",className:"text-vscode-textLink-foreground hover:underline",children:Sr("common:docsLink.label")})}})})]}),s.jsx("button",{className:"mt-1 cursor-pointer",onClick:_,onMouseDown:k=>{k.stopPropagation(),k.preventDefault()},onMouseEnter:k=>{k.currentTarget.style.opacity="1",k.currentTarget.style.backgroundColor="var(--vscode-list-hoverBackground)"},onMouseLeave:k=>{k.currentTarget.style.opacity="0.7",k.currentTarget.style.backgroundColor="transparent"},title:Sr("chat:slashCommands.manageCommands"),children:s.jsx(d_,{size:16})})]}),g&&g.length>0?g.map((k,w)=>s.jsxs("div",{onClick:()=>v(k)&&e(k.type,k.value),style:{padding:k.type===Ie.SectionHeader?"16px 8px 4px 8px":"4px 8px",cursor:v(k)?"pointer":"default",color:"var(--vscode-dropdown-foreground)",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",...k.type===Ie.SectionHeader?{borderBottom:"1px solid var(--vscode-editorGroup-border)",marginBottom:"2px"}:{},...w===n&&v(k)?{backgroundColor:"var(--vscode-list-activeSelectionBackground)",color:"var(--vscode-list-activeSelectionForeground)"}:{}},onMouseEnter:()=>{f&&v(k)&&o(w)},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,minWidth:0,overflow:"hidden",paddingTop:0,position:"relative"},children:[(k.type===Ie.File||k.type===Ie.Folder||k.type===Ie.OpenedFile)&&s.jsx("img",{src:j(k),alt:"Mode",style:{marginRight:"6px",flexShrink:0,width:"16px",height:"16px"}}),k.type!==Ie.Mode&&k.type!==Ie.Command&&k.type!==Ie.File&&k.type!==Ie.Folder&&k.type!==Ie.OpenedFile&&k.type!==Ie.SectionHeader&&b(k)&&s.jsx("i",{className:`codicon codicon-${b(k)}`,style:{marginRight:"6px",flexShrink:0,fontSize:"14px",marginTop:0}}),N(k)]}),(k.type===Ie.File||k.type===Ie.Folder||k.type===Ie.Git)&&!k.value&&s.jsx("i",{className:"codicon codicon-chevron-right",style:{fontSize:"10px",flexShrink:0,marginLeft:8}})]},`${k.type}-${k.value||w}`)):s.jsx("div",{style:{padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--vscode-foreground)",opacity:.7},children:s.jsx("span",{children:Sr("chat:contextMenu.noResults")})})]})})},fO=({isVisible:e,messageKey:t,onDismiss:r,className:n})=>{const{t:o}=re();return h.useEffect(()=>{if(e){const a=setTimeout(()=>{r()},4e3);return()=>clearTimeout(a)}},[e,r]),e?s.jsxs("div",{className:Z("flex items-center gap-2 px-3 py-2 mb-2","rounded-md text-sm","animate-in slide-in-from-top-2 duration-200",n),style:{border:"1px solid var(--vscode-inputValidation-errorBorder)",color:"var(--vscode-notificationsErrorIcon-foreground)"},role:"alert","aria-live":"polite",children:[s.jsx(cl,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"flex-1",children:o(t)}),s.jsx("button",{onClick:r,className:Z("flex-shrink-0 p-0.5 rounded cursor-pointer","hover:bg-black/10 focus:outline-none focus:ring-1","focus:ring-[var(--vscode-focusBorder)]"),"aria-label":"Dismiss warning",children:s.jsx(_n,{className:"w-3 h-3"})})]}):null},gO=({value:e,onChange:t})=>{const{t:r}=re(),n=e??Pt.DEFAULT_EMBEDDING_BATCH_SIZE;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:r("kilocode:settings.codeIndex.embeddingBatchSizeLabel")}),s.jsx(ue,{content:r("kilocode:settings.codeIndex.embeddingBatchSizeDescription"),children:s.jsx("span",{className:"codicon codicon-info text-xs text-vscode-descriptionForeground cursor-help"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:Pt.MIN_EMBEDDING_BATCH_SIZE,max:Pt.MAX_EMBEDDING_BATCH_SIZE,step:Pt.EMBEDDING_BATCH_SIZE_STEP,value:[n],onValueChange:o=>t(o[0]),className:"flex-1","data-testid":"embedding-batch-size-slider"}),s.jsx("span",{className:"w-12 text-center",children:n}),s.jsx(xt,{appearance:"icon",title:r("settings:codeIndex.resetToDefault"),onClick:()=>t(Pt.DEFAULT_EMBEDDING_BATCH_SIZE),children:s.jsx("span",{className:"codicon codicon-discard"})})]})]})},xO=({value:e,onChange:t})=>{const{t:r}=re(),n=e??Pt.DEFAULT_SCANNER_MAX_BATCH_RETRIES;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:r("kilocode:settings.codeIndex.scannerMaxBatchRetriesLabel")}),s.jsx(ue,{content:r("kilocode:settings.codeIndex.scannerMaxBatchRetriesDescription"),children:s.jsx("span",{className:"codicon codicon-info text-xs text-vscode-descriptionForeground cursor-help"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:Pt.MIN_SCANNER_MAX_BATCH_RETRIES,max:Pt.MAX_SCANNER_MAX_BATCH_RETRIES,step:Pt.SCANNER_MAX_BATCH_RETRIES_STEP,value:[n],onValueChange:o=>t(o[0]),className:"flex-1","data-testid":"scanner-max-batch-retries-slider"}),s.jsx("span",{className:"w-12 text-center",children:n}),s.jsx(xt,{appearance:"icon",title:r("settings:codeIndex.resetToDefault"),onClick:()=>t(Pt.DEFAULT_SCANNER_MAX_BATCH_RETRIES),children:s.jsx("span",{className:"codicon codicon-discard"})})]})]})},mb="http://localhost:6333",hb="http://localhost:11434",vO=(e,t)=>{const r=Ns({codebaseIndexEnabled:Rn(),codebaseIndexQdrantUrl:He().min(1,t("settings:codeIndex.validation.qdrantUrlRequired")).url(t("settings:codeIndex.validation.invalidQdrantUrl")),codeIndexQdrantApiKey:He().optional()});switch(e){case"openai":return r.extend({codeIndexOpenAiKey:He().min(1,t("settings:codeIndex.validation.openaiApiKeyRequired")),codebaseIndexEmbedderModelId:He().min(1,t("settings:codeIndex.validation.modelSelectionRequired"))});case"ollama":return r.extend({codebaseIndexEmbedderBaseUrl:He().min(1,t("settings:codeIndex.validation.ollamaBaseUrlRequired")).url(t("settings:codeIndex.validation.invalidOllamaUrl")),codebaseIndexEmbedderModelId:He().min(1,t("settings:codeIndex.validation.modelIdRequired")),codebaseIndexEmbedderModelDimension:vr().min(1,t("settings:codeIndex.validation.modelDimensionRequired")).optional()});case"openai-compatible":return r.extend({codebaseIndexOpenAiCompatibleBaseUrl:He().min(1,t("settings:codeIndex.validation.baseUrlRequired")).url(t("settings:codeIndex.validation.invalidBaseUrl")),codebaseIndexOpenAiCompatibleApiKey:He().min(1,t("settings:codeIndex.validation.apiKeyRequired")),codebaseIndexEmbedderModelId:He().min(1,t("settings:codeIndex.validation.modelIdRequired")),codebaseIndexEmbedderModelDimension:vr().min(1,t("settings:codeIndex.validation.modelDimensionRequired"))});case"gemini":return r.extend({codebaseIndexGeminiApiKey:He().min(1,t("settings:codeIndex.validation.geminiApiKeyRequired")),codebaseIndexEmbedderModelId:He().min(1,t("settings:codeIndex.validation.modelSelectionRequired"))});case"mistral":return r.extend({codebaseIndexMistralApiKey:He().min(1,t("settings:codeIndex.validation.mistralApiKeyRequired")),codebaseIndexEmbedderModelId:He().min(1,t("settings:codeIndex.validation.modelSelectionRequired"))});case"vercel-ai-gateway":return r.extend({codebaseIndexVercelAiGatewayApiKey:He().min(1,t("settings:codeIndex.validation.vercelAiGatewayApiKeyRequired")),codebaseIndexEmbedderModelId:He().min(1,t("settings:codeIndex.validation.modelSelectionRequired"))});case"bedrock":return r.extend({codebaseIndexBedrockRegion:He().min(1,t("settings:codeIndex.validation.bedrockRegionRequired")),codebaseIndexBedrockProfile:He().optional(),codebaseIndexEmbedderModelId:He().min(1,t("settings:codeIndex.validation.modelSelectionRequired"))});case"openrouter":return r.extend({codebaseIndexOpenRouterApiKey:He().min(1,t("settings:codeIndex.validation.openRouterApiKeyRequired")),codebaseIndexEmbedderModelId:He().min(1,t("settings:codeIndex.validation.modelSelectionRequired"))});default:return r}},fb=({children:e})=>s.jsx(s.Fragment,{children:e}),bO=({children:e,contentOnly:t,open:r,onOpenChange:n,onRegisterCloseHandler:o,indexingStatus:a})=>{var Ve,mt;const i="",{t:l}=re(),{codebaseIndexConfig:c,codebaseIndexModels:d,cwd:u,apiConfiguration:p}=Ye(),[m,g]=h.useState(!1),f=r??m,[x,y]=h.useState(!1),[N,b]=h.useState(!1),[j,v]=h.useState(a),[_,k]=h.useState("idle"),[w,T]=h.useState(null),[S,P]=h.useState({}),[I,M]=h.useState(!1),A=h.useRef(null),C=()=>({codebaseIndexEnabled:!0,codebaseIndexQdrantUrl:"",codebaseIndexEmbedderProvider:"openai",codebaseIndexVectorStoreProvider:"qdrant",codebaseIndexLancedbVectorStoreDirectory:void 0,codebaseIndexEmbedderBaseUrl:"",codebaseIndexEmbedderModelId:"",codebaseIndexEmbedderModelDimension:void 0,codebaseIndexSearchMaxResults:Pt.DEFAULT_SEARCH_RESULTS,codebaseIndexSearchMinScore:Pt.DEFAULT_SEARCH_MIN_SCORE,codebaseIndexEmbeddingBatchSize:Pt.DEFAULT_EMBEDDING_BATCH_SIZE,codebaseIndexScannerMaxBatchRetries:Pt.DEFAULT_SCANNER_MAX_BATCH_RETRIES,codebaseIndexBedrockRegion:"",codebaseIndexBedrockProfile:"",codeIndexOpenAiKey:"",codeIndexQdrantApiKey:"",codebaseIndexOpenAiCompatibleBaseUrl:"",codebaseIndexOpenAiCompatibleApiKey:"",codebaseIndexGeminiApiKey:"",codebaseIndexMistralApiKey:"",codebaseIndexVercelAiGatewayApiKey:"",codebaseIndexOpenRouterApiKey:"",codebaseIndexOpenRouterSpecificProvider:""}),[H,z]=h.useState(C()),[D,Y]=h.useState(C());h.useEffect(()=>{v(a)},[a]),h.useEffect(()=>{if(!(_==="saving"||_==="saved")&&c){const V={codebaseIndexEnabled:c.codebaseIndexEnabled??!0,codebaseIndexQdrantUrl:c.codebaseIndexQdrantUrl||"",codebaseIndexEmbedderProvider:c.codebaseIndexEmbedderProvider||"openai",codebaseIndexVectorStoreProvider:c.codebaseIndexVectorStoreProvider||"qdrant",codebaseIndexLancedbVectorStoreDirectory:c.codebaseIndexLancedbVectorStoreDirectory,codebaseIndexEmbedderBaseUrl:c.codebaseIndexEmbedderBaseUrl||"",codebaseIndexEmbedderModelId:c.codebaseIndexEmbedderModelId||"",codebaseIndexEmbedderModelDimension:c.codebaseIndexEmbedderModelDimension||void 0,codebaseIndexSearchMaxResults:c.codebaseIndexSearchMaxResults??Pt.DEFAULT_SEARCH_RESULTS,codebaseIndexSearchMinScore:c.codebaseIndexSearchMinScore??Pt.DEFAULT_SEARCH_MIN_SCORE,codebaseIndexEmbeddingBatchSize:c.codebaseIndexEmbeddingBatchSize??Pt.DEFAULT_EMBEDDING_BATCH_SIZE,codebaseIndexScannerMaxBatchRetries:c.codebaseIndexScannerMaxBatchRetries??Pt.DEFAULT_SCANNER_MAX_BATCH_RETRIES,codebaseIndexBedrockRegion:c.codebaseIndexBedrockRegion||"",codebaseIndexBedrockProfile:c.codebaseIndexBedrockProfile||"",codeIndexOpenAiKey:"",codeIndexQdrantApiKey:"",codebaseIndexOpenAiCompatibleBaseUrl:c.codebaseIndexOpenAiCompatibleBaseUrl||"",codebaseIndexOpenAiCompatibleApiKey:"",codebaseIndexGeminiApiKey:"",codebaseIndexMistralApiKey:"",codebaseIndexVercelAiGatewayApiKey:"",codebaseIndexOpenRouterApiKey:"",codebaseIndexOpenRouterSpecificProvider:c.codebaseIndexOpenRouterSpecificProvider||""};z(V),Y(V),R.postMessage({type:"requestCodeIndexSecretStatus"})}},[c,_]),h.useEffect(()=>{f&&(R.postMessage({type:"requestIndexingStatus"}),R.postMessage({type:"requestCodeIndexSecretStatus"}));const V=je=>{je.data.type==="workspaceUpdated"&&f&&(R.postMessage({type:"requestIndexingStatus"}),R.postMessage({type:"requestCodeIndexSecretStatus"}))};return window.addEventListener("message",V),()=>window.removeEventListener("message",V)},[f]);const U=h.useRef(D);U.current=D,h.useEffect(()=>{const V=je=>{if(je.data.type==="indexingStatusUpdate")(!je.data.values.workspacePath||je.data.values.workspacePath===u)&&v({systemStatus:je.data.values.systemStatus,message:je.data.values.message||"",processedItems:je.data.values.processedItems,totalItems:je.data.values.totalItems,currentItemUnit:je.data.values.currentItemUnit||"items"});else if(je.data.type==="codeIndexSettingsSaved")if(je.data.success){k("saved");const _e={...U.current};z(_e),Y(_e),R.postMessage({type:"requestCodeIndexSecretStatus"}),k("idle")}else k("error"),T(je.data.error||l("settings:codeIndex.saveError")),k("idle"),T(null)};return window.addEventListener("message",V),()=>window.removeEventListener("message",V)},[l,u]),h.useEffect(()=>{const V=je=>{if(je.data.type==="codeIndexSecretStatus"){const _e=je.data.values,lt=Ze=>{const Rt={...Ze};return(!Ze.codeIndexOpenAiKey||Ze.codeIndexOpenAiKey===i)&&(Rt.codeIndexOpenAiKey=_e.hasOpenAiKey?i:""),(!Ze.codeIndexQdrantApiKey||Ze.codeIndexQdrantApiKey===i)&&(Rt.codeIndexQdrantApiKey=_e.hasQdrantApiKey?i:""),(!Ze.codebaseIndexOpenAiCompatibleApiKey||Ze.codebaseIndexOpenAiCompatibleApiKey===i)&&(Rt.codebaseIndexOpenAiCompatibleApiKey=_e.hasOpenAiCompatibleApiKey?i:""),(!Ze.codebaseIndexGeminiApiKey||Ze.codebaseIndexGeminiApiKey===i)&&(Rt.codebaseIndexGeminiApiKey=_e.hasGeminiApiKey?i:""),(!Ze.codebaseIndexMistralApiKey||Ze.codebaseIndexMistralApiKey===i)&&(Rt.codebaseIndexMistralApiKey=_e.hasMistralApiKey?i:""),(!Ze.codebaseIndexVercelAiGatewayApiKey||Ze.codebaseIndexVercelAiGatewayApiKey===i)&&(Rt.codebaseIndexVercelAiGatewayApiKey=_e.hasVercelAiGatewayApiKey?i:""),(!Ze.codebaseIndexOpenRouterApiKey||Ze.codebaseIndexOpenRouterApiKey===i)&&(Rt.codebaseIndexOpenRouterApiKey=_e.hasOpenRouterApiKey?i:""),Rt};(_==="idle"||_==="saved")&&(Y(lt),z(lt))}};return window.addEventListener("message",V),()=>window.removeEventListener("message",V)},[_]);const q=h.useMemo(()=>{const V=[...Object.keys(H),...Object.keys(D)],je=Array.from(new Set(V));for(const _e of je){const lt=D[_e],Ze=H[_e];if(lt!==i&&lt!==Ze)return!0}return!1},[D,H]),F=(V,je)=>{Y(_e=>({..._e,[V]:je})),S[V]&&P(_e=>{const lt={..._e};return delete lt[V],lt})},W=()=>{if(!D.codebaseIndexEnabled)return P({}),!0;const V=vO(D.codebaseIndexEmbedderProvider,l),je={};for(const[_e,lt]of Object.entries(D))lt===i?(_e==="codeIndexOpenAiKey"||_e==="codebaseIndexOpenAiCompatibleApiKey"||_e==="codebaseIndexGeminiApiKey"||_e==="codebaseIndexMistralApiKey"||_e==="codebaseIndexVercelAiGatewayApiKey"||_e==="codebaseIndexOpenRouterApiKey")&&(je[_e]="placeholder-valid"):je[_e]=lt;try{return V.parse(je),P({}),!0}catch(_e){if(_e instanceof Ej){const lt={};_e.errors.forEach(Ze=>{Ze.path[0]&&(lt[Ze.path[0]]=Ze.message)}),P(lt),Object.keys(lt).length>0&&b(!0)}return!1}},te=h.useCallback(V=>{q?(A.current=V,M(!0)):V()},[q]),K=h.useCallback(V=>{var je;V&&(Y(H),P({}),(je=A.current)==null||je.call(A)),M(!1)},[H]),X=h.useCallback(()=>{te(()=>{n?n(!1):g(!1)})},[te,n]);h.useEffect(()=>{o==null||o(X)},[o,X]);const G=h.useCallback(V=>{V?(n==null||n(!0),g(!0)):X()},[X,n]),J=n?G:g,ae=h.useCallback(()=>{te(()=>{J(!1)})},[te,J]);dl(f,ae);const O=h.useCallback(()=>{v(V=>({...V,message:l("settings:codeIndex.cancelling")})),R.postMessage({type:"cancelIndexing"})},[l]),pe=()=>{if(!W())return;k("saving"),T(null);const V={};for(const[je,_e]of Object.entries(D))_e!==i&&(V[je]=_e);V.codebaseIndexEnabled=D.codebaseIndexEnabled,R.postMessage({type:"saveCodeIndexSettingsAtomic",codeIndexSettings:V})},be=h.useMemo(()=>j.totalItems>0?Math.round(j.processedItems/j.totalItems*100):0,[j.processedItems,j.totalItems]),xe=`translateX(-${100-be}%)`,Pe=()=>{if(!d)return[];const V=d[D.codebaseIndexEmbedderProvider];return V?Object.keys(V):[]},{data:Te}=U1(D.codebaseIndexEmbedderProvider==="openrouter"?D.codebaseIndexEmbedderModelId:void 0,(p==null?void 0:p.apiProvider)==="openrouter"?p==null?void 0:p.openRouterBaseUrl:void 0,p==null?void 0:p.apiKey,(p==null?void 0:p.kilocodeOrganizationId)??"personal",{enabled:D.codebaseIndexEmbedderProvider==="openrouter"&&!!D.codebaseIndexEmbedderModelId}),L=Vc("roo-portal"),fe=t?fb:Nn,ne=t?fb:Sn;return s.jsxs(s.Fragment,{children:[s.jsxs(fe,{open:f,onOpenChange:V=>{V?J(V):ae()},children:[e,s.jsxs(ne,{className:"w-[calc(100vw-32px)] max-w-[450px] max-h-[80vh] overflow-y-auto p-0",align:"end",alignOffset:0,side:"bottom",sideOffset:5,collisionPadding:16,avoidCollisions:!0,container:L,children:[s.jsxs("div",{className:"p-3 border-b border-vscode-dropdown-border cursor-default",children:[s.jsx("div",{className:"flex flex-row items-center gap-1 p-0 mt-0 mb-1 w-full",children:s.jsx("h4",{className:"m-0 pb-2 flex-1",children:l("settings:codeIndex.title")})}),s.jsx("p",{className:"my-0 pr-4 text-sm w-full",children:s.jsx(we,{i18nKey:"settings:codeIndex.description",children:s.jsx(Oe,{href:St("features/codebase-indexing"),style:{display:"inline"}})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qe,{checked:D.codebaseIndexEnabled,onChange:V=>F("codebaseIndexEnabled",V.target.checked),children:s.jsx("span",{className:"font-medium",children:l("settings:codeIndex.enableLabel")})}),s.jsx(ue,{content:l("settings:codeIndex.enableDescription"),children:s.jsx("span",{className:"codicon codicon-info text-xs text-vscode-descriptionForeground cursor-help"})})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:l("settings:codeIndex.statusTitle")}),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground",children:[s.jsx("span",{className:Z("inline-block w-3 h-3 rounded-full mr-2",{"bg-gray-400":j.systemStatus==="Standby","bg-yellow-500 animate-pulse":j.systemStatus==="Indexing","bg-green-500":j.systemStatus==="Indexed","bg-red-500":j.systemStatus==="Error"})}),l(`settings:codeIndex.indexingStatuses.${j.systemStatus.toLowerCase()}`),j.message?` - ${j.message}`:""]}),j.systemStatus==="Indexing"&&s.jsx("div",{className:"mt-2",children:s.jsx(yT,{className:"relative h-2 w-full overflow-hidden rounded-full bg-secondary",value:be,children:s.jsx(wT,{className:"h-full w-full flex-1 bg-primary transition-transform duration-300 ease-in-out",style:{transform:xe}})})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("button",{onClick:()=>b(!N),className:"flex items-center text-xs text-vscode-foreground hover:text-vscode-textLink-foreground focus:outline-none","aria-expanded":N,children:[s.jsx("span",{className:`codicon codicon-${N?"chevron-down":"chevron-right"} mr-1`}),s.jsx("span",{className:"text-base font-semibold",children:l("settings:codeIndex.setupConfigLabel")})]}),N&&s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.embedderProviderLabel")}),s.jsxs(Ut,{value:D.codebaseIndexEmbedderProvider,onValueChange:V=>{F("codebaseIndexEmbedderProvider",V),F("codebaseIndexEmbedderModelId",""),V==="bedrock"&&(p==null?void 0:p.apiProvider)==="bedrock"&&(!D.codebaseIndexBedrockRegion&&p.awsRegion&&F("codebaseIndexBedrockRegion",p.awsRegion),!D.codebaseIndexBedrockProfile&&p.awsProfile&&F("codebaseIndexBedrockProfile",p.awsProfile))},children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{})}),s.jsxs($t,{children:[s.jsx(ze,{value:"openai",children:l("settings:codeIndex.openaiProvider")}),s.jsx(ze,{value:"ollama",children:l("settings:codeIndex.ollamaProvider")}),s.jsx(ze,{value:"openai-compatible",children:l("settings:codeIndex.openaiCompatibleProvider")}),s.jsx(ze,{value:"gemini",children:l("settings:codeIndex.geminiProvider")}),s.jsx(ze,{value:"mistral",children:l("settings:codeIndex.mistralProvider")}),s.jsx(ze,{value:"vercel-ai-gateway",children:l("settings:codeIndex.vercelAiGatewayProvider")}),s.jsx(ze,{value:"bedrock",children:l("settings:codeIndex.bedrockProvider")}),s.jsx(ze,{value:"openrouter",children:l("settings:codeIndex.openRouterProvider")})]})]})]}),D.codebaseIndexEmbedderProvider==="openai"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.openAiKeyLabel")}),s.jsx(de,{type:"password",value:D.codeIndexOpenAiKey||"",onInput:V=>F("codeIndexOpenAiKey",V.target.value),placeholder:l("settings:codeIndex.openAiKeyPlaceholder"),className:Z("w-full",{"border-red-500":S.codeIndexOpenAiKey})}),S.codeIndexOpenAiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codeIndexOpenAiKey})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.modelLabel")}),s.jsxs(Bs,{value:D.codebaseIndexEmbedderModelId,onChange:V=>F("codebaseIndexEmbedderModelId",V.target.value),className:Z("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId}),children:[s.jsx(gt,{value:"",className:"p-2",children:l("settings:codeIndex.selectModel")}),Pe().map(V=>{var _e;const je=(_e=d==null?void 0:d[D.codebaseIndexEmbedderProvider])==null?void 0:_e[V];return s.jsxs(gt,{value:V,className:"p-2",children:[V," ",je?l("settings:codeIndex.modelDimensions",{dimension:je.dimension}):""]},V)})]}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]})]}),D.codebaseIndexEmbedderProvider==="ollama"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.ollamaBaseUrlLabel")}),s.jsx(de,{value:D.codebaseIndexEmbedderBaseUrl||"",onInput:V=>F("codebaseIndexEmbedderBaseUrl",V.target.value),onBlur:V=>{V.target.value.trim()||(V.target.value=hb,F("codebaseIndexEmbedderBaseUrl",hb))},placeholder:l("settings:codeIndex.ollamaUrlPlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexEmbedderBaseUrl})}),S.codebaseIndexEmbedderBaseUrl&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderBaseUrl})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.modelLabel")}),s.jsx(de,{value:D.codebaseIndexEmbedderModelId||"",onInput:V=>F("codebaseIndexEmbedderModelId",V.target.value),placeholder:l("settings:codeIndex.modelPlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId})}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.modelDimensionLabel")}),s.jsx(de,{value:((Ve=D.codebaseIndexEmbedderModelDimension)==null?void 0:Ve.toString())||"",onInput:V=>{const je=V.target.value&&parseInt(V.target.value,10)||void 0;F("codebaseIndexEmbedderModelDimension",je)},placeholder:l("settings:codeIndex.modelDimensionPlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexEmbedderModelDimension})}),S.codebaseIndexEmbedderModelDimension&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelDimension})]})]}),D.codebaseIndexEmbedderProvider==="openai-compatible"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.openAiCompatibleBaseUrlLabel")}),s.jsx(de,{value:D.codebaseIndexOpenAiCompatibleBaseUrl||"",onInput:V=>F("codebaseIndexOpenAiCompatibleBaseUrl",V.target.value),placeholder:l("settings:codeIndex.openAiCompatibleBaseUrlPlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexOpenAiCompatibleBaseUrl})}),S.codebaseIndexOpenAiCompatibleBaseUrl&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexOpenAiCompatibleBaseUrl})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.openAiCompatibleApiKeyLabel")}),s.jsx(de,{type:"password",value:D.codebaseIndexOpenAiCompatibleApiKey||"",onInput:V=>F("codebaseIndexOpenAiCompatibleApiKey",V.target.value),placeholder:l("settings:codeIndex.openAiCompatibleApiKeyPlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexOpenAiCompatibleApiKey})}),S.codebaseIndexOpenAiCompatibleApiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexOpenAiCompatibleApiKey})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.modelLabel")}),s.jsx(de,{value:D.codebaseIndexEmbedderModelId||"",onInput:V=>F("codebaseIndexEmbedderModelId",V.target.value),placeholder:l("settings:codeIndex.modelPlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId})}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.modelDimensionLabel")}),s.jsx(de,{value:((mt=D.codebaseIndexEmbedderModelDimension)==null?void 0:mt.toString())||"",onInput:V=>{const je=V.target.value&&parseInt(V.target.value,10)||void 0;F("codebaseIndexEmbedderModelDimension",je)},placeholder:l("settings:codeIndex.modelDimensionPlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexEmbedderModelDimension})}),S.codebaseIndexEmbedderModelDimension&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelDimension})]})]}),D.codebaseIndexEmbedderProvider==="gemini"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.geminiApiKeyLabel")}),s.jsx(de,{type:"password",value:D.codebaseIndexGeminiApiKey||"",onInput:V=>F("codebaseIndexGeminiApiKey",V.target.value),placeholder:l("settings:codeIndex.geminiApiKeyPlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexGeminiApiKey})}),S.codebaseIndexGeminiApiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexGeminiApiKey})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.modelLabel")}),s.jsxs(Bs,{value:D.codebaseIndexEmbedderModelId,onChange:V=>F("codebaseIndexEmbedderModelId",V.target.value),className:Z("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId}),children:[s.jsx(gt,{value:"",className:"p-2",children:l("settings:codeIndex.selectModel")}),Pe().map(V=>{var _e;const je=(_e=d==null?void 0:d[D.codebaseIndexEmbedderProvider])==null?void 0:_e[V];return s.jsxs(gt,{value:V,className:"p-2",children:[V," ",je?l("settings:codeIndex.modelDimensions",{dimension:je.dimension}):""]},V)})]}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]})]}),D.codebaseIndexEmbedderProvider==="mistral"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.mistralApiKeyLabel")}),s.jsx(de,{type:"password",value:D.codebaseIndexMistralApiKey||"",onInput:V=>F("codebaseIndexMistralApiKey",V.target.value),placeholder:l("settings:codeIndex.mistralApiKeyPlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexMistralApiKey})}),S.codebaseIndexMistralApiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexMistralApiKey})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.modelLabel")}),s.jsxs(Bs,{value:D.codebaseIndexEmbedderModelId,onChange:V=>F("codebaseIndexEmbedderModelId",V.target.value),className:Z("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId}),children:[s.jsx(gt,{value:"",className:"p-2",children:l("settings:codeIndex.selectModel")}),Pe().map(V=>{var _e;const je=(_e=d==null?void 0:d[D.codebaseIndexEmbedderProvider])==null?void 0:_e[V];return s.jsxs(gt,{value:V,className:"p-2",children:[V," ",je?l("settings:codeIndex.modelDimensions",{dimension:je.dimension}):""]},V)})]}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.vectorStoreProviderLabel")}),s.jsxs(Ut,{value:D.codebaseIndexVectorStoreProvider,onValueChange:V=>{F("codebaseIndexVectorStoreProvider",V)},children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{})}),s.jsxs($t,{children:[s.jsx(ze,{value:"qdrant",children:"Qdrant"}),s.jsx(ze,{value:"lancedb",children:"LanceDB"})]})]})]}),D.codebaseIndexEmbedderProvider==="vercel-ai-gateway"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.vercelAiGatewayApiKeyLabel")}),s.jsx(de,{type:"password",value:D.codebaseIndexVercelAiGatewayApiKey||"",onInput:V=>F("codebaseIndexVercelAiGatewayApiKey",V.target.value),placeholder:l("settings:codeIndex.vercelAiGatewayApiKeyPlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexVercelAiGatewayApiKey})}),S.codebaseIndexVercelAiGatewayApiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexVercelAiGatewayApiKey})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.modelLabel")}),s.jsxs(Bs,{value:D.codebaseIndexEmbedderModelId,onChange:V=>F("codebaseIndexEmbedderModelId",V.target.value),className:Z("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId}),children:[s.jsx(gt,{value:"",className:"p-2",children:l("settings:codeIndex.selectModel")}),Pe().map(V=>{var _e;const je=(_e=d==null?void 0:d[D.codebaseIndexEmbedderProvider])==null?void 0:_e[V];return s.jsxs(gt,{value:V,className:"p-2",children:[V," ",je?l("settings:codeIndex.modelDimensions",{dimension:je.dimension}):""]},V)})]}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]})]}),D.codebaseIndexEmbedderProvider==="bedrock"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.bedrockRegionLabel")}),s.jsx(de,{value:D.codebaseIndexBedrockRegion||"",onInput:V=>F("codebaseIndexBedrockRegion",V.target.value),placeholder:l("settings:codeIndex.bedrockRegionPlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexBedrockRegion})}),S.codebaseIndexBedrockRegion&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexBedrockRegion})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium",children:[l("settings:codeIndex.bedrockProfileLabel"),s.jsxs("span",{className:"text-xs text-vscode-descriptionForeground ml-1",children:["(",l("settings:codeIndex.optional"),")"]})]}),s.jsx(de,{value:D.codebaseIndexBedrockProfile||"",onInput:V=>F("codebaseIndexBedrockProfile",V.target.value),placeholder:l("settings:codeIndex.bedrockProfilePlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexBedrockProfile})}),S.codebaseIndexBedrockProfile&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexBedrockProfile}),!S.codebaseIndexBedrockProfile&&s.jsx("p",{className:"text-xs text-vscode-descriptionForeground mt-1 mb-0",children:l("settings:codeIndex.bedrockProfileDescription")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.modelLabel")}),s.jsxs(Bs,{value:D.codebaseIndexEmbedderModelId,onChange:V=>F("codebaseIndexEmbedderModelId",V.target.value),className:Z("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId}),children:[s.jsx(gt,{value:"",className:"p-2",children:l("settings:codeIndex.selectModel")}),Pe().map(V=>{var _e;const je=(_e=d==null?void 0:d[D.codebaseIndexEmbedderProvider])==null?void 0:_e[V];return s.jsxs(gt,{value:V,className:"p-2",children:[V," ",je?l("settings:codeIndex.modelDimensions",{dimension:je.dimension}):""]},V)})]}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]})]}),D.codebaseIndexEmbedderProvider==="openrouter"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.openRouterApiKeyLabel")}),s.jsx(de,{type:"password",value:D.codebaseIndexOpenRouterApiKey||"",onInput:V=>F("codebaseIndexOpenRouterApiKey",V.target.value),placeholder:l("settings:codeIndex.openRouterApiKeyPlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexOpenRouterApiKey})}),S.codebaseIndexOpenRouterApiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexOpenRouterApiKey})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.modelLabel")}),s.jsxs(Bs,{value:D.codebaseIndexEmbedderModelId,onChange:V=>F("codebaseIndexEmbedderModelId",V.target.value),className:Z("w-full",{"border-red-500":S.codebaseIndexEmbedderModelId}),children:[s.jsx(gt,{value:"",className:"p-2",children:l("settings:codeIndex.selectModel")}),Pe().map(V=>{var _e;const je=(_e=d==null?void 0:d[D.codebaseIndexEmbedderProvider])==null?void 0:_e[V];return s.jsxs(gt,{value:V,className:"p-2",children:[V," ",je?l("settings:codeIndex.modelDimensions",{dimension:je.dimension}):""]},V)})]}),S.codebaseIndexEmbedderModelId&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexEmbedderModelId})]}),Te&&Object.keys(Te).length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:s.jsxs("a",{href:"https://openrouter.ai/docs/features/provider-routing",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:underline",children:[l("settings:codeIndex.openRouterProviderRoutingLabel"),s.jsx("span",{className:"codicon codicon-link-external text-xs"})]})}),s.jsxs(Ut,{value:D.codebaseIndexOpenRouterSpecificProvider||Vd,onValueChange:V=>F("codebaseIndexOpenRouterSpecificProvider",V),children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{})}),s.jsxs($t,{children:[s.jsx(ze,{value:Vd,children:Vd}),Object.entries(Te).map(([V,{label:je}])=>s.jsx(ze,{value:V,children:je},V))]})]}),s.jsx("p",{className:"text-xs text-vscode-descriptionForeground mt-1 mb-0",children:l("settings:codeIndex.openRouterProviderRoutingDescription")})]})]}),D.codebaseIndexVectorStoreProvider==="qdrant"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.qdrantUrlLabel")}),s.jsx(de,{value:D.codebaseIndexQdrantUrl||"",onInput:V=>F("codebaseIndexQdrantUrl",V.target.value),onBlur:V=>{V.target.value.trim()||(D.codebaseIndexQdrantUrl=mb,F("codebaseIndexQdrantUrl",mb))},placeholder:l("settings:codeIndex.qdrantUrlPlaceholder"),className:Z("w-full",{"border-red-500":S.codebaseIndexQdrantUrl})}),S.codebaseIndexQdrantUrl&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codebaseIndexQdrantUrl})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.qdrantApiKeyLabel")}),s.jsx(de,{type:"password",value:D.codeIndexQdrantApiKey||"",onInput:V=>F("codeIndexQdrantApiKey",V.target.value),placeholder:l("settings:codeIndex.qdrantApiKeyPlaceholder"),className:Z("w-full",{"border-red-500":S.codeIndexQdrantApiKey})}),S.codeIndexQdrantApiKey&&s.jsx("p",{className:"text-xs text-vscode-errorForeground mt-1 mb-0",children:S.codeIndexQdrantApiKey})]})]}),D.codebaseIndexVectorStoreProvider==="lancedb"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.lancedbVectorStoreDirectoryLabel")}),s.jsx(de,{value:D.codebaseIndexLancedbVectorStoreDirectory||"",onInput:V=>F("codebaseIndexLancedbVectorStoreDirectory",V.target.value),placeholder:l("settings:codeIndex.lancedbVectorStoreDirectoryPlaceholder"),className:"w-full"}),s.jsx("p",{className:"text-xs text-vscode-descriptionForeground",children:l("settings:codeIndex.lancedbVectorStoreDirectoryDescription")})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("button",{onClick:()=>y(!x),className:"flex items-center text-xs text-vscode-foreground hover:text-vscode-textLink-foreground focus:outline-none","aria-expanded":x,children:[s.jsx("span",{className:`codicon codicon-${x?"chevron-down":"chevron-right"} mr-1`}),s.jsx("span",{className:"text-base font-semibold",children:l("settings:codeIndex.advancedConfigLabel")})]}),x&&s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.searchMinScoreLabel")}),s.jsx(ue,{content:l("settings:codeIndex.searchMinScoreDescription"),children:s.jsx("span",{className:"codicon codicon-info text-xs text-vscode-descriptionForeground cursor-help"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:Pt.MIN_SEARCH_SCORE,max:Pt.MAX_SEARCH_SCORE,step:Pt.SEARCH_SCORE_STEP,value:[D.codebaseIndexSearchMinScore??Pt.DEFAULT_SEARCH_MIN_SCORE],onValueChange:V=>F("codebaseIndexSearchMinScore",V[0]),className:"flex-1","data-testid":"search-min-score-slider"}),s.jsx("span",{className:"w-12 text-center",children:(D.codebaseIndexSearchMinScore??Pt.DEFAULT_SEARCH_MIN_SCORE).toFixed(2)}),s.jsx(xt,{appearance:"icon",title:l("settings:codeIndex.resetToDefault"),onClick:()=>F("codebaseIndexSearchMinScore",Pt.DEFAULT_SEARCH_MIN_SCORE),children:s.jsx("span",{className:"codicon codicon-discard"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:l("settings:codeIndex.searchMaxResultsLabel")}),s.jsx(ue,{content:l("settings:codeIndex.searchMaxResultsDescription"),children:s.jsx("span",{className:"codicon codicon-info text-xs text-vscode-descriptionForeground cursor-help"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:Pt.MIN_SEARCH_RESULTS,max:Pt.MAX_SEARCH_RESULTS,step:Pt.SEARCH_RESULTS_STEP,value:[D.codebaseIndexSearchMaxResults??Pt.DEFAULT_SEARCH_RESULTS],onValueChange:V=>F("codebaseIndexSearchMaxResults",V[0]),className:"flex-1","data-testid":"search-max-results-slider"}),s.jsx("span",{className:"w-12 text-center",children:D.codebaseIndexSearchMaxResults??Pt.DEFAULT_SEARCH_RESULTS}),s.jsx(xt,{appearance:"icon",title:l("settings:codeIndex.resetToDefault"),onClick:()=>F("codebaseIndexSearchMaxResults",Pt.DEFAULT_SEARCH_RESULTS),children:s.jsx("span",{className:"codicon codicon-discard"})})]})]}),s.jsx(gO,{value:D.codebaseIndexEmbeddingBatchSize,onChange:V=>F("codebaseIndexEmbeddingBatchSize",V)}),s.jsx(xO,{value:D.codebaseIndexScannerMaxBatchRetries,onChange:V=>F("codebaseIndexScannerMaxBatchRetries",V)})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 pt-6",children:[s.jsxs("div",{className:"flex gap-2",children:[D.codebaseIndexEnabled&&j.systemStatus==="Indexing"&&s.jsx(xt,{appearance:"secondary",onClick:O,disabled:_==="saving",children:l("settings:codeIndex.cancelIndexingButton")}),D.codebaseIndexEnabled&&(j.systemStatus==="Error"||j.systemStatus==="Standby")&&s.jsx(oe,{onClick:()=>R.postMessage({type:"startIndexing"}),disabled:_==="saving"||q,children:l("settings:codeIndex.startIndexingButton")}),D.codebaseIndexEnabled&&(j.systemStatus==="Indexed"||j.systemStatus==="Error")&&s.jsxs(en,{children:[s.jsx(kC,{asChild:!0,children:s.jsx(oe,{variant:"secondary",children:l("settings:codeIndex.clearIndexDataButton")})}),s.jsxs(tn,{children:[s.jsxs(sn,{children:[s.jsx(nn,{children:l("settings:codeIndex.clearDataDialog.title")}),s.jsx(on,{children:l("settings:codeIndex.clearDataDialog.description")})]}),s.jsxs(rn,{children:[s.jsx(an,{children:l("settings:codeIndex.clearDataDialog.cancelButton")}),s.jsx(Cr,{onClick:()=>R.postMessage({type:"clearIndexData"}),children:l("settings:codeIndex.clearDataDialog.confirmButton")})]})]})]})]}),s.jsx(oe,{onClick:pe,disabled:!q||_==="saving",children:l(_==="saving"?"settings:codeIndex.saving":"settings:codeIndex.saveSettings")})]}),_==="error"&&s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"text-sm text-vscode-errorForeground block",children:w||l("settings:codeIndex.saveError")})})]})]})]}),s.jsx(en,{open:I,onOpenChange:M,children:s.jsxs(tn,{children:[s.jsxs(sn,{children:[s.jsxs(nn,{className:"flex items-center gap-2",children:[s.jsx(cl,{className:"w-5 h-5 text-yellow-500"}),l("settings:unsavedChangesDialog.title")]}),s.jsx(on,{children:l("settings:unsavedChangesDialog.description")})]}),s.jsxs(rn,{children:[s.jsx(an,{onClick:()=>K(!1),children:l("settings:unsavedChangesDialog.cancelButton")}),s.jsx(Cr,{onClick:()=>K(!0),children:l("settings:unsavedChangesDialog.discardButton")})]})]})})]})},yO=Ns({type:$T(["setup","scan","file-upsert","git","manifest","config"]),message:He(),timestamp:He(),context:Ns({filePath:He().optional(),branch:He().optional(),operation:He().optional()}).optional()}),DN=Ns({workspaceFolderPath:He(),workspaceFolderName:He(),gitBranch:He().nullable(),projectId:He().nullable(),repositoryUrl:He().optional(),isIndexing:Rn(),hasManifest:Rn(),manifestFileCount:vr(),hasWatcher:Rn(),error:yO.optional()});Ns({isEnabled:Rn(),isActive:Rn(),workspaceFolders:ka(DN)});const wO=Ns({type:HT("managedIndexerState"),managedIndexerEnabled:Rn(),managedIndexerState:ka(DN)});function kO(e){try{const t=wO.parse(e);return{isEnabled:t.managedIndexerEnabled,isActive:t.managedIndexerState.length>0,workspaceFolders:t.managedIndexerState}}catch(t){return console.error("[parseManagedIndexerStateMessage] Failed to parse message:",t),null}}const jO={isEnabled:!1,isActive:!1,workspaceFolders:[]};function FN(){const[e,t]=h.useState(jO);return h.useEffect(()=>{R.postMessage({type:"requestManagedIndexerState"});const r=n=>{if(n.data.type==="managedIndexerState"){const o=kO(n.data);o&&t(o)}};return window.addEventListener("message",r),()=>{window.removeEventListener("message",r)}},[]),e}function _O(){const{workspaceFolders:e}=FN();return e.some(t=>t.isIndexing)}const NO=({workspaceFolders:e})=>{const[t,r]=h.useState(()=>e.length===1?new Set([e[0].workspaceFolderPath]):new Set),n=o=>{r(a=>{const i=new Set(a);return i.has(o)?i.delete(o):i.add(o),i})};return!e||e.length===0?s.jsx("div",{className:"p-4 text-sm text-vscode-descriptionForeground",children:"No workspace folders found for managed indexing."}):s.jsx("div",{className:"space-y-2",children:e.map(o=>{var i,l;const a=t.has(o.workspaceFolderPath);return s.jsxs("div",{className:"bg-vscode-input-background rounded-md border border-vscode-dropdown-border overflow-hidden",children:[s.jsxs("button",{onClick:()=>n(o.workspaceFolderPath),className:"w-full px-3 py-2 flex items-center gap-2 hover:bg-vscode-list-hoverBackground transition-colors",children:[s.jsx(n_,{className:Z("w-4 h-4 text-vscode-descriptionForeground transition-transform flex-shrink-0",{"transform rotate-90":a})}),s.jsx("h4",{className:"text-sm font-medium text-vscode-foreground flex-1 text-left truncate m-0",title:o.workspaceFolderName,children:o.workspaceFolderName}),s.jsxs("span",{className:Z("inline-flex items-center gap-1.5 text-xs flex-shrink-0",{"text-yellow-500":o.isIndexing,"text-green-500":!o.isIndexing&&o.hasManifest&&!o.error,"text-red-500":o.error,"text-gray-400":!o.isIndexing&&!o.hasManifest&&!o.error}),children:[s.jsx("span",{className:Z("w-2 h-2 rounded-full",{"bg-yellow-500 animate-pulse":o.isIndexing,"bg-green-500":!o.isIndexing&&o.hasManifest&&!o.error,"bg-red-500":o.error,"bg-gray-400":!o.isIndexing&&!o.hasManifest&&!o.error})}),o.isIndexing?"Indexing":o.error?"Error":o.hasManifest?"Indexed":"Standby"]})]}),a&&s.jsxs("div",{className:"px-3 pb-3 space-y-1 text-xs text-vscode-descriptionForeground border-t border-vscode-dropdown-border",children:[o.gitBranch&&s.jsxs("div",{className:"flex justify-between pt-2",children:[s.jsx("span",{children:"Branch:"}),s.jsx("code",{className:"font-mono text-vscode-foreground",children:o.gitBranch})]}),o.repositoryUrl&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Repository:"}),s.jsx("code",{className:"font-mono text-vscode-foreground text-right truncate max-w-[200px]",title:o.repositoryUrl,children:o.repositoryUrl})]}),o.projectId&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Project ID:"}),s.jsx("code",{className:"font-mono text-vscode-foreground",children:o.projectId})]}),o.hasManifest&&!!o.manifestFileCount&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Files indexed:"}),s.jsx("span",{className:"font-medium text-vscode-foreground",children:o.manifestFileCount.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"File watcher:"}),s.jsx("span",{className:"font-medium text-vscode-foreground",children:o.hasWatcher?"Active":"Inactive"})]}),o.error&&s.jsxs("div",{className:"mt-2 p-2 bg-vscode-inputValidation-errorBackground border border-vscode-inputValidation-errorBorder rounded",children:[s.jsxs("div",{className:"font-medium text-vscode-inputValidation-errorForeground mb-1",children:[o.error.type.toUpperCase()," ERROR"]}),s.jsx("div",{className:"text-vscode-descriptionForeground",children:o.error.message}),((i=o.error.context)==null?void 0:i.operation)&&s.jsxs("div",{className:"text-vscode-descriptionForeground mt-1 opacity-75",children:["Operation: ",o.error.context.operation]}),((l=o.error.context)==null?void 0:l.branch)&&s.jsxs("div",{className:"text-vscode-descriptionForeground mt-1 opacity-75",children:["Branch: ",o.error.context.branch]})]})]})]},o.workspaceFolderPath)})})},SO=({children:e})=>{const[t,r]=h.useState(!1),n=h.useRef(()=>r(!1)),o=i=>{var l;i?r(!0):(l=n.current)==null||l.call(n)};dl(t,()=>{var i;(i=n.current)==null||i.call(n)});const a=Vc("roo-portal");return s.jsxs(Nn,{open:t,onOpenChange:o,children:[e,s.jsx(Sn,{className:"w-[calc(100vw-32px)] max-w-[450px] max-h-[80vh] overflow-y-auto p-0",align:"end",alignOffset:0,side:"bottom",sideOffset:5,collisionPadding:16,avoidCollisions:!0,container:a,children:s.jsx(TO,{})})]})},TO=()=>{var a;const r=`https://kilo.ai/organizations/${(a=Ye().apiConfiguration)==null?void 0:a.kilocodeOrganizationId}/code-indexing`,[n,o]=h.useState([]);return h.useEffect(()=>{console.log("[ManagedCodeIndexPopoverContent] requesting managed indexer state"),R.postMessage({type:"requestManagedIndexerState"});const i=l=>{console.log("[ManagedCodeIndexPopoverContent] received event",l),l.data.type==="managedIndexerState"&&o(l.data.managedIndexerState||[])};return window.addEventListener("message",i),()=>window.removeEventListener("message",i)},[]),n.length===0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 cursor-default",children:[s.jsx("div",{className:"flex flex-row items-center gap-1 p-0 mt-0 mb-1 w-full",children:s.jsx("h4",{className:"m-0 pb-2 flex-1",children:"Managed Code Indexing"})}),s.jsx("p",{className:"my-0 pr-4 text-sm w-full mb-3",children:s.jsx(Oe,{href:r,children:"Configure on kilo.ai"})})]}),s.jsx("div",{className:"border-t border-vscode-dropdown-border"}),s.jsx("div",{className:"p-4",children:s.jsx("p",{className:"text-sm text-vscode-descriptionForeground",children:"Managed code indexing is only available when workspace folders are git repositories."})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 cursor-default",children:[s.jsx("div",{className:"flex flex-row items-center gap-1 p-0 mt-0 mb-1 w-full",children:s.jsx("h4",{className:"m-0 pb-2 flex-1",children:"Managed Code Indexing"})}),s.jsx("p",{className:"my-0 pr-4 text-sm w-full mb-3",children:s.jsx(Oe,{href:r,children:"Configure on kilo.ai"})})]}),s.jsx("div",{className:"border-t border-vscode-dropdown-border"}),s.jsx("div",{className:"p-4",children:s.jsx(NO,{workspaceFolders:n})})]})},PO=({className:e})=>{const{t}=re(),{cwd:r}=Ye(),n=FN(),o=_O(),[a,i]=h.useState({systemStatus:"Standby",processedItems:0,totalItems:0,currentItemUnit:"items"});h.useEffect(()=>{n.isEnabled||R.postMessage({type:"requestIndexingStatus"});const m=g=>{if(g.data.type==="indexingStatusUpdate"){const f=g.data.values;(!f.workspacePath||f.workspacePath===r)&&i(f)}};return window.addEventListener("message",m),()=>{window.removeEventListener("message",m)}},[r,n.isEnabled]);const l=h.useMemo(()=>{if(n.isEnabled){const m=n.workspaceFolders.some(f=>f.error!==void 0),g=n.workspaceFolders.some(f=>f.hasManifest);return{systemStatus:m?"Error":o?"Indexing":g?"Indexed":"Standby",processedItems:0,totalItems:0,currentItemUnit:"items"}}return a},[n,o,a]),c=h.useMemo(()=>l.totalItems>0?Math.round(l.processedItems/l.totalItems*100):0,[l.processedItems,l.totalItems]),d=h.useMemo(()=>{if(n.isEnabled){const m=n.workspaceFolders.length,g=n.workspaceFolders.filter(x=>x.isIndexing).length,f=n.workspaceFolders.filter(x=>x.error).length;return f>0?`Managed indexing error (${f} folder${f>1?"s":""})`:g>0?`Indexing ${g} of ${m} workspace folder${m>1?"s":""}`:m>0?`Managed indexing ready (${m} folder${m>1?"s":""})`:"Managed indexing enabled"}switch(l.systemStatus){case"Standby":return t("chat:indexingStatus.ready");case"Indexing":return t("chat:indexingStatus.indexing",{percentage:c});case"Indexed":return t("chat:indexingStatus.indexed");case"Error":return t("chat:indexingStatus.error");default:return t("chat:indexingStatus.status")}},[n,l.systemStatus,c,t]),u=h.useMemo(()=>{const m={Standby:"bg-vscode-descriptionForeground/60",Indexing:"bg-yellow-500 animate-pulse",Indexed:"bg-green-500",Error:"bg-red-500"};return m[l.systemStatus]||m.Standby},[l.systemStatus]),p=n.isEnabled?SO:bO;return s.jsx(p,{indexingStatus:l,children:s.jsx(ue,{content:d,children:s.jsx(Dn,{asChild:!0,children:s.jsxs(oe,{variant:"ghost",size:"sm","aria-label":d,className:Z("relative h-5 w-5 p-0","text-vscode-foreground opacity-60","hover:opacity-100 hover:bg-[rgba(255,255,255,0.03)]","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder",e),children:[s.jsx(Lg,{className:"w-4 h-4"}),s.jsx("span",{className:Z("absolute top-0 right-0 w-1.5 h-1.5 rounded-full transition-colors duration-200",u)})]})})})})},IO=({isRecording:e,onClick:t,containerWidth:r,disabled:n=!1,hasError:o=!1,onStatusChange:a})=>{const{t:i}=vt(),l=h.useCallback(()=>{R.postMessage({type:"stt:checkAvailability"})},[]);h.useEffect(()=>{l()},[l]),Us("message",d=>{const u=d.data;u.type==="stt:statusResponse"&&u.speechToTextStatus&&(a==null||a(u.speechToTextStatus))});const c=i(n?"kilocode:speechToText.misconfiguredState":o?"kilocode:speechToText.errorState":e?"kilocode:speechToText.stopRecording":"kilocode:speechToText.startRecording");return s.jsx(ue,{content:c,children:s.jsxs("button",{"aria-label":i(e?"kilocode:speechToText.stopRecording":"kilocode:speechToText.startRecording"),onClick:t,onMouseEnter:l,className:Z("relative inline-flex items-center justify-center","bg-transparent border-none p-1.5","rounded-md min-w-[28px] min-h-[28px]","transition-all duration-150","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder",e?"opacity-100 text-red-500 animate-pulse hover:text-red-600 cursor-pointer":n?"opacity-40 cursor-not-allowed grayscale-[30%] hover:bg-transparent hover:border-[rgba(255,255,255,0.08)] active:bg-transparent text-vscode-descriptionForeground":"opacity-60 hover:opacity-100 text-vscode-descriptionForeground hover:text-vscode-foreground hover:bg-[rgba(255,255,255,0.03)] hover:border-[rgba(255,255,255,0.15)] active:bg-[rgba(255,255,255,0.1)] cursor-pointer",r!==void 0&&{hidden:r<235}),children:[e?s.jsx(EP,{className:"w-4 h-4 fill-current"}):s.jsx(kA,{className:"w-4 h-4"}),o&&!e&&s.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full","aria-label":"Error occurred"})]})})},ba=5,EO=2,MO=2,CO=16,Al=10,AO=.15,RO=.001,gb=.02,OO=.12,DO=2,FO=.6;function LO(e){const t=Math.max(0,(e-gb)/(OO-gb)),r=Math.pow(t,FO);return Math.min(1,r*DO)}function BO(e){const t=LO(e),r=Math.floor(ba/2);return Array.from({length:ba},(n,o)=>{const i=1-Math.abs(o-r)*.15,l=.85+Math.random()*.15;return t*i*l})}function zO({volume:e,isActive:t=!0,className:r}){const[n,o]=h.useState(new Array(ba).fill(Al)),a=h.useRef(e),i=h.useRef({targetHeights:new Array(ba).fill(0),currentHeights:new Array(ba).fill(0),frameId:null});return h.useEffect(()=>{a.current=e},[e]),h.useEffect(()=>{if(!t){o(new Array(ba).fill(Al));return}const l=i.current,c=()=>{if(!t){l.frameId=null;return}l.targetHeights=BO(a.current);const d=l.currentHeights.map((u,p)=>{const g=l.targetHeights[p]-u;return Math.abs(g)>RO?u+g*AO:u});l.currentHeights=d,o(d.map(u=>Math.max(Al,u*100))),l.frameId=requestAnimationFrame(c)};return l.frameId=requestAnimationFrame(c),()=>{l.frameId!==null&&(cancelAnimationFrame(l.frameId),l.frameId=null)}},[t]),s.jsx("div",{className:Z("inline-flex items-end justify-center",r),style:{gap:`${MO}px`,height:`${CO}px`},"aria-label":"Volume level indicator",role:"meter","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,children:n.map((l,c)=>s.jsx("div",{className:Z("rounded-full transition-colors duration-200"),style:{width:`${EO}px`,height:`${l}%`,minHeight:`${Al}%`,backgroundColor:t?"var(--vscode-charts-yellow)":"var(--vscode-descriptionForeground)",opacity:t?1:.4}},c))})}const qO=({textAreaRef:e,cursorPosition:t,isVisible:r})=>{const[n,o]=h.useState(null),a=h.useRef(null);return h.useEffect(()=>{if(!r||!e.current){o(null);return}const i=e.current,l=i.value,c=document.createElement("div"),d=window.getComputedStyle(i);c.style.cssText=`
			position: absolute;
			visibility: hidden;
			white-space: pre-wrap;
			word-wrap: break-word;
			font-family: ${d.fontFamily};
			font-size: ${d.fontSize};
			font-weight: ${d.fontWeight};
			line-height: ${d.lineHeight};
			letter-spacing: ${d.letterSpacing};
			padding: ${d.padding};
			border: ${d.border};
			width: ${i.clientWidth}px;
		`,document.body.appendChild(c);const u=l.substring(0,t);c.textContent=u;const p=document.createElement("span");p.textContent="|",c.appendChild(p);const m=p.getBoundingClientRect(),g=i.getBoundingClientRect(),f=m.top-g.top+i.scrollTop,x=m.left-g.left+i.scrollLeft;document.body.removeChild(c),o({top:f,left:x})},[e,t,r]),!r||!n?null:s.jsx("div",{ref:a,className:Z("absolute pointer-events-none z-50","w-[2px] h-[1.2em]","bg-vscode-editorCursor","animate-[blink_1s_step-end_infinite]"),style:{top:`${n.top}px`,left:`${n.left}px`}})},UO=({reason:e,setInputValue:t,onSend:r,onOpenChange:n,error:o})=>{const{t:a}=vt(),i=St("features/experimental/voice-transcription"),l=()=>{R.postMessage({type:"openExternal",url:i}),n==null||n(!1)},c=h.useCallback(()=>{const d=a("kilocode:speechToText.setupPopover.ffmpegMessage");t(d),setTimeout(()=>{r()})},[a,t,r]);return s.jsxs("div",{className:"p-4 cursor-default",children:[s.jsx("h4",{className:"m-0 mb-3 text-base font-semibold",children:a("kilocode:speechToText.setupPopover.title")}),o?s.jsxs("div",{className:"my-0 mb-3 p-2 rounded text-sm border",style:{backgroundColor:"var(--vscode-inputValidation-errorBackground, rgba(255, 0, 0, 0.1))",borderColor:"var(--vscode-inputValidation-errorBorder, #ff0000)",color:"var(--vscode-errorForeground, #ff0000)"},children:[s.jsx("strong",{children:"Error:"})," ",o]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"my-0 mb-3 text-sm text-vscode-descriptionForeground",children:s.jsx(we,{i18nKey:"kilocode:speechToText.setupPopover.description",components:{moreInfoLink:s.jsx(Oe,{href:i,onClick:d=>{d.preventDefault(),l()},className:"inline"})}})}),s.jsxs("ul",{className:"my-0 mb-0 list-disc list-inside text-sm text-vscode-descriptionForeground space-y-1",children:[e==="openaiKeyMissing"||!e?s.jsx("li",{children:a("kilocode:speechToText.setupPopover.openAiReason")}):null,e==="ffmpegNotInstalled"||!e?s.jsx("li",{children:s.jsx(we,{i18nKey:"kilocode:speechToText.setupPopover.ffmpegReason",components:{ffmpegLink:s.jsx(Oe,{href:"#",onClick:d=>{d.preventDefault(),c(),n==null||n(!1)},className:"inline"})}})}):null]})]})]})},WO=({children:e,speechToTextStatus:t,open:r,onOpenChange:n,setInputValue:o,onSend:a,error:i})=>{const l=Vc("roo-portal");if(!(!(t!=null&&t.available)||!!i))return s.jsx(s.Fragment,{children:e});const d=t==null?void 0:t.reason;return s.jsxs(Nn,{open:r,onOpenChange:n,children:[s.jsx(Dn,{children:e}),s.jsx(Sn,{className:"w-[calc(100vw-32px)] max-w-[400px] p-0",align:"end",alignOffset:0,side:"bottom",sideOffset:5,collisionPadding:16,avoidCollisions:!0,container:l,children:s.jsx(UO,{reason:d,setInputValue:o,onSend:a,onOpenChange:n,error:i})})]})};function LN(e={}){const{onComplete:t,onError:r}=e,[n,o]=h.useState(!1),[a,i]=h.useState(!1),[l,c]=h.useState([]),[d,u]=h.useState(0),[p,m]=h.useState([]),[g,f]=h.useState(!1),[x,y]=h.useState(null),N=h.useRef(null),b=h.useRef([]);h.useEffect(()=>{b.current=l},[l]),h.useEffect(()=>{o(a)},[a]),h.useEffect(()=>{const T=S=>{var I;const P=S.data;if((I=P.type)!=null&&I.startsWith("stt:"))switch(P.type){case"stt:started":N.current=P.sessionId,i(!0),c([]);break;case"stt:transcript":if(P.sessionId!==N.current)return;c(P.segments||[]);break;case"stt:volume":if(P.sessionId!==N.current)return;u(P.level);break;case"stt:stopped":if(i(!1),o(!1),u(0),P.reason==="completed"){const M=b.current.map(A=>A.text).join(" ").trim();M&&(t==null||t(M))}else P.reason==="error"&&P.error&&(r==null||r(P.error));c([]),N.current=null;break;case"stt:devices":m(P.devices||[]),f(!1);break;case"stt:deviceSelected":y(P.device);break}};return window.addEventListener("message",T),()=>window.removeEventListener("message",T)},[t,r]);const j=h.useCallback(T=>{o(!0),R.postMessage({type:"stt:start",language:T})},[]),v=h.useCallback(()=>{o(!1),R.postMessage({type:"stt:stop"})},[]),_=h.useCallback(()=>{o(!1),R.postMessage({type:"stt:cancel"})},[]),k=h.useCallback(async()=>{f(!0),R.postMessage({type:"stt:listDevices"})},[]),w=h.useCallback(async T=>{R.postMessage({type:"stt:selectDevice",device:T})},[]);return{isRecording:n,segments:l,volume:d,start:j,stop:v,cancel:_,devices:p,isLoadingDevices:g,loadDevices:k,selectDevice:w,selectedDevice:x}}function KO(){const[e,t]=h.useState(void 0),[r,n]=h.useState(null),o=h.useCallback(a=>{t(a),a!=null&&a.available&&n(null)},[]);return{status:e,error:r,setError:n,handleStatusChange:o}}const $O=({clineMessages:e,taskHistoryVersion:t,cwd:r,inputValue:n,setInputValue:o})=>{const[i,l]=h.useState(-1),[c,d]=h.useState(""),[u,p]=h.useState([]),{data:m}=Xg({workspace:"current",sort:"newest",favoritesOnly:!1,pageIndex:0},t),g=h.useMemo(()=>{const v=e==null?void 0:e.filter(k=>{var w;return k.type==="say"&&k.say==="user_feedback"&&((w=k.text)==null?void 0:w.trim())}).map(k=>k.text);if(v!=null&&v.length)return v.slice(-100).reverse();if(e!=null&&e.length)return[];const _=(m==null?void 0:m.historyItems)??[];return!(_!=null&&_.length)||!r?[]:_.filter(k=>{var w;return((w=k.task)==null?void 0:w.trim())&&(!k.workspace||k.workspace===r)}).map(k=>k.task).slice(0,100)},[m,e,r]);h.useEffect(()=>{p(g),l(-1),d("")},[g]);const f=h.useCallback(()=>{i!==-1&&(l(-1),d(""))},[i]),x=h.useCallback((v,_,k)=>{setTimeout(()=>{if(_==="start")v.setSelectionRange(0,0);else if(_==="end"){const w=k??v.value.length;v.setSelectionRange(w,w)}else v.setSelectionRange(_,_)},0)},[]),y=h.useCallback((v,_,k="start")=>{if(v<0||v>=u.length)return!1;const w=u[v];return w?(l(v),o(w),x(_,k,w.length),!0):!1},[u,o,x]),N=h.useCallback((v,_="end")=>{l(-1),o(c),x(v,_,c.length)},[c,o,x]),b=h.useCallback((v,_,k)=>{if(!_&&u.length>0&&!k){const w=v.currentTarget,{selectionStart:T,selectionEnd:S,value:P}=w,I=T!==S,M=T===0&&S===0,A=T===P.length&&S===P.length;if(!I){if(v.key==="ArrowUp"&&M)return v.preventDefault(),i===-1&&d(n),y(i+1,w,"start");if(v.key==="ArrowDown"&&i>=0&&(M||A)){if(v.preventDefault(),i>0)return y(i-1,w,M?"start":"end");if(i===0)return N(w,M?"start":"end"),!0}}}return!1},[u,i,n,y,N]),j=h.useCallback(()=>{l(-1),d("")},[]);return{historyIndex:i,setHistoryIndex:l,tempInput:c,setTempInput:d,promptHistory:u,handleHistoryNavigation:b,resetHistoryNavigation:j,resetOnInputChange:f}};function BN(e){return e.replace(/^.*[/\\]/,"")}const HO=e=>{if(e.startsWith(".")&&!e.includes(".",1))return"";const t=e.match(/\.[^.]+$/);return t?t[0].toLowerCase():""};function ix(e,t={},r={}){const n=[{name:"newtask",description:"Create a new task with context from the current task"},{name:"newrule",description:"Create a new Kilo rule with context from your conversation"},{name:"reportbug",description:"Create a KiloCode GitHub issue"},{name:"smol",description:"Condenses your current context window"},{name:"condense",description:"Condenses your current context window"},{name:"compact",description:"Condenses your current context window"},{name:"session",description:"Session management <fork|share|show>"}],o=ho(e).map(i=>({name:i.slug,description:`Switch to ${i.name.replace(/^[]+ /,"")} mode`})),a=GO(t,r);return[...n,...o,...a]}ix();function VO(e,t){const r=e.slice(0,t),n=r.lastIndexOf("/");if(n===-1)return!1;const o=r.slice(0,n);if(!/^\s*$/.test(o))return!1;const a=r.slice(n+1);return!/\s/.test(a)}function xb(e){return Object.entries(e).filter(([t,r])=>r).map(([t,r])=>({name:BN(t),section:"custom"}))}function GO(e={},t={}){return[...xb(e),...xb(t)]}function wf(e,t,r={},n={}){const o=ix(t,r,n);return e?new Ij(o,{selector:i=>i.name}).find(e).map(i=>i.item):[...o]}function QO(e,t){const r=e.indexOf("/"),n=e.indexOf(" ",r);return{newValue:e.substring(0,r+1)+t+(n>-1?e.substring(n):" "),commandIndex:r}}function zN(e,t,r={},n={}){if(!e)return null;const o=ix(t,r,n),a=e.toLowerCase();return o.some(d=>d.name.toLowerCase()===a)?"full":new Ij(o,{selector:d=>d.name}).find(e).length>0?"partial":null}const YO=({onSelect:e,selectedIndex:t,setSelectedIndex:r,onMouseDown:n,query:o,customModes:a})=>{const{localWorkflows:i,globalWorkflows:l}=Ye(),c=h.useRef(null),d=h.useCallback(p=>{e(p)},[e]);h.useEffect(()=>{if(c.current){const p=c.current.children[t];if(p){const m=c.current.getBoundingClientRect(),g=p.getBoundingClientRect();g.bottom>m.bottom?c.current.scrollTop+=g.bottom-m.bottom:g.top<m.top&&(c.current.scrollTop-=m.top-g.top)}}},[t]);const u=wf(o,a,i,l);return s.jsx("div",{className:"absolute bottom-[calc(100%-10px)] left-[15px] right-[15px] overflow-x-hidden z-[1000]",onMouseDown:n,children:s.jsx("div",{ref:c,className:"bg-[var(--vscode-dropdown-background)] border border-[var(--vscode-editorGroup-border)] rounded-[3px] shadow-[0_4px_10px_rgba(0,0,0,0.25)] flex flex-col max-h-[200px] overflow-y-auto",children:u.length>0?u.map((p,m)=>s.jsxs("div",{className:`py-2 px-3 cursor-pointer flex flex-col border-b border-[var(--vscode-editorGroup-border)] ${m===t?"bg-[var(--vscode-quickInputList-focusBackground)] text-[var(--vscode-quickInputList-focusForeground)]":""} hover:bg-[var(--vscode-list-hoverBackground)]`,onClick:()=>d(p),onMouseEnter:()=>r(m),children:[s.jsxs("div",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis",children:["/",p.name]}),s.jsx("div",{className:"text-[0.85em] text-[var(--vscode-descriptionForeground)] whitespace-normal overflow-hidden text-ellipsis",children:p.description})]},p.name)):s.jsxs("div",{className:"py-2 px-3 cursor-default flex flex-col",children:[" ",s.jsx("div",{className:"text-[0.85em] text-[var(--vscode-descriptionForeground)]",children:"No matching commands found"})]})})})};function XO(e,t){if(e.startsWith("/session show"))return R.postMessage({type:"sessionShow"}),t(""),!0;if(e.startsWith("/session share"))return R.postMessage({type:"sessionShare"}),t(""),!0;if(e.startsWith("/session fork ")){const r=e.substring(14).trim();return R.postMessage({type:"sessionFork",shareId:r}),r&&t(""),!0}else if(e.startsWith("/session select ")){const r=e.substring(16).trim();return R.postMessage({type:"sessionSelect",sessionId:r}),t(""),!0}return!1}const qN=h.forwardRef(({inputValue:e,setInputValue:t,sendingDisabled:r,selectApiConfigDisabled:n,placeholderText:o,selectedImages:a,setSelectedImages:i,onSend:l,onSelectImages:c,shouldDisableImages:d,onHeightChange:u,mode:p,setMode:m,modeShortcutText:g,isEditMode:f=!1,onCancel:x,sendMessageOnEnter:y=!0},N)=>{const{t:b}=re(),{filePaths:j,openedTabs:v,currentApiConfigName:_,listApiConfigMeta:k,customModes:w,customModePrompts:T,cwd:S,pinnedApiConfigs:P,togglePinnedApiConfig:I,localWorkflows:M,globalWorkflows:A,taskHistoryVersion:C,clineMessages:H,ghostServiceSettings:z,language:D,experiments:Y}=Ye(),{status:U,error:q,setError:F,handleStatusChange:W}=KO(),te=h.useMemo(()=>k?k.filter($=>$.profileType!=="autocomplete"):[],[k]),{currentConfigId:K,displayName:X}=h.useMemo(()=>{const $=te==null?void 0:te.find(ve=>ve.name===_);return{currentConfigId:($==null?void 0:$.id)||"",displayName:_||""}},[te,_]),[G,J]=h.useState([]),[ae,O]=h.useState(!1),[pe,be]=h.useState([]),[xe,Pe]=h.useState(300),Te=h.useRef(null);h.useEffect(()=>{if(!Te.current||typeof ResizeObserver>"u")return;const $=new ResizeObserver(ve=>{for(const Ne of ve){const Fe=Ne.contentRect.width;Pe(Fe)}});return $.observe(Te.current),()=>{$.disconnect()}},[]);const[L,fe]=h.useState(!1),[ne,Ve]=h.useState("");h.useEffect(()=>{const $=()=>{ae&&O(!1)};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[ae]),h.useEffect(()=>{const $=ve=>{const Ne=ve.data;if(Ne.type==="enhancedPrompt"){if(Ne.text&&Ce.current)try{if(document.execCommand){const Fe=Ce.current;Fe.focus(),Fe.select(),document.execCommand("insertText",!1,Ne.text)}else t(Ne.text)}catch{t(Ne.text)}Dr(!1)}else if(Ne.type==="commitSearchResults"){const Fe=Ne.commits.map(Xe=>({type:Ie.Git,value:Xe.hash,label:Xe.subject,description:`${Xe.shortHash} by ${Xe.author} on ${Xe.date}`,icon:"$(git-commit)"}));J(Fe)}else Ne.type==="fileSearchResults"?(fe(!1),Ne.requestId===ne&&be(Ne.results||[])):Ne.type==="insertTextToChatArea"&&Ne.text&&(t(Ne.text),setTimeout(()=>{Ce.current&&Ce.current.focus()},0))};return window.addEventListener("message",$),()=>window.removeEventListener("message",$)},[t,ne,e,l]);const[mt,V]=h.useState(!1),[je,_e]=h.useState(!1),[lt,Ze]=h.useState(0),[Rt,Rs]=h.useState(""),$e=h.useRef(null),[jt,Me]=h.useState(void 0),[et,bt]=h.useState(!1),[ct,Ot]=h.useState(0),[Mt,ss]=h.useState(""),Ce=h.useRef(null),[Ks,cs]=h.useState(!1),wt=h.useRef(null),{isRecording:Ue,segments:Lt,volume:us,start:ee,stop:Le}=LN({onComplete:$=>{if(wt.current){const{beforeCursor:ve,afterCursor:Ne}=wt.current,Fe=ve&&!ve.endsWith(" ")?" ":"",Xe=ve+Fe+$+Ne;t(Xe);const Ke=ve.length+Fe.length+$.length;Ot(Ke),ws(Ke)}else t($);wt.current=null},onError:$=>{console.error("STT error:",$),F($),Ee(!0),wt.current=null}}),tt=h.useMemo(()=>Lt.map($=>$.text).join(" "),[Lt]),Ae=h.useMemo(()=>{const $=[];let ve=0;for(let Ne=0;Ne<Lt.length;Ne++){const Fe=Lt[Ne];Fe.isPreview&&$.push({start:ve,end:ve+Fe.text.length}),ve+=Fe.text.length,Ne<Lt.length-1&&(ve+=1)}return $},[Lt]);h.useEffect(()=>{var $;if(Ue&&!wt.current){const ve=(($=Ce.current)==null?void 0:$.selectionStart)??e.length;wt.current={beforeCursor:e.slice(0,ve),afterCursor:e.slice(ve),position:ve}}},[Ue,e]);const Zt=h.useMemo(()=>{if(Ue&&tt&&wt.current){const{beforeCursor:$,afterCursor:ve}=wt.current,Ne=$&&!$.endsWith(" ")?" ":"";return $+Ne+tt+ve}return e},[Ue,tt,e]),kt=Ue&&wt.current?wt.current.position+(wt.current.beforeCursor&&!wt.current.beforeCursor.endsWith(" ")?1:0):0,Bt=h.useRef(null),ps=h.useRef(!1),[Ht,_t]=h.useState(-1),[dt,ht]=h.useState(null),[gs,cr]=h.useState(!1),[ys,ws]=h.useState(null),ms=h.useRef(null),[Or,Dr]=h.useState(!1),[un,Fr]=h.useState(!1),{ghostText:pn,handleKeyDown:mn,handleInputChange:kr,handleFocus:Zs,handleBlur:er,handleSelect:Tn,clearGhostText:jr}=tO({textAreaRef:Ce,enableChatAutocomplete:(z==null?void 0:z.enableChatAutocomplete)??!1}),[$s,Ps]=h.useState(null),{handleHistoryNavigation:dr,resetHistoryNavigation:Hs,resetOnInputChange:Lr}=$O({clineMessages:H,taskHistoryVersion:C,cwd:S,inputValue:e,setInputValue:t});h.useEffect(()=>{if(dt===Ie.Git||/^[a-f0-9]+$/i.test(Mt)){const $={type:"searchCommits",query:Mt||""};R.postMessage($)}},[dt,Mt]);const hn=h.useCallback(()=>{const $=e.trim();$?(Dr(!0),R.postMessage({type:"enhancePrompt",text:$})):t(b("chat:enhancePromptDescription"))},[e,t,b]),B=h.useCallback($=>{Ps($)},[Ps]),he=h.useCallback(()=>{Ps(null)},[Ps]),[ge,Ee]=h.useState(!1),rt=h.useCallback(()=>{if(q||!(U!=null&&U.available)){Ee(!0);return}Ue?Le():(F(null),ee(D||"en"))},[q,U==null?void 0:U.available,Ue,Le,F,ee,D]),Vt=h.useRef(d);h.useEffect(()=>{!Vt.current&&d&&a.length>0&&(i([]),B("kilocode:imageWarnings.imagesRemovedNoSupport")),Vt.current=d},[d,a.length,i,B]);const Ct=h.useMemo(()=>ho(w),[w]),zt=h.useMemo(()=>[{type:Ie.Problems,value:"problems"},{type:Ie.Terminal,value:"terminal"},...G,...v.filter($=>$.path).map($=>({type:Ie.OpenedFile,value:"/"+$.path})),...j.map($=>"/"+$).filter($=>!v.some(ve=>ve.path&&"/"+ve.path===$)).map($=>({type:$.endsWith("/")?Ie.Folder:Ie.File,value:$}))],[j,G,v]);h.useEffect(()=>{const $=ve=>{ms.current&&!ms.current.contains(ve.target)&&bt(!1)};return et&&document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[et,bt]);const Os=h.useCallback(($,ve)=>{if($===Ie.Image){if(bt(!1),ht(null),Ce.current){const Ne=Ce.current.value.slice(0,ct),Fe=Ce.current.value.slice(ct),Xe=Ne.lastIndexOf("@");if(Xe!==-1){const Ke=Ne.slice(0,Xe)+Fe;t(Ke)}}c();return}if($!==Ie.NoResults){if($===Ie.Mode&&ve){m(ve),t(""),bt(!1),R.postMessage({type:"mode",text:ve});return}if(($===Ie.File||$===Ie.Folder||$===Ie.Git)&&!ve){ht($),ss(""),_t(0);return}if(bt(!1),ht(null),Ce.current){let Ne=ve||"";$===Ie.URL||$===Ie.File||$===Ie.Folder?Ne=ve||"":$===Ie.Problems?Ne="problems":$===Ie.Terminal?Ne="terminal":$===Ie.Git&&(Ne=ve||"");const{newValue:Fe,mentionIndex:Xe}=Y4(Ce.current.value,ct,Ne);t(Fe);const Ke=Fe.indexOf(" ",Xe+Ne.length)+1;Ot(Ke),ws(Ke),setTimeout(()=>{Ce.current&&(Ce.current.blur(),Ce.current.focus())},0)}}},[t,ct]),Vs=h.useCallback($=>{if(_e(!1),ho(w).map(Ne=>Ne.slug).includes($.name)){m($.name),t(""),R.postMessage({type:"mode",text:$.name});return}if(Ce.current){const{newValue:Ne,commandIndex:Fe}=QO(Ce.current.value,$.name),Xe=Ne.indexOf(" ",Fe+1+$.name.length)+1;t(Ne),Ot(Xe),ws(Xe),setTimeout(()=>{Ce.current&&(Ce.current.blur(),Ce.current.focus())},0)}},[t,m,w]),Br=h.useCallback($=>{var Fe,Xe;if(je){if($.key==="Escape"){_e(!1);return}if($.key==="ArrowUp"||$.key==="ArrowDown"){$.preventDefault(),Ze(Ke=>{const it=$.key==="ArrowUp"?-1:1,ut=wf(Rt,w,M,A);return ut.length===0?Ke:(Ke+it+ut.length)%ut.length});return}if(($.key==="Enter"||$.key==="Tab")&&lt!==-1){$.preventDefault();const Ke=wf(Rt,w,M,A);Ke.length>0&&Vs(Ke[lt]);return}}if(et){if($.key==="Escape"){bt(!1),ht(null),_t(3);return}if($.key==="ArrowUp"||$.key==="ArrowDown"){$.preventDefault(),_t(Ke=>{const it=$.key==="ArrowUp"?-1:1,ut=yf(Mt,dt,zt,pe,Ct);if(ut.length===0)return Ke;const ot=ut.filter(Be=>Be.type!==Ie.URL&&Be.type!==Ie.NoResults);if(ot.length===0)return-1;const Se=(ot.findIndex(Be=>Be===ut[Ke])+it+ot.length)%ot.length;return ut.findIndex(Be=>Be===ot[Se])});return}if(($.key==="Enter"||$.key==="Tab")&&Ht!==-1){$.preventDefault();const Ke=yf(Mt,dt,zt,pe,Ct)[Ht];Ke&&Ke.type!==Ie.URL&&Ke.type!==Ie.NoResults&&Os(Ke.type,Ke.value);return}}if(mn($))return;const ve=((Fe=$.nativeEvent)==null?void 0:Fe.isComposing)??!1;if(!ve&&$.key==="Enter"&&(y&&!$.shiftKey||!y&&$.shiftKey)){$.preventDefault();const Ke=e.trim();if(XO(Ke,t))return;Hs(),l()}if(!dr($,et,ve)&&$.key==="Backspace"&&!ve){const Ke=e[ct-1],it=e[ct+1],ut=Ke===" "||Ke===`
`||Ke===`\r
`,Dt=it===" "||it===`
`||it===`\r
`;if(ut&&e.slice(0,ct-1).match(new RegExp(sx.source+"$"))){const ot=ct-1;Dt||($.preventDefault(),(Xe=Ce.current)==null||Xe.setSelectionRange(ot,ot),Ot(ot)),Ot(ot),cr(!0)}else if(gs){const{newText:ot,newPosition:ie}=X4(e,ct);ot!==e&&($.preventDefault(),t(ot),ws(ie)),cr(!1),bt(!1)}else cr(!1)}},[je,M,A,w,Vs,lt,Rt,mn,l,et,Mt,Ht,Os,dt,e,ct,t,gs,zt,Ct,pe,dr,Hs,y]);h.useLayoutEffect(()=>{ys!==null&&Ce.current&&(Ce.current.setSelectionRange(ys,ys),ws(null))},[e,ys]);const _r=h.useRef(null),Is=h.useCallback($=>{const ve=$.target,Ne=ve.value,Fe=ve.selectionStart===ve.selectionEnd&&ve.selectionEnd===Ne.length;ps.current=Fe,t(Ne),Lr(),kr($);const Xe=ve.selectionStart;Ot(Xe);let Ke=J4(Ne,Xe);const it=VO(Ne,Xe);if(it&&(Ke=!1),_e(it),bt(Ke),it){const ut=Ne.indexOf("/"),Dt=Ne.slice(ut+1,Xe);Rs(Dt),Ze(0)}else Rs(""),Ze(0);if(Ke){const ut=Ne.lastIndexOf("@",Xe-1);if(Ne.startsWith("/")&&ut===-1)ss(Ne),_t(0);else{const Dt=Ne.slice(ut+1,Xe);ss(Dt),Dt.length>0?(_t(0),_r.current&&clearTimeout(_r.current),_r.current=setTimeout(()=>{const ot=Math.random().toString(36).substring(2,9);Ve(ot),fe(!0),R.postMessage({type:"searchFiles",query:$3(Dt),requestId:ot})},200)):_t(-1)}}else ss(""),_t(-1),be([])},[t,Ve,be,fe,Lr,kr]);h.useEffect(()=>{et||ht(null)},[et]);const di=h.useCallback(()=>{Ks||(bt(!1),_e(!1)),Fr(!1)},[Ks]);h.useEffect(()=>{un?Zs():er()},[un,Zs,er]);const ko=h.useCallback(async $=>{const ve=$.clipboardData.items,Ne=$.clipboardData.getData("text");if(/^\S+:\/\/\S+$/.test(Ne.trim())){$.preventDefault(),jr();const it=Ne.trim(),ut=e.slice(0,ct)+it+" "+e.slice(ct);t(ut);const Dt=ct+it.length+1;Ot(Dt),ws(Dt),bt(!1),setTimeout(()=>{Ce.current&&(Ce.current.blur(),Ce.current.focus())},0);return}const Xe=["png","jpeg","webp"],Ke=Array.from(ve).filter(it=>{const[ut,Dt]=it.type.split("/");return ut==="image"&&Xe.includes(Dt)});if(Ke.length>0){if($.preventDefault(),d){B("kilocode:imageWarnings.modelNoImageSupport");return}if(a.length>=Eo){B("kilocode:imageWarnings.maxImagesReached");return}const it=Ke.map(ot=>new Promise(ie=>{const Se=ot.getAsFile();if(!Se){ie(null);return}const Be=new FileReader;Be.onloadend=()=>{if(Be.error)console.error(b("chat:errorReadingFile"),Be.error),ie(null);else{const Ft=Be.result;ie(typeof Ft=="string"?Ft:null)}},Be.readAsDataURL(Se)})),Dt=(await Promise.all(it)).filter(ot=>ot!==null);Dt.length>0?i(ot=>[...ot,...Dt].slice(0,Eo)):console.warn(b("chat:noValidImages"))}},[d,i,ct,t,e,b,a.length,B,jr]),Un=h.useCallback(()=>{cs(!0)},[]),Q=h.useCallback(()=>{if(!Ce.current||!Bt.current)return;let $=Ce.current.value;if($=$.replace(/\n$/,`

`).replace(/[<>&]/g,ve=>({"<":"&lt;",">":"&gt;","&":"&amp;"})[ve]||ve).replace(rx,'<mark class="mention-context-textarea-highlight">$&</mark>'),/^\s*\//.test($)){const ve=$.indexOf("/"),Ne=$.indexOf(" ",ve),Fe=Ne>-1?Ne:$.length,Xe=$.substring(ve+1,Fe);if(zN(Xe,w)){const ut=`<mark class="slash-command-match-textarea-highlight">${$.substring(ve,Fe)}</mark>`;$=$.substring(0,ve)+ut+$.substring(Fe)}}if(Ue&&Ae.length>0&&wt.current){const{beforeCursor:ve}=wt.current,Ne=ve&&!ve.endsWith(" ")?" ":"",Fe=ve.length+Ne.length;for(let Xe=Ae.length-1;Xe>=0;Xe--){const Ke=Ae[Xe],it=Fe+Ke.start,ut=Fe+Ke.end,Dt=$.substring(0,it),ot=$.substring(it,ut),ie=$.substring(ut);$=Dt+`<span class="stt-preview-text">${ot}</span>`+ie}}e&&pn&&($+=`<span class="text-vscode-editor-foreground opacity-60 pointer-events-none">${Z4(pn)}</span>`),Bt.current.innerHTML=$,Bt.current.scrollTop=Ce.current.scrollTop,Bt.current.scrollLeft=Ce.current.scrollLeft},[w,pn,e,Ue,Ae]);h.useLayoutEffect(()=>{if(Q(),!ps.current||(ps.current=!1,!Ce.current))return;const $=requestAnimationFrame(()=>{Ce.current&&(Ce.current.scrollTop=Ce.current.scrollHeight,Q())});return()=>cancelAnimationFrame($)},[e,tt,Q]);const ce=h.useCallback(()=>{Ce.current&&Ot(Ce.current.selectionStart),Tn()},[Tn]),Ge=h.useCallback($=>{["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes($.key)&&ce()},[ce]),De=h.useCallback(async $=>{$.preventDefault(),V(!1);const ve=$.dataTransfer.getData("text"),Ne=$.dataTransfer.getData("application/vnd.code.uri-list"),Fe=ve||Ne;if(Fe){const Ke=Fe.split(/\r?\n/).filter(it=>it.trim()!=="");if(Ke.length>0){let it=e.slice(0,ct),ut=0;for(let ot=0;ot<Ke.length;ot++){const ie=Ke[ot],Se=G4(ie,S);it+=Se,ut+=Se.length,ot<Ke.length-1&&(it+=" ",ut+=1)}it+=" "+e.slice(ct),ut+=1,t(it);const Dt=ct+ut;Ot(Dt),ws(Dt)}return}const Xe=Array.from($.dataTransfer.files);if(Xe.length>0){const Ke=["png","jpeg","webp"],it=Xe.filter(ut=>{const[Dt,ot]=ut.type.split("/");return Dt==="image"&&Ke.includes(ot)});if(it.length>0){if(d){B("kilocode:imageWarnings.modelNoImageSupport");return}if(a.length>=Eo){B("kilocode:imageWarnings.maxImagesReached");return}const ut=it.map(ie=>new Promise(Se=>{const Be=new FileReader;Be.onloadend=()=>{if(Be.error)console.error(b("chat:errorReadingFile"),Be.error),Se(null);else{const Ft=Be.result;Se(typeof Ft=="string"?Ft:null)}},Be.readAsDataURL(ie)})),ot=(await Promise.all(ut)).filter(ie=>ie!==null);ot.length>0?(i(ie=>[...ie,...ot].slice(0,Eo)),typeof R<"u"&&R.postMessage({type:"draggedImages",dataUrls:ot})):console.warn(b("chat:noValidImages"))}}},[ct,S,e,t,Ot,ws,d,i,b,a.length,B]),[es,ds]=h.useState(!1);Us("message",$=>{const ve=$.data;ve.type==="ttsStart"?ds(!0):ve.type==="ttsStop"&&ds(!1)});const rs=`
(${b("chat:addContext")}${d?`, ${b("chat:dragFiles")}`:`, ${b("chat:dragFilesImages")}`})`;h.useCallback($=>{m($),R.postMessage({type:"mode",text:$})},[m]),h.useMemo(()=>{const $=(te||[]).filter(Fe=>P&&P[Fe.id]).map(Fe=>({value:Fe.id,label:Fe.name,name:Fe.name,type:Jt.ITEM,pinned:!0})).sort((Fe,Xe)=>Fe.label.localeCompare(Xe.label)),ve=(te||[]).filter(Fe=>!P||!P[Fe.id]).map(Fe=>({value:Fe.id,label:Fe.name,name:Fe.name,type:Jt.ITEM,pinned:!1})).sort((Fe,Xe)=>Fe.label.localeCompare(Xe.label)),Ne=$.length>0&&ve.length>0;return[...$,...Ne?[{value:"sep-pinned",label:b("chat:separator"),type:Jt.SEPARATOR}]:[],...ve,{value:"sep-2",label:b("chat:separator"),type:Jt.SEPARATOR},{value:"settingsButtonClicked",label:b("chat:edit"),type:Jt.ACTION}]},[te,P,b]),h.useCallback($=>{$==="settingsButtonClicked"?R.postMessage({type:"loadApiConfiguration",text:$,values:{section:"providers"}}):R.postMessage({type:"loadApiConfigurationById",text:$})},[]),h.useCallback(({type:$,value:ve,label:Ne,pinned:Fe})=>{if($!==Jt.ITEM)return Ne;const Xe=te==null?void 0:te.find(it=>it.id===ve),Ke=(Xe==null?void 0:Xe.name)===_;return s.jsxs("div",{className:"flex justify-between gap-2 w-full h-5",children:[s.jsx("div",{className:Z("truncate min-w-0 overflow-hidden",{"font-medium":Ke}),children:Ne}),s.jsxs("div",{className:"flex justify-end w-10 flex-shrink-0",children:[s.jsx("div",{className:Z("size-5 p-1",{"block group-hover:hidden":!Fe,hidden:!Ke}),children:s.jsx(yr,{className:"size-3"})}),s.jsx(ue,{content:b(Fe?"chat:unpin":"chat:pin"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:it=>{it.stopPropagation(),I(ve),R.postMessage({type:"toggleApiConfigPin",text:ve})},className:Z("size-5",{"hidden group-hover:flex":!Fe,"bg-accent":Fe}),children:s.jsx(c_,{className:"size-3 p-0.5 opacity-50"})})})]})]})},[te,_,b,I]);const tr=()=>s.jsxs("div",{className:Z("relative","flex-1","flex","flex-col-reverse","min-h-0","overflow-hidden","rounded"),children:[s.jsx("div",{ref:Bt,className:Z("absolute","inset-0","pointer-events-none","whitespace-pre-wrap","break-words","text-transparent","overflow-hidden","font-vscode-font-family","text-vscode-editor-font-size","leading-vscode-editor-line-height",mt?"border-2 border-dashed border-vscode-focusBorder":"border border-transparent",f?"pt-1.5 pb-10 px-2":"py-1.5 px-2","px-[8px]","pr-9","z-10","forced-color-adjust-none","pb-16"),style:{color:"transparent"}}),s.jsx(MP,{ref:$=>{typeof N=="function"?N($):N&&(N.current=$),Ce.current=$},value:Zt,onChange:$=>{Ue||(Is($),Q())},onFocus:()=>Fr(!0),onKeyDown:$=>{var ve;if(f&&$.key==="Escape"&&!((ve=$.nativeEvent)!=null&&ve.isComposing)){$.preventDefault(),x==null||x();return}Br($)},onKeyUp:Ge,onBlur:di,onPaste:ko,onSelect:ce,onMouseUp:ce,onHeightChange:$=>{(jt===void 0||$<jt)&&Me($),u==null||u($)},placeholder:`${o}
${rs}`,minRows:3,maxRows:15,autoFocus:!0,style:{border:Ue?"1px solid var(--vscode-editorError-foreground)":"1px solid transparent"},className:Z("w-full","text-vscode-input-foreground","font-vscode-font-family","text-vscode-editor-font-size","leading-vscode-editor-line-height","cursor-text",f?"pt-1.5 pb-10 px-2":"py-1.5 px-2",Ue&&"focus:outline-0",mt?"bg-[color-mix(in_srgb,var(--vscode-input-background)_95%,var(--vscode-focusBorder))]":"bg-vscode-input-background","transition-background-color duration-150 ease-in-out","will-change-background-color","min-h-[90px]","box-border","rounded","resize-none","overflow-x-hidden","overflow-y-auto","pr-9","flex-none flex-grow","z-[2]","scrollbar-none","scrollbar-hide","pb-16"),onScroll:()=>Q()}),s.jsx("div",{className:"absolute bottom-[1px] left-2 right-2 h-16 bg-gradient-to-t from-[var(--vscode-input-background)] via-[var(--vscode-input-background)] to-transparent pointer-events-none z-[2]","aria-hidden":"true"}),s.jsx(qO,{textAreaRef:Ce,cursorPosition:kt,isVisible:Ue}),es&&s.jsx(ue,{content:b("chat:stopTts"),children:s.jsx(oe,{variant:"ghost",size:"icon",className:"absolute top-0 right-0 opacity-25 hover:opacity-100 z-10",onClick:()=>R.postMessage({type:"stopTts"}),children:s.jsx(ZA,{className:"size-4"})})}),s.jsx("div",{className:"absolute top-2 right-2 z-30",children:s.jsx(ue,{content:b("chat:enhancePrompt"),children:s.jsx("button",{"aria-label":b("chat:enhancePrompt"),disabled:!1,onClick:hn,className:Z("relative inline-flex items-center justify-center","bg-transparent border-none p-1.5","rounded-md min-w-[28px] min-h-[28px]","opacity-60 hover:opacity-100 text-vscode-descriptionForeground hover:text-vscode-foreground","transition-all duration-150","hover:bg-[rgba(255,255,255,0.03)] hover:border-[rgba(255,255,255,0.15)]","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder","active:bg-[rgba(255,255,255,0.1)]","cursor-pointer"),children:s.jsx(tR,{className:Z("w-4 h-4",Or&&"animate-spin")})})})}),s.jsxs("div",{className:"absolute bottom-2 end-2 z-30 flex items-center gap-1",children:[Ue&&s.jsx(zO,{volume:us,isActive:Ue}),!f&&s.jsx(PO,{className:Z({hidden:xe<235})}),s.jsx(ue,{content:"Add Context (@)",children:s.jsx("button",{"aria-label":"Add Context (@)",disabled:et,onClick:()=>{et||!Ce.current||(Ce.current.focus(),t(`${e} @`),bt(!0),ss(""),_t(4))},className:Z("relative inline-flex items-center justify-center","bg-transparent border-none p-1.5","rounded-md min-w-[28px] min-h-[28px]","opacity-60 hover:opacity-100 text-vscode-descriptionForeground hover:text-vscode-foreground","transition-all duration-150","hover:bg-[rgba(255,255,255,0.03)] hover:border-[rgba(255,255,255,0.15)]","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder","active:bg-[rgba(255,255,255,0.1)]",!et&&"cursor-pointer",et&&"opacity-40 cursor-not-allowed grayscale-[30%] hover:bg-transparent hover:border-[rgba(255,255,255,0.08)] active:bg-transparent"),children:s.jsx(TA,{className:Z("w-4","h-4",{hidden:xe<235})})})}),f&&s.jsx(ue,{content:b("chat:cancel.title"),children:s.jsx("button",{"aria-label":b("chat:cancel.title"),disabled:!1,onClick:x,className:Z("relative inline-flex items-center justify-center","bg-transparent border-none p-1.5","rounded-md min-w-[28px] min-h-[28px]","opacity-60 hover:opacity-100 text-vscode-descriptionForeground hover:text-vscode-foreground","transition-all duration-150","hover:bg-[rgba(255,255,255,0.03)] hover:border-[rgba(255,255,255,0.15)]","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder","active:bg-[rgba(255,255,255,0.1)]","cursor-pointer"),children:s.jsx(bA,{className:"w-4 h-4"})})}),(Y==null?void 0:Y.speechToText)&&s.jsx(WO,{speechToTextStatus:U,open:ge,onOpenChange:Ee,setInputValue:t,onSend:l,error:q,children:s.jsx(IO,{isRecording:Ue,onClick:rt,disabled:!(U!=null&&U.available),hasError:!!q,onStatusChange:W})}),e.trim()!==""&&s.jsx(ue,{content:b("chat:sendMessage"),children:s.jsx("button",{"aria-label":b("chat:sendMessage"),disabled:r,onClick:r?void 0:l,className:Z("relative inline-flex items-center justify-center","bg-transparent border-none p-1.5","rounded-md min-w-[28px] min-h-[28px]","opacity-60 hover:opacity-100 text-vscode-descriptionForeground hover:text-vscode-foreground","transition-all duration-150","hover:bg-[rgba(255,255,255,0.03)] hover:border-[rgba(255,255,255,0.15)]","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder","active:bg-[rgba(255,255,255,0.1)]",!r&&"cursor-pointer",r&&"opacity-40 cursor-not-allowed grayscale-[30%] hover:bg-transparent hover:border-[rgba(255,255,255,0.08)] active:bg-transparent"),children:s.jsx(CP,{className:"w-4 h-4 rtl:-scale-x-100"})})})]}),!e&&s.jsx("div",{className:"absolute left-2 z-30 pr-9 flex items-center h-8",style:{bottom:"0.25rem",color:"var(--vscode-tab-inactiveForeground)",userSelect:"none",pointerEvents:"none"}})]});return s.jsxs("div",{className:Z("relative","flex","flex-col","gap-1","bg-editor-background",f?"px-0":"px-1.5","pb-1","outline-none","border","border-none",f?"w-full":"w-[calc(100%-16px)]","ml-auto","mr-auto","box-border"),children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:Z("chat-text-area","relative","flex","flex-col","outline-none"),onDrop:De,onDragOver:$=>{if(!$.shiftKey){V(!1);return}$.preventDefault(),V(!0),$.dataTransfer.dropEffect="copy"},onDragLeave:$=>{$.preventDefault();const ve=$.currentTarget.getBoundingClientRect();($.clientX<=ve.left||$.clientX>=ve.right||$.clientY<=ve.top||$.clientY>=ve.bottom)&&V(!1)},children:[s.jsx(fO,{messageKey:$s??"",onDismiss:he,isVisible:!!$s}),je&&s.jsx("div",{ref:$e,children:s.jsx(YO,{onSelect:Vs,selectedIndex:lt,setSelectedIndex:Ze,onMouseDown:Un,query:Rt,customModes:w})}),et&&s.jsx("div",{ref:ms,className:Z("absolute","bottom-full","left-0","right-0","z-[1000]","mb-2","filter","drop-shadow-md"),children:s.jsx(hO,{onSelect:Os,searchQuery:Mt,inputValue:e,onMouseDown:Un,selectedIndex:Ht,setSelectedIndex:_t,selectedType:dt,queryItems:zt,modes:Ct,loading:L,dynamicSearchResults:pe})}),tr(),s.jsx("div",{style:{marginTop:"-38px",zIndex:10,paddingLeft:"8px",paddingRight:"8px",paddingBottom:f?"10px":"0"},ref:Te,className:Z("flex","justify-between","items-center","mt-auto"),children:s.jsxs("div",{className:Z("flex","items-center","gap-1","min-w-0"),children:[s.jsx("div",{className:"shrink-0",children:s.jsx(rO,{value:p,onChange:m,modeShortcutText:g,customModes:w})}),s.jsx(nO,{currentConfigId:K,currentApiConfigName:_,displayName:X,listApiConfigMeta:te,pinnedApiConfigs:P,togglePinnedApiConfig:I,selectApiConfigDisabled:n})]})})]})}),a.length>0&&s.jsx(vd,{images:a,setImages:i,style:{left:"16px",zIndex:2,marginTop:"14px",marginBottom:0}})]})}),JO=({commitRange:e})=>{const{t}=vt(),[r,n]=h.useState(!1),o=h.useCallback(()=>{R.postMessage({type:"seeNewChanges",payload:{commitRange:e}})},[e]),a=h.useCallback(()=>n(!0),[]),i=h.useCallback(()=>{R.postMessage({type:"checkpointRestore",payload:{mode:"restore",ts:e.fromTimeStamp??0,commitHash:e.from}})},[e]),l=h.useCallback(()=>n(!1),[]);return s.jsx("div",{className:"flex flex-horizontal gap-2 w-full",children:r?s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"w-full mt-2 bg-red-500 text-white",disabled:!e.fromTimeStamp,onClick:i,children:t("kilocode:chat.confirmRevertChanges")}),s.jsx(xt,{className:"w-full mt-2",appearance:"secondary",onClick:l,children:t("kilocode:chat.cancelRevertChanges")})]}):s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"w-full mt-2",appearance:"secondary",onClick:o,children:t("kilocode:chat.seeNewChanges")}),s.jsx(xt,{className:"w-full mt-2",appearance:"secondary",disabled:!e.fromTimeStamp,onClick:a,children:t("kilocode:chat.revertNewChanges")})]})})},ZO=Js.button`
	border: 1px solid red;
	cursor: pointer;
	padding: 0;
	border: 0;
	padding: 4px 4px 0;
	border-radius: 4px;

	&:hover {
		background: var(--vscode-button-secondaryBackground);
	}
`,eD=({onClick:e})=>s.jsx(ZO,{onClick:e,children:s.jsx("span",{className:"codicon codicon-refresh"})}),yt=({href:e,children:t,appearance:r,...n})=>{const o=r==="primary"?"primary":r==="secondary"?"secondary":void 0;return s.jsx("a",{href:e,style:{textDecoration:"none",color:"inherit"},children:s.jsx(oe,{variant:o,...n,children:t})})},tD=Js.div`
	display: flex;
	align-items: center;
	gap: 10px;
	margin-bottom: 10px;
`,sD=Js.div`
	margin: 0;
	white-space: pre-wrap;
	word-break: break-word;
	overflow-wrap: anywhere;
`,rD=({message:e,isOrganization:t})=>{const{t:r}=vt();let n={title:"Error",message:"Payment required.",balance:"-?.??",buyCreditsUrl:""};try{n=JSON.parse(e.text??"{}")}catch(o){console.error("Failed to parse payment_required_prompt data:",o)}return s.jsxs(s.Fragment,{children:[s.jsxs(tD,{children:[s.jsx("span",{className:"text-blue-400",style:{marginBottom:"-1.5px"},children:"$"}),s.jsx("span",{style:{fontWeight:"bold"},children:n.title})]}),s.jsx(sD,{children:n.message}),s.jsxs("div",{className:"bg-vscode-panel-border flex flex-col gap-3",style:{borderRadius:"4px",display:"flex",marginTop:"15px",padding:"14px 16px 22px",justifyContent:"center"},children:[s.jsxs("div",{className:"flex justify-between items-center",children:[r("kilocode:lowCreditWarning.lowBalance"),s.jsx(eD,{onClick:()=>{R.postMessage({type:"askResponse",askResponse:"retry_clicked",text:e.text})}})]}),s.jsx(xt,{className:"p-1 w-full rounded",onClick:o=>{o.preventDefault(),R.postMessage({type:"openInBrowser",url:n.buyCreditsUrl})},children:r("kilocode:lowCreditWarning.addCredit")}),!t&&s.jsx(yt,{onClick:()=>{os.capture(Cs.CREATE_ORGANIZATION_LINK_CLICKED,{origin:"low-credit-warning"})},href:Er("/organizations/new"),appearance:"primary",className:"p-1 w-full rounded",children:r("kilocode:lowCreditWarning.newOrganization")})]})]})},nD=({context:e})=>{const{t}=vt();return s.jsxs("div",{className:"bg-[var(--vscode-badge-background)] text-[var(--vscode-badge-foreground)] rounded-[3px] p-[14px] pb-[6px]",children:[s.jsx("span",{style:{fontWeight:"bold"},children:t("kilocode:newTaskPreview.task")}),s.jsx(br,{markdown:e})]})},ns={USER_INTERACTION:"bg-[color-mix(in_srgb,var(--vscode-editor-findMatchBackground)_50%,var(--vscode-errorForeground))]",SYSTEM_READ:"bg-[var(--vscode-textLink-foreground)]",SYSTEM_WRITE:"bg-[var(--vscode-focusBorder)]",SYSTEM_GENERAL_TOOL:"bg-[var(--vscode-activityBarBadge-background)]",SUCCESS:"bg-[var(--vscode-editorGutter-addedBackground)]",ERROR:"bg-[var(--vscode-errorForeground)]",ASSISTANT_MUTTERING:"bg-[var(--vscode-descriptionForeground)]",ASSISTANT_QUESTION:"bg-[color-mix(in_srgb,var(--vscode-editor-findMatchBackground)_60%,var(--vscode-foreground))]",GROUPED:"bg-[var(--vscode-textLink-activeForeground)]",DEFAULT:"bg-[var(--vscode-badge-background)]"},lx={"ask:tool":{color:ns.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.tool"},"ask:completion_result":{color:ns.SUCCESS,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.completion_result"},"ask:browser_action_launch":{color:ns.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.browser_action_launch"},"ask:use_mcp_server":{color:ns.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.use_mcp_server"},"ask:command":{color:ns.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.command"},"ask:followup":{color:ns.ASSISTANT_QUESTION,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.followup"},"say:text":{color:ns.ASSISTANT_MUTTERING,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.text"},"say:reasoning":{color:ns.ASSISTANT_MUTTERING,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.reasoning"},"say:mcp_server_response":{color:ns.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.mcp_server_response"},"say:command_output":{color:ns.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.command_output"},"say:browser_action":{color:ns.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.browser_action"},"say:browser_action_result":{color:ns.SYSTEM_GENERAL_TOOL,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.browser_action_result"},"say:completion_result":{color:ns.SUCCESS,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.completion_result"},"say:error":{color:ns.ERROR,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.error"},"say:checkpoint_saved":{color:ns.SUCCESS,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.checkpoint_saved"},"say:condense_context":{color:ns.ASSISTANT_MUTTERING,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.condense_context"},"say:user_feedback":{color:ns.USER_INTERACTION,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.user"},"say:user_feedback_diff":{color:ns.USER_INTERACTION,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.user"},"ask:condense":{color:ns.ASSISTANT_MUTTERING,translationKey:"kilocode:taskTimeline.tooltip.messageTypes.condense"}};function cx(e){return e.type==="ask"?`ask:${e.ask||"unknown"}`:e.type==="say"?`say:${e.say||"unknown"}`:"unknown"}function oD(e,t){const r=Array.isArray(e)?e[0]:e;if(!r)return t("kilocode:taskTimeline.tooltip.messageTypes.unknown");const n=cx(r),o=lx[n],a=o?o.translationKey:"kilocode:taskTimeline.tooltip.messageTypes.unknown";return t(a)}function aD(e){var t;if(e.ask==="tool"&&e.text)try{const n=((t=JSON.parse(e.text).tool)==null?void 0:t.toLowerCase())||"";if(n.includes("read_file")||n.includes("write_to_file")||n.includes("apply_diff"))return{isFile:!0,isWrite:n.includes("write")||n.includes("apply")||n.includes("insert")}}catch{console.error("Failed to parse message text JSON - cannot determine if message contained toolData",e)}return{isFile:!1,isWrite:!1}}function UN(e){if(Array.isArray(e))return ns.GROUPED;const t=e,r=cx(t);if(t.type==="ask"){const o=aD(t);if(o.isFile)return o.isWrite?ns.SYSTEM_WRITE:ns.SYSTEM_READ}const n=lx[r];return n?n.color:ns.DEFAULT}function iD(e){return cx(e)in lx}function lD({message:e}){const{hoveringTaskTimeline:t}=Ye();return s.jsx("div",{className:Z("absolute w-[4px] left-[4px] top-0 bottom-0  opacity-0 transition-opacity",UN(e),t&&"opacity-70")})}const vb=({fastApplyResult:e})=>{const[t,r]=h.useState(!1);return s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer select-none p-2 bg-vscode-badge-background border border-vscode-editorGroup-border rounded-xs",onClick:()=>r(!t),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-rocket text-vscode-badge-foreground"}),s.jsx("span",{className:"font-medium text-vscode-badge-foreground",children:"Fast Apply"}),s.jsxs("div",{className:"flex items-center gap-1",children:[e.tokensIn&&s.jsxs("span",{className:"flex items-center gap-0.5 text-sm text-vscode-badge-foreground",children:[s.jsx("span",{className:"codicon codicon-arrow-up"}),Tr(e.tokensIn)]}),e.tokensOut&&s.jsxs("span",{className:"flex items-center gap-0.5 text-sm text-vscode-badge-foreground",children:[s.jsx("span",{className:"codicon codicon-arrow-down"}),Tr(e.tokensOut)]})]}),e.cost&&e.cost>0&&s.jsxs(yc,{children:["$",e.cost.toFixed(4)]})]}),s.jsx("span",{className:`codicon codicon-chevron-${t?"up":"down"} text-vscode-badge-foreground`})]}),t&&s.jsx("div",{className:"mt-1 p-3 bg-vscode-editor-background border-l border-r border-b border-vscode-editorGroup-border rounded-b-xs",children:s.jsx(br,{markdown:e.description||""})})]})},cD=({className:e,origin:t,modelId:r})=>{const{t:n}=re();return s.jsx(yt,{href:"https://kilo.love/continueforfree",appearance:"primary",className:e,onClick:()=>{os.capture(Cs.FREE_MODELS_LINK_CLICKED,{modelId:r,origin:t})},children:n("kilocode:pricing.freeModelsLink")})},bd=({provider:e})=>{switch(e){case"openrouter":return"openRouterModelId";case"requesty":return"requestyModelId";case"glama":return"glamaModelId";case"unbound":return"unboundModelId";case"litellm":return"litellmModelId";case"openai":return"openAiModelId";case"ollama":return"ollamaModelId";case"lmstudio":return"lmStudioModelId";case"vscode-lm":return"vsCodeLmModelSelector";case"kilocode":return"kilocodeModel";case"ovhcloud":return"ovhCloudAiEndpointsModelId";case"nano-gpt":return"nanoGptModelId";default:return"apiModelId"}},WN=({provider:e,apiConfiguration:t,defaultModelId:r})=>{const n=bd({provider:e});switch(e){case"vscode-lm":return t!=null&&t.vsCodeLmModelSelector?`${t.vsCodeLmModelSelector.vendor}/${t.vsCodeLmModelSelector.family}`:r;default:return(t==null?void 0:t[n])??r}},dD={models:Yc,defaultModel:Qc},uD=({provider:e,routerModels:t,kilocodeDefaultModel:r,options:n={isChina:!1}})=>{switch(e){case"openrouter":return{models:t.openrouter,defaultModel:tl};case"requesty":return{models:t.requesty,defaultModel:nd};case"glama":return{models:t.glama,defaultModel:td};case"unbound":return{models:t.unbound,defaultModel:od};case"litellm":return{models:t.litellm,defaultModel:Fi};case"xai":return{models:Sg,defaultModel:Ng};case"groq":return{models:mg,defaultModel:pg};case"chutes":return{models:t.chutes,defaultModel:Xc};case"cerebras":return{models:ng,defaultModel:rg};case"bedrock":return{models:Vf,defaultModel:Kf};case"vertex":return{models:_g,defaultModel:jg};case"gemini":return{models:t.gemini&&Object.keys(t.gemini).length>0?t.gemini:r1,defaultModel:$a};case"deepseek":return{models:ag,defaultModel:og};case"openai-native":return{models:vg,defaultModel:a1};case"mistral":return{models:hg,defaultModel:rd};case"openai":return{models:{},defaultModel:""};case"ollama":return{models:t.ollama,defaultModel:""};case"lmstudio":return{models:t.lmstudio,defaultModel:""};case"vscode-lm":return{models:i1,defaultModel:Hh};case"kilocode":return{models:t.kilocode,defaultModel:r};case"claude-code":return{models:Ka,defaultModel:rl};case"qwen-code":return{models:yg,defaultModel:bg};case"gemini-cli":return{models:ug,defaultModel:$a};case"anthropic":return{models:Yc,defaultModel:Qc};case"doubao":return{models:Hf,defaultModel:Wf};case"fireworks":return{models:dg,defaultModel:cg};case"synthetic":return{models:t.synthetic,defaultModel:Zc};case"ovhcloud":return{models:t.ovhcloud,defaultModel:Jc};case"inception":return{models:t.inception,defaultModel:ed};case"sap-ai-core":return{models:t["sap-ai-core"],defaultModel:""};case"io-intelligence":return{models:t["io-intelligence"],defaultModel:sd};case"moonshot":return{models:gg,defaultModel:fg};case"sambanova":return{models:kg,defaultModel:wg};case"featherless":return{models:ig,defaultModel:lg};case"deepinfra":return{models:t.deepinfra,defaultModel:ad};case"nano-gpt":return{models:t["nano-gpt"],defaultModel:xg};case"minimax":return{models:$f,defaultModel:Uf};case"baseten":return{models:tg,defaultModel:sg};case"zai":return n.isChina?{models:l1,defaultModel:Eg}:{models:Ig,defaultModel:Pg};default:return{models:{},defaultModel:""}}},pD=(e,t)=>{switch(e){case"zai":return{isChina:(t==null?void 0:t.zaiApiLine)==="china_coding"};default:return{}}},dx=e=>{const t=(e==null?void 0:e.apiProvider)||"anthropic",{kilocodeDefaultModel:r}=Ye(),n=nl({openRouterBaseUrl:e==null?void 0:e.openRouterBaseUrl,openRouterApiKey:e==null?void 0:e.apiKey,kilocodeOrganizationId:(e==null?void 0:e.kilocodeOrganizationId)??"personal",chutesApiKey:e==null?void 0:e.chutesApiKey,geminiApiKey:e==null?void 0:e.geminiApiKey,googleGeminiBaseUrl:e==null?void 0:e.googleGeminiBaseUrl,nanoGptApiKey:e==null?void 0:e.nanoGptApiKey,nanoGptModelList:e==null?void 0:e.nanoGptModelList,syntheticApiKey:e==null?void 0:e.syntheticApiKey}),o=pD(t,e),{models:a,defaultModel:i}=e&&typeof n.data<"u"?uD({provider:t,routerModels:n.data,kilocodeDefaultModel:r,options:o}):dD;return{provider:t,providerModels:a,providerDefaultModel:i,isLoading:n.isLoading,isError:n.isError}},mD="KiloCode token + baseUrl is required to fetch models";function KN(e){var t,r;return!!(e&&e.status===404&&(((t=e.message)==null?void 0:t.indexOf("alpha period"))??-1)>=0&&(((r=e.message)==null?void 0:r.indexOf("has ended"))??-1)>=0)}function hD(e){var t;return!!(e&&e.status===404&&(((t=e.message)==null?void 0:t.indexOf("not allowed for your team"))??-1)>=0)}function fD(e){const t=(e==null?void 0:e.modelId)||"(unknown)";return KN(e==null?void 0:e.error)?Re.t("kilocode:invalidModel.alphaPeriodEnded",{model:t}):hD(e==null?void 0:e.error)?Re.t("kilocode:invalidModel.notAllowedForTeam",{model:t}):Re.t("kilocode:invalidModel.modelUnavailable",{model:t})}const gD=({message:e,isLast:t})=>{var N;const{t:r}=vt(),{currentApiConfigName:n,apiConfiguration:o}=Ye(),{provider:a,providerModels:i,providerDefaultModel:l,isLoading:c}=dx(o),[d,u]=h.useState(!1),p=o?WN({provider:a,apiConfiguration:o,defaultModelId:l}):l,m=bd({provider:a}),g=xr(e.text),f=KN(g==null?void 0:g.error),y=!!!(p===l||g!=null&&g.modelId&&g.modelId!==p)&&!!o&&!!n&&l in i;return s.jsxs("div",{className:"bg-vscode-panel-border flex flex-col gap-3 p-3 text-base",children:[s.jsx("div",{children:fD(g)}),t&&!c&&!d&&s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"w-full",onClick:()=>{u(!0),y&&R.postMessage({type:"upsertApiConfiguration",text:n,apiConfiguration:{...o,[m]:l}}),R.postMessage({type:"askResponse",askResponse:"retry_clicked",text:e.text})},children:y?r("kilocode:invalidModel.continueWith",{model:((N=i[l])==null?void 0:N.displayName)??l}):r("kilocode:invalidModel.continue")}),f&&s.jsx(cD,{className:"w-full",origin:"invalid_model"})]})]})};function xD(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${(e/Math.pow(t,n)).toFixed(1)} ${r[n]}`}const Rl=({ts:e})=>s.jsx("span",{className:"inline-flex items-end text-vscode-descriptionForeground font-normal",children:new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})});function vD(e,t){const r=e.slice().reverse().findIndex(n=>{if(n.ts>=t)return!1;if(n.type==="ask"&&n.ask==="tool")try{return JSON.parse(n.text||"{}").tool==="updateTodoList"}catch{return!1}return!1});if(r!==-1){const n=e.slice().reverse()[r];try{return JSON.parse(n.text||"{}").todos||[]}catch{return[]}}return[]}const bD=h.memo(e=>{const{highlighted:t}=e,{showTaskTimeline:r}=Ye(),{isLast:n,onHeightChange:o,message:a}=e,i=h.useRef(0),[l,{height:c}]=sI(s.jsxs("div",{className:Z(`px-[15px] py-[10px] pr-[6px] relative ${t?"animate-message-highlight":""}`),children:[r&&s.jsx(lD,{message:a}),s.jsx(yD,{...e})]}));return h.useEffect(()=>{const d=i.current===0;n&&c!==0&&c!==1/0&&c!==i.current&&(d||o(c>i.current),i.current=c)},[c,n,o,a]),l},Rj),yD=({message:e,lastModifiedMessage:t,isExpanded:r,isLast:n,isStreaming:o,onToggleExpand:a,onSuggestionClick:i,onFollowUpUnmount:l,onBatchFileResponse:c,enableCheckpoints:d,isFollowUpAnswered:u,isFollowUpAutoApprovalPaused:p})=>{var V,je,_e,lt,Ze,Rt,Rs;const{t:m,i18n:g}=vt(),{mcpServers:f,alwaysAllowMcp:x,currentCheckpoint:y,mode:N,apiConfiguration:b,clineMessages:j,showTimestamps:v}=Ye(),{info:_}=Bn(b),[k,w]=h.useState(!1),[T,S]=h.useState(""),[P,I]=h.useState(N||"code"),[M,A]=h.useState([]);h.useEffect(()=>{const $e=jt=>{const Me=jt.data;Me.type==="selectedImages"&&Me.context==="edit"&&Me.messageTs===e.ts&&k&&A(et=>f1(et,Me.images,Eo))};return window.addEventListener("message",$e),()=>window.removeEventListener("message",$e)},[k,e.ts]);const C=h.useCallback(()=>{a(e.ts)},[a,e.ts]),H=h.useCallback(()=>{w(!0),S(e.text||""),A(e.images||[]),I(N||"code")},[e.text,e.images,N]),z=h.useCallback(()=>{w(!1),S(e.text||""),A(e.images||[]),I(N||"code")},[e.text,e.images,N]),D=h.useCallback(()=>{w(!1),R.postMessage({type:"submitEditedMessage",value:e.ts,editedMessageContent:T,images:M})},[e.ts,T,M]),Y=h.useCallback(()=>{R.postMessage({type:"selectImages",context:"edit",messageTs:e.ts})},[e.ts]),[U,q,F,W,te]=h.useMemo(()=>{if(e.text!==null&&e.text!==void 0&&e.say==="api_req_started"){const $e=xr(e.text);return[$e==null?void 0:$e.cost,$e==null?void 0:$e.usageMissing,$e==null?void 0:$e.inferenceProvider,$e==null?void 0:$e.cancelReason,$e==null?void 0:$e.streamingFailedMessage]}return[void 0,void 0,void 0]},[e.text,e.say]),{hideCostBelowThreshold:K}=Ye(),X=h.useMemo(()=>U==null||U<=0?!1:r?!0:U>=(K??0),[U,r,K]),G=n&&(t==null?void 0:t.ask)==="api_req_failed"?t==null?void 0:t.text:void 0,J=n&&(t==null?void 0:t.ask)==="command"&&((V=t==null?void 0:t.text)==null?void 0:V.includes(Eh)),ae=n&&(t==null?void 0:t.say)==="mcp_server_request_started",O=e.type==="ask"?e.ask:e.say,pe="var(--vscode-foreground)",be="var(--vscode-errorForeground)",xe="var(--vscode-charts-green)",Pe="var(--vscode-descriptionForeground)",[Te,L]=h.useMemo(()=>{switch(O){case"error":case"mistake_limit_reached":return[null,null];case"command":return[J?s.jsx(wi,{}):s.jsx(Ff,{className:"size-4","aria-label":"Terminal icon"}),s.jsx("span",{style:{color:pe,fontWeight:"bold"},children:m("chat:commandExecution.running")})];case"use_mcp_server":const $e=xr(e.text);return $e===void 0?[null,null]:[ae?s.jsx(wi,{}):s.jsx("span",{className:"codicon codicon-server",style:{color:pe,marginBottom:"-1.5px"}}),s.jsx("span",{style:{color:pe,fontWeight:"bold"},children:$e.type==="use_mcp_tool"?m("chat:mcp.wantsToUseTool",{serverName:$e.serverName}):m("chat:mcp.wantsToAccessResource",{serverName:$e.serverName})})];case"completion_result":return[s.jsx("span",{className:"codicon codicon-check",style:{color:xe,marginBottom:"-1.5px"}}),s.jsx("span",{style:{color:xe,fontWeight:"bold"},children:m("chat:taskCompleted")})];case"api_req_rate_limit_wait":return[];case"api_req_retry_delayed":return[];case"api_req_started":const jt=(Me,et)=>s.jsx("div",{style:{width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{className:`codicon codicon-${Me}`,style:{color:et,fontSize:16,marginBottom:"-1.5px"}})});return[W!=null?W==="user_cancelled"?jt("error",Pe):jt("error",be):U!=null?jt("arrow-swap",pe):G?jt("error",be):n?s.jsx(wi,{}):jt("arrow-swap",pe),W!=null?W==="user_cancelled"?s.jsx("span",{style:{color:pe,fontWeight:"bold"},children:m("chat:apiRequest.cancelled")}):s.jsx("span",{style:{color:be,fontWeight:"bold"},children:m("chat:apiRequest.streamingFailed")}):U!=null?s.jsx(ue,{content:F&&`Inference Provider: ${F}`,children:s.jsx("span",{style:{color:pe},children:m("chat:apiRequest.title")})}):G?s.jsx("span",{style:{color:be},children:m("chat:apiRequest.failed")}):s.jsx("span",{style:{color:pe},children:m("chat:apiRequest.streaming")})];case"followup":return[s.jsx(AP,{className:"w-4 shrink-0","aria-label":"Question icon"}),s.jsx("span",{style:{color:pe,fontWeight:"bold"},children:m("chat:questions.hasQuestion")})];default:return[null,null]}},[O,J,e,ae,W,U,G,m,F,n]),fe={display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px",wordBreak:"break-word"},ne=h.useMemo(()=>e.ask==="tool"?xr(e.text):null,[e.ask,e.text]),Ve=h.useMemo(()=>{if(ne)return ne.content??ne.diff},[ne]),mt=h.useMemo(()=>e.type==="ask"&&e.ask==="followup"&&!e.partial?xr(e.text):null,[e.type,e.ask,e.partial,e.text]);if(ne){const $e=jt=>s.jsx("span",{className:`codicon codicon-${jt}`,style:{color:"var(--vscode-foreground)",marginBottom:"-1.5px"}});switch(ne.tool){case"editedExistingFile":case"appliedDiff":return e.type==="ask"&&ne.batchDiffs&&Array.isArray(ne.batchDiffs)?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[s.jsx(YC,{className:"w-4 shrink-0","aria-label":"Batch diff icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:fileOperations.wantsToApplyBatchChanges")})]}),s.jsx(wN,{files:ne.batchDiffs,ts:e.ts})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[ne.isProtected?s.jsx("span",{className:"codicon codicon-lock",style:{color:"var(--vscode-editorWarning-foreground)",marginBottom:"-1.5px"}}):$e(ne.tool==="appliedDiff"?"diff":"edit"),s.jsx("span",{style:{fontWeight:"bold"},children:ne.isProtected?m("chat:fileOperations.wantsToEditProtected"):ne.isOutsideWorkspace?m("chat:fileOperations.wantsToEditOutsideWorkspace"):m("chat:fileOperations.wantsToEdit")})]}),s.jsxs("div",{className:"pl-6",children:[s.jsx(bn,{path:ne.path,code:Ve??ne.content??ne.diff,language:"diff",progressStatus:e.progressStatus,isLoading:e.partial,isExpanded:r,onToggleExpand:C,diffStats:ne.diffStats}),ne.fastApplyResult&&s.jsx(vb,{fastApplyResult:ne.fastApplyResult})]})]});case"insertContent":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[ne.isProtected?s.jsx("span",{className:"codicon codicon-lock",style:{color:"var(--vscode-editorWarning-foreground)",marginBottom:"-1.5px"}}):$e("insert"),s.jsx("span",{style:{fontWeight:"bold"},children:ne.isProtected?m("chat:fileOperations.wantsToEditProtected"):ne.isOutsideWorkspace?m("chat:fileOperations.wantsToEditOutsideWorkspace"):ne.lineNumber===0?m("chat:fileOperations.wantsToInsertAtEnd"):m("chat:fileOperations.wantsToInsertWithLineNumber",{lineNumber:ne.lineNumber})})]}),s.jsx("div",{className:"pl-6",children:s.jsx(bn,{path:ne.path,code:Ve??ne.diff,language:"diff",progressStatus:e.progressStatus,isLoading:e.partial,isExpanded:r,onToggleExpand:C,diffStats:ne.diffStats})})]});case"searchAndReplace":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[ne.isProtected?s.jsx("span",{className:"codicon codicon-lock",style:{color:"var(--vscode-editorWarning-foreground)",marginBottom:"-1.5px"}}):$e("replace"),s.jsx("span",{style:{fontWeight:"bold"},children:ne.isProtected&&e.type==="ask"?m("chat:fileOperations.wantsToEditProtected"):e.type==="ask"?m("chat:fileOperations.wantsToSearchReplace"):m("chat:fileOperations.didSearchReplace")})]}),s.jsx("div",{className:"pl-6",children:s.jsx(bn,{path:ne.path,code:Ve??ne.diff,language:"diff",progressStatus:e.progressStatus,isLoading:e.partial,isExpanded:r,onToggleExpand:C,diffStats:ne.diffStats})})]});case"codebaseSearch":return s.jsxs("div",{style:fe,children:[$e("search"),s.jsx("span",{style:{fontWeight:"bold"},children:ne.path?s.jsx(we,{i18nKey:"chat:codebaseSearch.wantsToSearchWithPath",components:{code:s.jsx("code",{})},values:{query:ne.query,path:ne.path}}):s.jsx(we,{i18nKey:"chat:codebaseSearch.wantsToSearch",components:{code:s.jsx("code",{})},values:{query:ne.query}})})]});case"updateTodoList":{const Me=ne.todos||[],et=vD(j,e.ts);return s.jsx(I3,{previousTodos:et,newTodos:Me})}case"newFileCreated":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[ne.isProtected?s.jsx("span",{className:"codicon codicon-lock",style:{color:"var(--vscode-editorWarning-foreground)",marginBottom:"-1.5px"}}):$e("new-file"),s.jsx("span",{style:{fontWeight:"bold"},children:ne.isProtected?m("chat:fileOperations.wantsToEditProtected"):m("chat:fileOperations.wantsToCreate")})]}),s.jsxs("div",{className:"pl-6",children:[s.jsx(bn,{path:ne.path,code:Ve??"",language:"diff",isLoading:e.partial,isExpanded:r,onToggleExpand:C,onJumpToFile:()=>R.postMessage({type:"openFile",text:"./"+ne.path}),diffStats:ne.diffStats}),ne.fastApplyResult&&s.jsx(vb,{fastApplyResult:ne.fastApplyResult})]})]});case"deleteFile":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[s.jsx(Li,{className:"w-4 shrink-0","aria-label":"Delete icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:ne.stats?m("chat:fileOperations.wantsToDeleteDirectory"):m("chat:fileOperations.wantsToDelete")})]}),s.jsx("div",{className:"pl-6",children:s.jsxs(uo,{children:[s.jsxs(po,{className:"group",children:[((je=ne.path)==null?void 0:je.startsWith("."))&&s.jsx("span",{children:"."}),s.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis text-left mr-2 rtl",children:Zg(ne.path??"")+""})]}),ne.stats&&ne.stats.isComplete===!0&&s.jsx("div",{className:"py-1.5 text-xs text-vscode-descriptionForeground",style:{borderTop:"1px solid var(--vscode-editorGroup-border)"},children:s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:ne.stats.directories})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:ne.stats.files})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:xD(ne.stats.size)})]})]})})]})})]});case"readFile":return e.type==="ask"&&ne.batchFiles&&Array.isArray(ne.batchFiles)?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[s.jsx(KC,{className:"w-4 shrink-0","aria-label":"View files icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:fileOperations.wantsToReadMultiple")})]}),s.jsx(yN,{files:ne.batchFiles||[],onPermissionResponse:Me=>{c==null||c(Me)},ts:e==null?void 0:e.ts})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[s.jsx(HC,{className:"w-4 shrink-0","aria-label":"Read file icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?ne.isOutsideWorkspace?m("chat:fileOperations.wantsToReadOutsideWorkspace"):ne.additionalFileCount&&ne.additionalFileCount>0?m("chat:fileOperations.wantsToReadAndXMore",{count:ne.additionalFileCount}):m("chat:fileOperations.wantsToRead"):m("chat:fileOperations.didRead")})]}),s.jsx("div",{className:"pl-6",children:s.jsx(uo,{children:s.jsxs(po,{className:"group",onClick:()=>R.postMessage({type:"openFile",text:ne.content}),children:[((_e=ne.path)==null?void 0:_e.startsWith("."))&&s.jsx("span",{children:"."}),s.jsx(Ec,{content:Ga(ne.path,ne.reason),children:s.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis text-left mr-2 rtl",children:Ga(ne.path,ne.reason)})}),s.jsx("div",{style:{flexGrow:1}}),s.jsx(zA,{className:"w-4 shrink-0 codicon codicon-link-external opacity-0 group-hover:opacity-100 transition-opacity",style:{fontSize:13.5,margin:"1px 0"}})]})})})]});case"fetchInstructions":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[$e("file-code"),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:instructions.wantsToFetch")})]}),s.jsx("div",{className:"pl-6",children:s.jsx(bn,{code:ne.content,language:"markdown",isLoading:e.partial,isExpanded:r,onToggleExpand:C})})]});case"listFilesTopLevel":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[s.jsx(hA,{className:"w-4 shrink-0","aria-label":"List files icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?ne.isOutsideWorkspace?m("chat:directoryOperations.wantsToViewTopLevelOutsideWorkspace"):m("chat:directoryOperations.wantsToViewTopLevel"):ne.isOutsideWorkspace?m("chat:directoryOperations.didViewTopLevelOutsideWorkspace"):m("chat:directoryOperations.didViewTopLevel")})]}),s.jsx("div",{className:"pl-6",children:s.jsx(bn,{path:ne.path,code:ne.content,language:"shell-session",isExpanded:r,onToggleExpand:C})})]});case"listFilesRecursive":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[s.jsx(nA,{className:"w-4 shrink-0","aria-label":"Folder tree icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?ne.isOutsideWorkspace?m("chat:directoryOperations.wantsToViewRecursiveOutsideWorkspace"):m("chat:directoryOperations.wantsToViewRecursive"):ne.isOutsideWorkspace?m("chat:directoryOperations.didViewRecursiveOutsideWorkspace"):m("chat:directoryOperations.didViewRecursive")})]}),s.jsx("div",{className:"pl-6",children:s.jsx(bn,{path:ne.path,code:ne.content,language:"shellsession",isExpanded:r,onToggleExpand:C})})]});case"searchFiles":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[$e("search"),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?s.jsx(we,{i18nKey:ne.isOutsideWorkspace?"chat:directoryOperations.wantsToSearchOutsideWorkspace":"chat:directoryOperations.wantsToSearch",components:{code:s.jsx("code",{className:"font-medium",children:ne.regex})},values:{regex:ne.regex}}):s.jsx(we,{i18nKey:ne.isOutsideWorkspace?"chat:directoryOperations.didSearchOutsideWorkspace":"chat:directoryOperations.didSearch",components:{code:s.jsx("code",{className:"font-medium",children:ne.regex})},values:{regex:ne.regex}})})]}),s.jsx("div",{className:"pl-6",children:s.jsx(bn,{path:ne.path+(ne.filePattern?`/(${ne.filePattern})`:""),code:ne.content,language:"shellsession",isExpanded:r,onToggleExpand:C})})]});case"switchMode":return s.jsx(s.Fragment,{children:s.jsxs("div",{style:fe,children:[s.jsx(CA,{className:"w-4 shrink-0","aria-label":"Switch mode icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?s.jsx(s.Fragment,{children:ne.reason?s.jsx(we,{i18nKey:"chat:modes.wantsToSwitchWithReason",components:{code:s.jsx("code",{className:"font-medium",children:ne.mode})},values:{mode:ne.mode,reason:ne.reason}}):s.jsx(we,{i18nKey:"chat:modes.wantsToSwitch",components:{code:s.jsx("code",{className:"font-medium",children:ne.mode})},values:{mode:ne.mode}})}):s.jsx(s.Fragment,{children:ne.reason?s.jsx(we,{i18nKey:"chat:modes.didSwitchWithReason",components:{code:s.jsx("code",{className:"font-medium",children:ne.mode})},values:{mode:ne.mode,reason:ne.reason}}):s.jsx(we,{i18nKey:"chat:modes.didSwitch",components:{code:s.jsx("code",{className:"font-medium",children:ne.mode})},values:{mode:ne.mode}})})})]})});case"newTask":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[$e("tasklist"),s.jsx("span",{style:{fontWeight:"bold"},children:s.jsx(we,{i18nKey:"chat:subtasks.wantsToCreate",components:{code:s.jsx("code",{children:ne.mode})},values:{mode:ne.mode}})})]}),s.jsxs("div",{style:{marginTop:"4px",backgroundColor:"var(--vscode-badge-background)",border:"1px solid var(--vscode-badge-background)",borderRadius:"4px 4px 0 0",overflow:"hidden",marginBottom:"2px"},children:[s.jsxs("div",{style:{padding:"9px 10px 9px 14px",backgroundColor:"var(--vscode-badge-background)",borderBottom:"1px solid var(--vscode-editorGroup-border)",fontWeight:"bold",fontSize:"var(--vscode-font-size)",color:"var(--vscode-badge-foreground)",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{className:"codicon codicon-arrow-right"}),m("chat:subtasks.newTaskContent")]}),s.jsx("div",{style:{padding:"12px 16px",backgroundColor:"var(--vscode-editor-background)"},children:s.jsx(br,{markdown:ne.content})})]})]});case"finishTask":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[$e("check-all"),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:subtasks.wantsToFinish")})]}),s.jsxs("div",{style:{marginTop:"4px",backgroundColor:"var(--vscode-editor-background)",border:"1px solid var(--vscode-badge-background)",borderRadius:"4px",overflow:"hidden",marginBottom:"8px"},children:[s.jsxs("div",{style:{padding:"9px 10px 9px 14px",backgroundColor:"var(--vscode-badge-background)",borderBottom:"1px solid var(--vscode-editorGroup-border)",fontWeight:"bold",fontSize:"var(--vscode-font-size)",color:"var(--vscode-badge-foreground)",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{className:"codicon codicon-check"}),m("chat:subtasks.completionContent")]}),s.jsx("div",{style:{padding:"12px 16px",backgroundColor:"var(--vscode-editor-background)"},children:s.jsx(br,{markdown:m("chat:subtasks.completionInstructions")})})]})]});case"runSlashCommand":{const Me=ne;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[$e("play"),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?m("chat:slashCommand.wantsToRun"):m("chat:slashCommand.didRun")})]}),s.jsxs("div",{style:{marginTop:"4px",backgroundColor:"var(--vscode-editor-background)",border:"1px solid var(--vscode-editorGroup-border)",borderRadius:"4px",overflow:"hidden",cursor:"pointer"},onClick:C,children:[s.jsxs(po,{className:"group",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsxs("span",{style:{fontWeight:"500",fontSize:"var(--vscode-font-size)"},children:["/",Me.command]}),Me.source&&s.jsx(yc,{style:{fontSize:"calc(var(--vscode-font-size) - 2px)"},children:Me.source})]}),s.jsx("span",{className:`codicon codicon-chevron-${r?"up":"down"} opacity-0 group-hover:opacity-100 transition-opacity duration-200`})]}),r&&(Me.args||Me.description)&&s.jsxs("div",{style:{padding:"12px 16px",borderTop:"1px solid var(--vscode-editorGroup-border)",display:"flex",flexDirection:"column",gap:"8px"},children:[Me.args&&s.jsxs("div",{children:[s.jsx("span",{style:{fontWeight:"500"},children:"Arguments: "}),s.jsx("span",{style:{color:"var(--vscode-descriptionForeground)"},children:Me.args})]}),Me.description&&s.jsx("div",{style:{color:"var(--vscode-descriptionForeground)"},children:Me.description})]})]})]})}case"generateImage":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[ne.isProtected?s.jsx("span",{className:"codicon codicon-lock",style:{color:"var(--vscode-editorWarning-foreground)",marginBottom:"-1.5px"}}):$e("file-media"),s.jsx("span",{style:{fontWeight:"bold"},children:e.type==="ask"?ne.isProtected?m("chat:fileOperations.wantsToGenerateImageProtected"):ne.isOutsideWorkspace?m("chat:fileOperations.wantsToGenerateImageOutsideWorkspace"):m("chat:fileOperations.wantsToGenerateImage"):m("chat:fileOperations.didGenerateImage")})]}),e.type==="ask"&&s.jsx("div",{className:"pl-6",children:s.jsx(uo,{children:s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"mb-2 break-words",children:ne.content}),s.jsx("div",{className:"flex items-center gap-1 text-xs text-vscode-descriptionForeground",children:ne.path})]})})})]});default:return null}}switch(e.type){case"say":switch(e.say){case"diff_error":return s.jsx(mi,{type:"diff_error",message:e.text||"",expandable:!0,showCopyButton:!0});case"subtask_result":return s.jsx("div",{children:s.jsxs("div",{style:{marginTop:"0px",backgroundColor:"var(--vscode-badge-background)",border:"1px solid var(--vscode-badge-background)",borderRadius:"0 0 4px 4px",overflow:"hidden",marginBottom:"8px"},children:[s.jsxs("div",{style:{padding:"9px 10px 9px 14px",backgroundColor:"var(--vscode-badge-background)",borderBottom:"1px solid var(--vscode-editorGroup-border)",fontWeight:"bold",fontSize:"var(--vscode-font-size)",color:"var(--vscode-badge-foreground)",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{className:"codicon codicon-arrow-left"}),m("chat:subtasks.resultContent")]}),s.jsx("div",{style:{padding:"12px 16px",backgroundColor:"var(--vscode-editor-background)"},children:s.jsx(br,{markdown:e.text})})]})});case"reasoning":return s.jsx(z3,{content:e.text||"",ts:e.ts,isStreaming:o,isLast:n});case"api_req_started":const $e=W===void 0&&G===void 0&&U===void 0;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`group text-sm transition-opacity ${$e?"opacity-100":"opacity-40 hover:opacity-100"}`,style:{...fe,marginBottom:U==null&&G||te?10:0,justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexGrow:1},children:[Te,s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexGrow:1},children:[L,v&&s.jsx(Rl,{ts:e.ts})]})]}),s.jsxs("div",{className:"text-xs text-vscode-dropdown-foreground border-vscode-dropdown-border/50 border px-1.5 py-0.5 rounded-lg",style:{opacity:X?1:0},children:["$",(lt=Number(U||0))==null?void 0:lt.toFixed(4)]}),!U&&q&&s.jsx(ue,{content:m("kilocode:pricing.costUnknownDescription"),children:s.jsxs("div",{className:"flex items-center text-xs text-vscode-dropdown-foreground border-vscode-dropdown-border/50 border px-1.5 py-0.5 rounded-lg whitespace-nowrap",children:[s.jsx("span",{className:"codicon codicon-warning pr-1"}),m("kilocode:pricing.costUnknown")]})})]}),(U==null&&G||te)&&s.jsx(mi,{type:"api_failure",message:G||te||"",docsURL:G!=null&&G.toLowerCase().includes("powershell")?"https://github.com/cline/cline/wiki/TroubleShooting-%E2%80%90-%22PowerShell-is-not-recognized-as-an-internal-or-external-command%22":void 0,errorDetails:te})]});case"api_req_retry_delayed":let jt=m("chat:apiRequest.failed"),Me,et,bt,ct;if(e.text!==void 0){if(e.text.includes("Not authenticated with Claude Code"))jt=m("chat:apiRequest.errorMessage.claudeCodeNotAuthenticated"),ct="roocode://settings?provider=claude-code";else{const us=parseInt(e.text.substring(0,3));if(!isNaN(us)&&us>=400){bt=us;const ee=`chat:apiRequest.errorMessage.${bt}`;g.exists(ee)?jt=m(ee):(jt=m("chat:apiRequest.errorMessage.unknown"),ct="mailto:support@roocode.com?subject=Unknown API Error")}else e.text.indexOf("Connection error")===0?jt=m("chat:apiRequest.errorMessage.connection"):(jt=m("chat:apiRequest.errorMessage.unknown"),ct="https://kilo.ai/support")}const Ue=e.text.match(/<retry_timer>(.*?)<\/retry_timer>/),Lt=Ue&&Ue[1]?parseInt(Ue[1],10):0;et=e.text.replace(/<retry_timer>(.*?)<\/retry_timer>/,"").trim(),Me=Lt>0&&s.jsxs("p",{className:Z("mt-2 font-light text-xs  text-vscode-descriptionForeground cursor-default flex items-center gap-1 transition-all duration-1000",Lt===0?"opacity-0 max-h-0":"max-h-2 opacity-100"),children:[s.jsx(RA,{className:"size-3",strokeWidth:1.5}),s.jsxs("span",{children:[Lt,"s"]})]})}return s.jsx(mi,{type:"api_req_retry_delayed",code:bt,message:jt,docsURL:ct,additionalContent:Me,errorDetails:et});case"api_req_rate_limit_wait":{const Ue=e.partial===!0,Lt=(()=>{if(e.text)try{const us=JSON.parse(e.text);return typeof us.seconds=="number"?us.seconds:void 0}catch{return}})();return Ue&&Lt!==void 0?s.jsxs("div",{className:"group text-sm transition-opacity opacity-100",style:{...fe,marginBottom:0,justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexGrow:1},children:[s.jsx(wi,{}),s.jsx("span",{style:{color:pe},children:m("chat:apiRequest.rateLimitWait")})]}),s.jsxs("span",{className:"text-xs font-light text-vscode-descriptionForeground",children:[Lt,"s"]})]}):null}case"api_req_finished":return null;case"text":return s.jsxs("div",{children:[s.jsxs("div",{style:fe,children:[s.jsx(OP,{className:"w-4 shrink-0","aria-label":"Speech bubble icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:text.rooSaid")})]}),s.jsxs("div",{className:"pl-6",children:[s.jsx(Jn,{markdown:e.text,partial:e.partial}),e.images&&e.images.length>0&&s.jsx("div",{style:{marginTop:"10px"},children:e.images.map((Ue,Lt)=>s.jsx(Yv,{imageData:Ue},Lt))})]})]});case"user_feedback":return s.jsxs("div",{className:"group",children:[s.jsxs("div",{style:fe,children:[s.jsx(RP,{className:"w-4 shrink-0","aria-label":"User icon"}),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:feedback.youSaid")})]}),s.jsxs("div",{className:Z("ml-6 border rounded-sm whitespace-pre-wrap",k?"overflow-visible":"overflow-hidden",k?"bg-vscode-editor-background text-vscode-editor-foreground":"cursor-text p-1 bg-vscode-editor-foreground/70 text-vscode-editor-background"),children:[k?s.jsx("div",{className:"flex flex-col gap-2",children:s.jsx(qN,{inputValue:T,setInputValue:S,sendingDisabled:!1,selectApiConfigDisabled:!0,placeholderText:m("chat:editMessage.placeholder"),selectedImages:M,setSelectedImages:A,onSend:D,onSelectImages:Y,shouldDisableImages:!(_!=null&&_.supportsImages),mode:P,setMode:I,modeShortcutText:"",isEditMode:!0,onCancel:z})}):s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"flex-grow px-2 py-1 wrap-anywhere rounded-lg transition-colors",onClick:Ue=>{Ue.stopPropagation(),o||H()},title:m("chat:queuedMessages.clickToEdit"),children:s.jsx(bN,{text:e.text,withShadow:!0})}),s.jsxs("div",{className:"flex gap-2 pr-1",children:[s.jsx("div",{className:"cursor-pointer shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",style:{visibility:o?"hidden":"visible"},onClick:Ue=>{Ue.stopPropagation(),H()},children:s.jsx(m_,{className:"w-4 shrink-0","aria-label":"Edit message icon"})}),s.jsx("div",{className:"cursor-pointer shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",style:{visibility:o?"hidden":"visible"},onClick:Ue=>{Ue.stopPropagation(),R.postMessage({type:"deleteMessage",value:e.ts})},children:s.jsx(Li,{className:"w-4 shrink-0","aria-label":"Delete message icon"})})]})]}),!k&&e.images&&e.images.length>0&&s.jsx(vd,{images:e.images,style:{marginTop:"8px"}})]})]});case"user_feedback_diff":const Ot=xr(e.text);return s.jsx("div",{style:{marginTop:-10,width:"100%"},children:s.jsx(bn,{code:Ot==null?void 0:Ot.diff,language:"diff",isFeedback:!0,isExpanded:r,onToggleExpand:C})});case"error":const Mt=(b==null?void 0:b.apiProvider)==="kilocode"&&((Ze=e.text)==null?void 0:Ze.includes(mD));return s.jsx(mi,{type:"error",message:m("chat:error"),errorDetails:e.text||void 0,showLoginButton:Mt,onLoginClick:Mt?()=>{R.postMessage({type:"switchTab",tab:"auth",values:{returnTo:"chat"}})}:void 0});case"completion_result":const ss=(Rs=(Rt=e.metadata)==null?void 0:Rt.kiloCode)==null?void 0:Rs.commitRange;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[Te,s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[L,v&&s.jsx(Rl,{ts:e.ts})]})]}),s.jsx("div",{className:"border-l border-green-600/30 ml-2 pl-4 pb-1",children:s.jsx(Jn,{markdown:e.text})}),!e.partial&&d!==!1&&ss?s.jsx(JO,{commitRange:ss}):s.jsx(s.Fragment,{})]});case"shell_integration_warning":return s.jsx(f4,{});case"checkpoint_saved":return s.jsx(G3,{ts:e.ts,commitHash:e.text,currentHash:y,checkpoint:e.checkpoint});case"condense_context":return e.partial?s.jsx(ib,{eventType:"condense_context"}):e.contextCondense?s.jsx(v4,{data:e.contextCondense}):null;case"condense_context_error":return s.jsx(b4,{errorText:e.text});case"sliding_window_truncation":return e.partial?s.jsx(ib,{eventType:"sliding_window_truncation"}):e.contextTruncation?s.jsx(y4,{data:e.contextTruncation}):null;case"codebase_search_result":let Ce=null;try{e.text&&(Ce=JSON.parse(e.text))}catch(Ue){console.error("Failed to parse codebaseSearch content:",Ue)}if(Ce&&!(Ce!=null&&Ce.content))return console.error("Invalid codebaseSearch content structure:",Ce.content),s.jsx("div",{children:"Error displaying search results."});const{results:Ks=[]}=(Ce==null?void 0:Ce.content)||{};return s.jsx(k4,{results:Ks});case"user_edit_todos":return s.jsx(T3,{userEdited:!0,onChange:()=>{}});case"tool":const cs=xr(e.text);if(!cs)return null;switch(cs.tool){case"runSlashCommand":{const Ue=cs;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[s.jsx("span",{className:"codicon codicon-terminal-cmd",style:{color:"var(--vscode-foreground)",marginBottom:"-1.5px"}}),s.jsx("span",{style:{fontWeight:"bold"},children:m("chat:slashCommand.didRun")})]}),s.jsx("div",{className:"pl-6",children:s.jsx(uo,{children:s.jsxs(po,{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"4px",padding:"10px 12px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",width:"100%"},children:[s.jsxs("span",{style:{fontWeight:"500",fontSize:"var(--vscode-font-size)"},children:["/",Ue.command]}),Ue.args&&s.jsx("span",{style:{color:"var(--vscode-descriptionForeground)",fontSize:"var(--vscode-font-size)"},children:Ue.args})]}),Ue.description&&s.jsx("div",{style:{color:"var(--vscode-descriptionForeground)",fontSize:"calc(var(--vscode-font-size) - 1px)"},children:Ue.description}),Ue.source&&s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:s.jsx(yc,{style:{fontSize:"calc(var(--vscode-font-size) - 2px)"},children:Ue.source})})]})})})]})}default:return null}case"image":const wt=xr(e.text||"{}");return wt?s.jsx("div",{style:{marginTop:"10px"},children:s.jsx(Yv,{imageUri:wt.imageUri,imagePath:wt.imagePath})}):null;case"browser_action":return null;case"browser_action_result":return s.jsxs(s.Fragment,{children:[L&&s.jsxs("div",{style:fe,children:[Te,L]}),s.jsxs("div",{style:{paddingTop:10},children:[s.jsx("div",{style:{color:"var(--vscode-errorForeground)",fontFamily:"monospace",fontSize:"12px",padding:"8px",backgroundColor:"var(--vscode-editor-background)",border:"1px solid var(--vscode-editorError-border)",borderRadius:"4px",marginBottom:"8px"},children:" Browser action result not properly grouped - this is a bug in the message grouping logic"}),s.jsx(Jn,{markdown:e.text,partial:e.partial})]})]});default:return s.jsxs(s.Fragment,{children:[L&&s.jsxs("div",{style:fe,children:[Te,s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexGrow:1},children:[L,v&&s.jsx(Rl,{ts:e.ts})]})]}),s.jsx("div",{style:{paddingTop:10},children:s.jsx(Jn,{markdown:e.text,partial:e.partial})})]})}case"ask":switch(e.ask){case"mistake_limit_reached":return s.jsx(mi,{type:"mistake_limit",message:e.text||""});case"command":return s.jsx(kN,{executionId:e.ts.toString(),text:e.text,icon:Te,title:L});case"use_mcp_server":const $e=xr(e.text,{}),{response:jt,...Me}=$e,et={...Me,response:jt};if(!et)return null;const bt=f.find(ct=>ct.name===et.serverName);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[Te,L]}),s.jsxs("div",{className:"w-full bg-vscode-editor-background border border-vscode-border rounded-xs p-2 mt-2",children:[et.type==="access_mcp_resource"&&s.jsx(vN,{item:{...S5(et.uri||"",bt==null?void 0:bt.resources,bt==null?void 0:bt.resourceTemplates)||{name:"",mimeType:"",description:""},uri:et.uri||""}}),et.type==="use_mcp_tool"&&s.jsx(jN,{executionId:e.ts.toString(),text:et.arguments!=="{}"?et.arguments:void 0,serverName:et.serverName,toolName:et.toolName,isArguments:!0,server:bt,useMcpServer:et,alwaysAllowMcp:x})]})]});case"completion_result":return e.text?s.jsxs("div",{children:[s.jsxs("div",{style:fe,children:[Te,L]}),s.jsx("div",{style:{color:"var(--vscode-charts-green)",paddingTop:10},children:s.jsx(Jn,{markdown:e.text,partial:e.partial})})]}):null;case"followup":return s.jsxs(s.Fragment,{children:[L&&s.jsxs("div",{style:fe,children:[Te,s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[L,v&&s.jsx(Rl,{ts:e.ts})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 ml-6",children:[s.jsx(Jn,{markdown:e.partial===!0?e==null?void 0:e.text:mt==null?void 0:mt.question}),s.jsx(X3,{suggestions:mt==null?void 0:mt.suggest,onSuggestionClick:i,ts:e==null?void 0:e.ts,onCancelAutoApproval:l,isAnswered:u,isFollowUpAutoApprovalPaused:p})]})]});case"condense":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[s.jsx("span",{className:"codicon codicon-new-file",style:{color:pe,marginBottom:"-1.5px"}}),s.jsx("span",{style:{color:pe,fontWeight:"bold"},children:m("kilocode:chat.condense.wantsToCondense")})]}),s.jsx(nD,{context:e.text||""})]});case"payment_required_prompt":return s.jsx(rD,{message:e,isOrganization:!!b.kilocodeOrganizationId});case"invalid_model":return s.jsx(gD,{message:e,isLast:n});case"report_bug":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:fe,children:[s.jsx("span",{className:"codicon codicon-new-file",style:{color:pe,marginBottom:"-1.5px"}}),s.jsx("span",{style:{color:pe,fontWeight:"bold"},children:"KiloCode wants to create a Github issue:"})]}),s.jsx(g4,{data:e.text||""})]});case"auto_approval_max_req_reached":return s.jsx(x4,{message:e});default:return null}}},wD=({model:e,settings:t})=>!!e.requiredReasoningBudget||!!e.supportsReasoningBudget&&!!(t!=null&&t.enableReasoningEffort),nc=16384,kD=8192,jD=128,bb=({modelId:e,model:t,settings:r,format:n})=>{if(wD({model:t,settings:r}))return(r==null?void 0:r.modelMaxTokens)||nc;if((e.includes("claude")||n==="anthropic"||n==="openrouter"&&e.startsWith("anthropic/"))&&(!t.maxTokens||t.maxTokens===0))return $h;if(t.maxTokens)return e.toLowerCase().includes("gpt-5")?t.maxTokens:Math.min(t.maxTokens,Math.ceil(t.contextWindow*.2));if(!n)return $h},$N=({taskId:e,...t})=>{const{t:r}=re(),[n]=QP("Enter"),{data:o}=eN([e]),{onOpenChange:a}=t,i=o==null?void 0:o.find(d=>d.id===e),l=i==null?void 0:i.isFavorited,c=h.useCallback(()=>{e&&(R.postMessage({type:"deleteTaskWithId",text:e}),a==null||a(!1))},[e,a]);return h.useEffect(()=>{e&&n&&c()},[e,n,c]),s.jsx(en,{...t,children:s.jsxs(tn,{onEscapeKeyDown:()=>a==null?void 0:a(!1),children:[s.jsxs(sn,{children:[s.jsx(nn,{children:r("history:deleteTask")}),s.jsxs(on,{children:[l?s.jsx("div",{className:"text-yellow-500 mb-2",children:r("history:deleteTaskFavoritedWarning")}):null,r("history:deleteTaskMessage")]})]}),s.jsxs(rn,{children:[s.jsx(an,{asChild:!0,children:s.jsx(oe,{variant:"secondary",children:r("history:cancel")})}),s.jsx(Cr,{asChild:!0,children:s.jsx(oe,{variant:"destructive",onClick:c,children:r("history:delete")})})]})]})})},eo=h.forwardRef(({icon:e,title:t,className:r,disabled:n,tooltip:o=!0,isLoading:a,onClick:i,style:l,...c},d)=>{const u=e;return s.jsx(ue,{content:o?t:void 0,children:s.jsx(oe,{ref:d,"aria-label":t,className:Z("relative inline-flex items-center justify-center","bg-transparent border-none p-1.5","rounded-full","text-vscode-foreground opacity-85","transition-all duration-150","focus:outline-none focus-visible:ring-1 focus-visible:ring-vscode-focusBorder","active:bg-[rgba(255,255,255,0.1)]",!n&&"cursor-pointer hover:opacity-100 hover:bg-[rgba(255,255,255,0.03)]",n&&"cursor-not-allowed opacity-40 hover:bg-transparent active:bg-transparent",r),disabled:n,onClick:n?void 0:i,style:{fontSize:16.5,...l},...c,children:a?s.jsx(Dj,{className:"size-2.5 animate-spin"}):s.jsx(u,{className:"size-2.5"})})})});eo.displayName="LucideIconButton";const yb=({item:e,buttonsDisabled:t})=>{const[r,n]=h.useState(null),{t:o}=vt(),{copyWithFeedback:a}=ti(),{debug:i}=Ye();return s.jsxs("div",{className:"flex flex-row items-center -ml-0.5 mt-1 gap-1",children:[s.jsx(eo,{icon:Bg,title:o("chat:task.export"),onClick:()=>R.postMessage({type:"exportCurrentTask"})}),(e==null?void 0:e.task)&&s.jsx(eo,{icon:Of,title:o("history:copyPrompt"),onClick:l=>a(e.task,l)}),!!(e!=null&&e.size)&&e.size>0&&s.jsxs(s.Fragment,{children:[s.jsx(eo,{icon:Li,title:o("chat:task.delete"),disabled:t,onClick:l=>{l.stopPropagation(),l.shiftKey?R.postMessage({type:"deleteTaskWithId",text:e.id}):n(e.id)}}),r&&s.jsx($N,{taskId:r,onOpenChange:l=>!l&&n(null),open:!0})]}),i&&(e==null?void 0:e.id)&&s.jsxs(s.Fragment,{children:[s.jsx(eo,{icon:JC,title:o("chat:task.openApiHistory"),onClick:()=>R.postMessage({type:"openDebugApiHistory"})}),s.jsx(eo,{icon:xA,title:o("chat:task.openUiHistory"),onClick:()=>R.postMessage({type:"openDebugUiHistory"})})]})]})},_D=(e={})=>{const{onAuthSuccess:t,autoOpenOnAuth:r=!1}=e,[n,o]=h.useState(!1),[a,i]=h.useState(!1),{cloudIsAuthenticated:l,sharingEnabled:c,publicSharingEnabled:d}=Ye(),u=h.useRef(!1),p=h.useRef(!1);h.useEffect(()=>{!l||!c?u.current=!0:u.current&&l&&c&&(p.current&&(os.capture(Cs.ACCOUNT_CONNECT_SUCCESS),o(!1),r&&a&&(t==null||t(),i(!1)),p.current=!1),u.current=!1)},[l,c,t,r,a]);const m=h.useCallback(()=>{o(!0)},[]),g=h.useCallback(()=>{o(!1),i(!1)},[]),f=h.useCallback(()=>{p.current=!0,i(!0),R.postMessage({type:"rooCloudSignIn"}),g()},[g]);return{isOpen:n,openUpsell:m,closeUpsell:g,handleConnect:f,isAuthenticated:l,sharingEnabled:c,publicSharingEnabled:d}},ND=()=>{const[e]=h.useState(()=>window.IMAGES_BASE_URI||"");return s.jsxs("div",{className:"mb-4 relative forced-color-adjust-none group flex flex-col items-center w-30 pt-4 overflow-clip",children:[s.jsx("div",{style:{backgroundColor:"var(--vscode-foreground)",WebkitMaskImage:`url('${e}/roo-logo.svg')`,WebkitMaskRepeat:"no-repeat",WebkitMaskSize:"contain",maskImage:`url('${e}/roo-logo.svg')`,maskRepeat:"no-repeat",maskSize:"contain"},className:"z-5 mr-auto group-hover:animate-bounce translate-y-0 transition-transform duration-500",children:s.jsx("img",{src:e+"/roo-logo.svg",alt:"Roo logo",className:"h-8 opacity-0"})}),s.jsx("div",{className:"w-[200%] -mt-0.25 h-0.5 overflow-hidden opacity-0 group-hover:opacity-70 transition-opacity duration-300","data-testid":"roo-hero-ground",children:s.jsx("div",{className:"w-full border-b-1 group-hover:border-b-1 border-dashed border-vscode-foreground animate-ground-slide"})}),s.jsx("div",{className:"z-4 bg-gradient-to-r from-transparent to-vscode-sideBar-background absolute top-0 right-0 bottom-0 w-10 opacity-100"}),s.jsx("div",{className:"z-3 bg-gradient-to-l from-transparent to-vscode-sideBar-background absolute top-0 left-0 bottom-0 w-10 opacity-100"}),s.jsx("div",{className:"bg-vscode-foreground/10 rounded-full size-10 z-1 absolute -bottom-4 animate-sun opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-[2px]"})]})},SD=e=>s.jsxs("div",{className:"text-left cursor-default",children:[s.jsx("div",{className:"w-15",children:s.jsx(ND,{})}),s.jsx("h1",{className:"text-xl font-bold text-vscode-foreground",children:e("cloud:cloudBenefitsTitle")}),s.jsx("div",{className:"text-lg",children:s.jsxs("ul",{className:"text-vscode-descriptionForeground space-y-2 my-8",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(IC,{className:"size-4 mt-1 shrink-0"}),e("cloud:cloudBenefitProvider")]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(f_,{className:"size-4 mt-1 shrink-0"}),e("cloud:cloudBenefitCloudAgents")]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(MC,{className:"size-4 mt-1 shrink-0"}),e("cloud:cloudBenefitTriggers")]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(DA,{className:"size-4 mt-1 shrink-0"}),e("cloud:cloudBenefitWalkaway")]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(DC,{className:"size-4 mt-1 shrink-0"}),e("cloud:cloudBenefitMetrics")]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(eA,{className:"size-4 mt-1 shrink-0"}),e("cloud:cloudBenefitHistory")]})]})})]}),TD=({open:e,onOpenChange:t,onConnect:r})=>{const{t:n}=vt();return s.jsx(ea,{open:e,onOpenChange:t,children:s.jsxs(ta,{className:"max-w-sm",children:[s.jsx(ni,{children:s.jsx(kT,{})}),s.jsxs("div",{className:"text-left space-y-6",children:[SD(n),s.jsx("div",{className:"flex flex-col gap-4",children:s.jsxs(oe,{variant:"primary",onClick:r,className:"w-full",children:[n("cloud:connect"),s.jsx(Gf,{})]})})]})]})})},PD=({item:e,disabled:t=!1})=>{const[r,n]=h.useState(!1),[o,a]=h.useState(null),[i,l]=h.useState(!1),{t:c}=vt(),{cloudUserInfo:d}=Ye(),{isOpen:u,openUpsell:p,closeUpsell:m,handleConnect:g,isAuthenticated:f,sharingEnabled:x,publicSharingEnabled:y}=_D({onAuthSuccess:()=>{n(!0),l(!1)}});h.useEffect(()=>{i&&f&&(n(!0),l(!1))},[i,f]),h.useEffect(()=>{const k=w=>{const T=w.data;T.type==="shareTaskSuccess"&&(a({visibility:T.visibility,url:T.text}),setTimeout(()=>{a(null),n(!1)},5e3))};return window.addEventListener("message",k),()=>window.removeEventListener("message",k)},[]);const N=k=>{a(null),k==="organization"?os.capture(Cs.SHARE_ORGANIZATION_CLICKED):os.capture(Cs.SHARE_PUBLIC_CLICKED),R.postMessage({type:"shareCurrentTask",visibility:k})},b=()=>{l(!0),g(),n(!1)},j=()=>{os.capture(Cs.SHARE_BUTTON_CLICKED),f?n(!0):(p(),os.capture(Cs.SHARE_CONNECT_TO_CLOUD_CLICKED))},_=f?x?{disabled:!1,title:c("chat:task.share"),showPopover:!0}:{disabled:!0,title:c("chat:task.sharingDisabledByOrganization"),showPopover:!1}:{disabled:!1,title:c("chat:task.share"),showPopover:!1};return!(e!=null&&e.id)||Math.random()<=1?null:s.jsxs(s.Fragment,{children:[_.showPopover?s.jsxs(Nn,{open:r,onOpenChange:n,children:[s.jsx(ue,{content:_.title,children:s.jsx(Dn,{asChild:!0,children:s.jsx(eo,{icon:Gx,disabled:t||_.disabled,tooltip:!1,onClick:j,"data-testid":"share-button",title:c("chat:task.share")})})}),s.jsx(Sn,{className:"w-56 p-0",align:"start",children:o?s.jsx("div",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[s.jsx("span",{className:"codicon codicon-check"}),s.jsx("span",{children:o.visibility==="public"?c("chat:task.shareSuccessPublic"):c("chat:task.shareSuccessOrganization")})]})}):s.jsx(Ji,{children:s.jsx(Zi,{children:s.jsxs(Wa,{children:[(d==null?void 0:d.organizationName)&&s.jsx(mo,{onSelect:()=>N("organization"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-organization text-sm"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:c("chat:task.shareWithOrganization")}),s.jsx("span",{className:"text-xs text-vscode-descriptionForeground",children:c("chat:task.shareWithOrganizationDescription")})]})]})}),y&&s.jsx(mo,{onSelect:()=>N("public"),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-globe text-sm"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:c("chat:task.sharePublicly")}),s.jsx("span",{className:"text-xs text-vscode-descriptionForeground",children:c("chat:task.sharePubliclyDescription")})]})]})})]})})})})]}):s.jsx(eo,{icon:Gx,disabled:t||_.disabled,title:_.title,onClick:j,"data-testid":"share-button"}),s.jsx(TD,{open:u,onOpenChange:m,onConnect:b})]})},ID=(e,t,r)=>{const n=Math.max(0,e),o=Math.max(0,t),a=r&&r>0&&r!==n?r:$h,i=Math.max(0,n-o-a),l=o+a+i;return l<=0?{currentPercent:0,reservedPercent:0,availablePercent:0,reservedForOutput:a,availableSize:i}:{currentPercent:o/l*100,reservedPercent:a/l*100,availablePercent:i/l*100,reservedForOutput:a,availableSize:i}};function ED({currentPercent:e}){const t=e>=50;return s.jsx("div",{className:Z("h-full w-full bg-[var(--vscode-foreground)] transition-width transition-color duration-300 ease-out",t&&"bg-[color-mix(in_srgb,var(--vscode-errorForeground)_60%,rgba(128,0,0,1))]")})}const wb=({contextWindow:e,contextTokens:t,maxTokens:r})=>{const{t:n}=vt(),o=h.useMemo(()=>ID(e,t,r),[e,t,r]),{currentPercent:a,reservedPercent:i,availableSize:l,reservedForOutput:c,availablePercent:d}=o,u=Math.max(0,e),p=Math.max(0,t),m=s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:n("chat:tokenProgress.tokensUsed",{used:Tr(p),total:Tr(u)})}),c>0&&s.jsx("div",{children:n("chat:tokenProgress.reservedForResponse",{amount:Tr(c)})}),l>0&&s.jsx("div",{children:n("chat:tokenProgress.availableSpace",{amount:Tr(l)})})]});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center gap-2 flex-1 whitespace-nowrap",children:[s.jsx("div",{"data-testid":"context-tokens-count",children:Tr(p)}),s.jsx(ue,{content:m,side:"top",sideOffset:8,children:s.jsx("div",{className:"flex-1 relative",children:s.jsxs("div",{className:"flex items-center h-1 rounded-[2px] overflow-hidden w-full bg-[color-mix(in_srgb,var(--vscode-foreground)_20%,transparent)]",children:[s.jsx("div",{className:"relative h-full",style:{width:`${a}%`},"data-testid":"context-tokens-used",children:s.jsx(ED,{currentPercent:a})}),s.jsx("div",{className:"relative h-full",style:{width:`${i}%`},"data-testid":"context-reserved-tokens",children:s.jsx("div",{className:"h-full w-full bg-[color-mix(in_srgb,var(--vscode-foreground)_30%,transparent)] transition-width duration-300 ease-out"})}),d>0&&s.jsx("div",{className:"relative h-full",style:{width:`${d}%`},"data-testid":"context-available-space-section"})]})})}),s.jsx("div",{"data-testid":"context-window-size",children:Tr(u)})]})})};function MD(e,t,r){return Math.max(t,Math.min(e,r))}const qs={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function kb(e,t,r){return t===0||Math.abs(t)===1/0?Math.pow(e,r*5):e*t*r/(t+r*e)}function jb(e,t,r,n=.15){return n===0?MD(e,t,r):e<t?-kb(t-e,r-t,n)+t:e>r?+kb(e-r,r-t,n)+r:e}function CD(e,[t,r],[n,o]){const[[a,i],[l,c]]=e;return[jb(t,a,i,n),jb(r,l,c,o)]}function AD(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RD(e){var t=AD(e,"string");return typeof t=="symbol"?t:String(t)}function rr(e,t,r){return t=RD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(r),!0).forEach(function(n){rr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const HN={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Nb(e){return e?e[0].toUpperCase()+e.slice(1):""}const OD=["enter","leave"];function DD(e=!1,t){return e&&!OD.includes(t)}function FD(e,t="",r=!1){const n=HN[e],o=n&&n[t]||t;return"on"+Nb(e)+Nb(o)+(DD(r,o)?"Capture":"")}const LD=["gotpointercapture","lostpointercapture"];function BD(e){let t=e.substring(2).toLowerCase();const r=!!~t.indexOf("passive");r&&(t=t.replace("passive",""));const n=LD.includes(t)?"capturecapture":"capture",o=!!~t.indexOf(n);return o&&(t=t.replace("capture","")),{device:t,capture:o,passive:r}}function zD(e,t=""){const r=HN[e],n=r&&r[t]||t;return e+n}function yd(e){return"touches"in e}function VN(e){return yd(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function qD(e){return Array.from(e.touches).filter(t=>{var r,n;return t.target===e.currentTarget||((r=e.currentTarget)===null||r===void 0||(n=r.contains)===null||n===void 0?void 0:n.call(r,t.target))})}function UD(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function GN(e){return yd(e)?UD(e)[0]:e}function WD(e){return qD(e).map(t=>t.identifier)}function ru(e){const t=GN(e);return yd(e)?t.identifier:t.pointerId}function Sb(e){const t=GN(e);return[t.clientX,t.clientY]}function KD(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:r,altKey:n,metaKey:o,ctrlKey:a}=e;Object.assign(t,{shiftKey:r,altKey:n,metaKey:o,ctrlKey:a})}return t}function Ac(e,...t){return typeof e=="function"?e(...t):e}function $D(){}function HD(...e){return e.length===0?$D:e.length===1?e[0]:function(){let t;for(const r of e)t=r.apply(this,arguments)||t;return t}}function Tb(e,t){return Object.assign({},t,e||{})}const VD=32;class GD{constructor(t,r,n){this.ctrl=t,this.args=r,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:r,ingKey:n,args:o}=this;r[n]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=o,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const r=this.state,n=this.config;r._active||(this.reset(),this.computeInitial(),r._active=!0,r.target=t.target,r.currentTarget=t.currentTarget,r.lastOffset=n.from?Ac(n.from,r):r.offset,r.offset=r.lastOffset,r.startTime=r.timeStamp=t.timeStamp)}computeValues(t){const r=this.state;r._values=t,r.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:r,config:n,shared:o}=this;r.args=this.args;let a=0;if(t&&(r.event=t,n.preventDefault&&t.cancelable&&r.event.preventDefault(),r.type=t.type,o.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,o.locked=!!document.pointerLockElement,Object.assign(o,KD(t)),o.down=o.pressed=o.buttons%2===1||o.touches>0,a=t.timeStamp-r.timeStamp,r.timeStamp=t.timeStamp,r.elapsedTime=r.timeStamp-r.startTime),r._active){const k=r._delta.map(Math.abs);qs.addTo(r._distance,k)}this.axisIntent&&this.axisIntent(t);const[i,l]=r._movement,[c,d]=n.threshold,{_step:u,values:p}=r;if(n.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(i)>=c&&p[0]),u[1]===!1&&(u[1]=Math.abs(l)>=d&&p[1])):(u[0]===!1&&(u[0]=Math.abs(i)>=c&&Math.sign(i)*c),u[1]===!1&&(u[1]=Math.abs(l)>=d&&Math.sign(l)*d)),r.intentional=u[0]!==!1||u[1]!==!1,!r.intentional)return;const m=[0,0];if(n.hasCustomTransform){const[k,w]=p;m[0]=u[0]!==!1?k-u[0]:0,m[1]=u[1]!==!1?w-u[1]:0}else m[0]=u[0]!==!1?i-u[0]:0,m[1]=u[1]!==!1?l-u[1]:0;this.restrictToAxis&&!r._blocked&&this.restrictToAxis(m);const g=r.offset,f=r._active&&!r._blocked||r.active;f&&(r.first=r._active&&!r.active,r.last=!r._active&&r.active,r.active=o[this.ingKey]=r._active,t&&(r.first&&("bounds"in n&&(r._bounds=Ac(n.bounds,r)),this.setup&&this.setup()),r.movement=m,this.computeOffset()));const[x,y]=r.offset,[[N,b],[j,v]]=r._bounds;r.overflow=[x<N?-1:x>b?1:0,y<j?-1:y>v?1:0],r._movementBound[0]=r.overflow[0]?r._movementBound[0]===!1?r._movement[0]:r._movementBound[0]:!1,r._movementBound[1]=r.overflow[1]?r._movementBound[1]===!1?r._movement[1]:r._movementBound[1]:!1;const _=r._active?n.rubberband||[0,0]:[0,0];if(r.offset=CD(r._bounds,r.offset,_),r.delta=qs.sub(r.offset,g),this.computeMovement(),f&&(!r.last||a>VD)){r.delta=qs.sub(r.offset,g);const k=r.delta.map(Math.abs);qs.addTo(r.distance,k),r.direction=r.delta.map(Math.sign),r._direction=r._delta.map(Math.sign),!r.first&&a>0&&(r.velocity=[k[0]/a,k[1]/a],r.timeDelta=a)}}emit(){const t=this.state,r=this.shared,n=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!n.triggerAllEvents)return;const o=this.handler(as(as(as({},r),t),{},{[this.aliasKey]:t.values}));o!==void 0&&(t.memo=o)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function QD([e,t],r){const n=Math.abs(e),o=Math.abs(t);if(n>o&&n>r)return"x";if(o>n&&o>r)return"y"}class YD extends GD{constructor(...t){super(...t),rr(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=qs.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=qs.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const r=this.state,n=this.config;if(!r.axis&&t){const o=typeof n.axisThreshold=="object"?n.axisThreshold[VN(t)]:n.axisThreshold;r.axis=QD(r._movement,o)}r._blocked=(n.lockDirection||!!n.axis)&&!r.axis||!!n.axis&&n.axis!==r.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const XD=e=>e,Pb=.15,QN={enabled(e=!0){return e},eventOptions(e,t,r){return as(as({},r.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[Pb,Pb];case!1:return[0,0];default:return qs.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return qs.toVector(e)},transform(e,t,r){const n=e||r.shared.transform;return this.hasCustomTransform=!!n,n||XD},threshold(e){return qs.toVector(e,0)}},JD=0,pl=as(as({},QN),{},{axis(e,t,{axis:r}){if(this.lockDirection=r==="lock",!this.lockDirection)return r},axisThreshold(e=JD){return e},bounds(e={}){if(typeof e=="function")return a=>pl.bounds(e(a));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:r=1/0,top:n=-1/0,bottom:o=1/0}=e;return[[t,r],[n,o]]}}),Ib={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class ZD extends YD{constructor(...t){super(...t),rr(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const r=t._bounds.getBoundingClientRect(),n=t.currentTarget.getBoundingClientRect(),o={left:r.left-n.left+t.offset[0],right:r.right-n.right+t.offset[0],top:r.top-n.top+t.offset[1],bottom:r.bottom-n.bottom+t.offset[1]};t._bounds=pl.bounds(o)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const r=this.config,n=this.state;if(t.buttons!=null&&(Array.isArray(r.pointerButtons)?!r.pointerButtons.includes(t.buttons):r.pointerButtons!==-1&&r.pointerButtons!==t.buttons))return;const o=this.ctrl.setEventIds(t);r.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(o&&o.size>1&&n._pointerActive)&&(this.start(t),this.setupPointer(t),n._pointerId=ru(t),n._pointerActive=!0,this.computeValues(Sb(t)),this.computeInitial(),r.preventScrollAxis&&VN(t)!=="mouse"?(n._active=!1,this.setupScrollPrevention(t)):r.delay>0?(this.setupDelayTrigger(t),r.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const r=this.state;r._active=!0,r._preventScroll=!0,r._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const r=this.state,n=this.config;if(!r._pointerActive)return;const o=ru(t);if(r._pointerId!==void 0&&o!==r._pointerId)return;const a=Sb(t);if(document.pointerLockElement===t.target?r._delta=[t.movementX,t.movementY]:(r._delta=qs.sub(a,r._values),this.computeValues(a)),qs.addTo(r._movement,r._delta),this.compute(t),r._delayed&&r.intentional){this.timeoutStore.remove("dragDelay"),r.active=!1,this.startPointerDrag(t);return}if(n.preventScrollAxis&&!r._preventScroll)if(r.axis)if(r.axis===n.preventScrollAxis||n.preventScrollAxis==="xy"){r._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const r=this.state,n=this.config;if(!r._active||!r._pointerActive)return;const o=ru(t);if(r._pointerId!==void 0&&o!==r._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[a,i]=r._distance;if(r.tap=a<=n.tapsThreshold&&i<=n.tapsThreshold,r.tap&&n.filterTaps)r._force=!0;else{const[l,c]=r._delta,[d,u]=r._movement,[p,m]=n.swipe.velocity,[g,f]=n.swipe.distance,x=n.swipe.duration;if(r.elapsedTime<x){const y=Math.abs(l/r.timeDelta),N=Math.abs(c/r.timeDelta);y>p&&Math.abs(d)>g&&(r.swipe[0]=Math.sign(l)),N>m&&Math.abs(u)>f&&(r.swipe[1]=Math.sign(c))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const r=this.config,n=r.device;r.pointerLock&&t.currentTarget.requestPointerLock(),r.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,eF(t);const r=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",r),this.eventStore.add(this.sharedConfig.window,"touch","cancel",r),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const r=Ib[t.key];if(r){const n=this.state,o=t.shiftKey?10:t.altKey?.1:1;this.start(t),n._delta=r(this.config.keyboardDisplacement,o),n._keyboardActive=!0,qs.addTo(n._movement,n._delta),this.compute(t),this.emit()}}keyUp(t){t.key in Ib&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const r=this.config.device;t(r,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(r,"change",this.pointerMove.bind(this)),t(r,"end",this.pointerUp.bind(this)),t(r,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function eF(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const ml=typeof window<"u"&&window.document&&window.document.createElement;function YN(){return ml&&"ontouchstart"in window}function tF(){return YN()||ml&&window.navigator.maxTouchPoints>1}function sF(){return ml&&"onpointerdown"in window}function rF(){return ml&&"exitPointerLock"in window.document}function nF(){try{return"constructor"in GestureEvent}catch{return!1}}const Pr={isBrowser:ml,gesture:nF(),touch:YN(),touchscreen:tF(),pointer:sF(),pointerLock:rF()},oF=250,aF=180,iF=.5,lF=50,cF=250,dF=10,Eb={mouse:0,touch:0,pen:8},uF=as(as({},pl),{},{device(e,t,{pointer:{touch:r=!1,lock:n=!1,mouse:o=!1}={}}){return this.pointerLock=n&&Pr.pointerLock,Pr.touch&&r?"touch":this.pointerLock?"mouse":Pr.pointer&&!o?"pointer":Pr.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:r}){if(this.preventScrollDelay=typeof r=="number"?r:r||r===void 0&&e?oF:void 0,!(!Pr.touchscreen||r===!1))return e||(r!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:r=!0,buttons:n=1,keys:o=!0}={}}){return this.pointerButtons=n,this.keys=o,!this.pointerLock&&this.device==="pointer"&&r},threshold(e,t,{filterTaps:r=!1,tapsThreshold:n=3,axis:o=void 0}){const a=qs.toVector(e,r?n:o?1:0);return this.filterTaps=r,this.tapsThreshold=n,a},swipe({velocity:e=iF,distance:t=lF,duration:r=cF}={}){return{velocity:this.transform(qs.toVector(e)),distance:this.transform(qs.toVector(t)),duration:r}},delay(e=0){switch(e){case!0:return aF;case!1:return 0;default:return e}},axisThreshold(e){return e?as(as({},Eb),e):Eb},keyboardDisplacement(e=dF){return e}});as(as({},QN),{},{device(e,t,{shared:r,pointer:{touch:n=!1}={}}){if(r.target&&!Pr.touch&&Pr.gesture)return"gesture";if(Pr.touch&&n)return"touch";if(Pr.touchscreen){if(Pr.pointer)return"pointer";if(Pr.touch)return"touch"}},bounds(e,t,{scaleBounds:r={},angleBounds:n={}}){const o=i=>{const l=Tb(Ac(r,i),{min:-1/0,max:1/0});return[l.min,l.max]},a=i=>{const l=Tb(Ac(n,i),{min:-1/0,max:1/0});return[l.min,l.max]};return typeof r!="function"&&typeof n!="function"?[o(),a()]:i=>[o(i),a(i)]},threshold(e,t,r){return this.lockDirection=r.axis==="lock",qs.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});as(as({},pl),{},{mouseOnly:(e=!0)=>e});as(as({},pl),{},{mouseOnly:(e=!0)=>e});const XN=new Map,kf=new Map;function pF(e){XN.set(e.key,e.engine),kf.set(e.key,e.resolver)}const mF={key:"drag",engine:ZD,resolver:uF};function hF(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function fF(e,t){if(e==null)return{};var r=hF(e,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const gF={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=Pr.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},xF=["target","eventOptions","window","enabled","transform"];function oc(e={},t){const r={};for(const[n,o]of Object.entries(t))switch(typeof o){case"function":r[n]=o.call(r,e[n],n,e);break;case"object":r[n]=oc(e[n],o);break;case"boolean":o&&(r[n]=e[n]);break}return r}function vF(e,t,r={}){const n=e,{target:o,eventOptions:a,window:i,enabled:l,transform:c}=n,d=fF(n,xF);if(r.shared=oc({target:o,eventOptions:a,window:i,enabled:l,transform:c},gF),t){const u=kf.get(t);r[t]=oc(as({shared:r.shared},d),u)}else for(const u in d){const p=kf.get(u);p&&(r[u]=oc(as({shared:r.shared},d[u]),p))}return r}class JN{constructor(t,r){rr(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=r}add(t,r,n,o,a){const i=this._listeners,l=zD(r,n),c=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},d=as(as({},c),a);t.addEventListener(l,o,d);const u=()=>{t.removeEventListener(l,o,d),i.delete(u)};return i.add(u),u}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class bF{constructor(){rr(this,"_timeouts",new Map)}add(t,r,n=140,...o){this.remove(t),this._timeouts.set(t,window.setTimeout(r,n,...o))}remove(t){const r=this._timeouts.get(t);r&&window.clearTimeout(r)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class yF{constructor(t){rr(this,"gestures",new Set),rr(this,"_targetEventStore",new JN(this)),rr(this,"gestureEventStores",{}),rr(this,"gestureTimeoutStores",{}),rr(this,"handlers",{}),rr(this,"config",{}),rr(this,"pointerIds",new Set),rr(this,"touchIds",new Set),rr(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),wF(this,t)}setEventIds(t){if(yd(t))return this.touchIds=new Set(WD(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,r){this.handlers=t,this.nativeHandlers=r}applyConfig(t,r){this.config=vF(t,r,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const r=this.config.shared,n={};let o;if(!(r.target&&(o=r.target(),!o))){if(r.enabled){for(const i of this.gestures){const l=this.config[i],c=Mb(n,l.eventOptions,!!o);if(l.enabled){const d=XN.get(i);new d(this,t,i).bind(c)}}const a=Mb(n,r.eventOptions,!!o);for(const i in this.nativeHandlers)a(i,"",l=>this.nativeHandlers[i](as(as({},this.state.shared),{},{event:l,args:t})),void 0,!0)}for(const a in n)n[a]=HD(...n[a]);if(!o)return n;for(const a in n){const{device:i,capture:l,passive:c}=BD(a);this._targetEventStore.add(o,i,"",n[a],{capture:l,passive:c})}}}}function la(e,t){e.gestures.add(t),e.gestureEventStores[t]=new JN(e,t),e.gestureTimeoutStores[t]=new bF}function wF(e,t){t.drag&&la(e,"drag"),t.wheel&&la(e,"wheel"),t.scroll&&la(e,"scroll"),t.move&&la(e,"move"),t.pinch&&la(e,"pinch"),t.hover&&la(e,"hover")}const Mb=(e,t,r)=>(n,o,a,i={},l=!1)=>{var c,d;const u=(c=i.capture)!==null&&c!==void 0?c:t.capture,p=(d=i.passive)!==null&&d!==void 0?d:t.passive;let m=l?n:FD(n,o,u);r&&p&&(m+="Passive"),e[m]=e[m]||[],e[m].push(a)};function kF(e,t={},r,n){const o=Qe.useMemo(()=>new yF(e),[]);if(o.applyHandlers(e,n),o.applyConfig(t,r),Qe.useEffect(o.effect.bind(o)),Qe.useEffect(()=>o.clean.bind(o),[]),t.target===void 0)return o.bind.bind(o)}function jF(e,t){return pF(mF),kF({drag:e},t||{},"drag")}const Wi=26,ZN=3e3,nu=8,_F=32,Cb=8,NF=4;function SF(e){if(e.length===0)return[];const t=e.map((o,a)=>{const i=e2(o),l=TF(o,e[a+1]||null);return{contentLength:i,timingMs:l}}),{maxContentLength:r,maxTiming:n}=PF(t);return t.map(({contentLength:o,timingMs:a},i)=>{const l=Math.min(1,o/Math.max(1,r)),c=i===e.length-1?nu:a??ZN,d=Math.min(1,c/Math.max(1,n)),u=nu+d*(_F-nu),p=Cb+l*(Wi-Cb-NF);return{width:Math.round(u),height:Math.round(p),contentLength:o,timingMs:a}})}function e2(e){var r,n,o,a;if(Array.isArray(e))return e.reduce((i,l)=>i+e2(l),0);let t=0;return t+=((r=e.text)==null?void 0:r.length)??0,t+=((n=e.reasoning)==null?void 0:n.length)??0,t+=(((o=e.images)==null?void 0:o.length)??0)*100,t+=((a=e.contextCondense)==null?void 0:a.summary.length)??0,Math.max(1,t)}function TF(e,t){var o,a;if(!t)return null;const r=Array.isArray(e)?(o=e[0])==null?void 0:o.ts:e.ts,n=Array.isArray(t)?(a=t[0])==null?void 0:a.ts:t.ts;return!r||!n?null:Math.max(0,n-r)}function PF(e){const t=Math.max(...e.map(o=>o.contentLength)),r=e.map(o=>o.timingMs).filter(o=>o!==null),n=r.length>0?Math.max(...r):ZN;return{maxContentLength:t,maxTiming:n}}function IF(e){if(e.length<=1)return{processedMessages:[],messageToOriginalIndex:new Map};const t=[],r=new Map;for(let l=1;l<e.length;l++){const c=e[l];Array.isArray(c)?c.forEach(d=>{t.push(d),r.set(d,l)}):(t.push(c),r.set(c,l))}const n=Fj(t),o=g1(n),a=new Map(r);return o.forEach(l=>{if(!a.has(l)){const c=t.find(d=>d.ts===l.ts);c&&r.has(c)&&a.set(l,r.get(c))}}),{processedMessages:o.filter(iD),messageToOriginalIndex:a}}const t2=h.memo(({data:e,activeIndex:t,onClick:r})=>{const{t:n}=vt(),o=oD(e.message,n),a=n("kilocode:taskTimeline.tooltip.clickToScroll",{messageType:o,messageNumber:e.index+1}),i=t===e.index,[l,c]=h.useState(!0);return h.useEffect(()=>{const d=setTimeout(()=>c(!1),1e3);return()=>clearTimeout(d)},[]),s.jsx("div",{className:"mr-0.5 relative overflow-hidden",style:{width:`${e.sizeData.width}px`,height:`${Wi}px`},children:s.jsxs(Lf,{children:[s.jsx(Bf,{asChild:!0,children:s.jsx("div",{className:Z("absolute bottom-0 left-0 right-0 cursor-pointer rounded-t-xs","transition-all duration-200 hover:opacity-70",l&&"animate-fade-in",i&&"animate-slow-pulse-delayed",e.color),style:{height:`${e.sizeData.height/Wi*100}%`},onClick:r})}),s.jsx(zf,{children:a})]})})});t2.displayName="TaskTimelineMessageProps";const EF=25,MF=h.forwardRef(({style:e,children:t,className:r,...n},o)=>{const a=jF(({active:i,delta:[l]})=>{const c=o.current;c&&(c.scrollLeft-=l,i?(c.style.cursor="grabbing",c.style.userSelect="none"):(c.style.cursor="grab",c.style.userSelect="auto"))},{axis:"x",eventOptions:{passive:!1},filterTaps:!0,pointer:{capture:!0},touchAction:"pan-x"});return s.jsx("div",{...n,...a(),ref:o,className:`overflow-x-auto overflow-y-hidden touch-none cursor-grab ${r||""}`,style:e,onWheel:i=>{i.preventDefault(),o.current.scrollLeft+=i.deltaY},children:t})}),Rc=h.memo(({groupedMessages:e,onMessageClick:t,isTaskActive:r=!1})=>{const{setHoveringTaskTimeline:n}=Ye(),o=h.useRef(null),a=h.useRef(e.length),i=h.useCallback(()=>{n(!0)},[n]),l=h.useCallback(()=>{n(!1)},[n]),c=h.useMemo(()=>{const{processedMessages:p,messageToOriginalIndex:m}=IF(e),g=SF(p);return p.map((f,x)=>({index:m.get(f)||0,color:UN(f),message:f,sizeData:g[x]}))},[e]),d=r?e.length-1:-1,u=h.useCallback(p=>s.jsx(t2,{data:c[p],activeIndex:d,onClick:()=>t==null?void 0:t(c[p].index)}),[c,d,t]);return h.useEffect(()=>{var x;const p=e.length,m=a.current,g=p>m,f=m===0&&p>0;if(c.length>0&&(g||f)){const y=c.length-1,N=f?"auto":"smooth";(x=o.current)==null||x.scrollToIndex({index:y,align:"end",behavior:N})}a.current=p},[e.length,c.length]),s.jsx(el,{children:s.jsx("div",{className:"w-full px-2 overflow-hidden",style:{height:`${Wi}px`},onMouseEnter:i,onMouseLeave:l,children:s.jsx(Qf,{ref:o,data:c,components:{Scroller:MF},itemContent:u,horizontalDirection:!0,initialTopMostItemIndex:c.length-1,className:"w-full",style:{height:`${Wi+EF}px`}})})})});Rc.displayName="TaskTimeline";function CF(e){switch(e){case"completed":return s.jsx(yr,{className:"size-3 mt-1 shrink-0"});case"in_progress":return s.jsx(Gf,{className:"size-3 mt-1 shrink-0"});default:return s.jsx(u_,{className:"size-3 mt-1 shrink-0"})}}function AF({todos:e}){const[t,r]=h.useState(!0),n=h.useRef(null),o=h.useRef([]),a=h.useMemo(()=>{const u=e.findIndex(p=>p.status==="in_progress");return u!==-1?u:e.findIndex(p=>p.status!=="completed")},[e]),i=h.useMemo(()=>{const u=e.find(p=>p.status==="in_progress");return u||e.find(p=>p.status!=="completed")},[e]);if(h.useEffect(()=>{if(t||!n.current||a===-1)return;const u=o.current[a];if(u&&n.current){const p=n.current,m=u.offsetTop-p.offsetTop,g=u.offsetHeight,f=p.clientHeight,x=m-(f/2-g/2);p.scrollTop=x}},[e,t,a]),!Array.isArray(e)||e.length===0)return null;const l=e.length,c=e.filter(u=>u.status==="completed").length,d=c===l&&l>0;return s.jsxs("div",{"data-todo-list":!0,className:"mt-1 -mx-2.5 border-t border-vscode-sideBar-background overflow-hidden",children:[s.jsxs("div",{className:Z("flex items-center gap-2 pt-2 px-2.5 cursor-pointer select-none",(i==null?void 0:i.status)==="in_progress"&&t?"text-vscode-charts-yellow":"text-vscode-foreground"),onClick:()=>r(u=>!u),children:[s.jsx(i_,{className:"size-3 shrink-0"}),s.jsx("span",{className:"flex-1 overflow-hidden text-ellipsis whitespace-nowrap",children:t?d?Sr("chat:todo.complete",{total:c}):i==null?void 0:i.content:Sr("chat:todo.partial",{completed:c,total:l})}),t&&c<l&&s.jsxs("div",{className:"shrink-0 text-vscode-descriptionForeground text-xs",children:[c,"/",l]})]}),!t&&s.jsx("ul",{ref:n,className:"list-none max-h-[300px] overflow-y-auto mt-2 -mb-1 pb-0 px-2 cursor-default",children:e.map((u,p)=>{const m=CF(u.status);return s.jsxs("li",{ref:g=>o.current[p]=g,className:Z("font-light flex flex-row gap-2 items-start min-h-[20px] leading-normal mb-2",u.status==="in_progress"&&"text-vscode-charts-yellow",u.status!=="in_progress"&&u.status!=="completed"&&"opacity-60"),children:[m,s.jsx("span",{children:u.content})]},u.id||u.content)})})]})}const RF=({task:e,tokensIn:t,tokensOut:r,cacheWrites:n,cacheReads:o,totalCost:a,contextTokens:i,buttonsDisabled:l,handleCondenseContext:c,onClose:d,groupedMessages:u,onMessageClick:p,isTaskActive:m=!1,todos:g})=>{var A;const{t:f}=vt(),{showTaskTimeline:x}=Ye(),{apiConfiguration:y,currentTaskItem:N,customModes:b}=Ye(),{id:j,info:v}=Bn(y),[_,k]=h.useState(!1),w=h.useRef(null),T=h.useRef(null),S=(v==null?void 0:v.contextWindow)||1,{width:P}=Yf(),I=s.jsx(ue,{content:f("chat:task.condenseContext"),children:s.jsx("button",{disabled:l,onClick:()=>N&&c(N.id),className:"shrink-0 min-h-[20px] min-w-[20px] p-[2px] cursor-pointer disabled:cursor-not-allowed opacity-85 hover:opacity-100 bg-transparent border-none rounded-md",children:s.jsx(pd,{size:16})})}),M=g&&Array.isArray(g)&&g.length>0;return s.jsxs("div",{className:"py-2 px-3",children:[s.jsxs("div",{className:Z("p-2.5 flex flex-col relative z-1 border",M?"rounded-t-xs":"rounded-xs",_?"border-vscode-panel-border text-vscode-foreground":"border-vscode-panel-border/80 text-vscode-foreground/80"),children:[s.jsxs("div",{className:"flex justify-between items-center gap-2",children:[s.jsxs("div",{className:"flex items-center cursor-pointer -ml-0.5 select-none grow min-w-0",onClick:()=>k(!_),children:[s.jsx("div",{className:"flex items-center shrink-0",children:s.jsx("span",{className:`codicon codicon-chevron-${_?"down":"right"}`})}),s.jsxs("div",{className:"ml-1.5 whitespace-nowrap overflow-hidden text-ellipsis grow min-w-0",children:[s.jsxs("span",{className:"font-bold",children:[f("chat:task.title"),!_&&":"]}),!_&&s.jsx("span",{style:{marginLeft:4},children:Rb(e.text,!1,b)})]})]}),s.jsx(ue,{content:f("chat:task.closeAndStart"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:d,className:"shrink-0 w-5 h-5",children:s.jsx("span",{className:"codicon codicon-close"})})})]}),!_&&S>0&&s.jsxs("div",{className:"w-full flex flex-col gap-1 h-auto",children:[x&&s.jsx(Rc,{groupedMessages:u,onMessageClick:p,isTaskActive:m}),s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx(wb,{contextWindow:S,contextTokens:i||0,maxTokens:v?bb({modelId:j,model:v,settings:y}):void 0}),I,s.jsx(PD,{item:N,disabled:l}),!!a&&s.jsxs("span",{children:["$",a.toFixed(2)]})]})]}),_&&s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:w,className:"-mt-0.5 text-vscode-font-size overflow-y-auto break-words break-anywhere relative",children:s.jsx("div",{ref:T,className:"overflow-auto max-h-80 whitespace-pre-wrap break-words break-anywhere",style:{display:"-webkit-box",WebkitLineClamp:"unset",WebkitBoxOrient:"vertical"},children:Rb(e.text,!1,b)})}),e.images&&e.images.length>0&&s.jsx(vd,{images:e.images}),x&&s.jsx(Rc,{groupedMessages:u,onMessageClick:p,isTaskActive:m}),s.jsxs("div",{className:"flex flex-col gap-1",children:[_&&S>0&&s.jsxs("div",{className:`w-full flex ${P<400?"flex-col":"flex-row"} gap-1 h-auto`,children:[s.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:s.jsx("span",{className:"font-bold","data-testid":"context-window-label",children:f("chat:task.contextWindow")})}),s.jsx(wb,{contextWindow:S,contextTokens:i||0,maxTokens:v?bb({modelId:j,model:v,settings:y}):void 0}),I]}),s.jsxs("div",{className:"flex justify-between items-center h-[20px]",children:[s.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[s.jsx("span",{className:"font-bold",children:f("chat:task.tokens")}),typeof t=="number"&&t>0&&s.jsxs("span",{className:"flex items-center gap-0.5",children:[s.jsx("i",{className:"codicon codicon-arrow-up text-xs font-bold"}),Tr(t)]}),typeof r=="number"&&r>0&&s.jsxs("span",{className:"flex items-center gap-0.5",children:[s.jsx("i",{className:"codicon codicon-arrow-down text-xs font-bold"}),Tr(r)]})]}),!a&&s.jsx(yb,{item:N,buttonsDisabled:l})]}),(typeof o=="number"&&o>0||typeof n=="number"&&n>0)&&s.jsxs("div",{className:"flex items-center gap-1 flex-wrap h-[20px]",children:[s.jsx("span",{className:"font-bold",children:f("chat:task.cache")}),typeof n=="number"&&n>0&&s.jsxs("span",{className:"flex items-center gap-0.5",children:[s.jsx(zC,{size:16}),Tr(n)]}),typeof o=="number"&&o>0&&s.jsxs("span",{className:"flex items-center gap-0.5",children:[s.jsx(LC,{size:16}),Tr(o)]})]}),!!a&&s.jsxs("div",{className:"flex justify-between items-center h-[20px]",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-bold",children:f("chat:task.apiCost")}),s.jsxs("span",{children:["$",a==null?void 0:a.toFixed(2)]})]}),s.jsx(yb,{item:N,buttonsDisabled:l})]})]})]})]}),s.jsx(AF,{todos:g??((A=e==null?void 0:e.tool)==null?void 0:A.todos)??[]})]})},OF=(e,t=!0,r)=>{const n=e.match(/^\s*\/([a-zA-Z0-9_-]+)(\s*|$)/);if(!n)return e;const o=n[1],a=zN(o,r);if(!a||a!=="full")return e;const i=n[0].length,l=e.substring(0,e.indexOf("/")),c=n[2]+e.substring(i);return[l,s.jsxs("span",{className:t?"mention-context-highlight-with-shadow":"mention-context-highlight",children:["/",o]},"slashCommand"),c]},Ab=(e,t=!0)=>e.split(rx).map((n,o)=>o%2===0?n:s.jsxs("span",{className:t?"mention-context-highlight-with-shadow":"mention-context-highlight",style:{cursor:"pointer"},onClick:()=>R.postMessage({type:"openMention",text:n}),children:["@",n]},o)),Rb=(e,t=!0,r)=>{if(!e)return e;const n=OF(e,t,r);if(n===e)return Ab(n,t);if(Array.isArray(n)&&n.length===3){const[o,a,i]=n;return[o,a,...Ab(i,t)]}return[e]},DF=h.memo(RF),s2={alwaysAllowReadOnly:{key:"alwaysAllowReadOnly",labelKey:"settings:autoApprove.readOnly.label",descriptionKey:"settings:autoApprove.readOnly.description",icon:"eye",testId:"always-allow-readonly-toggle"},alwaysAllowWrite:{key:"alwaysAllowWrite",labelKey:"settings:autoApprove.write.label",descriptionKey:"settings:autoApprove.write.description",icon:"edit",testId:"always-allow-write-toggle"},alwaysAllowDelete:{key:"alwaysAllowDelete",labelKey:"settings:autoApprove.delete.label",descriptionKey:"settings:autoApprove.delete.description",icon:"trash",testId:"always-allow-delete-toggle"},alwaysAllowBrowser:{key:"alwaysAllowBrowser",labelKey:"settings:autoApprove.browser.label",descriptionKey:"settings:autoApprove.browser.description",icon:"globe",testId:"always-allow-browser-toggle"},alwaysAllowMcp:{key:"alwaysAllowMcp",labelKey:"settings:autoApprove.mcp.label",descriptionKey:"settings:autoApprove.mcp.description",icon:"plug",testId:"always-allow-mcp-toggle"},alwaysAllowModeSwitch:{key:"alwaysAllowModeSwitch",labelKey:"settings:autoApprove.modeSwitch.label",descriptionKey:"settings:autoApprove.modeSwitch.description",icon:"sync",testId:"always-allow-mode-switch-toggle"},alwaysAllowSubtasks:{key:"alwaysAllowSubtasks",labelKey:"settings:autoApprove.subtasks.label",descriptionKey:"settings:autoApprove.subtasks.description",icon:"list-tree",testId:"always-allow-subtasks-toggle"},alwaysAllowExecute:{key:"alwaysAllowExecute",labelKey:"settings:autoApprove.execute.label",descriptionKey:"settings:autoApprove.execute.description",icon:"terminal",testId:"always-allow-execute-toggle"},alwaysAllowFollowupQuestions:{key:"alwaysAllowFollowupQuestions",labelKey:"settings:autoApprove.followupQuestions.label",descriptionKey:"settings:autoApprove.followupQuestions.description",icon:"question",testId:"always-allow-followup-questions-toggle"}},r2=({onToggle:e,...t})=>{const{t:r}=re();return s.jsx("div",{className:Z("flex flex-row flex-wrap gap-2 py-2"),children:Object.values(s2).map(({key:n,descriptionKey:o,labelKey:a,icon:i,testId:l})=>s.jsx(ue,{content:r(o||""),children:s.jsxs(oe,{variant:t[n]?"primary":"secondary",onClick:()=>e(n,!t[n]),"aria-label":r(a),"aria-pressed":!!t[n],"data-testid":l,className:Z("gap-1.5 text-xs whitespace-nowrap",!t[n]&&"opacity-50"),children:[s.jsx("span",{className:`codicon codicon-${i} text-sm`}),s.jsx("span",{children:r(a)})]})},n))})};function FF(e,t){const{className:r,style:n,"data-testid":o,leftNodes:a,rightNodes:i,...l}=e,c=h.useRef(null),d=h.useCallback(g=>{var y,N,b;if(!g)return;const f=g,x=((N=(y=f.shadowRoot)==null?void 0:y.querySelector)==null?void 0:N.call(y,"input"))||((b=f.querySelector)==null?void 0:b.call(f,"input"));x&&x instanceof HTMLInputElement&&(c.current=x,typeof t=="function"?t==null||t(x):t&&(t.current=x))},[t]),u=h.useCallback(async()=>{c.current&&document.activeElement!==c.current&&setTimeout(()=>{var g;(g=c.current)==null||g.focus()})},[]),p=a&&a.filter(Boolean).length>0,m=i&&i.filter(Boolean).length>0;return s.jsxs("div",{className:Z("group","relative flex items-center cursor-text","bg-[var(--input-background)] text-[var(--input-foreground)]","rounded-[calc(var(--corner-radius-round)*1px)]",r),style:n,onMouseDown:u,children:[p&&s.jsx("div",{className:"absolute left-2 z-10 flex items-center gap-1 pointer-events-none",children:a}),s.jsx(de,{"data-testid":o,ref:d,style:{flex:1,paddingLeft:p?"24px":void 0,paddingRight:m?"24px":void 0},className:"[--border-width:0]",...l}),m&&s.jsx("div",{className:"absolute right-2 z-10 flex items-center gap-1 pointer-events-none",children:i}),s.jsx("div",{className:"absolute top-0 left-0 size-full border border-vscode-input-border group-focus-within:border-[var(--focus-border)] rounded"})]})}const LF=h.forwardRef(FF);function BF({value:e,onValueChange:t,formatter:r,...n},o){const[a,i]=h.useState(""),[l,c]=h.useState(!1);h.useEffect(()=>{l||i(r.format(e))},[e,r,l]);const d=h.useCallback(m=>{const g=m.target;c(!0);let f=g.value;r.filter&&(f=r.filter(g.value),g.value=f),i(f);const x=r.parse(f);t(x)},[r,t]),u=h.useCallback(()=>{c(!1),i(r.format(e))},[r,e]),p=l?a:r.format(e);return s.jsx(LF,{...n,value:p,onInput:d,onBlur:u,ref:o})}const n2=h.forwardRef(BF),zF={parse:e=>{if(e.trim()==="")return;const t=parseInt(e);return!isNaN(t)&&t>0?t:void 0},format:e=>e===void 0||e===1/0?"":e.toString(),filter:e=>e.replace(/[^0-9]/g,"")},qF={parse:e=>{if(e.trim()==="")return;const t=parseFloat(e);return!isNaN(t)&&t>=0?t:void 0},format:e=>e===void 0||e===1/0?"":e.toString(),filter:e=>{let t=e.replace(/[^0-9.]/g,"");const r=t.indexOf(".");if(r!==-1){const n=t.substring(0,r+1),o=t.substring(r+1).replace(/\./g,"");t=n+o}return t}};function o2({allowedMaxRequests:e,onValueChange:t}){const{t:r}=vt();return s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium whitespace-nowrap",children:[s.jsx("span",{className:"codicon codicon-pulse"}),r("settings:autoApprove.apiRequestLimit.title"),":"]}),s.jsx(n2,{value:e,onValueChange:t,formatter:zF,placeholder:r("settings:autoApprove.apiRequestLimit.unlimited"),style:{maxWidth:"200px"},"data-testid":"max-requests-input"})]})}function a2({allowedMaxCost:e,onValueChange:t}){const{t:r}=vt();return s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium whitespace-nowrap",children:[s.jsx("span",{className:"codicon codicon-credit-card"}),r("settings:autoApprove.apiCostLimit.title"),":"]}),s.jsx(n2,{value:e,onValueChange:t,formatter:qF,placeholder:r("settings:autoApprove.apiCostLimit.unlimited"),style:{maxWidth:"200px"},"data-testid":"max-cost-input",leftNodes:[s.jsx("span",{children:"$"},"dollar")]})]})}function i2(e,t){const r=h.useMemo(()=>Object.values(e).some(o=>!!o),[e]),n=h.useMemo(()=>t??!1,[t]);return{hasEnabledOptions:r,effectiveAutoApprovalEnabled:n}}function l2(){const{alwaysAllowReadOnly:e,alwaysAllowWrite:t,alwaysAllowDelete:r,alwaysAllowExecute:n,alwaysAllowBrowser:o,alwaysAllowMcp:a,alwaysAllowModeSwitch:i,alwaysAllowSubtasks:l,alwaysAllowFollowupQuestions:c}=Ye();return h.useMemo(()=>({alwaysAllowReadOnly:e,alwaysAllowWrite:t,alwaysAllowDelete:r,alwaysAllowExecute:n,alwaysAllowBrowser:o,alwaysAllowMcp:a,alwaysAllowModeSwitch:i,alwaysAllowSubtasks:l,alwaysAllowFollowupQuestions:c}),[e,t,r,n,o,a,i,l,c])}const UF=({style:e})=>{const[t,r]=h.useState(!1),{autoApprovalEnabled:n,setAutoApprovalEnabled:o,allowedMaxRequests:a,allowedMaxCost:i,setAlwaysAllowReadOnly:l,setAlwaysAllowWrite:c,setAlwaysAllowDelete:d,setAlwaysAllowExecute:u,setAlwaysAllowBrowser:p,setAlwaysAllowMcp:m,setAlwaysAllowModeSwitch:g,setAlwaysAllowSubtasks:f,setAlwaysAllowFollowupQuestions:x,setAllowedMaxRequests:y,setAllowedMaxCost:N}=Ye(),{t:b}=re(),j=l2(),{hasEnabledOptions:v,effectiveAutoApprovalEnabled:_}=i2(j,n),k=h.useCallback((I,M)=>{switch(R.postMessage({type:"updateSettings",updatedSettings:{[I]:M}}),I){case"alwaysAllowReadOnly":l(M);break;case"alwaysAllowWrite":c(M);break;case"alwaysAllowDelete":d(M);break;case"alwaysAllowExecute":u(M);break;case"alwaysAllowBrowser":p(M);break;case"alwaysAllowMcp":m(M);break;case"alwaysAllowModeSwitch":g(M);break;case"alwaysAllowSubtasks":f(M);break;case"alwaysAllowFollowupQuestions":x(M);break}const A={...j,[I]:M},C=Object.values(A).some(H=>!!H);M&&!v&&C?(o(!0),R.postMessage({type:"updateSettings",updatedSettings:{autoApprovalEnabled:!0}})):!M&&v&&!C&&(o(!1),R.postMessage({type:"updateSettings",updatedSettings:{autoApprovalEnabled:!1}}))},[j,v,l,c,d,u,p,m,g,f,x,o]),w=h.useCallback(()=>{r(I=>!I)},[]),T=Object.entries(j).filter(([I,M])=>!!M).map(([I])=>b(s2[I].labelKey)).join(", "),S=h.useMemo(()=>!_||!v?b("chat:autoApprove.none"):T||b("chat:autoApprove.none"),[_,v,T,b]),P=h.useCallback(()=>window.postMessage({type:"action",action:"settingsButtonClicked",values:{section:"autoApprove"}}),[]);return s.jsxs("div",{style:{padding:"0 15px",userSelect:"none",borderTop:t?"0.5px solid color-mix(in srgb, var(--vscode-titleBar-inactiveForeground) 20%, transparent)":"none",overflowY:"auto",...e},children:[t&&s.jsxs("div",{className:"flex flex-col gap-2 py-4",children:[s.jsx("div",{style:{color:"var(--vscode-descriptionForeground)",fontSize:"12px"},children:s.jsx(we,{i18nKey:"chat:autoApprove.description",components:{settingsLink:s.jsx(Oe,{href:"#",onClick:P})}})}),s.jsx(r2,{...j,onToggle:k}),s.jsxs("div",{className:"flex gap-2 w-full justify-stretch mb-2",children:[s.jsx(o2,{allowedMaxRequests:a??void 0,onValueChange:I=>y(I)}),s.jsx(a2,{allowedMaxCost:i??void 0,onValueChange:I=>N(I)})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"2px 0 0 0",cursor:"pointer"},onClick:w,children:[s.jsx("div",{onClick:I=>I.stopPropagation(),children:s.jsx(ue,{content:v?void 0:b("chat:autoApprove.selectOptionsFirst"),children:s.jsx(qe,{checked:_,disabled:!v,"aria-label":b(v?"chat:autoApprove.toggleAriaLabel":"chat:autoApprove.disabledAriaLabel"),onChange:()=>{if(v){const I=!(n??!1);o(I),R.postMessage({type:"updateSettings",updatedSettings:{autoApprovalEnabled:I}})}}})})}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",flex:1,minWidth:0},children:[s.jsx("span",{style:{color:"var(--vscode-foreground)",flexShrink:0},children:b("chat:autoApprove.title")}),s.jsx("span",{style:{color:"var(--vscode-descriptionForeground)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1,minWidth:0},children:S}),s.jsx("span",{className:`codicon codicon-chevron-right flex-shrink-0 transition-transform duration-200 ease-in-out ${t?"-rotate-90 ml-[2px]":"rotate-0 -ml-[2px]"}`})]})]})]})},Ob=h.memo(UF),c2=Qe.forwardRef(({onClick:e,iconClass:t,ariaLabel:r,title:n,...o},a)=>s.jsx("button",{ref:a,className:"vscode-button flex items-center gap-1.5 p-0.75 rounded-sm text-vscode-foreground cursor-pointer hover:bg-vscode-list-hoverBackground","aria-label":r,title:n,onClick:e,...o,children:s.jsx("span",{className:`codicon ${t} text-sm`})})),WF=[".md",".txt"],KF=({isGlobal:e,ruleType:t})=>{const{t:r}=vt(),[n,o]=h.useState(!1),[a,i]=h.useState(""),l=h.useRef(null),[c,d]=h.useState(null),u=h.useRef(null);h.useEffect(()=>{n&&l.current&&l.current.focus()},[n]),qj(u,()=>{n&&(o(!1),i(""),d(null))});const p=async g=>{if(g.preventDefault(),a.trim()){const f=a.trim(),x=HO(f);if(x!==""&&!WF.includes(x)){d(r("kilocode:rules.validation.invalidFileExtension"));return}let y=f;x===""&&(y=`${f}.md`);try{R.postMessage({type:"createRuleFile",isGlobal:e,filename:y,ruleType:t})}catch(N){console.error("Error creating rule file:",N)}i(""),d(null),o(!1)}},m=g=>{g.key==="Escape"&&(o(!1),i(""))};return s.jsxs("div",{ref:u,className:`mb-2.5 transition-all duration-300 ease-in-out ${n?"opacity-100":"opacity-70 hover:opacity-100"}`,onClick:()=>!n&&o(!0),children:[s.jsx("div",{className:`flex items-center p-2 rounded bg-[var(--vscode-input-background)] transition-all duration-300 ease-in-out h-[18px] ${n?"shadow-sm":""}`,children:n?s.jsxs("form",{onSubmit:p,className:"flex flex-1 items-center",children:[s.jsx("input",{ref:l,type:"text",placeholder:r(t==="workflow"?"kilocode:rules.placeholders.workflowName":"kilocode:rules.placeholders.ruleName"),value:a,onChange:g=>i(g.target.value),onKeyDown:m,className:"flex-1 bg-[var(--vscode-input-background)] text-[var(--vscode-input-foreground)] border-0 outline-0 rounded focus:outline-none focus:ring-0 focus:border-transparent",style:{outline:"none"}}),s.jsx("div",{className:"flex items-center ml-2 space-x-2",children:s.jsx(xt,{appearance:"icon",type:"submit","aria-label":"Create rule file",title:"Create rule file",style:{padding:"0px"},children:s.jsx("span",{className:"codicon codicon-add text-[14px]"})})})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"flex-1 text-[var(--vscode-descriptionForeground)] bg-[var(--vscode-input-background)] italic text-xs",children:r(t==="workflow"?"kilocode:rules.newFile.newWorkflowFile":"kilocode:rules.newFile.newRuleFile")}),s.jsx("div",{className:"flex items-center ml-2 space-x-2",children:s.jsx(xt,{appearance:"icon","aria-label":"New rule file",title:"New rule file",onClick:g=>{g.stopPropagation(),o(!0)},style:{padding:"0px"},children:s.jsx("span",{className:"codicon codicon-add text-[14px]"})})})]})}),n&&c&&s.jsx("div",{className:"text-[var(--vscode-errorForeground)] text-xs mt-1 ml-2",children:c})]})},$F=({rulePath:e,enabled:t,toggleRule:r})=>{const n=()=>{R.postMessage({type:"openFile",text:e})},o=()=>{R.postMessage({type:"deleteRuleFile",rulePath:e})};return s.jsx("div",{className:"mb-2.5",children:s.jsxs("div",{className:`flex items-center p-2 rounded bg-[var(--vscode-textCodeBlock-background)] h-[18px] ${t?"opacity-100":"opacity-60"}`,children:[s.jsx("span",{className:"flex-1 overflow-hidden break-all whitespace-normal flex items-center mr-1",title:e,children:s.jsx("span",{className:"ph-no-capture",children:BN(e)})}),s.jsxs("div",{className:"flex items-center ml-2 space-x-2",children:[s.jsx("div",{role:"switch","aria-checked":t,tabIndex:0,className:`w-[20px] h-[10px] rounded-[5px] relative cursor-pointer transition-colors duration-200 flex items-center ${t?"bg-[var(--vscode-testing-iconPassed)] opacity-90":"bg-[var(--vscode-titleBar-inactiveForeground)] opacity-50"}`,onClick:()=>r(e,!t),onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),r(e,!t))},children:s.jsx("div",{className:`w-[8px] h-[8px] bg-white border border-[#66666699] rounded-full absolute transition-all duration-200 ${t?"left-[11px]":"left-[1px]"}`})}),s.jsx(xt,{appearance:"icon","aria-label":"Edit rule file",title:"Edit rule file",onClick:n,style:{height:"20px"},children:s.jsx("span",{className:"codicon codicon-edit",style:{fontSize:"14px"}})}),s.jsx(xt,{appearance:"icon","aria-label":"Delete rule file",title:"Delete rule file",onClick:o,style:{height:"20px"},children:s.jsx("span",{className:"codicon codicon-trash",style:{fontSize:"14px"}})})]})]})})},Db=({rules:e,toggleRule:t,isGlobal:r,ruleType:n})=>s.jsxs("div",{className:"flex flex-col gap-0",children:[e.length>0&&e.map(([o,a])=>s.jsx($F,{rulePath:o,enabled:a,toggleRule:t},o)),s.jsx(KF,{isGlobal:r,ruleType:n})]}),HF=({type:e,globalItems:t,localItems:r,toggleGlobal:n,toggleLocal:o})=>{const{t:a}=vt(),i=e==="rule"?"kilocode:rules.sections.globalRules":"kilocode:rules.sections.globalWorkflows",l=e==="rule"?"kilocode:rules.sections.workspaceRules":"kilocode:rules.sections.workspaceWorkflows";return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-sm font-normal mb-2",children:a(i)}),s.jsx(Db,{rules:t,toggleRule:n,isGlobal:!0,ruleType:e})]}),s.jsxs("div",{style:{marginBottom:-10},children:[s.jsx("div",{className:"text-sm font-normal mb-2",children:a(l)}),s.jsx(Db,{rules:r,toggleRule:o,isGlobal:!1,ruleType:e})]})]})},Ol=e=>Object.entries(e||{}).map(([t,r])=>[t,r]).sort(([t],[r])=>t.localeCompare(r)),Fb=({children:e,href:t,linkText:r})=>s.jsxs("p",{children:[e," ",s.jsx(Oe,{href:t,style:{display:"inline"},className:"text-xs",children:r})]}),VF=()=>{const{t:e}=vt(),[t,r]=h.useState(!1),n=h.useRef(null),o=h.useRef(null),{width:a,height:i}=Yf(),[l,c]=h.useState(0),[d,u]=h.useState(0),[p,m]=h.useState("rule"),[g,f]=h.useState([]),[x,y]=h.useState([]),[N,b]=h.useState([]),[j,v]=h.useState([]);h.useEffect(()=>{t&&R.postMessage({type:"refreshRules"})},[t]),h.useEffect(()=>{const w=T=>{const S=T.data;S.type==="rulesData"&&(f(Ol(S.localRules)),y(Ol(S.globalRules)),b(Ol(S.localWorkflows)),v(Ol(S.globalWorkflows)))};return window.addEventListener("message",w),()=>window.removeEventListener("message",w)},[]);const _=(w,T,S)=>{R.postMessage({type:"toggleRule",rulePath:T,enabled:S,isGlobal:w})},k=(w,T,S)=>{R.postMessage({type:"toggleWorkflow",workflowPath:T,enabled:S,isGlobal:w})};return qj(o,()=>{r(!1)}),h.useEffect(()=>{if(t&&n.current){const w=n.current.getBoundingClientRect(),T=w.left+w.width/2,S=document.documentElement.clientWidth-T-5;c(S),u(w.top+1)}},[t,a,i]),s.jsxs("div",{ref:o,children:[s.jsx("div",{ref:n,className:"inline-flex min-w-0 max-w-full",children:s.jsx(el,{children:s.jsxs(Lf,{open:t?!1:void 0,children:[s.jsx(Bf,{asChild:!0,children:s.jsx(c2,{iconClass:"codicon-law",ariaLabel:e("kilocode:rules.ariaLabel"),onClick:()=>r(!t)})}),s.jsx(zf,{children:e("kilocode:rules.tooltip")})]})})}),t&&s.jsxs("div",{className:"fixed left-[15px] right-[15px] border border-[var(--vscode-editorGroup-border)] p-3 rounded z-[1000] overflow-y-auto",style:{bottom:`calc(100vh - ${d}px + 6px)`,background:"var(--vscode-editor-background)",maxHeight:"calc(100vh - 100px)",overscrollBehavior:"contain"},children:[s.jsx("div",{className:"fixed w-[10px] h-[10px] z-[-1] rotate-45 border-r border-b border-[var(--vscode-editorGroup-border)]",style:{bottom:`calc(100vh - ${d}px)`,right:l,background:"var(--vscode-editor-background)"}}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:s.jsxs("div",{style:{display:"flex",gap:"1px",borderBottom:"1px solid var(--vscode-panel-border)"},children:[s.jsx(Lb,{$isActive:p==="rule",onClick:()=>m("rule"),children:e("kilocode:rules.tabs.rules")}),s.jsx(Lb,{$isActive:p==="workflow",onClick:()=>m("workflow"),children:e("kilocode:rules.tabs.workflows")})]})}),s.jsx("div",{className:"text-xs text-[var(--vscode-descriptionForeground)] mb-4",children:p==="rule"?s.jsx(Fb,{href:"https://kilo.ai/docs/advanced-usage/custom-rules",linkText:e("kilocode:docs"),children:e("kilocode:rules.description.rules")}):s.jsxs(Fb,{href:"https://kilo.ai/docs/features/slash-commands/workflows",linkText:e("kilocode:docs"),children:[e("kilocode:rules.description.workflows")," ",s.jsx("span",{className:"text-[var(--vscode-foreground)] font-bold",children:"/workflow-name"})," ",e("kilocode:rules.description.workflowsInChat")]})}),s.jsx(HF,{type:p,globalItems:p==="rule"?x:j,localItems:p==="rule"?g:N,toggleGlobal:(w,T)=>p==="rule"?_(!0,w,T):k(!0,w,T),toggleLocal:(w,T)=>p==="rule"?_(!1,w,T):k(!1,w,T)})]})]})},Lb=Js.button`
	background: none;
	border: none;
	border-bottom: 2px solid ${e=>e.$isActive?"var(--vscode-foreground)":"transparent"};
	color: ${e=>e.$isActive?"var(--vscode-foreground)":"var(--vscode-descriptionForeground)"};
	padding: 8px 16px;
	cursor: pointer;
	font-size: 13px;
	margin-bottom: -1px;
	font-family: inherit;

	&:hover {
		color: var(--vscode-foreground);
	}
`,fi=e=>{if(!e)return"";const[t,r]=e.split(":"),n=t.includes("/")?t.split("/")[0]:"",o=t.includes("/")?t.split("/")[1]:t,a=n?n.charAt(0).toUpperCase()+n.slice(1):"",i=o.split("-").filter(Boolean).map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" "),l=r?`(${r.charAt(0).toUpperCase()+r.slice(1)})`:"";return[[a,i].filter(Boolean).join(" / "),l].join(" ")},GF=e=>{if(!e)return{preferredModelIds:[],restModelIds:[]};const t=[],r=[];for(const[n,o]of Object.entries(e))Number.isInteger(o.preferredIndex)&&t.push(n);t.sort((n,o)=>{const a=e[n],i=e[o];return(a.preferredIndex??0)-(i.preferredIndex??0)});for(const[n]of Object.entries(e))t.includes(n)||r.push(n);return r.sort((n,o)=>n.localeCompare(o)),{preferredModelIds:t,restModelIds:r}},d2=e=>h.useMemo(()=>GF(e),[e]),QF=({currentApiConfigName:e,apiConfiguration:t,fallbackText:r,virtualQuotaActiveModel:n})=>{const{t:o}=re(),{provider:a,providerModels:i,providerDefaultModel:l,isLoading:c,isError:d}=dx(t),u=WN({provider:a,apiConfiguration:t,defaultModelId:l}),p=bd({provider:a}),m=t.profileType==="autocomplete",{preferredModelIds:g,restModelIds:f}=d2(i),x=h.useMemo(()=>{var _,k;const b=[],j=[...g,...f],v=u&&!j.includes(u);return g.length>0&&(b.push({value:"__label_recommended__",label:o("settings:modelPicker.recommendedModels"),type:Jt.LABEL}),g.forEach(w=>{var T;b.push({value:w,label:((T=i[w])==null?void 0:T.displayName)??fi(w),type:Jt.ITEM})})),f.length>0?(b.push({value:"__label_all__",label:o("settings:modelPicker.allModels"),type:Jt.LABEL}),v&&b.push({value:u,label:((_=i[u])==null?void 0:_.displayName)??fi(u),type:Jt.ITEM}),f.forEach(w=>{var T;b.push({value:w,label:((T=i[w])==null?void 0:T.displayName)??fi(w),type:Jt.ITEM})})):v&&b.push({value:u,label:((k=i[u])==null?void 0:k.displayName)??fi(u),type:Jt.ITEM}),b},[g,f,i,u,o]),y=c||d||m,N=b=>{e&&t[p]!==b&&R.postMessage({type:"upsertApiConfiguration",text:e,apiConfiguration:{...t,[p]:b,openRouterSpecificProvider:Mi}})};return c?null:a==="virtual-quota-fallback"&&n?s.jsxs("span",{className:"text-xs text-vscode-descriptionForeground opacity-70 truncate",children:[fi(n.id),n.activeProfileNumber!==void 0&&s.jsxs(s.Fragment,{children:[" (",n.activeProfileNumber,")"]})]}):d||m||x.length<=0?s.jsx("span",{className:"text-xs text-vscode-descriptionForeground opacity-70 truncate",children:r}):s.jsx(Df,{value:u,disabled:y,title:o("chat:selectApiConfig"),options:x,onChange:N,contentClassName:"max-h-[300px] overflow-y-auto",triggerClassName:Z("w-full text-ellipsis overflow-hidden p-0","bg-transparent border-transparent hover:bg-transparent hover:border-transparent"),triggerIcon:!1,itemClassName:"group"})},YF=()=>{const{currentApiConfigName:e,apiConfiguration:t,virtualQuotaActiveModel:r}=Ye(),{id:n,provider:o}=Bn(t);return t?s.jsx(s.Fragment,{children:s.jsx("div",{className:"w-auto overflow-hidden","data-testid":"model-selector",children:s.jsx(QF,{currentApiConfigName:e,apiConfiguration:t,fallbackText:`${o}:${n}`,virtualQuotaActiveModel:r?{id:r.id,name:r.id,activeProfileNumber:r.activeProfileNumber}:void 0})})}):null},ux=({showApiConfig:e=!1})=>{const{t}=re(),r=()=>{R.postMessage({type:"showFeedbackOptions"})};return s.jsxs("div",{className:"flex flex-row w-auto items-center justify-between h-[30px] mx-3.5 mt-2.5 mb-1 gap-1",children:[s.jsx("div",{className:"flex flex-item flex-row justify-start gap-1 grow overflow-hidden",children:e&&s.jsx(YF,{})}),s.jsx("div",{className:"flex flex-row justify-end w-auto",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(VF,{}),s.jsx(c2,{iconClass:"codicon-feedback",title:t("common:feedback.title"),onClick:r})]})})]})},XF=()=>{const{t:e}=re();return s.jsxs("div",{className:"flex items-center px-4 py-2 mb-2 text-sm rounded bg-vscode-editorWarning-foreground text-vscode-editor-background",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 mr-2",children:s.jsx("span",{className:"codicon codicon-warning"})}),s.jsx("span",{children:e("chat:systemPromptWarning")})]})},JF=({warning:e})=>{const t=s.jsx(Oe,{href:"#",onClick:n=>{n.preventDefault(),window.postMessage({type:"action",action:"settingsButtonClicked",values:{section:"checkpoints"}},"*")},className:"inline"}),r=e.type==="WAIT_TIMEOUT"?"errors.wait_checkpoint_long_time":"errors.init_checkpoint_fail_long_time";return s.jsxs("div",{className:"flex items-center p-3 my-3 bg-vscode-inputValidation-warningBackground border border-vscode-inputValidation-warningBorder rounded",children:[s.jsx("span",{className:"codicon codicon-loading codicon-modifier-spin mr-2"}),s.jsx("span",{className:"text-vscode-foreground",children:s.jsx(we,{i18nKey:r,ns:"common",values:{timeout:e.timeout},components:{settingsLink:t}})})]})},ZF=()=>{const{t:e}=vt("kilocode"),t=Object.values(e("ideaSuggestionsBox.ideas",{returnObjects:!0})),r=()=>{const n=Math.floor(Math.random()*t.length),o=t[n];R.postMessage({type:"insertTextToChatArea",text:o}),os.capture(Cs.SUGGESTION_BUTTON_CLICKED,{randomIdea:o})};return s.jsxs("div",{className:"mt-4 p-3 bg-vscode-input-background rounded border border-vscode-panel-border",children:[s.jsx("p",{className:"text-sm text-vscode-descriptionForeground font-bold",children:e("ideaSuggestionsBox.newHere")}),s.jsx("p",{className:"text-sm text-vscode-descriptionForeground",children:s.jsx(we,{i18nKey:"kilocode:ideaSuggestionsBox.suggestionText",components:{suggestionButton:s.jsx("button",{onClick:r,className:"text-vscode-textLink-foreground hover:text-vscode-textLink-activeForeground cursor-pointer bg-transparent border-none p-0 font-sans"}),sendIcon:s.jsx("span",{className:"codicon codicon-send inline-block align-middle"})}})})]})},Bb="Try model",eL=()=>{const{dismissedNotificationIds:e,currentApiConfigName:t,apiConfiguration:r}=Ye(),{provider:n,providerModels:o,isLoading:a,isError:i}=dx(r),[l,c]=h.useState([]),d=l.filter(k=>!(e||[]).includes(k.id)),[u,p]=h.useState(0);h.useEffect(()=>{const k=w=>{const T=w.data;T.type==="kilocodeNotificationsResponse"&&c(T.notifications||[])};return window.addEventListener("message",k),p(Math.max(0,Math.min(u,d.length-1))),()=>{window.removeEventListener("message",k)}},[u,d.length,e]),h.useEffect(()=>{R.postMessage({type:"fetchKilocodeNotifications"})},[]);const m=k=>{R.postMessage({type:"openInBrowser",url:k.actionURL}),os.capture(Cs.NOTIFICATION_CLICKED,{actionText:k.actionText,actionURL:k.actionURL})},g=bd({provider:n}),f=k=>{R.postMessage({type:"upsertApiConfiguration",text:t,apiConfiguration:{...r,[g]:k,openRouterSpecificProvider:Mi}}),os.capture(Cs.NOTIFICATION_CLICKED,{actionText:Bb,suggestModelId:k})},x=()=>{p(k=>(k+1)%d.length)},y=()=>{p(k=>(k-1+d.length)%d.length)},N=k=>{R.postMessage({type:"dismissNotificationId",notificationId:k})},b=d[u];if(!b)return null;const j=b.action,v=b.suggestModelId,_=!a&&!i&&v&&v in o&&t&&r&&v!==r[g];return s.jsxs("div",{className:"kilocode-notifications flex flex-col mb-4",children:[s.jsxs("div",{className:"bg-vscode-editor-background border border-vscode-panel-border rounded-lg p-3 gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-vscode-foreground m-0",children:b.title}),s.jsx("button",{onClick:()=>N(b.id),className:"text-vscode-descriptionForeground hover:text-vscode-foreground p-1 cursor-pointer",title:"Dismiss notification",children:s.jsx("span",{className:"codicon codicon-close"})})]}),s.jsx("p",{className:"text-vscode-descriptionForeground",children:b.message}),(j||_)&&s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[v&&_&&s.jsx(xt,{appearance:"primary",onClick:()=>f(v),children:Bb}),j&&s.jsx(xt,{appearance:"primary",onClick:()=>m(j),children:j.actionText})]})]}),d.length>1&&s.jsxs("div",{className:"flex items-center justify-end pt-2",children:[s.jsx("button",{onClick:y,className:"text-vscode-descriptionForeground hover:text-vscode-foreground p-1 inline-flex items-center cursor-pointer",title:"Previous notification",children:s.jsx("span",{className:"codicon codicon-chevron-left"})}),s.jsxs("span",{className:"text-xs text-vscode-descriptionForeground whitespace-nowrap",children:[u+1," / ",d.length]}),s.jsx("button",{onClick:x,className:"text-vscode-descriptionForeground hover:text-vscode-foreground p-1 inline-flex items-center cursor-pointer",title:"Next notification",children:s.jsx("span",{className:"codicon codicon-chevron-right"})})]})]})},tL=({queue:e,onRemove:t,onUpdate:r})=>{const{t:n}=vt("chat"),[o,a]=h.useState({});if(e.length===0)return null;const i=(d,u)=>o[d]||{isEditing:!1,value:u},l=(d,u,p)=>{a(m=>{var g;return{...m,[d]:{isEditing:u,value:p??((g=m[d])==null?void 0:g.value)??""}}})},c=(d,u,p)=>{r(d,p),l(u,!1)};return s.jsxs("div",{className:"px-[15px] py-[10px] pr-[6px]","data-testid":"queued-messages",children:[s.jsx("div",{className:"text-vscode-descriptionForeground text-md mb-2",children:n("queuedMessages.title")}),s.jsx("div",{className:"flex flex-col gap-2 max-h-[300px] overflow-y-auto pr-2",children:e.map((d,u)=>{const p=i(d.id,d.text);return s.jsxs("div",{className:"bg-vscode-editor-background border rounded-xs p-1 overflow-hidden whitespace-pre-wrap flex-shrink-0",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"flex-grow px-2 py-1 wrap-anywhere",children:p.isEditing?s.jsx("textarea",{ref:m=>{m&&m.setSelectionRange(m.value.length,m.value.length)},value:p.value,onChange:m=>l(d.id,!0,m.target.value),onBlur:()=>c(u,d.id,p.value),onKeyDown:m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),c(u,d.id,p.value)),m.key==="Escape"&&l(d.id,!1,d.text)},className:"w-full bg-vscode-input-background text-vscode-input-foreground border border-vscode-input-border rounded px-2 py-1 resize-none focus:outline-0 focus:ring-1 focus:ring-vscode-focusBorder",placeholder:n("chat:editMessage.placeholder"),autoFocus:!0,rows:Math.min(p.value.split(`
`).length,10)}):s.jsx("div",{onClick:()=>l(d.id,!0,d.text),className:"cursor-pointer hover:bg-vscode-list-hoverBackground px-1 py-0.5 -mx-1 -my-0.5 rounded transition-colors",title:n("chat:queuedMessages.clickToEdit"),children:s.jsx(bN,{text:d.text,withShadow:!0})})}),s.jsx("div",{className:"flex",children:s.jsx(oe,{variant:"ghost",size:"icon",className:"shrink-0",onClick:m=>{m.stopPropagation(),t(u)},children:s.jsx("span",{className:"codicon codicon-trash"})})})]}),d.images&&d.images.length>0&&s.jsx(vd,{images:d.images,style:{marginTop:"8px"}})]},d.id)})})]})},Eo=20,zb=navigator.platform.toUpperCase().indexOf("MAC")>=0,sL=({isHidden:e,showAnnouncement:t,hideAnnouncement:r},n)=>{const o=h.useRef(!0),[a]=h.useState(()=>window.AUDIO_BASE_URI||""),{t:i}=re(),l=`${zb?"":"Ctrl"} + . ${i("chat:forNextMode")}, ${zb?"":"Ctrl"} + Shift + . ${i("chat:forPreviousMode")}`,{clineMessages:c,currentTaskItem:d,currentTaskTodos:u,taskHistoryFullLength:p,taskHistoryVersion:m,apiConfiguration:g,organizationAllowList:f,mode:x,setMode:y,alwaysAllowModeSwitch:N,showAutoApproveMenu:b,enableCheckpoints:j,customModes:v,telemetrySetting:_,hasSystemPromptOverride:k,historyPreviewCollapsed:w,soundEnabled:T,soundVolume:S,messageQueue:P=[],sendMessageOnEnter:I,isBrowserSessionActive:M}=Ye(),A=h.useRef(c);h.useEffect(()=>{A.current=c},[c]);const C=h.useMemo(()=>c.at(0),[c]),[H,z]=h.useState(w===void 0?!0:!w),D=h.useCallback(()=>{const Q=!H;z(Q),R.postMessage({type:"setHistoryPreviewCollapsed",bool:!Q})},[H]),Y=h.useMemo(()=>{if(u&&u.length>0){const Q=xv(c);return Q&&Q.length>0?Q:u}return xv(c)},[c,u]),U=h.useMemo(()=>g1(Fj(c.slice(1))),[c]),q=h.useMemo(()=>wE(U),[U]),[F,W]=h.useState(""),te=h.useRef(F),K=h.useRef(null),[X,G]=h.useState(!1),[J,ae]=h.useState([]),[O,pe]=h.useState(void 0),[be,xe]=h.useState(!1),[Pe,Te]=h.useState(void 0),[L,fe]=h.useState(void 0),[ne,Ve]=h.useState(!1),mt=h.useRef(null),[V,je]=h.useState({}),_e=h.useRef(),lt=h.useRef(null),Ze=h.useRef(!1),[Rt,Rs]=h.useState(!1),[$e,jt]=h.useState(!1),Me=h.useRef(""),[et,bt]=h.useState(!1),[ct,Ot]=h.useState(void 0),[Mt,ss]=h.useState(!1),[Ce,Ks]=h.useState(!1),cs=h.useRef(new Nc({max:100,ttl:1e3*60*5})),wt=h.useRef(null),Ue=h.useRef(!1),[Lt,us]=h.useState(null),ee=h.useRef(O);h.useEffect(()=>{ee.current=O},[O]),h.useEffect(()=>{te.current=F},[F]);const Le=h.useMemo(()=>!!(F&&F.trim().length>0&&O==="followup"),[F,O]);h.useEffect(()=>{Le&&R.postMessage({type:"cancelAutoApproval"})},[Le]),h.useEffect(()=>(o.current=!0,()=>{o.current=!1}),[]);const tt=h.useMemo(()=>!!g&&!kE.isProfileAllowed(g,f),[g,f]),Ae=h.useMemo(()=>c.at(-1),[c]),Zt=h.useMemo(()=>c.at(-2),[c]),kt=typeof S=="number"?S:.5,[Bt]=Wd(`${a}/notification.wav`,{volume:kt,soundEnabled:T}),[ps]=Wd(`${a}/celebration.wav`,{volume:kt,soundEnabled:T}),[Ht]=Wd(`${a}/progress_loop.wav`,{volume:kt,soundEnabled:T}),_t=h.useCallback(Q=>{if(T)switch(Q){case"notification":Bt();break;case"celebration":ps();break;case"progress_loop":Ht();break;default:console.warn(`Unknown audio type: ${Q}`)}},[T,Bt,ps,Ht]);function dt(Q){R.postMessage({type:"playTts",text:Q})}HP(()=>{if(Ae)switch(Ae.type){case"ask":Ue.current=!1;const Q=Ae.partial===!0;switch(Ae.ask){case"api_req_failed":_t("progress_loop"),G(!0),pe("api_req_failed"),xe(!0),Te(i("chat:retry.title")),fe(i("chat:startNewTask.title"));break;case"mistake_limit_reached":_t("progress_loop"),G(!1),pe("mistake_limit_reached"),xe(!0),Te(i("chat:proceedAnyways.title")),fe(i("chat:startNewTask.title"));break;case"followup":G(Q),pe("followup"),xe(!0),Te(void 0),fe(void 0);break;case"tool":G(Q),pe("tool"),xe(!Q);const ce=JSON.parse(Ae.text||"{}");switch(ce.tool){case"editedExistingFile":case"appliedDiff":case"newFileCreated":case"generateImage":Te(i("chat:save.title")),fe(i("chat:reject.title"));break;case"finishTask":Te(i("chat:completeSubtaskAndReturn")),fe(void 0);break;case"readFile":ce.batchFiles&&Array.isArray(ce.batchFiles)?(Te(i("chat:read-batch.approve.title")),fe(i("chat:read-batch.deny.title"))):(Te(i("chat:approve.title")),fe(i("chat:reject.title")));break;default:Te(i("chat:approve.title")),fe(i("chat:reject.title"));break}break;case"browser_action_launch":G(Q),pe("browser_action_launch"),xe(!Q),Te(i("chat:approve.title")),fe(i("chat:reject.title"));break;case"command":G(Q),pe("command"),xe(!Q),Te(i("chat:runCommand.title")),fe(i("chat:reject.title"));break;case"command_output":G(!1),pe("command_output"),xe(!0),Te(i("chat:proceedWhileRunning.title")),fe(i("chat:killCommand.title"));break;case"use_mcp_server":G(Q),pe("use_mcp_server"),xe(!Q),Te(i("chat:approve.title")),fe(i("chat:reject.title"));break;case"completion_result":!Q&&P.length===0&&_t("celebration"),G(Q),pe("completion_result"),xe(!Q),Te(i("chat:startNewTask.title")),fe(void 0);break;case"resume_task":G(!1),pe("resume_task"),xe(!0),(d==null?void 0:d.parentTaskId)&&c.some(De=>De.ask==="completion_result"||De.say==="completion_result")?(Te(i("chat:startNewTask.title")),fe(void 0)):(Te(i("chat:resumeTask.title")),fe(i("chat:terminate.title"))),Ve(!1);break;case"resume_completed_task":G(!1),pe("resume_completed_task"),xe(!0),Te(i("chat:startNewTask.title")),fe(void 0),Ve(!1);break;case"report_bug":Q||_t("notification"),G(Q),pe("report_bug"),xe(!Q),Te(i("chat:reportBug.title"));break;case"condense":G(Q),pe("condense"),xe(!Q),Te(i("kilocode:chat.condense.condenseConversation")),fe(void 0);break}break;case"say":switch(Ae.say){case"api_req_retry_delayed":case"api_req_rate_limit_wait":G(!0);break;case"api_req_started":(Zt==null?void 0:Zt.ask)==="command_output"&&(G(!0),ae([]),pe(void 0),xe(!1));break}break}},[Ae,Zt]),h.useEffect(()=>{O==="resume_task"&&(d!=null&&d.parentTaskId)&&c.some(ce=>ce.ask==="completion_result"||ce.say==="completion_result")&&(Te(i("chat:startNewTask.title")),fe(void 0))},[O,d==null?void 0:d.parentTaskId,c,i]),h.useEffect(()=>{c.length===0&&(G(!1),pe(void 0),xe(!1),Te(void 0),fe(void 0))},[c.length]),h.useEffect(()=>{je({}),cs.current.clear(),us(null),ss(!1),wt.current&&(clearTimeout(wt.current),wt.current=null),Ue.current=!1},[C==null?void 0:C.ts]),h.useEffect(()=>{e&&cs.current.clear()},[e]),h.useEffect(()=>{const Q=cs.current;return()=>{Q.clear()}},[]),h.useEffect(()=>{const Q=_e.current;let ce=!1;if(Q)for(const[Ge,De]of Object.entries(V)){const es=Number(Ge);if(De&&!(Q[es]??!1)){ce=!0;break}}ce&&(Ze.current=!1),_e.current=V},[V]);const ht=h.useMemo(()=>{var De,es;if(!!((De=U.at(-1))!=null&&De.ask)&&O!==void 0&&be&&Pe!==void 0)return!1;if(((es=U.at(-1))==null?void 0:es.partial)===!0)return!0;{const ds=VT(U,rs=>rs.say==="api_req_started");if(ds&&ds.text!==null&&ds.text!==void 0&&ds.say==="api_req_started"&&JSON.parse(ds.text).cost===void 0)return!0}return!1},[U,O,be,Pe]),gs=h.useCallback(()=>{const Q=A.current.findLast(ce=>ce.ask==="followup");Q&&us(Q.ts)},[]),cr=h.useCallback(()=>{wt.current&&(clearTimeout(wt.current),wt.current=null),Ue.current=!1,W(""),G(!0),ae([]),pe(void 0),xe(!1)},[]),ys=h.useCallback((Q,ce)=>{if(Q=Q.trim(),Q||ce.length>0){if(X||ht||P.length>0){try{console.log("queueMessage",Q,ce),R.postMessage({type:"queueMessage",text:Q,images:ce}),W(""),ae([])}catch(Ge){console.error(`Failed to queue message: ${Ge instanceof Error?Ge.message:String(Ge)}`)}return}if(Ue.current=!0,A.current.length===0)R.postMessage({type:"newTask",text:Q,images:ce});else if(ee.current)switch(ee.current==="followup"&&gs(),ee.current){case"followup":case"tool":case"browser_action_launch":case"command":case"command_output":case"use_mcp_server":case"completion_result":case"resume_task":case"resume_completed_task":case"mistake_limit_reached":R.postMessage({type:"askResponse",askResponse:"messageResponse",text:Q,images:ce});break}else R.postMessage({type:"askResponse",askResponse:"messageResponse",text:Q,images:ce});cr()}},[cr,gs,X,ht,P.length]),ws=h.useCallback((Q,ce)=>{let Ge=Q;F!==""&&(Ge=F+" "+Q),W(Ge),ae([...J,...ce])},[F,J]),ms=h.useCallback(()=>R.postMessage({type:"clearTask"}),[]),Or=h.useCallback((Q,ce)=>{Ue.current=!0;const Ge=Q==null?void 0:Q.trim();switch(O){case"api_req_failed":case"command":case"tool":case"browser_action_launch":case"use_mcp_server":case"mistake_limit_reached":case"report_bug":Ge||ce&&ce.length>0?(R.postMessage({type:"askResponse",askResponse:"yesButtonClicked",text:Ge,images:ce}),W(""),ae([])):R.postMessage({type:"askResponse",askResponse:"yesButtonClicked"});break;case"resume_task":(d==null?void 0:d.parentTaskId)&&A.current.some(es=>es.ask==="completion_result"||es.say==="completion_result")?ms():Ge||ce&&ce.length>0?(R.postMessage({type:"askResponse",askResponse:"yesButtonClicked",text:Ge,images:ce}),W(""),ae([])):R.postMessage({type:"askResponse",askResponse:"yesButtonClicked"});break;case"completion_result":case"resume_completed_task":ms();break;case"command_output":R.postMessage({type:"terminalOperation",terminalOperation:"continue"});break;case"condense":R.postMessage({type:"condense",text:Ae==null?void 0:Ae.text});break}G(!0),pe(void 0),xe(!1)},[O,ms,d==null?void 0:d.parentTaskId,Ae==null?void 0:Ae.text]),Dr=h.useCallback((Q,ce)=>{Ue.current=!0;const Ge=Q==null?void 0:Q.trim();if(ht){R.postMessage({type:"cancelTask"}),Ve(!0);return}switch(O){case"api_req_failed":case"mistake_limit_reached":case"resume_task":ms();break;case"command":case"tool":case"browser_action_launch":case"use_mcp_server":Ge||ce&&ce.length>0?(R.postMessage({type:"askResponse",askResponse:"noButtonClicked",text:Ge,images:ce}),W(""),ae([])):R.postMessage({type:"askResponse",askResponse:"noButtonClicked"});break;case"command_output":R.postMessage({type:"terminalOperation",terminalOperation:"abort"});break}G(!0),pe(void 0),xe(!1)},[O,ms,ht]),un=h.useCallback(()=>ms(),[ms]),{info:Fr}=Bn(g),pn=h.useCallback(()=>R.postMessage({type:"selectImages"}),[]),mn=!(Fr!=null&&Fr.supportsImages)||J.length>=Eo,kr=h.useCallback(Q=>{var Ge,De;const ce=Q.data;switch(ce.type){case"action":switch(ce.action){case"didBecomeVisible":!e&&!X&&!be&&((Ge=K.current)==null||Ge.focus());break;case"focusInput":(De=K.current)==null||De.focus();break}break;case"selectedImages":ce.context!=="edit"&&ae(es=>f1(es,ce.images,Eo));break;case"invoke":switch(ce.invoke){case"newChat":cr();break;case"sendMessage":ys(ce.text??"",ce.images??[]);break;case"setChatBoxMessage":ws(ce.text??"",ce.images??[]);break;case"primaryButtonClick":Or(ce.text??"",ce.images??[]);break;case"secondaryButtonClick":Dr(ce.text??"",ce.images??[]);break}break;case"condenseTaskContextStarted":ce.text&&ss(!0);break;case"condenseTaskContextResponse":ce.text&&(Mt&&X&&G(!1),ss(!1));break;case"checkpointInitWarning":Ot(ce.checkpointWarning);break;case"interactionRequired":_t("notification");break}},[Mt,e,X,be,cr,ys,ws,Or,Dr,Ot,_t]);Us("message",kr);const Zs=h.useMemo(()=>{const Q=new Set;U.forEach(De=>{De.say==="user_feedback"&&De.checkpoint&&De.checkpoint.type==="user_message"&&De.checkpoint.hash&&Q.add(De.checkpoint.hash)});const ce=U.filter(De=>{var es,ds;if(De.say==="checkpoint_saved"&&(De.checkpoint&&typeof De.checkpoint=="object"&&"suppressMessage"in De.checkpoint&&De.checkpoint.suppressMessage||De.text&&Q.has(De.text)))return!1;if(cs.current.has(De.ts)){const rs=["api_req_failed","resume_task","resume_completed_task"],tr=["api_req_finished","api_req_retried","api_req_deleted","mcp_server_request_started"];return!(De.ask&&rs.includes(De.ask)||De.say&&tr.includes(De.say)||De.say==="text"&&(De.text??"")===""&&(((es=De.images)==null?void 0:es.length)??0)===0)}switch(De.ask){case"completion_result":if(De.text==="")return!1;break;case"api_req_failed":case"resume_task":case"resume_completed_task":return!1}switch(De.say){case"api_req_finished":case"api_req_retried":case"api_req_deleted":return!1;case"api_req_retry_delayed":case"api_req_rate_limit_wait":const rs=U.at(-1),tr=U.at(-2);if((rs==null?void 0:rs.ask)==="resume_task"&&tr===De)return!0;if(De!==rs)return!1;break;case"text":if((De.text??"")===""&&(((ds=De.images)==null?void 0:ds.length)??0)===0)return!1;break;case"mcp_server_request_started":return!1}return!0}),Ge=Math.max(0,ce.length-100);return ce.slice(Ge).forEach(De=>cs.current.set(De.ts,!0)),ce},[U]);h.useEffect(()=>{const Q=setInterval(()=>{const ce=cs.current,Ge=new Set(U.map(ds=>ds.ts)),De=Zs.slice(Math.max(0,Zs.length-100)),es=new Set(De.map(ds=>ds.ts));ce.forEach((ds,rs)=>{!Ge.has(rs)&&!es.has(rs)&&ce.delete(rs)})},6e4);return()=>clearInterval(Q)},[U,Zs]),h1(()=>{var Q;!e&&!X&&!be&&((Q=K.current)==null||Q.focus())},50,[e,X,be]),h.useEffect(()=>{if(Ae&&c.length>1&&typeof Ae.text=="string"&&(Ae.say==="text"||Ae.say==="completion_result")&&!Ae.partial&&typeof Ae.text=="string"&&!Ae.text.startsWith("{")){let Q=(Ae==null?void 0:Ae.text)||"";const ce=/```mermaid[\s\S]*?```/g;if(Q=Q.replace(ce,""),Q=gE(Q),Q!==Me.current)try{dt(Q),Me.current=Q}catch(Ge){console.error("Failed to execute text-to-speech:",Ge)}}bt(ht)},[ht,Ae,et,c.length]);const er=h.useMemo(()=>{for(let Q=0;Q<c.length;Q++)if(c[Q].ask==="browser_action_launch")return Q;return-1},[c]);h.useMemo(()=>er===-1?[]:c.slice(er),[er,c]);const Tn=h.useMemo(()=>!!(C&&(er!==-1||M)),[C,er,M]),jr=h.useCallback(Q=>Q.type==="ask"&&Q.ask==="browser_action_launch"||Q.type==="say"&&Q.say==="browser_action_result",[]),$s=h.useMemo(()=>{const Q=Zs.filter(ce=>!jr(ce));return Mt&&Q.push({type:"say",say:"condense_context",ts:Date.now(),partial:!0}),Q},[Mt,Zs,jr]),Ps=h.useMemo(()=>c1(()=>{var Q;return(Q=mt.current)==null?void 0:Q.scrollTo({top:Number.MAX_SAFE_INTEGER,behavior:"smooth"})},10,{immediate:!0}),[]);h.useEffect(()=>()=>{Ps&&typeof Ps.cancel=="function"&&Ps.cancel()},[Ps]);const dr=h.useCallback(()=>{var Q;(Q=mt.current)==null||Q.scrollTo({top:Number.MAX_SAFE_INTEGER,behavior:"auto"})},[]),Hs=h.useRef(),[Lr,hn]=h.useState(null),B=h.useCallback(Q=>{var ce;hn(Q),(ce=mt.current)==null||ce.scrollToIndex({index:Q,align:"end",behavior:"smooth"}),Hs.current&&clearTimeout(Hs.current),Hs.current=setTimeout(()=>{hn(null),Hs.current=void 0},1e3)},[]);h.useEffect(()=>()=>{Hs.current&&clearTimeout(Hs.current)},[]);const he=h.useCallback((Q,ce)=>{je(Ge=>({...Ge,[Q]:ce===void 0?!Ge[Q]:ce}))},[je]),ge=h.useCallback(Q=>{he(Q)},[he]),Ee=h.useCallback(Q=>{$e&&(Q?Ps():setTimeout(()=>dr(),0))},[Ps,dr,$e]),rt=h.useCallback(Q=>{var Ge;const ce=Q;ce.deltaY<0&&((Ge=lt.current)!=null&&Ge.contains(ce.target))&&(Ze.current=!1)},[]);Us("wheel",rt,window,{passive:!0}),h.useEffect(()=>{const Q=lt.current;if(!Q)return;const ce=()=>{const Ge=Math.abs(Q.scrollHeight-Q.scrollTop-Q.clientHeight)<10;Ge||(Ze.current=!1),Rs(!Ge)};return Q.addEventListener("scroll",ce,{passive:!0}),()=>Q.removeEventListener("scroll",ce)},[]),h.useEffect(()=>{(e||!C)&&Ot(void 0)},[U.length,ht,e,C]);const Vt=i(C?"chat:typeMessage":"chat:typeTask"),Ct=h.useCallback(Q=>{y(Q),R.postMessage({type:"mode",text:Q})},[y]),zt=h.useCallback((Q,ce)=>{if(ce&&(Ue.current=!0),O==="followup"&&!(ce!=null&&ce.shiftKey)&&gs(),Q.mode&&(ce||N)&&Ct(Q.mode),ce!=null&&ce.shiftKey)W(Ge=>Ge!==""?`${Ge} 
${Q.answer}`:Q.answer);else{const Ge=te.current;ys(Q.answer,[]),W(Ge)}},[ys,W,Ct,N,O,gs]),Os=h.useCallback(Q=>{R.postMessage({type:"askResponse",askResponse:"objectResponse",text:JSON.stringify(Q)})},[]),Vs=h.useCallback((Q,ce)=>{const Ge=U.some(De=>De.say==="checkpoint_saved");if(ce.type==="say"&&ce.say==="browser_action"){const De=U.find(tr=>tr.ts>ce.ts&&tr.say==="browser_action_result"),es=U.filter(tr=>tr.say==="browser_action"),ds=es.findIndex(tr=>tr.ts===ce.ts)+1,rs=es.length;return s.jsx(rN,{message:ce,nextMessage:De,actionIndex:ds,totalActions:rs},ce.ts)}return ce.type==="say"&&ce.say==="browser_session_status"?s.jsx(nN,{message:ce},ce.ts):s.jsx(bD,{message:ce,isExpanded:V[ce.ts]||!1,onToggleExpand:ge,lastModifiedMessage:U.at(-1),isLast:Q===$s.length-1,onHeightChange:Ee,isStreaming:ht,onSuggestionClick:zt,onBatchFileResponse:Os,highlighted:Lr===Q,enableCheckpoints:j,isFollowUpAnswered:ce.isAnswered===!0||ce.ts===Lt,isFollowUpAutoApprovalPaused:Le,editable:ce.type==="ask"&&ce.ask==="tool"&&(()=>{var es;let De={};try{De=JSON.parse(ce.text||"{}")}catch{(es=ce.text)!=null&&es.includes("updateTodoList")&&(De={tool:"updateTodoList"})}return De.tool==="updateTodoList"&&be&&!!Pe})(),hasCheckpoint:Ge},ce.ts)},[V,ge,U,$s.length,Ee,ht,zt,Os,Lr,j,Lt,Le,be,Pe]),Br=h.useCallback(()=>{const Q=ho(v),Ge=(Q.findIndex(De=>De.slug===x)+1)%Q.length;Ct(Q[Ge].slug)},[x,v,Ct]),_r=h.useCallback(()=>{const Q=ho(v),Ge=(Q.findIndex(De=>De.slug===x)-1+Q.length)%Q.length;Ct(Q[Ge].slug)},[x,v,Ct]),Is=h.useCallback(Q=>{(Q.metaKey||Q.ctrlKey)&&Q.key==="."&&(Q.preventDefault(),Q.shiftKey?_r():Br())},[Br,_r]);h.useEffect(()=>(window.addEventListener("keydown",Is),window.addEventListener("wheel",rt,{passive:!0}),()=>{window.removeEventListener("keydown",Is),window.removeEventListener("wheel",rt)}),[Is,rt]),h.useImperativeHandle(n,()=>({acceptInput:()=>{be&&Pe?Or(F,J):!X&&!tt&&(F.trim()||J.length>0)&&ys(F,J)},focusInput:()=>{K.current&&K.current.focus()}}));const di=Q=>{Mt||X||(ss(!0),G(!0),R.postMessage({type:"condenseTaskContextRequest",text:Q}))},ko=Rt||Pe||L||ht,Un=_==="unset";return s.jsxs("div",{"data-testid":"chat-view",className:e?"hidden":"fixed top-0 left-0 right-0 max-w-5xl mx-auto bottom-0 flex flex-col overflow-hidden",children:[(t||Ce)&&s.jsx(j5,{hideAnnouncement:()=>{Ce&&Ks(!1),t&&r()}}),C?s.jsxs(s.Fragment,{children:[s.jsx(DF,{task:C,tokensIn:q.totalTokensIn,tokensOut:q.totalTokensOut,cacheWrites:q.totalCacheWrites,cacheReads:q.totalCacheReads,totalCost:q.totalCost,contextTokens:q.contextTokens,buttonsDisabled:X,handleCondenseContext:di,onClose:un,groupedMessages:$s,onMessageClick:B,isTaskActive:X,todos:Y}),k&&s.jsx("div",{className:"px-3",children:s.jsx(XF,{})}),ct&&s.jsx("div",{className:"px-3",children:s.jsx(JF,{warning:ct})})]}):s.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto flex flex-col gap-4 relative",children:[p!==0&&s.jsx("div",{className:"flex text-vscode-descriptionForeground w-full mx-auto px-5 pt-3",children:s.jsxs("div",{className:"flex items-center gap-1 cursor-pointer",onClick:D,children:[p<10&&s.jsx("span",{className:"font-medium text-xs ",children:i("history:recentTasks")}),s.jsx("span",{className:`codicon  ${H?"codicon-eye":"codicon-eye-closed"} scale-90`})]})}),!Un&&s.jsx("div",{children:s.jsx(Yg,{className:"absolute top-2 right-3"})}),s.jsxs("div",{className:"w-full h-full flex flex-col gap-4 px-3.5 transition-all duration-300",children:[Un&&s.jsx(QR,{}),!Un&&s.jsx("div",{className:p===0?"mt-10":void 0,children:s.jsx(eL,{})}),s.jsxs("div",{className:"flex flex-grow flex-col justify-center gap-4",children:[s.jsx("p",{className:"text-vscode-editor-foreground leading-normal font-vscode-font-family text-center text-balance max-w-[380px] mx-auto my-0",children:s.jsx(we,{i18nKey:"chat:about",components:{DocsLink:s.jsx("a",{href:St(""),target:"_blank",rel:"noopener noreferrer",children:"the docs"})}})}),p===0&&s.jsx(ZF,{})," ",p>0&&H&&s.jsx(l5,{taskHistoryVersion:m})]})]})]}),!C&&b&&s.jsx("div",{className:"mb-1 flex-initial min-h-0",children:s.jsx(Ob,{})}),C&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grow flex flex-col min-h-0",ref:lt,children:s.jsx("div",{className:"flex-auto min-h-0",children:s.jsx(Qf,{ref:mt,className:"scrollable grow overflow-y-scroll mb-1",increaseViewportBy:{top:400,bottom:400},data:$s,itemContent:Vs,followOutput:Q=>Q||Ze.current,atBottomStateChange:Q=>{jt(Q),Rs(!Q)},atBottomThreshold:10,initialTopMostItemIndex:$s.length-1},C.ts)})}),s.jsx("div",{className:`flex-initial min-h-0 ${ko?"":"mb-1"}`,children:b&&s.jsx(Ob,{})}),ko&&s.jsx("div",{className:`flex h-9 items-center mb-1 px-[15px] ${Rt||be||ht&&!ne?"opacity-100":"opacity-50"}`,children:Rt?s.jsx(ue,{content:i("chat:scrollToBottom"),children:s.jsx(xt,{className:"flex-[2]",onClick:()=>{Ze.current=!0,dr(),Rs(!1)},children:s.jsx("span",{className:"codicon codicon-chevron-down"})})}):s.jsxs(s.Fragment,{children:[Pe&&!ht&&s.jsx(ue,{content:Pe===i("chat:retry.title")?i("chat:retry.tooltip"):Pe===i("chat:save.title")?i("chat:save.tooltip"):Pe===i("chat:approve.title")?i("chat:approve.tooltip"):Pe===i("chat:runCommand.title")?i("chat:runCommand.tooltip"):Pe===i("chat:startNewTask.title")?i("chat:startNewTask.tooltip"):Pe===i("chat:resumeTask.title")?i("chat:resumeTask.tooltip"):Pe===i("chat:proceedAnyways.title")?i("chat:proceedAnyways.tooltip"):Pe===i("chat:proceedWhileRunning.title")?i("chat:proceedWhileRunning.tooltip"):void 0,children:s.jsx(xt,{disabled:!be,className:L?"flex-1 mr-[6px]":"flex-[2] mr-0",onClick:()=>Or(F,J),children:Pe})}),(L||ht)&&s.jsx(ue,{content:ht?i("chat:cancel.tooltip"):L===i("chat:startNewTask.title")?i("chat:startNewTask.tooltip"):L===i("chat:reject.title")?i("chat:reject.tooltip"):L===i("chat:terminate.title")?i("chat:terminate.tooltip"):void 0,children:s.jsx(xt,{disabled:!be&&!(ht&&!ne),className:ht?"flex-[2] ml-0":"flex-1 ml-[6px]",onClick:()=>Dr(F,J),children:ht?i("chat:cancel.title"):L})})]})})]}),s.jsx(tL,{queue:P,onRemove:Q=>{P[Q]&&R.postMessage({type:"removeQueuedMessage",text:P[Q].id})},onUpdate:(Q,ce)=>{P[Q]&&R.postMessage({type:"editQueuedMessage",payload:{id:P[Q].id,text:ce,images:P[Q].images}})}}),s.jsx(qN,{ref:K,inputValue:F,setInputValue:W,sendingDisabled:X||tt,selectApiConfigDisabled:X&&O!=="api_req_failed",placeholderText:Vt,selectedImages:J,setSelectedImages:ae,onSend:()=>ys(F,J),onSelectImages:pn,shouldDisableImages:mn,onHeightChange:()=>{$e&&dr()},mode:x,setMode:y,modeShortcutText:l,sendMessageOnEnter:I,showBrowserDockToggle:Tn}),s.jsx(ux,{showApiConfig:!0}),s.jsx("div",{id:"roo-portal"})]})},rL=h.forwardRef(sL),nL=({taskIds:e,...t})=>{const{t:r}=re(),{data:n}=eN(e),{onOpenChange:o}=t,a=(n==null?void 0:n.filter(c=>e.includes(c.id)&&c.isFavorited))??[],i=a.length>0,l=h.useCallback(()=>{e.length>0&&(R.postMessage({type:"deleteMultipleTasksWithIds",ids:e}),o==null||o(!1))},[e,o]);return s.jsx(en,{...t,children:s.jsxs(tn,{className:"max-w-md",children:[s.jsxs(sn,{children:[s.jsx(nn,{children:r("history:deleteTasks")}),s.jsxs(on,{className:"text-vscode-foreground",children:[s.jsx("div",{className:"mb-2",children:r("history:confirmDeleteTasks",{count:e.length})}),i&&s.jsx("div",{className:"text-yellow-500 mb-2",children:r("history:deleteTasksFavoritedWarning",{count:a.length})}),s.jsx("div",{className:"text-vscode-editor-foreground bg-vscode-editor-background p-2 rounded text-sm",children:r("history:deleteTasksWarning")})]})]}),s.jsxs(rn,{children:[s.jsx(an,{asChild:!0,children:s.jsx(oe,{variant:"secondary",children:r("history:cancel")})}),s.jsx(Cr,{asChild:!0,children:s.jsxs(oe,{variant:"destructive",onClick:l,children:[s.jsx("span",{className:"codicon codicon-trash mr-1"}),r("history:deleteItems",{count:e.length})]})})]})]})})},ra=({className:e,children:t,...r})=>s.jsx("div",{className:Z("fixed inset-0 bottom-9 flex flex-col",e),...r,children:t}),hl=({className:e,children:t,...r})=>s.jsx("div",{className:Z("px-5 py-2.5 border-b border-vscode-panel-border",e),...r,children:t}),na=h.forwardRef(({className:e,children:t,...r},n)=>{const{renderContext:o}=Ye(),a=h.useCallback(i=>{if(o!=="editor")return;const l=i.target;l.role==="listbox"||l.role==="option"||(i.currentTarget.scrollTop+=i.deltaY)},[o]);return s.jsx("div",{ref:n,className:Z("flex-1 overflow-auto p-5",e),onWheel:a,...r,children:t})});na.displayName="TabContent";const oL=h.forwardRef(({children:e,className:t,value:r,onValueChange:n,...o},a)=>s.jsx("div",{ref:a,role:"tablist",className:Z("flex",t),...o,children:Qe.Children.map(e,i=>Qe.isValidElement(i)?Qe.cloneElement(i,{isSelected:i.props.value===r,onSelect:()=>n(i.props.value)}):i)})),aL=h.forwardRef(({children:e,className:t,value:r,isSelected:n,onSelect:o,...a},i)=>s.jsx("button",{ref:i,role:"tab","aria-selected":n,tabIndex:n?0:-1,className:Z("focus:outline-none focus:ring-2 focus:ring-vscode-focusBorder",t),onClick:o,...a,children:e})),iL=()=>{const{taskHistoryFullLength:e,taskHistoryVersion:t}=Ye(),[r,n]=h.useState(""),[o,a]=h.useState("newest"),[i,l]=h.useState("newest"),[c,d]=h.useState(!1),[u,p]=h.useState(0),[m,g]=h.useState(!1),{data:f}=Xg({workspace:c?"all":"current",sort:o,favoritesOnly:m,pageIndex:u,search:r},t);return h.useEffect(()=>{r&&o!=="mostRelevant"&&!i?(l(o),a("mostRelevant")):!r&&o==="mostRelevant"&&i&&(a(i),l(null))},[r,o,i]),{tasks:(f==null?void 0:f.historyItems)??[],searchQuery:r,setSearchQuery:n,sortOption:o,setSortOption:a,lastNonRelevantSort:i,setLastNonRelevantSort:l,showAllWorkspaces:c,setShowAllWorkspaces:d,data:f,taskHistoryFullLength:e,showFavoritesOnly:m,setShowFavoritesOnly:g,requestedPageIndex:u,setRequestedPageIndex:p}},lL=({onDone:e})=>{const{data:t,searchQuery:r,setSearchQuery:n,sortOption:o,setSortOption:a,setLastNonRelevantSort:i,showAllWorkspaces:l,setShowAllWorkspaces:c,taskHistoryFullLength:d,showFavoritesOnly:u,setShowFavoritesOnly:p,setRequestedPageIndex:m}=iL(),g=(t==null?void 0:t.historyItems)??[],f=(t==null?void 0:t.pageIndex)??0,x=(t==null?void 0:t.pageCount)??1,{t:y}=re(),[N,b]=h.useState(null),[j,v]=h.useState(!1),[_,k]=h.useState([]),[w,T]=h.useState(!1),S=()=>{v(!j),j&&k([])},P=(A,C)=>{k(C?H=>[...H,A]:H=>H.filter(z=>z!==A))},I=A=>{k(A?g.map(C=>C.id):[])},M=()=>{_.length>0&&T(!0)};return s.jsxs(ra,{children:[s.jsxs(hl,{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-vscode-foreground m-0",children:y("history:history")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{content:j?`${y("history:exitSelectionMode")}`:`${y("history:enterSelectionMode")}`,children:s.jsxs(oe,{variant:j?"primary":"secondary",onClick:S,"data-testid":"toggle-selection-mode-button",children:[s.jsx("span",{className:`codicon ${j?"codicon-check-all":"codicon-checklist"} mr-1`}),y(j?"history:exitSelection":"history:selectionMode")]})}),s.jsx(oe,{onClick:e,children:y("history:done")})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(de,{className:"w-full",placeholder:y("history:searchPlaceholder"),value:r,"data-testid":"history-search-input",onInput:A=>{var H;const C=(H=A.target)==null?void 0:H.value;n(C),C&&!r&&o!=="mostRelevant"&&(i(o),a("mostRelevant"))},children:[s.jsx("div",{slot:"start",className:"codicon codicon-search mt-0.5 opacity-80 text-sm!"}),r&&s.jsx("div",{className:"input-icon-button codicon codicon-close flex justify-center items-center h-full","aria-label":"Clear search",onClick:()=>n(""),slot:"end"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ut,{value:l?"all":"current",onValueChange:A=>c(A==="all"),children:[s.jsx(Kt,{className:"flex-1",children:s.jsxs(Wt,{children:[y("history:workspace.prefix")," ",y(`history:workspace.${l?"all":"current"}`)]})}),s.jsxs($t,{children:[s.jsx(ze,{value:"current",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-folder"}),y("history:workspace.current")]})}),s.jsx(ze,{value:"all",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-folder-opened"}),y("history:workspace.all")]})})]})]}),s.jsxs(Ut,{value:o,onValueChange:A=>a(A),children:[s.jsx(Kt,{className:"flex-1",children:s.jsxs(Wt,{children:[y("history:sort.prefix")," ",y(`history:sort.${o}`)]})}),s.jsxs($t,{children:[s.jsx(ze,{value:"newest","data-testid":"select-newest",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-arrow-down"}),y("history:newest")]})}),s.jsx(ze,{value:"oldest","data-testid":"select-oldest",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-arrow-up"}),y("history:oldest")]})}),s.jsx(ze,{value:"mostExpensive","data-testid":"select-most-expensive",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-credit-card"}),y("history:mostExpensive")]})}),s.jsx(ze,{value:"mostTokens","data-testid":"select-most-tokens",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-symbol-numeric"}),y("history:mostTokens")]})}),s.jsx(ze,{value:"mostRelevant",disabled:!r,"data-testid":"select-most-relevant",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-search"}),y("history:mostRelevant")]})})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bc,{id:"show-favorites-only",checked:u,onCheckedChange:A=>p(A===!0),variant:"description"}),s.jsx("label",{htmlFor:"show-favorites-only",className:"text-vscode-foreground cursor-pointer",children:y("history:showFavoritesOnly")})]}),j&&g.length>0&&s.jsx("div",{className:"flex items-center py-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bc,{checked:g.length>0&&_.length===g.length,onCheckedChange:A=>I(A===!0),variant:"description"}),s.jsx("span",{className:"text-vscode-foreground",children:_.length===g.length?y("history:deselectAll"):y("history:selectAll")}),s.jsx("span",{className:"ml-auto text-vscode-descriptionForeground text-xs",children:y("history:selectedItems",{selected:_.length,total:d})})]})})]})]}),s.jsx(na,{className:"px-2 py-0",children:s.jsx(Qf,{className:"flex-1 overflow-y-scroll",data:g,"data-testid":"virtuoso-container",initialTopMostItemIndex:0,components:{List:Qe.forwardRef((A,C)=>s.jsx("div",{...A,ref:C,"data-testid":"virtuoso-item-list"}))},itemContent:(A,C)=>s.jsx(Z_,{item:C,variant:"full",showWorkspace:l,isSelectionMode:j,isSelected:_.includes(C.id),onToggleSelection:P,onDelete:b,className:"m-2"},C.id)})}),s.jsxs("div",{className:"bg-vscode-editor-background",children:[j&&_.length>0&&s.jsxs("div",{className:"border-t border-vscode-panel-border p-2 flex justify-between items-center",children:[s.jsx("div",{className:"text-vscode-foreground",children:y("history:selectedItems",{selected:_.length,total:d})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(oe,{variant:"secondary",onClick:()=>k([]),children:y("history:clearSelection")}),s.jsx(oe,{variant:"primary",onClick:M,children:y("history:deleteSelected")})]})]}),s.jsxs("div",{className:"border-t border-b border-vscode-panel-border p-2 flex justify-between items-center",children:[y("kilocode:pagination.page",{page:f+1,count:x}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(oe,{disabled:f<=0,onClick:()=>{f>0&&m(f-1)},children:y("kilocode:pagination.previous")}),s.jsx(oe,{disabled:f>=x-1,onClick:()=>{f<x-1&&m(f+1)},children:y("kilocode:pagination.next")})]})]})]}),N&&s.jsx($N,{taskId:N,onOpenChange:A=>!A&&b(null),open:!0}),w&&s.jsx(nL,{taskIds:_,open:w,onOpenChange:A=>{A||(T(!1),k([]),v(!1))}}),s.jsx("div",{className:"fixed bottom-0 right-0",children:s.jsx(ux,{})})]})},cL=h.memo(lL);function dL(){document.body.style.pointerEvents==="none"&&(document.body.style.pointerEvents="")}const Ss=({description:e,children:t,className:r,...n})=>s.jsxs("div",{className:Z("sticky top-0 z-10 text-vscode-sideBar-foreground bg-vscode-sideBar-background brightness-90 px-5 py-4",r),...n,children:[s.jsx("h4",{className:"m-0",children:t}),e&&s.jsx("p",{className:"text-vscode-descriptionForeground text-sm mt-2 mb-0",children:e})]}),uL=({currentApiConfigName:e="",activeApiConfigName:t,listApiConfigMeta:r=[],organizationAllowList:n,onSelectConfig:o,onActivateConfig:a,onDeleteConfig:i,onRenameConfig:l,onUpsertConfig:c})=>{const{t:d}=re(),[u,p]=h.useState(!1),[m,g]=h.useState(!1),[f,x]=h.useState(""),[y,N]=h.useState(""),[b,j]=h.useState("chat"),[v,_]=h.useState(null),k=h.useRef(null),w=h.useRef(null),T=F=>{if(!n||n.allowAll)return!0;const W=F.apiProvider;if(!W)return!0;const te=n.providers[W];return te?!!te.allowAll||!!(te.models&&te.models.length>0):!1},S=(F,W)=>{const te=F.trim();if(!te)return d("settings:providers.nameEmpty");const K=r==null?void 0:r.some(X=>X.name.toLowerCase()===te.toLowerCase());return W&&K||!W&&K&&te.toLowerCase()!==(e==null?void 0:e.toLowerCase())?d("settings:providers.nameExists"):null},P=()=>{g(!1),N(""),j("chat"),_(null)},I=()=>{p(!1),x(""),_(null)};h.useEffect(()=>{if(u){const F=setTimeout(()=>{var W;return(W=k.current)==null?void 0:W.focus()},0);return()=>clearTimeout(F)}},[u]),h.useEffect(()=>{if(m){const F=setTimeout(()=>{var W;return(W=w.current)==null?void 0:W.focus()},0);return()=>clearTimeout(F)}},[m]),h.useEffect(()=>{P(),I()},[e]);const M=F=>{F&&o(F)},A=()=>{P(),g(!0)},C=()=>{p(!0),x(e||""),_(null)},H=()=>{I()},z=()=>{const F=f.trim(),W=S(F,!1);if(W){_(W);return}if(u&&e){if(e===F){I();return}l(e,F)}I()},D=()=>{const F=y.trim(),W=S(F,!0);if(W){_(W);return}c(F,b),P()},Y=()=>{!e||!r||r.length<=1||i(e)},U=(r==null?void 0:r.length)===1,q=t&&e!==t;return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:d("settings:providers.configProfile")}),u?s.jsxs("div",{"data-testid":"rename-form",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(de,{ref:k,value:f,onInput:F=>{x(F.target.value),_(null)},placeholder:d("settings:providers.enterNewName"),onKeyDown:({key:F})=>{F==="Enter"&&f.trim()?z():F==="Escape"&&H()},className:"grow"}),s.jsx(ue,{content:d("settings:common.save"),children:s.jsx(oe,{variant:"ghost",size:"icon",disabled:!f.trim(),onClick:z,"data-testid":"save-rename-button",children:s.jsx("span",{className:"codicon codicon-check"})})}),s.jsx(ue,{content:d("settings:common.cancel"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:H,"data-testid":"cancel-rename-button",children:s.jsx("span",{className:"codicon codicon-close"})})})]}),v&&s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1","data-testid":"error-message",children:v})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Qo,{value:e,onValueChange:M,options:r.map(F=>{const W=T(F),K=(F.profileType||"chat")==="autocomplete"?`${F.name} ${d("settings:providers.autocompleteLabel")}`:F.name,X=F.name===t;return{value:F.name,label:X?`${K} (Active)`:K,disabled:!W,icon:W?void 0:s.jsx(ue,{content:d("settings:validation.profileInvalid"),children:s.jsx("span",{children:s.jsx(cl,{size:16,className:"mr-2 text-vscode-errorForeground"})})})}}),placeholder:d("settings:common.select"),searchPlaceholder:d("settings:providers.searchPlaceholder"),emptyMessage:d("settings:providers.noMatchFound"),className:"grow","data-testid":"select-component"}),s.jsx(ue,{content:d("settings:providers.addProfile"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:A,"data-testid":"add-profile-button",children:s.jsx("span",{className:"codicon codicon-add"})})}),e&&s.jsxs(s.Fragment,{children:[s.jsx(ue,{content:d("settings:providers.renameProfile"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:C,"data-testid":"rename-profile-button",children:s.jsx("span",{className:"codicon codicon-edit"})})}),s.jsx(ue,{content:d(U?"settings:providers.cannotDeleteOnlyProfile":"settings:providers.deleteProfile"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:Y,"data-testid":"delete-profile-button",disabled:U,children:s.jsx("span",{className:"codicon codicon-trash"})})})]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:d("settings:providers.description")}),q&&a&&s.jsx(ue,{content:d("settings:providers.makeActiveTooltip"),children:s.jsx(oe,{className:"mt-2",onClick:()=>a(e),"data-testid":"activate-profile-button",children:d("settings:providers.makeActiveProfile")})})]}),s.jsx(ea,{open:m,onOpenChange:F=>{F?(g(!0),N(""),_(null)):P()},"aria-labelledby":"new-profile-title",children:s.jsxs(ta,{className:"p-4 max-w-sm bg-card",children:[s.jsx(oi,{children:d("settings:providers.newProfile")}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:d("settings:providers.profileName")}),s.jsx(Mr,{ref:w,value:y,onInput:F=>{N(F.target.value),_(null)},placeholder:d("settings:providers.enterProfileName"),"data-testid":"new-profile-input",style:{width:"100%"},onKeyDown:F=>{const W=F;W.key==="Enter"&&y.trim()?D():W.key==="Escape"&&P()}})]}),Mg]}),v&&s.jsx("p",{className:"text-vscode-errorForeground text-sm mt-2","data-testid":"error-message",children:v}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(oe,{variant:"secondary",onClick:P,"data-testid":"cancel-new-profile-button",children:d("settings:common.cancel")}),s.jsx(oe,{variant:"primary",disabled:!y.trim(),onClick:D,"data-testid":"create-profile-button",children:d("settings:providers.createProfile")})]})]})})]})},pL=h.memo(uL),jf=e=>{const t={};for(const[r,n]of e){const o=r.trim();o&&(t[o]=n.trim())}return t};function mL(e,t,r){const n=u2(e);if(n)return n;const o=px(e,r);return o?o.message:p2(e,t)}function u2(e){switch(e.apiProvider){case"openrouter":if(!e.openRouterApiKey)return Re.t("settings:validation.apiKey");break;case"glama":if(!e.glamaApiKey)return Re.t("settings:validation.apiKey");break;case"unbound":if(!e.unboundApiKey)return Re.t("settings:validation.apiKey");break;case"requesty":if(!e.requestyApiKey)return Re.t("settings:validation.apiKey");break;case"deepinfra":if(!e.deepInfraApiKey)return Re.t("settings:validation.apiKey");break;case"litellm":if(!e.litellmApiKey)return Re.t("settings:validation.apiKey");break;case"anthropic":if(!e.apiKey)return Re.t("settings:validation.apiKey");break;case"bedrock":if(!e.awsRegion)return Re.t("settings:validation.awsRegion");break;case"vertex":if(!e.vertexProjectId||!e.vertexRegion)return Re.t("settings:validation.googleCloud");break;case"gemini":if(!e.geminiApiKey)return Re.t("settings:validation.apiKey");break;case"gemini-cli":break;case"openai-native":if(!e.openAiNativeApiKey)return Re.t("settings:validation.apiKey");break;case"mistral":if(!e.mistralApiKey)return Re.t("settings:validation.apiKey");break;case"openai":if(!e.openAiBaseUrl||!e.openAiApiKey||!e.openAiModelId)return Re.t("settings:validation.openAi");break;case"ollama":if(!e.ollamaModelId)return Re.t("settings:validation.modelId");break;case"lmstudio":if(!e.lmStudioModelId)return Re.t("settings:validation.modelId");break;case"vscode-lm":if(!e.vsCodeLmModelSelector)return Re.t("settings:validation.modelSelector");break;case"kilocode":if(!e.kilocodeToken)return Re.t("settings:validation.apiKey");break;case"huggingface":if(!e.huggingFaceApiKey)return Re.t("settings:validation.apiKey");if(!e.huggingFaceModelId)return Re.t("settings:validation.modelId");break;case"cerebras":if(!e.cerebrasApiKey)return Re.t("settings:validation.apiKey");break;case"fireworks":if(!e.fireworksApiKey)return Re.t("settings:validation.apiKey");break;case"synthetic":if(!e.syntheticApiKey)return Re.t("settings:validation.apiKey");break;case"io-intelligence":if(!e.ioIntelligenceApiKey)return Re.t("settings:validation.apiKey");break;case"featherless":if(!e.featherlessApiKey)return Re.t("settings:validation.apiKey");break;case"qwen-code":if(!e.qwenCodeOauthPath)return Re.t("settings:validation.qwenCodeOauthPath");break;case"vercel-ai-gateway":if(!e.vercelAiGatewayApiKey)return Re.t("settings:validation.apiKey");break;case"ovhcloud":if(!e.ovhCloudAiEndpointsApiKey)return Re.t("settings:validation.apiKey");break;case"sap-ai-core":if(!e.sapAiCoreServiceKey)return Re.t("settings:validation.sapAiCore");if(!e.sapAiCoreModelId)return Re.t("settings:validation.modelId");if(!e.sapAiCoreUseOrchestration&&!e.sapAiCoreDeploymentId)return Re.t("settings:validation.sapAiCoreDeploymentId",{model:e.sapAiCoreModelId});break;case"baseten":if(!e.basetenApiKey)return Re.t("settings:validation.apiKey");break}}function px(e,t){if(t&&!t.allowAll){const r=e.apiProvider;if(!r)return;const n=t.providers[r];if(!n)return{message:Re.t("settings:validation.providerNotAllowed",{provider:r}),code:"PROVIDER_NOT_ALLOWED"};if(!n.allowAll){const o=mx(e,r),a=n.models||[];if(o&&!a.includes(o))return{message:Re.t("settings:validation.modelNotAllowed",{model:o,provider:r}),code:"MODEL_NOT_ALLOWED"}}}}function mx(e,t){var r;return t==="vscode-lm"?(r=e.vsCodeLmModelSelector)==null?void 0:r.id:QT(t)||YT(t)?e.apiModelId:e[XT[t]]}function hL(e,t){const r=e.match(/^arn:[^:]+:[^:]+:([^:]+):/),n=r==null?void 0:r[1];return t&&n&&n!==t?{isValid:!0,arnRegion:n,errorMessage:Re.t("settings:validation.arn.regionMismatch",{arnRegion:n,region:t})}:{isValid:!0,arnRegion:n,errorMessage:void 0}}function p2(e,t){const r=e.apiProvider??"";if(!Mj(r))return;const n=mx(e,r);if(!n)return Re.t("settings:validation.modelId");const o=t==null?void 0:t[r];if(o&&Object.keys(o).length>1&&!Object.keys(o).includes(n))return Re.t("settings:validation.modelAvailability",{modelId:n})}function fL(e,t,r){const n=GT(e.apiProvider)?mx(e,e.apiProvider):e.apiModelId,o={...e,apiModelId:n||""},a=px(o,r);return a&&a.code==="MODEL_NOT_ALLOWED"?a.message:p2(o,t)}function gL(e,t,r){const n=u2(e);if(n)return n;const o=px(e,r);if(o&&o.code==="PROVIDER_NOT_ALLOWED")return o.message}const xL=(e,t,r)=>{if(!e||!r||r.allowAll)return e;if(!t)return{};const n=r.providers[t];if(!n)return{};if(n.allowAll)return e;const o=n.models||[],a={};for(const i of o)e[i]&&(a[i]=e[i]);return a};var pr={},m2={exports:{}},gi={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function vL(){if(qb)return gi;qb=1;var e=Qe,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(l,c,d){var u,p={},m=null,g=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(g=c.ref);for(u in c)n.call(c,u)&&!a.hasOwnProperty(u)&&(p[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)p[u]===void 0&&(p[u]=c[u]);return{$$typeof:t,type:l,key:m,ref:g,props:p,_owner:o.current}}return gi.Fragment=r,gi.jsx=i,gi.jsxs=i,gi}m2.exports=vL();var Ir=m2.exports,or=function(){return or=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},or.apply(this,arguments)};function Oc(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Yt="-ms-",Ii="-moz-",Tt="-webkit-",h2="comm",wd="rule",hx="decl",bL="@import",f2="@keyframes",yL="@layer",g2=Math.abs,fx=String.fromCharCode,_f=Object.assign;function wL(e,t){return _s(e,0)^45?(((t<<2^_s(e,0))<<2^_s(e,1))<<2^_s(e,2))<<2^_s(e,3):0}function x2(e){return e.trim()}function Mn(e,t){return(e=t.exec(e))?e[0]:e}function at(e,t,r){return e.replace(t,r)}function ac(e,t,r){return e.indexOf(t,r)}function _s(e,t){return e.charCodeAt(t)|0}function Ya(e,t,r){return e.slice(t,r)}function jn(e){return e.length}function v2(e){return e.length}function Ni(e,t){return t.push(e),e}function kL(e,t){return e.map(t).join("")}function Ub(e,t){return e.filter(function(r){return!Mn(r,t)})}var kd=1,Xa=1,b2=0,Ar=0,fs=0,ii="";function jd(e,t,r,n,o,a,i,l){return{value:e,root:t,parent:r,type:n,props:o,children:a,line:kd,column:Xa,length:i,return:"",siblings:l}}function Yn(e,t){return _f(jd("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ca(e){for(;e.root;)e=Yn(e.root,{children:[e]});Ni(e,e.siblings)}function jL(){return fs}function _L(){return fs=Ar>0?_s(ii,--Ar):0,Xa--,fs===10&&(Xa=1,kd--),fs}function Zr(){return fs=Ar<b2?_s(ii,Ar++):0,Xa++,fs===10&&(Xa=1,kd++),fs}function $o(){return _s(ii,Ar)}function ic(){return Ar}function _d(e,t){return Ya(ii,e,t)}function Nf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NL(e){return kd=Xa=1,b2=jn(ii=e),Ar=0,[]}function SL(e){return ii="",e}function ou(e){return x2(_d(Ar-1,Sf(e===91?e+2:e===40?e+1:e)))}function TL(e){for(;(fs=$o())&&fs<33;)Zr();return Nf(e)>2||Nf(fs)>3?"":" "}function PL(e,t){for(;--t&&Zr()&&!(fs<48||fs>102||fs>57&&fs<65||fs>70&&fs<97););return _d(e,ic()+(t<6&&$o()==32&&Zr()==32))}function Sf(e){for(;Zr();)switch(fs){case e:return Ar;case 34:case 39:e!==34&&e!==39&&Sf(fs);break;case 40:e===41&&Sf(e);break;case 92:Zr();break}return Ar}function IL(e,t){for(;Zr()&&e+fs!==57&&!(e+fs===84&&$o()===47););return"/*"+_d(t,Ar-1)+"*"+fx(e===47?e:Zr())}function EL(e){for(;!Nf($o());)Zr();return _d(e,Ar)}function ML(e){return SL(lc("",null,null,null,[""],e=NL(e),0,[0],e))}function lc(e,t,r,n,o,a,i,l,c){for(var d=0,u=0,p=i,m=0,g=0,f=0,x=1,y=1,N=1,b=0,j="",v=o,_=a,k=n,w=j;y;)switch(f=b,b=Zr()){case 40:if(f!=108&&_s(w,p-1)==58){ac(w+=at(ou(b),"&","&\f"),"&\f",g2(d?l[d-1]:0))!=-1&&(N=-1);break}case 34:case 39:case 91:w+=ou(b);break;case 9:case 10:case 13:case 32:w+=TL(f);break;case 92:w+=PL(ic()-1,7);continue;case 47:switch($o()){case 42:case 47:Ni(CL(IL(Zr(),ic()),t,r,c),c);break;default:w+="/"}break;case 123*x:l[d++]=jn(w)*N;case 125*x:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+u:N==-1&&(w=at(w,/\f/g,"")),g>0&&jn(w)-p&&Ni(g>32?Kb(w+";",n,r,p-1,c):Kb(at(w," ","")+";",n,r,p-2,c),c);break;case 59:w+=";";default:if(Ni(k=Wb(w,t,r,d,u,o,l,j,v=[],_=[],p,a),a),b===123)if(u===0)lc(w,t,k,k,v,a,p,l,_);else switch(m===99&&_s(w,3)===110?100:m){case 100:case 108:case 109:case 115:lc(e,k,k,n&&Ni(Wb(e,k,k,0,0,o,l,j,o,v=[],p,_),_),o,_,p,l,n?v:_);break;default:lc(w,k,k,k,[""],_,0,l,_)}}d=u=g=0,x=N=1,j=w="",p=i;break;case 58:p=1+jn(w),g=f;default:if(x<1){if(b==123)--x;else if(b==125&&x++==0&&_L()==125)continue}switch(w+=fx(b),b*x){case 38:N=u>0?1:(w+="\f",-1);break;case 44:l[d++]=(jn(w)-1)*N,N=1;break;case 64:$o()===45&&(w+=ou(Zr())),m=$o(),u=p=jn(j=w+=EL(ic())),b++;break;case 45:f===45&&jn(w)==2&&(x=0)}}return a}function Wb(e,t,r,n,o,a,i,l,c,d,u,p){for(var m=o-1,g=o===0?a:[""],f=v2(g),x=0,y=0,N=0;x<n;++x)for(var b=0,j=Ya(e,m+1,m=g2(y=i[x])),v=e;b<f;++b)(v=x2(y>0?g[b]+" "+j:at(j,/&\f/g,g[b])))&&(c[N++]=v);return jd(e,t,r,o===0?wd:l,c,d,u,p)}function CL(e,t,r,n){return jd(e,t,r,h2,fx(jL()),Ya(e,2,-2),0,n)}function Kb(e,t,r,n,o){return jd(e,t,r,hx,Ya(e,0,n),Ya(e,n+1,-1),n,o)}function y2(e,t,r){switch(wL(e,t)){case 5103:return Tt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Tt+e+e;case 4789:return Ii+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Tt+e+Ii+e+Yt+e+e;case 5936:switch(_s(e,t+11)){case 114:return Tt+e+Yt+at(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Tt+e+Yt+at(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Tt+e+Yt+at(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Tt+e+Yt+e+e;case 6165:return Tt+e+Yt+"flex-"+e+e;case 5187:return Tt+e+at(e,/(\w+).+(:[^]+)/,Tt+"box-$1$2"+Yt+"flex-$1$2")+e;case 5443:return Tt+e+Yt+"flex-item-"+at(e,/flex-|-self/g,"")+(Mn(e,/flex-|baseline/)?"":Yt+"grid-row-"+at(e,/flex-|-self/g,""))+e;case 4675:return Tt+e+Yt+"flex-line-pack"+at(e,/align-content|flex-|-self/g,"")+e;case 5548:return Tt+e+Yt+at(e,"shrink","negative")+e;case 5292:return Tt+e+Yt+at(e,"basis","preferred-size")+e;case 6060:return Tt+"box-"+at(e,"-grow","")+Tt+e+Yt+at(e,"grow","positive")+e;case 4554:return Tt+at(e,/([^-])(transform)/g,"$1"+Tt+"$2")+e;case 6187:return at(at(at(e,/(zoom-|grab)/,Tt+"$1"),/(image-set)/,Tt+"$1"),e,"")+e;case 5495:case 3959:return at(e,/(image-set\([^]*)/,Tt+"$1$`$1");case 4968:return at(at(e,/(.+:)(flex-)?(.*)/,Tt+"box-pack:$3"+Yt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Tt+e+e;case 4200:if(!Mn(e,/flex-|baseline/))return Yt+"grid-column-align"+Ya(e,t)+e;break;case 2592:case 3360:return Yt+at(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(n,o){return t=o,Mn(n.props,/grid-\w+-end/)})?~ac(e+(r=r[t].value),"span",0)?e:Yt+at(e,"-start","")+e+Yt+"grid-row-span:"+(~ac(r,"span",0)?Mn(r,/\d+/):+Mn(r,/\d+/)-+Mn(e,/\d+/))+";":Yt+at(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(n){return Mn(n.props,/grid-\w+-start/)})?e:Yt+at(at(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return at(e,/(.+)-inline(.+)/,Tt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jn(e)-1-t>6)switch(_s(e,t+1)){case 109:if(_s(e,t+4)!==45)break;case 102:return at(e,/(.+:)(.+)-([^]+)/,"$1"+Tt+"$2-$3$1"+Ii+(_s(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ac(e,"stretch",0)?y2(at(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return at(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,o,a,i,l,c,d){return Yt+o+":"+a+d+(i?Yt+o+"-span:"+(l?c:+c-+a)+d:"")+e});case 4949:if(_s(e,t+6)===121)return at(e,":",":"+Tt)+e;break;case 6444:switch(_s(e,_s(e,14)===45?18:11)){case 120:return at(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Tt+(_s(e,14)===45?"inline-":"")+"box$3$1"+Tt+"$2$3$1"+Yt+"$2box$3")+e;case 100:return at(e,":",":"+Yt)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return at(e,"scroll-","scroll-snap-")+e}return e}function Dc(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function AL(e,t,r,n){switch(e.type){case yL:if(e.children.length)break;case bL:case hx:return e.return=e.return||e.value;case h2:return"";case f2:return e.return=e.value+"{"+Dc(e.children,n)+"}";case wd:if(!jn(e.value=e.props.join(",")))return""}return jn(r=Dc(e.children,n))?e.return=e.value+"{"+r+"}":""}function RL(e){var t=v2(e);return function(r,n,o,a){for(var i="",l=0;l<t;l++)i+=e[l](r,n,o,a)||"";return i}}function OL(e){return function(t){t.root||(t=t.return)&&e(t)}}function DL(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case hx:e.return=y2(e.value,e.length,r);return;case f2:return Dc([Yn(e,{value:at(e.value,"@","@"+Tt)})],n);case wd:if(e.length)return kL(r=e.props,function(o){switch(Mn(o,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ca(Yn(e,{props:[at(o,/:(read-\w+)/,":"+Ii+"$1")]})),ca(Yn(e,{props:[o]})),_f(e,{props:Ub(r,n)});break;case"::placeholder":ca(Yn(e,{props:[at(o,/:(plac\w+)/,":"+Tt+"input-$1")]})),ca(Yn(e,{props:[at(o,/:(plac\w+)/,":"+Ii+"$1")]})),ca(Yn(e,{props:[at(o,/:(plac\w+)/,Yt+"input-$1")]})),ca(Yn(e,{props:[o]})),_f(e,{props:Ub(r,n)});break}return""})}}var FL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ja=typeof process<"u"&&pr!==void 0&&(pr.REACT_APP_SC_ATTR||pr.SC_ATTR)||"data-styled",w2="active",k2="data-styled-version",Nd="6.1.13",gx=`/*!sc*/
`,Fc=typeof window<"u"&&"HTMLElement"in window,LL=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&pr!==void 0&&pr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&pr.REACT_APP_SC_DISABLE_SPEEDY!==""?pr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&pr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&pr!==void 0&&pr.SC_DISABLE_SPEEDY!==void 0&&pr.SC_DISABLE_SPEEDY!==""&&pr.SC_DISABLE_SPEEDY!=="false"&&pr.SC_DISABLE_SPEEDY),Sd=Object.freeze([]),Za=Object.freeze({});function BL(e,t,r){return r===void 0&&(r=Za),e.theme!==r.theme&&e.theme||t||r.theme}var j2=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),zL=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,qL=/(^-|-$)/g;function $b(e){return e.replace(zL,"-").replace(qL,"")}var UL=/(a)(d)/gi,Dl=52,Hb=function(e){return String.fromCharCode(e+(e>25?39:97))};function Tf(e){var t,r="";for(t=Math.abs(e);t>Dl;t=t/Dl|0)r=Hb(t%Dl)+r;return(Hb(t%Dl)+r).replace(UL,"$1-$2")}var au,_2=5381,ya=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},N2=function(e){return ya(_2,e)};function WL(e){return Tf(N2(e)>>>0)}function KL(e){return e.displayName||e.name||"Component"}function iu(e){return typeof e=="string"&&!0}var S2=typeof Symbol=="function"&&Symbol.for,T2=S2?Symbol.for("react.memo"):60115,$L=S2?Symbol.for("react.forward_ref"):60112,HL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},VL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},P2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GL=((au={})[$L]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},au[T2]=P2,au);function Vb(e){return("type"in(t=e)&&t.type.$$typeof)===T2?P2:"$$typeof"in e?GL[e.$$typeof]:HL;var t}var QL=Object.defineProperty,YL=Object.getOwnPropertyNames,Gb=Object.getOwnPropertySymbols,XL=Object.getOwnPropertyDescriptor,JL=Object.getPrototypeOf,Qb=Object.prototype;function I2(e,t,r){if(typeof t!="string"){if(Qb){var n=JL(t);n&&n!==Qb&&I2(e,n,r)}var o=YL(t);Gb&&(o=o.concat(Gb(t)));for(var a=Vb(e),i=Vb(t),l=0;l<o.length;++l){var c=o[l];if(!(c in VL||r&&r[c]||i&&c in i||a&&c in a)){var d=XL(t,c);try{QL(e,c,d)}catch{}}}}return e}function ei(e){return typeof e=="function"}function xx(e){return typeof e=="object"&&"styledComponentId"in e}function Mo(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Yb(e,t){if(e.length===0)return"";for(var r=e[0],n=1;n<e.length;n++)r+=e[n];return r}function Ki(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Pf(e,t,r){if(r===void 0&&(r=!1),!r&&!Ki(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=Pf(e[n],t[n]);else if(Ki(t))for(var n in t)e[n]=Pf(e[n],t[n]);return e}function vx(e,t){Object.defineProperty(e,"toString",{value:t})}function fl(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var ZL=(function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var r=0,n=0;n<t;n++)r+=this.groupSizes[n];return r},e.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var n=this.groupSizes,o=n.length,a=o;t>=a;)if((a<<=1)<0)throw fl(16,"".concat(t));this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var i=o;i<a;i++)this.groupSizes[i]=0}for(var l=this.indexOfGroup(t+1),c=(i=0,r.length);i<c;i++)this.tag.insertRule(l,r[i])&&(this.groupSizes[t]++,l++)},e.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],n=this.indexOfGroup(t),o=n+r;this.groupSizes[t]=0;for(var a=n;a<o;a++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var n=this.groupSizes[t],o=this.indexOfGroup(t),a=o+n,i=o;i<a;i++)r+="".concat(this.tag.getRule(i)).concat(gx);return r},e})(),cc=new Map,Lc=new Map,dc=1,Fl=function(e){if(cc.has(e))return cc.get(e);for(;Lc.has(dc);)dc++;var t=dc++;return cc.set(e,t),Lc.set(t,e),t},eB=function(e,t){dc=t+1,cc.set(e,t),Lc.set(t,e)},tB="style[".concat(Ja,"][").concat(k2,'="').concat(Nd,'"]'),sB=new RegExp("^".concat(Ja,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),rB=function(e,t,r){for(var n,o=r.split(","),a=0,i=o.length;a<i;a++)(n=o[a])&&e.registerName(t,n)},nB=function(e,t){for(var r,n=((r=t.textContent)!==null&&r!==void 0?r:"").split(gx),o=[],a=0,i=n.length;a<i;a++){var l=n[a].trim();if(l){var c=l.match(sB);if(c){var d=0|parseInt(c[1],10),u=c[2];d!==0&&(eB(u,d),rB(e,u,c[3]),e.getTag().insertRules(d,o)),o.length=0}else o.push(l)}}},Xb=function(e){for(var t=document.querySelectorAll(tB),r=0,n=t.length;r<n;r++){var o=t[r];o&&o.getAttribute(Ja)!==w2&&(nB(e,o),o.parentNode&&o.parentNode.removeChild(o))}};function oB(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var E2=function(e){var t=document.head,r=e||t,n=document.createElement("style"),o=(function(l){var c=Array.from(l.querySelectorAll("style[".concat(Ja,"]")));return c[c.length-1]})(r),a=o!==void 0?o.nextSibling:null;n.setAttribute(Ja,w2),n.setAttribute(k2,Nd);var i=oB();return i&&n.setAttribute("nonce",i),r.insertBefore(n,a),n},aB=(function(){function e(t){this.element=E2(t),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,o=0,a=n.length;o<a;o++){var i=n[o];if(i.ownerNode===r)return i}throw fl(17)})(this.element),this.length=0}return e.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},e})(),iB=(function(){function e(t){this.element=E2(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e})(),lB=(function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e})(),Jb=Fc,cB={isServer:!Fc,useCSSOMInjection:!LL},M2=(function(){function e(t,r,n){t===void 0&&(t=Za),r===void 0&&(r={});var o=this;this.options=or(or({},cB),t),this.gs=r,this.names=new Map(n),this.server=!!t.isServer,!this.server&&Fc&&Jb&&(Jb=!1,Xb(this)),vx(this,function(){return(function(a){for(var i=a.getTag(),l=i.length,c="",d=function(p){var m=(function(N){return Lc.get(N)})(p);if(m===void 0)return"continue";var g=a.names.get(m),f=i.getGroup(p);if(g===void 0||!g.size||f.length===0)return"continue";var x="".concat(Ja,".g").concat(p,'[id="').concat(m,'"]'),y="";g!==void 0&&g.forEach(function(N){N.length>0&&(y+="".concat(N,","))}),c+="".concat(f).concat(x,'{content:"').concat(y,'"}').concat(gx)},u=0;u<l;u++)d(u);return c})(o)})}return e.registerId=function(t){return Fl(t)},e.prototype.rehydrate=function(){!this.server&&Fc&&Xb(this)},e.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new e(or(or({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=(function(r){var n=r.useCSSOMInjection,o=r.target;return r.isServer?new lB(o):n?new aB(o):new iB(o)})(this.options),new ZL(t)));var t},e.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.prototype.registerName=function(t,r){if(Fl(t),this.names.has(t))this.names.get(t).add(r);else{var n=new Set;n.add(r),this.names.set(t,n)}},e.prototype.insertRules=function(t,r,n){this.registerName(t,r),this.getTag().insertRules(Fl(t),n)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Fl(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e})(),dB=/&/g,uB=/^\s*\/\/.*$/gm;function C2(e,t){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(n){return"".concat(t," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=C2(r.children,t)),r})}function pB(e){var t,r,n,o=Za,a=o.options,i=a===void 0?Za:a,l=o.plugins,c=l===void 0?Sd:l,d=function(m,g,f){return f.startsWith(r)&&f.endsWith(r)&&f.replaceAll(r,"").length>0?".".concat(t):m},u=c.slice();u.push(function(m){m.type===wd&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(dB,r).replace(n,d))}),i.prefix&&u.push(DL),u.push(AL);var p=function(m,g,f,x){g===void 0&&(g=""),f===void 0&&(f=""),x===void 0&&(x="&"),t=x,r=g,n=new RegExp("\\".concat(r,"\\b"),"g");var y=m.replace(uB,""),N=ML(f||g?"".concat(f," ").concat(g," { ").concat(y," }"):y);i.namespace&&(N=C2(N,i.namespace));var b=[];return Dc(N,RL(u.concat(OL(function(j){return b.push(j)})))),b};return p.hash=c.length?c.reduce(function(m,g){return g.name||fl(15),ya(m,g.name)},_2).toString():"",p}var mB=new M2,If=pB(),A2=Qe.createContext({shouldForwardProp:void 0,styleSheet:mB,stylis:If});A2.Consumer;Qe.createContext(void 0);function Zb(){return h.useContext(A2)}var hB=(function(){function e(t,r){var n=this;this.inject=function(o,a){a===void 0&&(a=If);var i=n.name+a.hash;o.hasNameForId(n.id,i)||o.insertRules(n.id,i,a(n.rules,i,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,vx(this,function(){throw fl(12,String(n.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=If),this.name+t.hash},e})(),fB=function(e){return e>="A"&&e<="Z"};function ey(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(r===1&&n==="-"&&e[0]==="-")return e;fB(n)?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var R2=function(e){return e==null||e===!1||e===""},O2=function(e){var t,r,n=[];for(var o in e){var a=e[o];e.hasOwnProperty(o)&&!R2(a)&&(Array.isArray(a)&&a.isCss||ei(a)?n.push("".concat(ey(o),":"),a,";"):Ki(a)?n.push.apply(n,Oc(Oc(["".concat(o," {")],O2(a),!1),["}"],!1)):n.push("".concat(ey(o),": ").concat((t=o,(r=a)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in FL||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Ho(e,t,r,n){if(R2(e))return[];if(xx(e))return[".".concat(e.styledComponentId)];if(ei(e)){if(!ei(a=e)||a.prototype&&a.prototype.isReactComponent||!t)return[e];var o=e(t);return Ho(o,t,r,n)}var a;return e instanceof hB?r?(e.inject(r,n),[e.getName(n)]):[e]:Ki(e)?O2(e):Array.isArray(e)?Array.prototype.concat.apply(Sd,e.map(function(i){return Ho(i,t,r,n)})):[e.toString()]}function gB(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(ei(r)&&!xx(r))return!1}return!0}var xB=N2(Nd),vB=(function(){function e(t,r,n){this.rules=t,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&gB(t),this.componentId=r,this.baseHash=ya(xB,r),this.baseStyle=n,M2.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,n){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))o=Mo(o,this.staticRulesId);else{var a=Yb(Ho(this.rules,t,r,n)),i=Tf(ya(this.baseHash,a)>>>0);if(!r.hasNameForId(this.componentId,i)){var l=n(a,".".concat(i),void 0,this.componentId);r.insertRules(this.componentId,i,l)}o=Mo(o,i),this.staticRulesId=i}else{for(var c=ya(this.baseHash,n.hash),d="",u=0;u<this.rules.length;u++){var p=this.rules[u];if(typeof p=="string")d+=p;else if(p){var m=Yb(Ho(p,t,r,n));c=ya(c,m+u),d+=m}}if(d){var g=Tf(c>>>0);r.hasNameForId(this.componentId,g)||r.insertRules(this.componentId,g,n(d,".".concat(g),void 0,this.componentId)),o=Mo(o,g)}}return o},e})(),D2=Qe.createContext(void 0);D2.Consumer;var lu={};function bB(e,t,r){var n=xx(e),o=e,a=!iu(e),i=t.attrs,l=i===void 0?Sd:i,c=t.componentId,d=c===void 0?(function(v,_){var k=typeof v!="string"?"sc":$b(v);lu[k]=(lu[k]||0)+1;var w="".concat(k,"-").concat(WL(Nd+k+lu[k]));return _?"".concat(_,"-").concat(w):w})(t.displayName,t.parentComponentId):c,u=t.displayName,p=u===void 0?(function(v){return iu(v)?"styled.".concat(v):"Styled(".concat(KL(v),")")})(e):u,m=t.displayName&&t.componentId?"".concat($b(t.displayName),"-").concat(t.componentId):t.componentId||d,g=n&&o.attrs?o.attrs.concat(l).filter(Boolean):l,f=t.shouldForwardProp;if(n&&o.shouldForwardProp){var x=o.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;f=function(v,_){return x(v,_)&&y(v,_)}}else f=x}var N=new vB(r,m,n?o.componentStyle:void 0);function b(v,_){return(function(k,w,T){var S=k.attrs,P=k.componentStyle,I=k.defaultProps,M=k.foldedComponentIds,A=k.styledComponentId,C=k.target,H=Qe.useContext(D2),z=Zb(),D=k.shouldForwardProp||z.shouldForwardProp,Y=BL(w,H,I)||Za,U=(function(X,G,J){for(var ae,O=or(or({},G),{className:void 0,theme:J}),pe=0;pe<X.length;pe+=1){var be=ei(ae=X[pe])?ae(O):ae;for(var xe in be)O[xe]=xe==="className"?Mo(O[xe],be[xe]):xe==="style"?or(or({},O[xe]),be[xe]):be[xe]}return G.className&&(O.className=Mo(O.className,G.className)),O})(S,w,Y),q=U.as||C,F={};for(var W in U)U[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&U.theme===Y||(W==="forwardedAs"?F.as=U.forwardedAs:D&&!D(W,q)||(F[W]=U[W]));var te=(function(X,G){var J=Zb(),ae=X.generateAndInjectStyles(G,J.styleSheet,J.stylis);return ae})(P,U),K=Mo(M,A);return te&&(K+=" "+te),U.className&&(K+=" "+U.className),F[iu(q)&&!j2.has(q)?"class":"className"]=K,F.ref=T,h.createElement(q,F)})(j,v,_)}b.displayName=p;var j=Qe.forwardRef(b);return j.attrs=g,j.componentStyle=N,j.displayName=p,j.shouldForwardProp=f,j.foldedComponentIds=n?Mo(o.foldedComponentIds,o.styledComponentId):"",j.styledComponentId=m,j.target=n?o.target:e,Object.defineProperty(j,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(v){this._foldedDefaultProps=n?(function(_){for(var k=[],w=1;w<arguments.length;w++)k[w-1]=arguments[w];for(var T=0,S=k;T<S.length;T++)Pf(_,S[T],!0);return _})({},o.defaultProps,v):v}}),vx(j,function(){return".".concat(j.styledComponentId)}),a&&I2(j,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),j}function ty(e,t){for(var r=[e[0]],n=0,o=t.length;n<o;n+=1)r.push(t[n],e[n+1]);return r}var sy=function(e){return Object.assign(e,{isCss:!0})};function yB(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(ei(e)||Ki(e))return sy(Ho(ty(Sd,Oc([e],t,!0))));var n=e;return t.length===0&&n.length===1&&typeof n[0]=="string"?Ho(n):sy(Ho(ty(n,t)))}function Ef(e,t,r){if(r===void 0&&(r=Za),!t)throw fl(1,t);var n=function(o){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return e(t,r,yB.apply(void 0,Oc([o],a,!1)))};return n.attrs=function(o){return Ef(e,t,or(or({},r),{attrs:Array.prototype.concat(r.attrs,o).filter(Boolean)}))},n.withConfig=function(o){return Ef(e,t,or(or({},r),o))},n}var F2=function(e){return Ef(bB,e)},pt=F2;j2.forEach(function(e){pt[e]=F2(e)});pt.span`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background-color: var(--vscode-badge-background);
  border: 1px solid var(--vscode-button-border);
  border-radius: 11px;
  box-sizing: border-box;
  color: var(--vscode-badge-foreground);
  font-family: var(--vscode-font-family);
  font-size: 11px;
  line-height: 16px;
  height: 16px;
  min-width: 18px;
  min-height: 18px;
  padding: 3px 6px;
  text-align: center;
`;const wB=pt.button`
  display: inline-flex;
  outline: none;
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size, 13px);
  line-height: normal;
  color: var(--vscode-button-foreground);
  background: var(--vscode-button-background);
  border: 1px solid var(--vscode-button-border);
  border-radius: 2px;
  padding: 4px 11px;
  fill: currentColor;
  cursor: pointer;

  &:focus-visible {
    outline: 1px solid var(--vscode-focusBorder);
    outline-offset: 2px;
  }

  &:active {
    background: var(--vscode-button-background);
  }

  &:hover {
    background: var(--vscode-button-hoverBackground);
  }

  &::-moz-focus-inner {
    border: 0;
  }

  &.secondary {
    background: var(--vscode-button-secondaryBackground);
    color: var(--vscode-button-secondaryForeground);

    &:active {
      background: var(--vscode-button-secondaryBackground);
    }

    &:hover {
      background: var(--vscode-button-secondaryHoverBackground);
    }
  }

  &.icon {
    background: transparent;
    border: none;
    border-radius: 5px;
    color: var(--vscode-foreground);
    padding: 3px;

    &:hover {
      background: rgba(90, 93, 94, 0.31);
      outline: 1px dotted var(--vscode-contrastActiveBorder);
      outline-offset: -1px;
    }

    &:active {
      background: rgba(90, 93, 94, 0.31);
    }
  }

  &:disabled {
    opacity: 0.4;
    background: var(--vscode-button-background);
    cursor: not-allowed;

    &.secondary {
      background: var(--vscode-button-secondaryBackground);
    }
    
    &.icon {
      background: transparent;
    }
  }
`,L2=({appearance:e="primary",className:t,children:r,disabled:n=!1,type:o="button",onClick:a=void 0,...i})=>Ir.jsx(wB,{className:`vscrui-button ${e} ${t||""}`,disabled:n,onClick:a,type:o,...i,children:r});L2.displayName="VSCRUI_Badge";var Es=[];for(var cu=0;cu<256;++cu)Es.push((cu+256).toString(16).slice(1));function kB(e,t=0){return(Es[e[t+0]]+Es[e[t+1]]+Es[e[t+2]]+Es[e[t+3]]+"-"+Es[e[t+4]]+Es[e[t+5]]+"-"+Es[e[t+6]]+Es[e[t+7]]+"-"+Es[e[t+8]]+Es[e[t+9]]+"-"+Es[e[t+10]]+Es[e[t+11]]+Es[e[t+12]]+Es[e[t+13]]+Es[e[t+14]]+Es[e[t+15]]).toLowerCase()}var Ll,jB=new Uint8Array(16);function _B(){if(!Ll&&(Ll=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ll))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ll(jB)}var NB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const ry={randomUUID:NB};function SB(e,t,r){if(ry.randomUUID&&!e)return ry.randomUUID();e=e||{};var n=e.random||(e.rng||_B)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,kB(n)}function TB(){const[e,t]=h.useState("");return h.useEffect(()=>{t(SB())},[]),e}const PB=pt.label`
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  display: flex;
  align-items: center;
  cursor: pointer;
  position: relative;
  outline: none;
  user-select: none;

  &.disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }

  input {
    opacity: 0;
    outline: none;
    appearance: none;
    position: absolute;
  }
`,B2=pt.svg`
  background: var(--vscode-checkbox-background);
  border: 1px solid var(--vscode-checkbox-border);
  border-radius: 2px;
  color: var(--vscode-checkbox-foreground);
  display: inline-block;
  width: 16px;
  height: 16px;
  transition: 60ms transform ease-in-out;

  &:active, &:focus, &:focus-visible {
    border-color: var(--vscode-focusBorder);
  }
`,IB=pt.span`
  padding-left: 10px;
`,EB=({checked:e})=>Ir.jsx(B2,{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:e?"currentColor":"transparent",children:Ir.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.431 3.323l-8.47 10-.79-.036-3.35-4.77.818-.574 2.978 4.24 8.051-9.506.764.646z"})}),MB=()=>Ir.jsx(B2,{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:Ir.jsx("rect",{x:"4",y:"4",height:"8",width:"8",rx:"2"})}),It=({checked:e,children:t,className:r,indeterminate:n,disabled:o,onChange:a,...i})=>{const[l,c]=h.useState(!!e),d=h.useRef(null),u=TB(),p=m=>{c(m.target.checked),a&&a(m.target.checked)};return h.useEffect(()=>{c(!!e)},[e]),h.useEffect(()=>{d.current&&(d.current.indeterminate=n===!0)},[n]),Ir.jsxs(PB,{htmlFor:u,className:`vscrui-checkbox ${r||""} ${o?"disabled":""}`,...i,children:[Ir.jsx("input",{id:u,ref:d,type:"checkbox",checked:l,disabled:o,onChange:p}),n===!0?Ir.jsx(MB,{}):Ir.jsx(EB,{checked:l}),t&&Ir.jsx(IB,{className:"vscrui-checkbox__label",children:t})]})};It.displayName="VSCRUI_Checkbox";pt.hr`
  border: none;
  border-top: 1px solid var(--vscode-settings-dropdownListBorder);
  box-sizing: content-box;
  height: 0;
  margin: 4px 0;
  width: 100%;
`;pt.div`
  display: inline-block;
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  color: var(--vscode-foreground);
  cursor: pointer;
  box-sizing: border-box;
  min-width: 100px;
  position: relative;
  user-select: none;
  outline: none;
  vertical-align: top;

  &.disabled {
    opacity: 0.4;
    pointer-events: none;
    cursor: not-allowed;
  }
`;pt.button`
  all: unset;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--vscode-dropdown-background);
  border: 1px solid var(--vscode-dropdown-border);
  border-radius: 2px;
  height: 26px;
  box-sizing: border-box;
  contain: content;
  cursor: pointer;
  line-height: normal;
  padding: 2px 6px 2px 8px;
  width: 100%;

  &:not([disabled]):active,
  &.open {
    border-color: var(--vscode-focusBorder);
  }

  &:focus {
    border-color: var(--vscode-focusBorder);
  }

  &:hover {
    background: inherit;
  }
`;pt.div`
  background: var(--vscode-dropdown-background);
  border: 1px solid var(--vscode-focusBorder);
  box-sizing: border-box;
  left: 0px;
  max-height: 200px;
  padding: 0 0 4px 0;
  overflow-y: auto;
  position: absolute;
  width: 100%;
  z-index: 1;

  // Below
  border-radius: ${e=>e.position==="above"?"2px 2px 0 0":"0 0 2px 2px"};
  top: ${e=>e.position==="above"?"auto":"26px"};
  bottom: ${e=>e.position==="above"?"26px":"auto"};

  ul {
    box-sizing: border-box;
    cursor: pointer;
    list-style: none;
    margin: 0px;
    max-height: 222px;
    overflow: auto;
    padding: 1px;
  }
`;pt.button`
  all: unset;
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  color: var(--vscode-foreground);
  border: 1px solid transparent;
  border-radius: 2px;
  box-sizing: border-box;
  cursor: pointer;
  line-height: normal;
  margin: 0;
  outline: none;
  overflow: hidden;
  padding: 0 2px 1px;
  user-select: none;
  white-space: nowrap;
  text-overflow: ellipsis;
  width: 100%;

  &:focus-visible {
		border-color: var(--vscode-focusBorder);
		background: var(--vscode-list-activeSelectionBackground);
		color: var(--vscode-foreground);
  }

  &.active {
    background: var(--vscode-list-activeSelectionBackground);
    border: 1px solid transparent;
    color: var(--vscode-list-activeSelectionForeground);
  }

  &:active {
		background: var(--vscode-list-activeSelectionBackground);
		color: var(--vscode-list-activeSelectionForeground);
  }

  &:not(.active):hover {
    background: var(--vscode-list-activeSelectionBackground);
		border: 1px solid transparent;
		color: var(--vscode-list-activeSelectionForeground);
  }

  &:not(.active):active {
		background: var(--vscode-list-activeSelectionBackground);
		color: var(--vscode-list-activeSelectionForeground);
	}

  body[data-vscode-theme-kind='vscode-high-contrast'] &.active,
  body[data-vscode-theme-kind='vscode-high-contrast-light'] &.active,
  body[data-vscode-theme-kind='vscode-high-contrast'] &:not(.active):hover,
  body[data-vscode-theme-kind='vscode-high-contrast-light'] &:not(.active):hover {
    border-style: dotted;
    border-color: var(--vscode-list-focusOutline);
  }

  &:disabled {
		cursor: not-allowed;
		opacity: 0.4;

    &:hover {
      background: inherit;
      border-color: transparent;
    }
	}

  body[data-vscode-theme-kind='vscode-high-contrast'] &:disabled,
  body[data-vscode-theme-kind='vscode-high-contrast-light'] &:disabled,
  body[data-vscode-theme-kind='vscode-high-contrast'] &:disabled:hover,
  body[data-vscode-theme-kind='vscode-high-contrast-light'] &:disabled:hover {
    background: inherit;
    border-color: transparent;
  }
`;pt.i`
  display: inline-block;
  color: var(--vscode-icon-foreground);
  display: inline-block;
  text-decoration: none;
  text-rendering: auto;
  text-align: center;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  user-select: none;

  &.codicon-spin {
    animation: spin 1.5s steps(30) infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`;const CB=pt.label`
  color: var(--vscode-foreground);
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  font-weight: 400;
  margin: 0;
  overflow: hidden;
  padding: 4px 0 0;
  text-overflow: ellipsis;
  display: block;
  white-space: nowrap;
`,bx=({children:e,className:t,...r})=>Ir.jsx(CB,{className:`vscrui-label ${t||""}`,...r,children:e});bx.displayName="VSCRUI_Label";pt.div`
  background: var(--vscode-editor-background);
  position: fixed;
  inset: 0;
  height: 100%;
  width: 100%;
  z-index: 9999;
  opacity: 0.75;
`;pt.div`
  position: absolute;
  top: 0;
  width: 100%;
  height: 2px;
`;pt.div`
  height: 100%;
  position: absolute;
  background: var(--vscode-activityBarBadge-background);
  animation: vscode-loader 4s ease-in-out infinite; 

  @keyframes vscode-loader {
    0% {
      left: -30px;
      width: 30px;
    }
    25% {
      width: 50px;
    }
    50% {
      width: 20px;
    }
    75% {
      width: 50px;
    }
    100% {
      width: 20px;
      left: 100%;
    }
  }
`;const AB=pt.section`
  color: inherit;
  background-color: transparent;
  border: 1px solid transparent;
  box-sizing: border-box;
  font-size: var(--vscode-font-size, 13px);
  line-height: normal;
  padding: 10px 6px;
  display: ${e=>e.hidden?"none":"block"};
  height: ${e=>e.hidden?"0":"auto"};
  transition: all 0.1s;
  transition-behavior: allow-discrete;
`,z2=({className:e,children:t,isVisible:r=!1,...n})=>Ir.jsx(AB,{className:`vscrui-view ${e||""}`,hidden:!r,...n,children:t});z2.displayName="VSCRUI_View";const RB=pt.div`
  display: none;
  margin-left: auto;
`;pt.div`
  font-family: var(--vscode-font-family);
  font-size: 11px;
  font-weight: 700;
  color: var(--vscode-sideBarSectionHeader-foreground);
  background-color: var(--vscode-sideBarSectionHeader-background);
  border-top: 1px solid var(--vscode-sideBarSectionHeader-border);
  text-transform: uppercase;

  box-sizing: border-box;
  display: flex;
  align-items: center;
  height: 22px;
  line-height: 22px;
  width: 100%;
  cursor: pointer;

  position: relative;
  overflow: hidden;
  user-select: none;

  > svg {
    color: var(--vscode-icon-foreground);
    margin: 0 2px;
  }

  &:hover {
    ${RB} {
      display: flex;
    }
  }
`;pt.h3`
  font-size: 11px;
  font-weight: 700;
  min-width: 3ch;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  margin: 0;
`;pt.div`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  width: 100%;
`;pt(z2)`
  flex: 1;
  overflow: hidden;
  padding: unset;
`;pt.button`
  all: unset;

  color: var(--vscode-icon-foreground);
  font-size: 16px;
  padding: 2px;
  margin-right: 4px;

  background: none;
  border: none;
  cursor: pointer;
  border-radius: 2px;

  align-items: center;
  display: flex;
  height: 16px;
  width: 16px;

  &:hover {
    background-color: var(--vscode-toolbar-hoverBackground);
  }
`;pt.button`
  all: unset;
  color: var(--vscode-panelTitle-inactiveForeground);
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size, 13px);
  box-sizing: border-box;
  height: 28px;
  padding: 4px 0;
  fill: currentcolor;
  border-radius: 2px;
  border: 1px solid transparent;
  align-items: center;
  justify-content: center;
  grid-row: 1;
  cursor: pointer;

  &:hover, &:active, &[aria-selected='true'], &[aria-selected='true']:hover, &[aria-selected='true']:active {
    background: transparent;
    color: var(--vscode-panelTitle-activeForeground);
		fill: currentcolor;
  }

  &[aria-selected='true'] {
    border-bottom: 1px solid var(--vscode-panelTitle-activeForeground);
  }

  &:focus-visible {
    outline: none;
		border: 1px solid var(--vscode-panelTitle-activeBorder);
  }

  &:focus {
    outline: none;
  }
`;pt.div`
  color: var(--vscode-badge-foreground);
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size, 13px);
  box-sizing: border-box;
  line-height: normal;
  grid-template-columns: auto 1fr auto;
  grid-template-rows: auto 1fr;
  overflow-x: auto;
`;pt.div`
  display: grid;
  grid-template-rows: auto auto;
  grid-template-columns: auto;
  column-gap: 32px;
  position: relative;
  width: max-content;
  align-self: end;
  padding: 4px 4px 0;
  box-sizing: border-box;
`;pt.div`
  grid-row: 2;
  grid-column-start: 1;
  grid-column-end: 4;
  position: relative;
`;const OB=pt.div`
  color: var(--vscode-foreground);
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  padding: 4px 12px;
  opacity: 1;
  box-sizing: border-box;
  line-height: normal;
  font-weight: 400;
  border: solid 1px transparent;
  border-radius: 2px;
  white-space: wrap;
  overflow-wrap: anywhere;
`,DB=pt.div`
  display: grid;
  padding: 1px 0;
  box-sizing: border-box;
  width: 100%;
  background: transparent;

  &:hover {
    background: var(--vscode-list-hoverBackground);
    outline: 1px dotted var(--vscode-contrastActiveBorder);
    outline-offset: -1px;
  }

  &.vscrui_table_row_header {
    ${OB} {
      font-weight: 600;
    }
  }
`;pt.div`
  display: flex;
  position: relative;
  flex-direction: column;
  width: 100%;

  &.stripped {
    ${DB} {
      &:nth-child(odd) {
        background-color: var(--vscode-keybindingTable-rowsBackground);

        &:hover {
          background: var(--vscode-list-hoverBackground);
        }
      }
    }
  }
`;pt.div`
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  color: var(--vscode-badge-foreground);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background-color: var(--vscode-badge-background);
  border: 1px solid var(--vscode-button-border);
  border-radius: 2px;
  padding: 2px 4px;
  text-transform: uppercase;
`;pt.div`
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  display: inline-block;
  min-width: 100px;
`;pt(bx)`
  margin-bottom: 2px;
`;pt.textarea`
  appearance: none;
  font-size: var(--vscode-font-size);
  color: var(--vscode-input-foreground);
  background: var(--vscode-input-background);
  border: 1px solid var(--vscode-dropdown-border);
  border-radius: 2px;
  box-sizing: border-box;
  position: relative;
  display: flex;
  flex-direction: row;
  height: 26px;
  padding: 9px;
  width: 100%;
  height: 100%;
  resize: none;

  &:hover,
	&:focus-visible,
	&:disabled,
	&:active,
  &:focus {
		outline: none;
    box-shadow: none;
	}

  &:not([disabled]):hover {
    background: var(--vscode-input-background);
    border-color: var(--vscode-dropdown-border);
  }

  &:not([disabled]):active {
    background: var(--vscode-input-background);
		border-color: var(--vscode-focusBorder);
	}

  &:not([disabled]):focus,
  &:not([disabled]):focus-within {
		border-color: var(--vscode-focusBorder);
  }

  &:disabled,
	&:readonly {
		cursor: not-allowed;
	}

  &:disabled {
    opacity: 0.4;
    border-color: var(--vscode-dropdown-border);
  }

  &[data-resize='both'] {
    resize: both;
  }

  &[data-resize='horizontal'] {
    resize: horizontal;
  }

  &[data-resize='vertical'] {
    resize: vertical;
  }

  &[data-resize='none'] {
    resize: none;
  }
`;pt.div`
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  display: inline-block;
  min-width: 100px;
`;pt(bx)`
  margin-bottom: 2px;
`;pt.input`
  appearance: none;
  font-size: var(--vscode-font-size);
  box-sizing: border-box;
  position: relative;
  display: flex;
  flex-direction: row;
  color: var(--vscode-input-foreground);
  background: var(--vscode-input-background);
  border-radius: 2px;
  border: 1px solid var(--vscode-dropdown-border);
  height: 26px;
  padding: 0 9px;
  width: 100%;

  &:hover,
	&:focus-visible,
	&:disabled,
	&:active,
  &:focus {
		outline: none;
    box-shadow: none;
	}

  &:not([disabled]):hover {
    background: var(--vscode-input-background);
    border-color: var(--vscode-dropdown-border);
  }

  &:not([disabled]):active {
    background: var(--vscode-input-background);
		border-color: var(--vscode-focusBorder);
	}

  &:not([disabled]):focus,
  &:not([disabled]):focus-within {
		border-color: var(--vscode-focusBorder);
  }

  &:disabled,
	&:readonly {
		cursor: not-allowed;
	}

  &:disabled {
    opacity: 0.4;
    border-color: var(--vscode-dropdown-border);
  }
`;const Co=e=>e,nt=e=>{var t;return(t=e==null?void 0:e.target)==null?void 0:t.value},FB=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=Bn(e),[o,a]=h.useState(!!(e!=null&&e.anthropicBaseUrl)),[i,l]=h.useState(!!(e!=null&&e.anthropicDeploymentName)),c=(n==null?void 0:n.id)==="claude-sonnet-4-20250514"||(n==null?void 0:n.id)==="claude-sonnet-4-5",d=h.useCallback((u,p=nt)=>m=>{t(u,p(m))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.apiKey)||"",type:"password",onInput:d("apiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.anthropicApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.apiKey)&&s.jsx(yt,{href:"https://console.anthropic.com/settings/keys",appearance:"secondary",children:r("settings:providers.getAnthropicApiKey")}),s.jsxs("div",{children:[s.jsx(It,{checked:o,onChange:u=>{a(u),u||(t("anthropicBaseUrl",""),t("anthropicUseAuthToken",!1))},children:r("settings:providers.useCustomBaseUrl")}),o&&s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.anthropicBaseUrl)||"",type:"url",onInput:d("anthropicBaseUrl"),placeholder:"https://api.anthropic.com",className:"w-full mt-1"}),s.jsx(It,{checked:(e==null?void 0:e.anthropicUseAuthToken)??!1,onChange:d("anthropicUseAuthToken",Co),className:"w-full mt-1",children:r("settings:providers.anthropicUseAuthToken")})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx(It,{checked:i,onChange:u=>{l(u),u||t("anthropicDeploymentName","")},children:r("settings:providers.anthropicUseAzureDeployment")}),i&&s.jsx(de,{value:(e==null?void 0:e.anthropicDeploymentName)||"",onInput:d("anthropicDeploymentName"),placeholder:r("settings:providers.anthropicAzureDeploymentPlaceholder"),className:"w-full mt-1"})]}),c&&s.jsxs("div",{children:[s.jsx(It,{checked:(e==null?void 0:e.anthropicBeta1MContext)??!1,onChange:u=>{t("anthropicBeta1MContext",u)},children:r("settings:providers.anthropic1MContextBetaLabel")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1 ml-6",children:r("settings:providers.anthropic1MContextBetaDescription")})]})]})},LB=({apiConfiguration:e,setApiConfigurationField:t,selectedModelInfo:r})=>{const{t:n}=re(),[o,a]=h.useState(!!(e!=null&&e.awsBedrockEndpointEnabled)),i=!!(e!=null&&e.apiModelId)&&Cj.includes(e.apiModelId),l=!!(e!=null&&e.apiModelId)&&JT.includes(e.apiModelId),c=!!(e!=null&&e.apiModelId)&&ZT.includes(e.apiModelId);h.useEffect(()=>{a(!!(e!=null&&e.awsBedrockEndpointEnabled))},[e==null?void 0:e.awsBedrockEndpointEnabled]);const d=h.useCallback((u,p=nt)=>m=>{t(u,p(m))},[t]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:"Authentication Method"}),s.jsxs(Ut,{value:e!=null&&e.awsUseApiKey?"apikey":e!=null&&e.awsUseProfile?"profile":"credentials",onValueChange:u=>{u==="apikey"?(t("awsUseApiKey",!0),t("awsUseProfile",!1)):u==="profile"?(t("awsUseApiKey",!1),t("awsUseProfile",!0)):(t("awsUseApiKey",!1),t("awsUseProfile",!1))},children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{placeholder:n("settings:common.select")})}),s.jsxs($t,{children:[s.jsx(ze,{value:"credentials",children:n("settings:providers.awsCredentials")}),s.jsx(ze,{value:"profile",children:n("settings:providers.awsProfile")}),s.jsx(ze,{value:"apikey",children:n("settings:providers.awsApiKey")})]})]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-3",children:n("settings:providers.apiKeyStorageNotice")}),e!=null&&e.awsUseApiKey?s.jsx(de,{value:(e==null?void 0:e.awsApiKey)||"",type:"password",onInput:d("awsApiKey"),placeholder:n("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.awsApiKey")})}):e!=null&&e.awsUseProfile?s.jsx(de,{value:(e==null?void 0:e.awsProfile)||"",onInput:d("awsProfile"),placeholder:n("settings:placeholders.profileName"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.awsProfileName")})}):s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.awsAccessKey)||"",type:"password",onInput:d("awsAccessKey"),placeholder:n("settings:placeholders.accessKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.awsAccessKey")})}),s.jsx(de,{value:(e==null?void 0:e.awsSecretKey)||"",type:"password",onInput:d("awsSecretKey"),placeholder:n("settings:placeholders.secretKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.awsSecretKey")})}),s.jsx(de,{value:(e==null?void 0:e.awsSessionToken)||"",type:"password",onInput:d("awsSessionToken"),placeholder:n("settings:placeholders.sessionToken"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.awsSessionToken")})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.awsRegion")}),s.jsxs(Ut,{value:(e==null?void 0:e.awsRegion)||"",onValueChange:u=>t("awsRegion",u),children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{placeholder:n("settings:common.select")})}),s.jsx($t,{children:eP.map(({value:u,label:p})=>s.jsx(ze,{value:u,children:p},u))})]})]}),c&&s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.awsServiceTier")}),s.jsxs(Ut,{value:(e==null?void 0:e.awsBedrockServiceTier)||"STANDARD",onValueChange:u=>t("awsBedrockServiceTier",u),children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{placeholder:n("settings:common.select")})}),s.jsxs($t,{children:[s.jsx(ze,{value:"STANDARD",children:n("settings:providers.awsServiceTierStandard")}),s.jsx(ze,{value:"FLEX",children:n("settings:providers.awsServiceTierFlex")}),s.jsx(ze,{value:"PRIORITY",children:n("settings:providers.awsServiceTierPriority")})]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:n("settings:providers.awsServiceTierNote")})]}),l&&s.jsx(It,{checked:(e==null?void 0:e.awsUseGlobalInference)||!1,onChange:u=>{t("awsUseGlobalInference",u)},children:n("settings:providers.awsGlobalInference")}),s.jsx(It,{checked:(e==null?void 0:e.awsUseCrossRegionInference)||!1,onChange:u=>{t("awsUseCrossRegionInference",u)},children:n("settings:providers.awsCrossRegion")}),(r==null?void 0:r.supportsPromptCache)&&s.jsxs(s.Fragment,{children:[s.jsx(It,{checked:(e==null?void 0:e.awsUsePromptCache)||!1,onChange:d("awsUsePromptCache",Co),children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:n("settings:providers.enablePromptCaching")}),s.jsx(ue,{content:n("settings:providers.enablePromptCachingTitle"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground ml-6 mt-1",children:n("settings:providers.cacheUsageNote")})]}),i&&s.jsxs("div",{children:[s.jsx(It,{checked:(e==null?void 0:e.awsBedrock1MContext)??!1,onChange:u=>{t("awsBedrock1MContext",u)},children:n("settings:providers.awsBedrock1MContextBetaLabel")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1 ml-6",children:n("settings:providers.awsBedrock1MContextBetaDescription")})]}),s.jsx(It,{checked:o,onChange:u=>{a(u),t("awsBedrockEndpointEnabled",u)},children:n("settings:providers.awsBedrockVpc.useCustomVpcEndpoint")}),o&&s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.awsBedrockEndpoint)||"",style:{width:"100%",marginTop:3,marginBottom:5},type:"url",onInput:d("awsBedrockEndpoint"),placeholder:n("settings:providers.awsBedrockVpc.vpcEndpointUrlPlaceholder"),"data-testid":"vpc-endpoint-input"}),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground ml-6 mt-1 mb-3",children:[n("settings:providers.awsBedrockVpc.examples"),s.jsx("div",{className:"ml-2",children:" https://vpce-xxx.bedrock.region.vpce.amazonaws.com/"}),s.jsx("div",{className:"ml-2",children:" https://gateway.my-company.com/route/app/bedrock"})]})]})]})},BB=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useCallback((o,a=nt)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.cerebrasApiKey)||"",type:"password",onInput:n("cerebrasApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.cerebrasApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.cerebrasApiKey)&&s.jsx(yt,{href:"https://cloud.cerebras.ai?utm_source=roocode",appearance:"secondary",children:r("settings:providers.getCerebrasApiKey")})]})},To=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);var du,ny;function zB(){if(ny)return du;ny=1,du=e;function e(t){if(t)throw t}return du}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var uu,oy;function q2(){return oy||(oy=1,uu=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}),uu}var pu,ay;function qB(){return ay||(ay=1,pu=e=>{if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}),pu}var mu,iy;function UB(){if(iy)return mu;iy=1;var e=[].slice;mu=t;function t(r,n){var o;return a;function a(){var c=e.call(arguments,0),d=r.length>c.length,u;d&&c.push(i);try{u=r.apply(null,c)}catch(p){if(d&&o)throw p;return i(p)}d||(u&&typeof u.then=="function"?u.then(l,i):u instanceof Error?i(u):l(u))}function i(){o||(o=!0,n.apply(null,arguments))}function l(c){i(null,c)}}return mu}var hu,ly;function WB(){if(ly)return hu;ly=1;var e=UB();hu=r,r.wrap=e;var t=[].slice;function r(){var n=[],o={};return o.run=a,o.use=i,o;function a(){var l=-1,c=t.call(arguments,0,-1),d=arguments[arguments.length-1];if(typeof d!="function")throw new Error("Expected function as last argument, not "+d);u.apply(null,[null].concat(c));function u(p){var m=n[++l],g=t.call(arguments,0),f=g.slice(1),x=c.length,y=-1;if(p){d(p);return}for(;++y<x;)(f[y]===null||f[y]===void 0)&&(f[y]=c[y]);c=f,m?e(m,u).apply(null,c):d.apply(null,[null].concat(c))}}function i(l){if(typeof l!="function")throw new Error("Expected `fn` to be a function, not "+l);return n.push(l),o}}return hu}var fu,cy;function U2(){if(cy)return fu;cy=1;var e={}.hasOwnProperty;fu=t;function t(a){return!a||typeof a!="object"?"":e.call(a,"position")||e.call(a,"type")?n(a.position):e.call(a,"start")||e.call(a,"end")?n(a):e.call(a,"line")||e.call(a,"column")?r(a):""}function r(a){return(!a||typeof a!="object")&&(a={}),o(a.line)+":"+o(a.column)}function n(a){return(!a||typeof a!="object")&&(a={}),r(a.start)+"-"+r(a.end)}function o(a){return a&&typeof a=="number"?a:1}return fu}var gu,dy;function KB(){if(dy)return gu;dy=1;var e=U2();gu=n;function t(){}t.prototype=Error.prototype,n.prototype=new t;var r=n.prototype;r.file="",r.name="",r.reason="",r.message="",r.stack="",r.fatal=null,r.column=null,r.line=null;function n(a,i,l){var c,d,u;typeof i=="string"&&(l=i,i=null),c=o(l),d=e(i)||"1:1",u={start:{line:null,column:null},end:{line:null,column:null}},i&&i.position&&(i=i.position),i&&(i.start?(u=i,i=i.start):u.start=i),a.stack&&(this.stack=a.stack,a=a.message),this.message=a,this.name=d,this.reason=a,this.line=i?i.line:null,this.column=i?i.column:null,this.location=u,this.source=c[0],this.ruleId=c[1]}function o(a){var i=[null,null],l;return typeof a=="string"&&(l=a.indexOf(":"),l===-1?i[1]=a:(i[0]=a.slice(0,l),i[1]=a.slice(l+1))),i}return gu}var _o={},uy;function $B(){if(uy)return _o;uy=1,_o.basename=e,_o.dirname=t,_o.extname=r,_o.join=n,_o.sep="/";function e(l,c){var d=0,u=-1,p,m,g,f;if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');if(i(l),p=l.length,c===void 0||!c.length||c.length>l.length){for(;p--;)if(l.charCodeAt(p)===47){if(g){d=p+1;break}}else u<0&&(g=!0,u=p+1);return u<0?"":l.slice(d,u)}if(c===l)return"";for(m=-1,f=c.length-1;p--;)if(l.charCodeAt(p)===47){if(g){d=p+1;break}}else m<0&&(g=!0,m=p+1),f>-1&&(l.charCodeAt(p)===c.charCodeAt(f--)?f<0&&(u=p):(f=-1,u=m));return d===u?u=m:u<0&&(u=l.length),l.slice(d,u)}function t(l){var c,d,u;if(i(l),!l.length)return".";for(c=-1,u=l.length;--u;)if(l.charCodeAt(u)===47){if(d){c=u;break}}else d||(d=!0);return c<0?l.charCodeAt(0)===47?"/":".":c===1&&l.charCodeAt(0)===47?"//":l.slice(0,c)}function r(l){var c=-1,d=0,u=-1,p=0,m,g,f;for(i(l),f=l.length;f--;){if(g=l.charCodeAt(f),g===47){if(m){d=f+1;break}continue}u<0&&(m=!0,u=f+1),g===46?c<0?c=f:p!==1&&(p=1):c>-1&&(p=-1)}return c<0||u<0||p===0||p===1&&c===u-1&&c===d+1?"":l.slice(c,u)}function n(){for(var l=-1,c;++l<arguments.length;)i(arguments[l]),arguments[l]&&(c=c===void 0?arguments[l]:c+"/"+arguments[l]);return c===void 0?".":o(c)}function o(l){var c,d;return i(l),c=l.charCodeAt(0)===47,d=a(l,!c),!d.length&&!c&&(d="."),d.length&&l.charCodeAt(l.length-1)===47&&(d+="/"),c?"/"+d:d}function a(l,c){for(var d="",u=0,p=-1,m=0,g=-1,f,x;++g<=l.length;){if(g<l.length)f=l.charCodeAt(g);else{if(f===47)break;f=47}if(f===47){if(!(p===g-1||m===1))if(p!==g-1&&m===2){if(d.length<2||u!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){if(x=d.lastIndexOf("/"),x!==d.length-1){x<0?(d="",u=0):(d=d.slice(0,x),u=d.length-1-d.lastIndexOf("/")),p=g,m=0;continue}}else if(d.length){d="",u=0,p=g,m=0;continue}}c&&(d=d.length?d+"/..":"..",u=2)}else d.length?d+="/"+l.slice(p+1,g):d=l.slice(p+1,g),u=g-p-1;p=g,m=0}else f===46&&m>-1?m++:m=-1}return d}function i(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}return _o}var xu={},py;function HB(){if(py)return xu;py=1,xu.cwd=e;function e(){return"/"}return xu}var vu,my;function VB(){if(my)return vu;my=1;var e=$B(),t=HB(),r=q2();vu=a;var n={}.hasOwnProperty,o=["history","path","basename","stem","extname","dirname"];a.prototype.toString=y,Object.defineProperty(a.prototype,"path",{get:i,set:l}),Object.defineProperty(a.prototype,"dirname",{get:c,set:d}),Object.defineProperty(a.prototype,"basename",{get:u,set:p}),Object.defineProperty(a.prototype,"extname",{get:m,set:g}),Object.defineProperty(a.prototype,"stem",{get:f,set:x});function a(v){var _,k;if(!v)v={};else if(typeof v=="string"||r(v))v={contents:v};else if("message"in v&&"messages"in v)return v;if(!(this instanceof a))return new a(v);for(this.data={},this.messages=[],this.history=[],this.cwd=t.cwd(),k=-1;++k<o.length;)_=o[k],n.call(v,_)&&(this[_]=v[_]);for(_ in v)o.indexOf(_)<0&&(this[_]=v[_])}function i(){return this.history[this.history.length-1]}function l(v){b(v,"path"),this.path!==v&&this.history.push(v)}function c(){return typeof this.path=="string"?e.dirname(this.path):void 0}function d(v){j(this.path,"dirname"),this.path=e.join(v||"",this.basename)}function u(){return typeof this.path=="string"?e.basename(this.path):void 0}function p(v){b(v,"basename"),N(v,"basename"),this.path=e.join(this.dirname||"",v)}function m(){return typeof this.path=="string"?e.extname(this.path):void 0}function g(v){if(N(v,"extname"),j(this.path,"extname"),v){if(v.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(v.indexOf(".",1)>-1)throw new Error("`extname` cannot contain multiple dots")}this.path=e.join(this.dirname,this.stem+(v||""))}function f(){return typeof this.path=="string"?e.basename(this.path,this.extname):void 0}function x(v){b(v,"stem"),N(v,"stem"),this.path=e.join(this.dirname||"",v+(this.extname||""))}function y(v){return(this.contents||"").toString(v)}function N(v,_){if(v&&v.indexOf(e.sep)>-1)throw new Error("`"+_+"` cannot be a path: did not expect `"+e.sep+"`")}function b(v,_){if(!v)throw new Error("`"+_+"` cannot be empty")}function j(v,_){if(!v)throw new Error("Setting `"+_+"` requires `path` to be set too")}return vu}var bu,hy;function GB(){if(hy)return bu;hy=1;var e=KB(),t=VB();bu=t,t.prototype.message=r,t.prototype.info=o,t.prototype.fail=n;function r(a,i,l){var c=new e(a,i,l);return this.path&&(c.name=this.path+":"+c.name,c.file=this.path),c.fatal=!1,this.messages.push(c),c}function n(){var a=this.message.apply(this,arguments);throw a.fatal=!0,a}function o(){var a=this.message.apply(this,arguments);return a.fatal=null,a}return bu}var yu,fy;function QB(){return fy||(fy=1,yu=GB()),yu}var wu,gy;function YB(){if(gy)return wu;gy=1;var e=zB(),t=q2(),r=DP(),n=qB(),o=WB(),a=QB();wu=m().freeze();var i=[].slice,l={}.hasOwnProperty,c=o().use(d).use(u).use(p);function d(v,_){_.tree=v.parse(_.file)}function u(v,_,k){v.run(_.tree,_.file,w);function w(T,S,P){T?k(T):(_.tree=S,_.file=P,k())}}function p(v,_){var k=v.stringify(_.tree,_.file);k==null||(typeof k=="string"||t(k)?("value"in _.file&&(_.file.value=k),_.file.contents=k):_.file.result=k)}function m(){var v=[],_=o(),k={},w=-1,T;return S.data=I,S.freeze=P,S.attachers=v,S.use=M,S.parse=C,S.stringify=D,S.run=H,S.runSync=z,S.process=Y,S.processSync=U,S;function S(){for(var q=m(),F=-1;++F<v.length;)q.use.apply(null,v[F]);return q.data(r(!0,{},k)),q}function P(){var q,F;if(T)return S;for(;++w<v.length;)q=v[w],q[1]!==!1&&(q[1]===!0&&(q[1]=void 0),F=q[0].apply(S,q.slice(1)),typeof F=="function"&&_.use(F));return T=!0,w=1/0,S}function I(q,F){return typeof q=="string"?arguments.length===2?(N("data",T),k[q]=F,S):l.call(k,q)&&k[q]||null:q?(N("data",T),k=q,S):k}function M(q){var F;if(N("use",T),q!=null)if(typeof q=="function")X.apply(null,arguments);else if(typeof q=="object")"length"in q?K(q):W(q);else throw new Error("Expected usable value, not `"+q+"`");return F&&(k.settings=r(k.settings||{},F)),S;function W(G){K(G.plugins),G.settings&&(F=r(F||{},G.settings))}function te(G){if(typeof G=="function")X(G);else if(typeof G=="object")"length"in G?X.apply(null,G):W(G);else throw new Error("Expected usable value, not `"+G+"`")}function K(G){var J=-1;if(G!=null)if(typeof G=="object"&&"length"in G)for(;++J<G.length;)te(G[J]);else throw new Error("Expected a list of plugins, not `"+G+"`")}function X(G,J){var ae=A(G);ae?(n(ae[1])&&n(J)&&(J=r(!0,ae[1],J)),ae[1]=J):v.push(i.call(arguments))}}function A(q){for(var F=-1;++F<v.length;)if(v[F][0]===q)return v[F]}function C(q){var F=a(q),W;return P(),W=S.Parser,x("parse",W),g(W,"parse")?new W(String(F),F).parse():W(String(F),F)}function H(q,F,W){if(b(q),P(),!W&&typeof F=="function"&&(W=F,F=null),!W)return new Promise(te);te(null,W);function te(K,X){_.run(q,a(F),G);function G(J,ae,O){ae=ae||q,J?X(J):K?K(ae):W(null,ae,O)}}}function z(q,F){var W,te;return H(q,F,K),j("runSync","run",te),W;function K(X,G){te=!0,W=G,e(X)}}function D(q,F){var W=a(F),te;return P(),te=S.Compiler,y("stringify",te),b(q),g(te,"compile")?new te(q,W).compile():te(q,W)}function Y(q,F){if(P(),x("process",S.Parser),y("process",S.Compiler),!F)return new Promise(W);W(null,F);function W(te,K){var X=a(q);c.run(S,{file:X},G);function G(J){J?K(J):te?te(X):F(null,X)}}}function U(q){var F,W;return P(),x("processSync",S.Parser),y("processSync",S.Compiler),F=a(q),Y(F,te),j("processSync","process",W),F;function te(K){W=!0,e(K)}}}function g(v,_){return typeof v=="function"&&v.prototype&&(f(v.prototype)||_ in v.prototype)}function f(v){var _;for(_ in v)return!0;return!1}function x(v,_){if(typeof _!="function")throw new Error("Cannot `"+v+"` without `Parser`")}function y(v,_){if(typeof _!="function")throw new Error("Cannot `"+v+"` without `Compiler`")}function N(v,_){if(_)throw new Error("Cannot invoke `"+v+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function b(v){if(!v||typeof v.type!="string")throw new Error("Expected node, got `"+v+"`")}function j(v,_,k){if(!k)throw new Error("`"+v+"` finished async. Use `"+_+"` instead")}return wu}var XB=YB();const JB=ln(XB);var ku,xy;function ZB(){if(xy)return ku;xy=1,ku=e;function e(r){return r&&(r.value||r.alt||r.title||"children"in r&&t(r.children)||"length"in r&&t(r))||""}function t(r){for(var n=[],o=-1;++o<r.length;)n[o]=e(r[o]);return n.join("")}return ku}var ju,vy;function gl(){if(vy)return ju;vy=1;var e=Object.assign;return ju=e,ju}var _u,by;function W2(){if(by)return _u;by=1;var e={}.hasOwnProperty;return _u=e,_u}var Nu,yy;function yx(){if(yy)return Nu;yy=1;function e(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}return Nu=e,Nu}var Su,wy;function Td(){if(wy)return Su;wy=1;var e=String.fromCharCode;return Su=e,Su}var Tu,ky;function e6(){if(ky)return Tu;ky=1;var e=Td();function t(r,n){var o=parseInt(r,n);return o<9||o===11||o>13&&o<32||o>126&&o<160||o>55295&&o<57344||o>64975&&o<65008||(o&65535)===65535||(o&65535)===65534||o>1114111?"":e(o)}return Tu=t,Tu}var Bl={},Pu,jy;function bs(){if(jy)return Pu;jy=1;function e(t){return t<-2}return Pu=e,Pu}var Iu,_y;function qn(){if(_y)return Iu;_y=1;function e(t){return t===-2||t===-1||t===32}return Iu=e,Iu}var Eu,Ny;function As(){if(Ny)return Eu;Ny=1;var e=qn();function t(r,n,o,a){var i=a?a-1:1/0,l=0;return c;function c(u){return e(u)?(r.enter(o),d(u)):n(u)}function d(u){return e(u)&&l++<i?(r.consume(u),d):(r.exit(o),n(u))}}return Eu=t,Eu}var Sy;function t6(){if(Sy)return Bl;Sy=1,Object.defineProperty(Bl,"__esModule",{value:!0});var e=bs(),t=As(),r=n;function n(o){var a=o.attempt(this.parser.constructs.contentInitial,l,c),i;return a;function l(p){if(p===null){o.consume(p);return}return o.enter("lineEnding"),o.consume(p),o.exit("lineEnding"),t(o,a,"linePrefix")}function c(p){return o.enter("paragraph"),d(p)}function d(p){var m=o.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=m),i=m,u(p)}function u(p){if(p===null){o.exit("chunkText"),o.exit("paragraph"),o.consume(p);return}return e(p)?(o.consume(p),o.exit("chunkText"),d):(o.consume(p),u)}}return Bl.tokenize=r,Bl}var zl={},Mu,Ty;function Pd(){if(Ty)return Mu;Ty=1;var e=bs(),t=As(),r={tokenize:n,partial:!0};function n(o,a,i){return t(o,l,"linePrefix");function l(c){return c===null||e(c)?a(c):i(c)}}return Mu=r,Mu}var Py;function s6(){if(Py)return zl;Py=1,Object.defineProperty(zl,"__esModule",{value:!0});var e=bs(),t=As(),r=Pd(),n=i,o={tokenize:l},a={tokenize:c};function i(d){var u=this,p=[],m=0,g={tokenize:P,partial:!0},f,x,y;return N;function N(I){return m<p.length?(u.containerState=p[m][1],d.attempt(p[m][0].continuation,b,j)(I)):j(I)}function b(I){return m++,N(I)}function j(I){return f&&f.flowContinue?_(I):(u.interrupt=x&&x.currentConstruct&&x.currentConstruct.interruptible,u.containerState={},d.attempt(o,v,_)(I))}function v(I){return p.push([u.currentConstruct,u.containerState]),u.containerState=void 0,j(I)}function _(I){if(I===null){S(0,!0),d.consume(I);return}return x=x||u.parser.flow(u.now()),d.enter("chunkFlow",{contentType:"flow",previous:y,_tokenizer:x}),k(I)}function k(I){return I===null?(T(d.exit("chunkFlow")),_(I)):e(I)?(d.consume(I),T(d.exit("chunkFlow")),d.check(g,w)):(d.consume(I),k)}function w(I){return S(f.continued,f&&f.flowEnd),m=0,N(I)}function T(I){y&&(y.next=I),y=I,x.lazy=f&&f.lazy,x.defineSkip(I.start),x.write(u.sliceStream(I))}function S(I,M){var A=p.length;for(x&&M&&(x.write([null]),y=x=void 0);A-- >I;)u.containerState=p[A][1],p[A][0].exit.call(u,d);p.length=I}function P(I,M){var A=0;return f={},C;function C(q){return A<p.length?(u.containerState=p[A][1],I.attempt(p[A][0].continuation,H,z)(q)):x.currentConstruct&&x.currentConstruct.concrete?(f.flowContinue=!0,U(q)):(u.interrupt=x.currentConstruct&&x.currentConstruct.interruptible,u.containerState={},I.attempt(o,Y,U)(q))}function H(q){return A++,u.containerState._closeFlow?Y(q):C(q)}function z(q){return x.currentConstruct&&x.currentConstruct.lazy?(u.containerState={},I.attempt(o,Y,I.attempt(a,Y,I.check(r,Y,D)))(q)):Y(q)}function D(q){return A=p.length,f.lazy=!0,f.flowContinue=!0,U(q)}function Y(q){return f.flowEnd=!0,U(q)}function U(q){return f.continued=A,u.interrupt=u.containerState=void 0,M(q)}}}function l(d,u,p){return t(d,d.attempt(this.parser.constructs.document,u,p),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function c(d,u,p){return t(d,d.lazy(this.parser.constructs.flow,u,p),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}return zl.tokenize=n,zl}var ql={},Cu,Iy;function K2(){if(Iy)return Cu;Iy=1;function e(t){for(var r=-1,n=0;++r<t.length;)n+=typeof t[r]=="string"?t[r].length:1;return n}return Cu=e,Cu}var Au,Ey;function Id(){if(Ey)return Au;Ey=1;var e=K2();function t(r,n){var o=r[r.length-1];return!o||o[1].type!==n?0:e(o[2].sliceStream(o[1]))}return Au=t,Au}var Ru,My;function r6(){if(My)return Ru;My=1;var e=[].splice;return Ru=e,Ru}var Ou,Cy;function bo(){if(Cy)return Ou;Cy=1;var e=r6();function t(r,n,o,a){var i=r.length,l=0,c;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,o=o>0?o:0,a.length<1e4)c=Array.from(a),c.unshift(n,o),e.apply(r,c);else for(o&&e.apply(r,[n,o]);l<a.length;)c=a.slice(l,l+1e4),c.unshift(n,0),e.apply(r,c),l+=1e4,n+=1e4}return Ou=t,Ou}var Du,Ay;function li(){if(Ay)return Du;Ay=1;var e=gl();function t(r){return e({},r)}return Du=t,Du}var Fu,Ry;function $2(){if(Ry)return Fu;Ry=1;var e=gl(),t=bo(),r=li();function n(a){for(var i={},l=-1,c,d,u,p,m,g,f;++l<a.length;){for(;l in i;)l=i[l];if(c=a[l],l&&c[1].type==="chunkFlow"&&a[l-1][1].type==="listItemPrefix"&&(g=c[1]._tokenizer.events,u=0,u<g.length&&g[u][1].type==="lineEndingBlank"&&(u+=2),u<g.length&&g[u][1].type==="content"))for(;++u<g.length&&g[u][1].type!=="content";)g[u][1].type==="chunkText"&&(g[u][1].isInFirstContentOfListItem=!0,u++);if(c[0]==="enter")c[1].contentType&&(e(i,o(a,l)),l=i[l],f=!0);else if(c[1]._container||c[1]._movePreviousLineEndings){for(u=l,d=void 0;u--&&(p=a[u],p[1].type==="lineEnding"||p[1].type==="lineEndingBlank");)p[0]==="enter"&&(d&&(a[d][1].type="lineEndingBlank"),p[1].type="lineEnding",d=u);d&&(c[1].end=r(a[d][1].start),m=a.slice(d,l),m.unshift(c),t(a,d,l-d+1,m))}}return!f}function o(a,i){for(var l=a[i][1],c=a[i][2],d=i-1,u=[],p=l._tokenizer||c.parser[l.contentType](l.start),m=p.events,g=[],f={},x,y,N,b,j,v;l;){for(;a[++d][1]!==l;);u.push(d),l._tokenizer||(x=c.sliceStream(l),l.next||x.push(null),y&&p.defineSkip(l.start),l.isInFirstContentOfListItem&&(p._gfmTasklistFirstContentOfListItem=!0),p.write(x),l.isInFirstContentOfListItem&&(p._gfmTasklistFirstContentOfListItem=void 0)),y=l,l=l.next}for(l=y,N=m.length;N--;)m[N][0]==="enter"?b=!0:b&&m[N][1].type===m[N-1][1].type&&m[N][1].start.line!==m[N][1].end.line&&(_(m.slice(N+1,j)),l._tokenizer=l.next=void 0,l=l.previous,j=N+1);for(p.events=l._tokenizer=l.next=void 0,_(m.slice(0,j)),N=-1,v=0;++N<g.length;)f[v+g[N][0]]=v+g[N][1],v+=g[N][1]-g[N][0]-1;return f;function _(k){var w=u.pop();g.unshift([w,w+k.length-1]),t(a,w,2,k)}}return Fu=n,Fu}var Lu,Oy;function n6(){if(Oy)return Lu;Oy=1;var e=bs(),t=Id(),r=$2(),n=As(),o={tokenize:l,resolve:i,interruptible:!0,lazy:!0},a={tokenize:c,partial:!0};function i(d){return r(d),d}function l(d,u){var p;return m;function m(y){return d.enter("content"),p=d.enter("chunkContent",{contentType:"content"}),g(y)}function g(y){return y===null?f(y):e(y)?d.check(a,x,f)(y):(d.consume(y),g)}function f(y){return d.exit("chunkContent"),d.exit("content"),u(y)}function x(y){return d.consume(y),d.exit("chunkContent"),p=p.next=d.enter("chunkContent",{contentType:"content",previous:p}),g}}function c(d,u,p){var m=this;return g;function g(x){return d.enter("lineEnding"),d.consume(x),d.exit("lineEnding"),n(d,f,"linePrefix")}function f(x){return x===null||e(x)?p(x):m.parser.constructs.disable.null.indexOf("codeIndented")>-1||t(m.events,"linePrefix")<4?d.interrupt(m.parser.constructs.flow,p,u)(x):u(x)}}return Lu=o,Lu}var Dy;function o6(){if(Dy)return ql;Dy=1,Object.defineProperty(ql,"__esModule",{value:!0});var e=n6(),t=As(),r=Pd(),n=o;function o(a){var i=this,l=a.attempt(r,c,a.attempt(this.parser.constructs.flowInitial,d,t(a,a.attempt(this.parser.constructs.flow,d,a.attempt(e,d)),"linePrefix")));return l;function c(u){if(u===null){a.consume(u);return}return a.enter("lineEndingBlank"),a.consume(u),a.exit("lineEndingBlank"),i.currentConstruct=void 0,l}function d(u){if(u===null){a.consume(u);return}return a.enter("lineEnding"),a.consume(u),a.exit("lineEnding"),i.currentConstruct=void 0,l}}return ql.tokenize=n,ql}var da={},Fy;function H2(){if(Fy)return da;Fy=1,Object.defineProperty(da,"__esModule",{value:!0});var e=gl(),t=li(),r=a("text"),n=a("string"),o={resolveAll:i()};function a(c){return{tokenize:d,resolveAll:i(c==="text"?l:void 0)};function d(u){var p=this,m=this.parser.constructs[c],g=u.attempt(m,f,x);return f;function f(b){return N(b)?g(b):x(b)}function x(b){if(b===null){u.consume(b);return}return u.enter("data"),u.consume(b),y}function y(b){return N(b)?(u.exit("data"),g(b)):(u.consume(b),y)}function N(b){var j=m[b],v=-1;if(b===null)return!0;if(j){for(;++v<j.length;)if(!j[v].previous||j[v].previous.call(p,p.previous))return!0}}}}function i(c){return d;function d(u,p){for(var m=-1,g;++m<=u.length;)g===void 0?u[m]&&u[m][1].type==="data"&&(g=m,m++):(!u[m]||u[m][1].type!=="data")&&(m!==g+2&&(u[g][1].end=u[m-1][1].end,u.splice(g+2,m-g-2),m=g+2),g=void 0);return c?c(u,p):u}}function l(c,d){for(var u=-1,p,m,g,f,x,y,N,b;++u<=c.length;)if((u===c.length||c[u][1].type==="lineEnding")&&c[u-1][1].type==="data"){for(m=c[u-1][1],p=d.sliceStream(m),f=p.length,x=-1,y=0,N=void 0;f--;)if(g=p[f],typeof g=="string"){for(x=g.length;g.charCodeAt(x-1)===32;)y++,x--;if(x)break;x=-1}else if(g===-2)N=!0,y++;else if(g!==-1){f++;break}y&&(b={type:u===c.length||N||y<2?"lineSuffix":"hardBreakTrailing",start:{line:m.end.line,column:m.end.column-y,offset:m.end.offset-y,_index:m.start._index+f,_bufferIndex:f?x:m.start._bufferIndex+x},end:t(m.end)},m.end=t(b.start),m.start.offset===m.end.offset?e(m,b):(c.splice(u,0,["enter",b,d],["exit",b,d]),u+=2)),u++}return c}return da.resolver=o,da.string=n,da.text=r,da}var Bu,Ly;function wx(){if(Ly)return Bu;Ly=1;function e(t){return t==null?[]:"length"in t?t:[t]}return Bu=e,Bu}var zu,By;function a6(){if(By)return zu;By=1;var e=W2(),t=bo(),r=wx();function n(i){for(var l={},c=-1;++c<i.length;)o(l,i[c]);return l}function o(i,l){var c,d,u,p;for(c in l){d=e.call(i,c)?i[c]:i[c]={},u=l[c];for(p in u)d[p]=a(r(u[p]),e.call(d,p)?d[p]:[])}}function a(i,l){for(var c=-1,d=[];++c<i.length;)(i[c].add==="after"?l:d).push(i[c]);return t(l,0,0,d),l}return zu=n,zu}var qu,zy;function kx(){if(zy)return qu;zy=1;var e=bo();function t(r,n){return r.length?(e(r,r.length,0,n),r):n}return qu=t,qu}var Uu,qy;function jx(){if(qy)return Uu;qy=1;function e(t,r,n){for(var o=[],a=-1,i;++a<t.length;)i=t[a].resolveAll,i&&o.indexOf(i)<0&&(r=i(r,n),o.push(i));return r}return Uu=e,Uu}var Wu,Uy;function i6(){if(Uy)return Wu;Uy=1;var e=Td();function t(r){for(var n=-1,o=[],a,i,l;++n<r.length;){if(a=r[n],typeof a=="string")i=a;else if(a===-5)i="\r";else if(a===-4)i=`
`;else if(a===-3)i=`\r
`;else if(a===-2)i="	";else if(a===-1){if(l)continue;i=" "}else i=e(a);l=a===-2,o.push(i)}return o.join("")}return Wu=t,Wu}var Ku,Wy;function l6(){if(Wy)return Ku;Wy=1;function e(t,r){var n=r.start._index,o=r.start._bufferIndex,a=r.end._index,i=r.end._bufferIndex,l;return n===a?l=[t[n].slice(o,i)]:(l=t.slice(n,a),o>-1&&(l[0]=l[0].slice(o)),i>0&&l.push(t[a].slice(0,i))),l}return Ku=e,Ku}var $u,Ky;function c6(){if(Ky)return $u;Ky=1;var e=gl(),t=bs(),r=kx(),n=bo(),o=wx(),a=jx(),i=i6(),l=li(),c=l6();function d(u,p,m){var g=m?l(m):{line:1,column:1,offset:0},f={},x=[],y=[],N=[],b={consume:M,enter:A,exit:C,attempt:D(H),check:D(z),interrupt:D(z,{interrupt:!0}),lazy:D(z,{lazy:!0})},j={previous:null,events:[],parser:u,sliceStream:w,sliceSerialize:k,now:T,defineSkip:S,write:_},v=p.tokenize.call(j,b);return p.resolveAll&&x.push(p),g._index=0,g._bufferIndex=-1,j;function _(F){return y=r(y,F),P(),y[y.length-1]!==null?[]:(Y(p,0),j.events=a(x,j.events,j),j.events)}function k(F){return i(w(F))}function w(F){return c(y,F)}function T(){return l(g)}function S(F){f[F.line]=F.column,q()}function P(){for(var F,W;g._index<y.length;)if(W=y[g._index],typeof W=="string")for(F=g._index,g._bufferIndex<0&&(g._bufferIndex=0);g._index===F&&g._bufferIndex<W.length;)I(W.charCodeAt(g._bufferIndex));else I(W)}function I(F){v=v(F)}function M(F){t(F)?(g.line++,g.column=1,g.offset+=F===-3?2:1,q()):F!==-1&&(g.column++,g.offset++),g._bufferIndex<0?g._index++:(g._bufferIndex++,g._bufferIndex===y[g._index].length&&(g._bufferIndex=-1,g._index++)),j.previous=F}function A(F,W){var te=W||{};return te.type=F,te.start=T(),j.events.push(["enter",te,j]),N.push(te),te}function C(F){var W=N.pop();return W.end=T(),j.events.push(["exit",W,j]),W}function H(F,W){Y(F,W.from)}function z(F,W){W.restore()}function D(F,W){return te;function te(K,X,G){var J,ae,O,pe;return K.tokenize||"length"in K?xe(o(K)):be;function be(fe){return fe in K||null in K?xe(K.null?o(K[fe]).concat(o(K.null)):K[fe])(fe):G(fe)}function xe(fe){return J=fe,ae=0,Pe(fe[ae])}function Pe(fe){return ne;function ne(Ve){return pe=U(),O=fe,fe.partial||(j.currentConstruct=fe),fe.name&&j.parser.constructs.disable.null.indexOf(fe.name)>-1?L():fe.tokenize.call(W?e({},j,W):j,b,Te,L)(Ve)}}function Te(fe){return F(O,pe),X}function L(fe){return pe.restore(),++ae<J.length?Pe(J[ae]):G}}}function Y(F,W){F.resolveAll&&x.indexOf(F)<0&&x.push(F),F.resolve&&n(j.events,W,j.events.length-W,F.resolve(j.events.slice(W),j)),F.resolveTo&&(j.events=F.resolveTo(j.events,j))}function U(){var F=T(),W=j.previous,te=j.currentConstruct,K=j.events.length,X=Array.from(N);return{restore:G,from:K};function G(){g=F,j.previous=W,j.currentConstruct=te,j.events.length=K,N=X,q()}}function q(){g.line in f&&g.column<2&&(g.column=f[g.line],g.offset+=f[g.line]-1)}}return $u=d,$u}var zr={},Hu,$y;function yo(){if($y)return Hu;$y=1;function e(t){return t<0||t===32}return Hu=e,Hu}var Vu,Hy;function d6(){if(Hy)return Vu;Hy=1;var e=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;return Vu=e,Vu}var Gu,Vy;function wo(){if(Vy)return Gu;Vy=1;var e=Td();function t(r){return n;function n(o){return r.test(e(o))}}return Gu=t,Gu}var Qu,Gy;function u6(){if(Gy)return Qu;Gy=1;var e=d6(),t=wo(),r=t(e);return Qu=r,Qu}var Yu,Qy;function p6(){if(Qy)return Yu;Qy=1;var e=wo(),t=e(/\s/);return Yu=t,Yu}var Xu,Yy;function m6(){if(Yy)return Xu;Yy=1;var e=yo(),t=u6(),r=p6();function n(o){if(o===null||e(o)||r(o))return 1;if(t(o))return 2}return Xu=n,Xu}var Ju,Xy;function h6(){if(Xy)return Ju;Xy=1;function e(t,r){return t.column+=r,t.offset+=r,t._bufferIndex+=r,t}return Ju=e,Ju}var Zu,Jy;function f6(){if(Jy)return Zu;Jy=1;var e=kx(),t=bo(),r=m6(),n=h6(),o=jx(),a=li(),i={name:"attention",tokenize:c,resolveAll:l};function l(d,u){for(var p=-1,m,g,f,x,y,N,b,j;++p<d.length;)if(d[p][0]==="enter"&&d[p][1].type==="attentionSequence"&&d[p][1]._close){for(m=p;m--;)if(d[m][0]==="exit"&&d[m][1].type==="attentionSequence"&&d[m][1]._open&&u.sliceSerialize(d[m][1]).charCodeAt(0)===u.sliceSerialize(d[p][1]).charCodeAt(0)){if((d[m][1]._close||d[p][1]._open)&&(d[p][1].end.offset-d[p][1].start.offset)%3&&!((d[m][1].end.offset-d[m][1].start.offset+d[p][1].end.offset-d[p][1].start.offset)%3))continue;N=d[m][1].end.offset-d[m][1].start.offset>1&&d[p][1].end.offset-d[p][1].start.offset>1?2:1,x={type:N>1?"strongSequence":"emphasisSequence",start:n(a(d[m][1].end),-N),end:a(d[m][1].end)},y={type:N>1?"strongSequence":"emphasisSequence",start:a(d[p][1].start),end:n(a(d[p][1].start),N)},f={type:N>1?"strongText":"emphasisText",start:a(d[m][1].end),end:a(d[p][1].start)},g={type:N>1?"strong":"emphasis",start:a(x.start),end:a(y.end)},d[m][1].end=a(x.start),d[p][1].start=a(y.end),b=[],d[m][1].end.offset-d[m][1].start.offset&&(b=e(b,[["enter",d[m][1],u],["exit",d[m][1],u]])),b=e(b,[["enter",g,u],["enter",x,u],["exit",x,u],["enter",f,u]]),b=e(b,o(u.parser.constructs.insideSpan.null,d.slice(m+1,p),u)),b=e(b,[["exit",f,u],["enter",y,u],["exit",y,u],["exit",g,u]]),d[p][1].end.offset-d[p][1].start.offset?(j=2,b=e(b,[["enter",d[p][1],u],["exit",d[p][1],u]])):j=0,t(d,m-1,p-m+3,b),p=m+b.length-j-2;break}}for(p=-1;++p<d.length;)d[p][1].type==="attentionSequence"&&(d[p][1].type="data");return d}function c(d,u){var p=r(this.previous),m;return g;function g(x){return d.enter("attentionSequence"),m=x,f(x)}function f(x){var y,N,b,j;return x===m?(d.consume(x),f):(y=d.exit("attentionSequence"),N=r(x),b=!N||N===2&&p,j=!p||p===2&&N,y._open=m===42?b:b&&(p||!j),y._close=m===42?j:j&&(N||!b),u(x))}}return Zu=i,Zu}var ep,Zy;function _x(){if(Zy)return ep;Zy=1;var e=wo(),t=e(/[A-Za-z]/);return ep=t,ep}var tp,ew;function Ed(){if(ew)return tp;ew=1;var e=wo(),t=e(/[\dA-Za-z]/);return tp=t,tp}var sp,tw;function g6(){if(tw)return sp;tw=1;var e=wo(),t=e(/[#-'*+\--9=?A-Z^-~]/);return sp=t,sp}var rp,sw;function V2(){if(sw)return rp;sw=1;function e(t){return t<32||t===127}return rp=e,rp}var np,rw;function x6(){if(rw)return np;rw=1;var e=_x(),t=Ed(),r=g6(),n=V2(),o={name:"autolink",tokenize:a};function a(i,l,c){var d=1;return u;function u(v){return i.enter("autolink"),i.enter("autolinkMarker"),i.consume(v),i.exit("autolinkMarker"),i.enter("autolinkProtocol"),p}function p(v){return e(v)?(i.consume(v),m):r(v)?x(v):c(v)}function m(v){return v===43||v===45||v===46||t(v)?g(v):x(v)}function g(v){return v===58?(i.consume(v),f):(v===43||v===45||v===46||t(v))&&d++<32?(i.consume(v),g):x(v)}function f(v){return v===62?(i.exit("autolinkProtocol"),j(v)):v===32||v===60||n(v)?c(v):(i.consume(v),f)}function x(v){return v===64?(i.consume(v),d=0,y):r(v)?(i.consume(v),x):c(v)}function y(v){return t(v)?N(v):c(v)}function N(v){return v===46?(i.consume(v),d=0,y):v===62?(i.exit("autolinkProtocol").type="autolinkEmail",j(v)):b(v)}function b(v){return(v===45||t(v))&&d++<63?(i.consume(v),v===45?b:N):c(v)}function j(v){return i.enter("autolinkMarker"),i.consume(v),i.exit("autolinkMarker"),i.exit("autolink"),l}}return np=o,np}var op,nw;function v6(){if(nw)return op;nw=1;var e=qn(),t=As(),r={name:"blockQuote",tokenize:n,continuation:{tokenize:o},exit:a};function n(i,l,c){var d=this;return u;function u(m){return m===62?(d.containerState.open||(i.enter("blockQuote",{_container:!0}),d.containerState.open=!0),i.enter("blockQuotePrefix"),i.enter("blockQuoteMarker"),i.consume(m),i.exit("blockQuoteMarker"),p):c(m)}function p(m){return e(m)?(i.enter("blockQuotePrefixWhitespace"),i.consume(m),i.exit("blockQuotePrefixWhitespace"),i.exit("blockQuotePrefix"),l):(i.exit("blockQuotePrefix"),l(m))}}function o(i,l,c){return t(i,i.attempt(r,l,c),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function a(i){i.exit("blockQuote")}return op=r,op}var ap,ow;function b6(){if(ow)return ap;ow=1;var e=wo(),t=e(/[!-/:-@[-`{-~]/);return ap=t,ap}var ip,aw;function y6(){if(aw)return ip;aw=1;var e=b6(),t={name:"characterEscape",tokenize:r};function r(n,o,a){return i;function i(c){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(c),n.exit("escapeMarker"),l}function l(c){return e(c)?(n.enter("characterEscapeValue"),n.consume(c),n.exit("characterEscapeValue"),n.exit("characterEscape"),o):a(c)}}return ip=t,ip}var lp,iw;function G2(){if(iw)return lp;iw=1;var e,t=59;lp=r;function r(n){var o="&"+n+";",a;return e=e||document.createElement("i"),e.innerHTML=o,a=e.textContent,a.charCodeAt(a.length-1)===t&&n!=="semi"||a===o?!1:a}return lp}var cp,lw;function Q2(){if(lw)return cp;lw=1;var e=wo(),t=e(/\d/);return cp=t,cp}var dp,cw;function w6(){if(cw)return dp;cw=1;var e=wo(),t=e(/[\dA-Fa-f]/);return dp=t,dp}var up,dw;function k6(){if(dw)return up;dw=1;var e=G2(),t=Ed(),r=Q2(),n=w6();function o(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var a=o(e),i={name:"characterReference",tokenize:l};function l(c,d,u){var p=this,m=0,g,f;return x;function x(j){return c.enter("characterReference"),c.enter("characterReferenceMarker"),c.consume(j),c.exit("characterReferenceMarker"),y}function y(j){return j===35?(c.enter("characterReferenceMarkerNumeric"),c.consume(j),c.exit("characterReferenceMarkerNumeric"),N):(c.enter("characterReferenceValue"),g=31,f=t,b(j))}function N(j){return j===88||j===120?(c.enter("characterReferenceMarkerHexadecimal"),c.consume(j),c.exit("characterReferenceMarkerHexadecimal"),c.enter("characterReferenceValue"),g=6,f=n,b):(c.enter("characterReferenceValue"),g=7,f=r,b(j))}function b(j){var v;return j===59&&m?(v=c.exit("characterReferenceValue"),f===t&&!a.default(p.sliceSerialize(v))?u(j):(c.enter("characterReferenceMarker"),c.consume(j),c.exit("characterReferenceMarker"),c.exit("characterReference"),d)):f(j)&&m++<g?(c.consume(j),b):u(j)}}return up=i,up}var pp,uw;function j6(){if(uw)return pp;uw=1;var e=bs(),t=yo(),r=Id(),n=As(),o={name:"codeFenced",tokenize:a,concrete:!0};function a(i,l,c){var d=this,u={tokenize:T,partial:!0},p=r(this.events,"linePrefix"),m=0,g;return f;function f(S){return i.enter("codeFenced"),i.enter("codeFencedFence"),i.enter("codeFencedFenceSequence"),g=S,x(S)}function x(S){return S===g?(i.consume(S),m++,x):(i.exit("codeFencedFenceSequence"),m<3?c(S):n(i,y,"whitespace")(S))}function y(S){return S===null||e(S)?v(S):(i.enter("codeFencedFenceInfo"),i.enter("chunkString",{contentType:"string"}),N(S))}function N(S){return S===null||t(S)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),n(i,b,"whitespace")(S)):S===96&&S===g?c(S):(i.consume(S),N)}function b(S){return S===null||e(S)?v(S):(i.enter("codeFencedFenceMeta"),i.enter("chunkString",{contentType:"string"}),j(S))}function j(S){return S===null||e(S)?(i.exit("chunkString"),i.exit("codeFencedFenceMeta"),v(S)):S===96&&S===g?c(S):(i.consume(S),j)}function v(S){return i.exit("codeFencedFence"),d.interrupt?l(S):_(S)}function _(S){return S===null?w(S):e(S)?(i.enter("lineEnding"),i.consume(S),i.exit("lineEnding"),i.attempt(u,w,p?n(i,_,"linePrefix",p+1):_)):(i.enter("codeFlowValue"),k(S))}function k(S){return S===null||e(S)?(i.exit("codeFlowValue"),_(S)):(i.consume(S),k)}function w(S){return i.exit("codeFenced"),l(S)}function T(S,P,I){var M=0;return n(S,A,"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4);function A(z){return S.enter("codeFencedFence"),S.enter("codeFencedFenceSequence"),C(z)}function C(z){return z===g?(S.consume(z),M++,C):M<m?I(z):(S.exit("codeFencedFenceSequence"),n(S,H,"whitespace")(z))}function H(z){return z===null||e(z)?(S.exit("codeFencedFence"),P(z)):I(z)}}}return pp=o,pp}var mp,pw;function _6(){if(pw)return mp;pw=1;var e=bs(),t=bo(),r=Id(),n=As(),o={name:"codeIndented",tokenize:l,resolve:i},a={tokenize:c,partial:!0};function i(d,u){var p={type:"codeIndented",start:d[0][1].start,end:d[d.length-1][1].end};return t(d,0,0,[["enter",p,u]]),t(d,d.length,0,[["exit",p,u]]),d}function l(d,u,p){return d.attempt(a,m,p);function m(f){return f===null?u(f):e(f)?d.attempt(a,m,u)(f):(d.enter("codeFlowValue"),g(f))}function g(f){return f===null||e(f)?(d.exit("codeFlowValue"),m(f)):(d.consume(f),g)}}function c(d,u,p){var m=this;return n(d,g,"linePrefix",5);function g(f){return e(f)?(d.enter("lineEnding"),d.consume(f),d.exit("lineEnding"),n(d,g,"linePrefix",5)):r(m.events,"linePrefix")<4?p(f):u(f)}}return mp=o,mp}var hp,mw;function N6(){if(mw)return hp;mw=1;var e=bs(),t={name:"codeText",tokenize:o,resolve:r,previous:n};function r(a){var i=a.length-4,l=3,c,d;if((a[l][1].type==="lineEnding"||a[l][1].type==="space")&&(a[i][1].type==="lineEnding"||a[i][1].type==="space")){for(c=l;++c<i;)if(a[c][1].type==="codeTextData"){a[i][1].type=a[l][1].type="codeTextPadding",l+=2,i-=2;break}}for(c=l-1,i++;++c<=i;)d===void 0?c!==i&&a[c][1].type!=="lineEnding"&&(d=c):(c===i||a[c][1].type==="lineEnding")&&(a[d][1].type="codeTextData",c!==d+2&&(a[d][1].end=a[c-1][1].end,a.splice(d+2,c-d-2),i-=c-d-2,c=d+2),d=void 0);return a}function n(a){return a!==96||this.events[this.events.length-1][1].type==="characterEscape"}function o(a,i,l){var c=0,d,u;return p;function p(y){return a.enter("codeText"),a.enter("codeTextSequence"),m(y)}function m(y){return y===96?(a.consume(y),c++,m):(a.exit("codeTextSequence"),g(y))}function g(y){return y===null?l(y):y===96?(u=a.enter("codeTextSequence"),d=0,x(y)):y===32?(a.enter("space"),a.consume(y),a.exit("space"),g):e(y)?(a.enter("lineEnding"),a.consume(y),a.exit("lineEnding"),g):(a.enter("codeTextData"),f(y))}function f(y){return y===null||y===32||y===96||e(y)?(a.exit("codeTextData"),g(y)):(a.consume(y),f)}function x(y){return y===96?(a.consume(y),d++,x):d===c?(a.exit("codeTextSequence"),a.exit("codeText"),i(y)):(u.type="codeTextData",f(y))}}return hp=t,hp}var fp,hw;function Y2(){if(hw)return fp;hw=1;var e=V2(),t=yo(),r=bs();function n(o,a,i,l,c,d,u,p,m){var g=m||1/0,f=0;return x;function x(_){return _===60?(o.enter(l),o.enter(c),o.enter(d),o.consume(_),o.exit(d),y):e(_)||_===41?i(_):(o.enter(l),o.enter(u),o.enter(p),o.enter("chunkString",{contentType:"string"}),j(_))}function y(_){return _===62?(o.enter(d),o.consume(_),o.exit(d),o.exit(c),o.exit(l),a):(o.enter(p),o.enter("chunkString",{contentType:"string"}),N(_))}function N(_){return _===62?(o.exit("chunkString"),o.exit(p),y(_)):_===null||_===60||r(_)?i(_):(o.consume(_),_===92?b:N)}function b(_){return _===60||_===62||_===92?(o.consume(_),N):N(_)}function j(_){return _===40?++f>g?i(_):(o.consume(_),j):_===41?f--?(o.consume(_),j):(o.exit("chunkString"),o.exit(p),o.exit(u),o.exit(l),a(_)):_===null||t(_)?f?i(_):(o.exit("chunkString"),o.exit(p),o.exit(u),o.exit(l),a(_)):e(_)?i(_):(o.consume(_),_===92?v:j)}function v(_){return _===40||_===41||_===92?(o.consume(_),j):j(_)}}return fp=n,fp}var gp,fw;function X2(){if(fw)return gp;fw=1;var e=bs(),t=qn();function r(n,o,a,i,l,c){var d=this,u=0,p;return m;function m(y){return n.enter(i),n.enter(l),n.consume(y),n.exit(l),n.enter(c),g}function g(y){return y===null||y===91||y===93&&!p||y===94&&!u&&"_hiddenFootnoteSupport"in d.parser.constructs||u>999?a(y):y===93?(n.exit(c),n.enter(l),n.consume(y),n.exit(l),n.exit(i),o):e(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),g):(n.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===null||y===91||y===93||e(y)||u++>999?(n.exit("chunkString"),g(y)):(n.consume(y),p=p||!t(y),y===92?x:f)}function x(y){return y===91||y===92||y===93?(n.consume(y),u++,f):f(y)}}return gp=r,gp}var xp,gw;function J2(){if(gw)return xp;gw=1;var e=bs(),t=qn(),r=As();function n(o,a){var i;return l;function l(c){return e(c)?(o.enter("lineEnding"),o.consume(c),o.exit("lineEnding"),i=!0,l):t(c)?r(o,l,i?"linePrefix":"lineSuffix")(c):a(c)}}return xp=n,xp}var vp,xw;function Z2(){if(xw)return vp;xw=1;var e=bs(),t=As();function r(n,o,a,i,l,c){var d;return u;function u(x){return n.enter(i),n.enter(l),n.consume(x),n.exit(l),d=x===40?41:x,p}function p(x){return x===d?(n.enter(l),n.consume(x),n.exit(l),n.exit(i),o):(n.enter(c),m(x))}function m(x){return x===d?(n.exit(c),p(d)):x===null?a(x):e(x)?(n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),t(n,m,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===d||x===null||e(x)?(n.exit("chunkString"),m(x)):(n.consume(x),x===92?f:g)}function f(x){return x===d||x===92?(n.consume(x),g):g(x)}}return vp=r,vp}var bp,vw;function S6(){if(vw)return bp;vw=1;var e=bs(),t=yo(),r=yx(),n=Y2(),o=X2(),a=As(),i=J2(),l=Z2(),c={name:"definition",tokenize:u},d={tokenize:p,partial:!0};function u(m,g,f){var x=this,y;return N;function N(v){return m.enter("definition"),o.call(x,m,b,f,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function b(v){return y=r(x.sliceSerialize(x.events[x.events.length-1][1]).slice(1,-1)),v===58?(m.enter("definitionMarker"),m.consume(v),m.exit("definitionMarker"),i(m,n(m,m.attempt(d,a(m,j,"whitespace"),a(m,j,"whitespace")),f,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):f(v)}function j(v){return v===null||e(v)?(m.exit("definition"),x.parser.defined.indexOf(y)<0&&x.parser.defined.push(y),g(v)):f(v)}}function p(m,g,f){return x;function x(b){return t(b)?i(m,y)(b):f(b)}function y(b){return b===34||b===39||b===40?l(m,a(m,N,"whitespace"),f,"definitionTitle","definitionTitleMarker","definitionTitleString")(b):f(b)}function N(b){return b===null||e(b)?g(b):f(b)}}return bp=c,bp}var yp,bw;function T6(){if(bw)return yp;bw=1;var e=bs(),t={name:"hardBreakEscape",tokenize:r};function r(n,o,a){return i;function i(c){return n.enter("hardBreakEscape"),n.enter("escapeMarker"),n.consume(c),l}function l(c){return e(c)?(n.exit("escapeMarker"),n.exit("hardBreakEscape"),o(c)):a(c)}}return yp=t,yp}var wp,yw;function P6(){if(yw)return wp;yw=1;var e=bs(),t=yo(),r=qn(),n=bo(),o=As(),a={name:"headingAtx",tokenize:l,resolve:i};function i(c,d){var u=c.length-2,p=3,m,g;return c[p][1].type==="whitespace"&&(p+=2),u-2>p&&c[u][1].type==="whitespace"&&(u-=2),c[u][1].type==="atxHeadingSequence"&&(p===u-1||u-4>p&&c[u-2][1].type==="whitespace")&&(u-=p+1===u?2:4),u>p&&(m={type:"atxHeadingText",start:c[p][1].start,end:c[u][1].end},g={type:"chunkText",start:c[p][1].start,end:c[u][1].end,contentType:"text"},n(c,p,u-p+1,[["enter",m,d],["enter",g,d],["exit",g,d],["exit",m,d]])),c}function l(c,d,u){var p=this,m=0;return g;function g(b){return c.enter("atxHeading"),c.enter("atxHeadingSequence"),f(b)}function f(b){return b===35&&m++<6?(c.consume(b),f):b===null||t(b)?(c.exit("atxHeadingSequence"),p.interrupt?d(b):x(b)):u(b)}function x(b){return b===35?(c.enter("atxHeadingSequence"),y(b)):b===null||e(b)?(c.exit("atxHeading"),d(b)):r(b)?o(c,x,"whitespace")(b):(c.enter("atxHeadingText"),N(b))}function y(b){return b===35?(c.consume(b),y):(c.exit("atxHeadingSequence"),x(b))}function N(b){return b===null||b===35||t(b)?(c.exit("atxHeadingText"),x(b)):(c.consume(b),N)}}return wp=a,wp}var kp,ww;function I6(){if(ww)return kp;ww=1;var e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"];return kp=e,kp}var jp,kw;function E6(){if(kw)return jp;kw=1;var e=["pre","script","style","textarea"];return jp=e,jp}var _p,jw;function M6(){if(jw)return _p;jw=1;var e=_x(),t=Ed(),r=bs(),n=yo(),o=qn(),a=Td(),i=I6(),l=E6(),c=Pd(),d={name:"htmlFlow",tokenize:m,resolveTo:p,concrete:!0},u={tokenize:g,partial:!0};function p(f){for(var x=f.length;x--&&!(f[x][0]==="enter"&&f[x][1].type==="htmlFlow"););return x>1&&f[x-2][1].type==="linePrefix"&&(f[x][1].start=f[x-2][1].start,f[x+1][1].start=f[x-2][1].start,f.splice(x-2,2)),f}function m(f,x,y){var N=this,b,j,v,_,k;return w;function w(L){return f.enter("htmlFlow"),f.enter("htmlFlowData"),f.consume(L),T}function T(L){return L===33?(f.consume(L),S):L===47?(f.consume(L),M):L===63?(f.consume(L),b=3,N.interrupt?x:xe):e(L)?(f.consume(L),v=a(L),j=!0,A):y(L)}function S(L){return L===45?(f.consume(L),b=2,P):L===91?(f.consume(L),b=5,v="CDATA[",_=0,I):e(L)?(f.consume(L),b=4,N.interrupt?x:xe):y(L)}function P(L){return L===45?(f.consume(L),N.interrupt?x:xe):y(L)}function I(L){return L===v.charCodeAt(_++)?(f.consume(L),_===v.length?N.interrupt?x:X:I):y(L)}function M(L){return e(L)?(f.consume(L),v=a(L),A):y(L)}function A(L){return L===null||L===47||L===62||n(L)?L!==47&&j&&l.indexOf(v.toLowerCase())>-1?(b=1,N.interrupt?x(L):X(L)):i.indexOf(v.toLowerCase())>-1?(b=6,L===47?(f.consume(L),C):N.interrupt?x(L):X(L)):(b=7,N.interrupt?y(L):j?z(L):H(L)):L===45||t(L)?(f.consume(L),v+=a(L),A):y(L)}function C(L){return L===62?(f.consume(L),N.interrupt?x:X):y(L)}function H(L){return o(L)?(f.consume(L),H):te(L)}function z(L){return L===47?(f.consume(L),te):L===58||L===95||e(L)?(f.consume(L),D):o(L)?(f.consume(L),z):te(L)}function D(L){return L===45||L===46||L===58||L===95||t(L)?(f.consume(L),D):Y(L)}function Y(L){return L===61?(f.consume(L),U):o(L)?(f.consume(L),Y):z(L)}function U(L){return L===null||L===60||L===61||L===62||L===96?y(L):L===34||L===39?(f.consume(L),k=L,q):o(L)?(f.consume(L),U):(k=void 0,F(L))}function q(L){return L===k?(f.consume(L),W):L===null||r(L)?y(L):(f.consume(L),q)}function F(L){return L===null||L===34||L===39||L===60||L===61||L===62||L===96||n(L)?Y(L):(f.consume(L),F)}function W(L){return L===47||L===62||o(L)?z(L):y(L)}function te(L){return L===62?(f.consume(L),K):y(L)}function K(L){return o(L)?(f.consume(L),K):L===null||r(L)?X(L):y(L)}function X(L){return L===45&&b===2?(f.consume(L),ae):L===60&&b===1?(f.consume(L),O):L===62&&b===4?(f.consume(L),Pe):L===63&&b===3?(f.consume(L),xe):L===93&&b===5?(f.consume(L),be):r(L)&&(b===6||b===7)?f.check(u,Pe,G)(L):L===null||r(L)?G(L):(f.consume(L),X)}function G(L){return f.exit("htmlFlowData"),J(L)}function J(L){return L===null?Te(L):r(L)?(f.enter("lineEnding"),f.consume(L),f.exit("lineEnding"),J):(f.enter("htmlFlowData"),X(L))}function ae(L){return L===45?(f.consume(L),xe):X(L)}function O(L){return L===47?(f.consume(L),v="",pe):X(L)}function pe(L){return L===62&&l.indexOf(v.toLowerCase())>-1?(f.consume(L),Pe):e(L)&&v.length<8?(f.consume(L),v+=a(L),pe):X(L)}function be(L){return L===93?(f.consume(L),xe):X(L)}function xe(L){return L===62?(f.consume(L),Pe):X(L)}function Pe(L){return L===null||r(L)?(f.exit("htmlFlowData"),Te(L)):(f.consume(L),Pe)}function Te(L){return f.exit("htmlFlow"),x(L)}}function g(f,x,y){return N;function N(b){return f.exit("htmlFlowData"),f.enter("lineEndingBlank"),f.consume(b),f.exit("lineEndingBlank"),f.attempt(c,x,y)}}return _p=d,_p}var Np,_w;function C6(){if(_w)return Np;_w=1;var e=_x(),t=Ed(),r=bs(),n=yo(),o=qn(),a=As(),i={name:"htmlText",tokenize:l};function l(c,d,u){var p=this,m,g,f,x;return y;function y(O){return c.enter("htmlText"),c.enter("htmlTextData"),c.consume(O),N}function N(O){return O===33?(c.consume(O),b):O===47?(c.consume(O),H):O===63?(c.consume(O),A):e(O)?(c.consume(O),Y):u(O)}function b(O){return O===45?(c.consume(O),j):O===91?(c.consume(O),g="CDATA[",f=0,T):e(O)?(c.consume(O),M):u(O)}function j(O){return O===45?(c.consume(O),v):u(O)}function v(O){return O===null||O===62?u(O):O===45?(c.consume(O),_):k(O)}function _(O){return O===null||O===62?u(O):k(O)}function k(O){return O===null?u(O):O===45?(c.consume(O),w):r(O)?(x=k,G(O)):(c.consume(O),k)}function w(O){return O===45?(c.consume(O),ae):k(O)}function T(O){return O===g.charCodeAt(f++)?(c.consume(O),f===g.length?S:T):u(O)}function S(O){return O===null?u(O):O===93?(c.consume(O),P):r(O)?(x=S,G(O)):(c.consume(O),S)}function P(O){return O===93?(c.consume(O),I):S(O)}function I(O){return O===62?ae(O):O===93?(c.consume(O),I):S(O)}function M(O){return O===null||O===62?ae(O):r(O)?(x=M,G(O)):(c.consume(O),M)}function A(O){return O===null?u(O):O===63?(c.consume(O),C):r(O)?(x=A,G(O)):(c.consume(O),A)}function C(O){return O===62?ae(O):A(O)}function H(O){return e(O)?(c.consume(O),z):u(O)}function z(O){return O===45||t(O)?(c.consume(O),z):D(O)}function D(O){return r(O)?(x=D,G(O)):o(O)?(c.consume(O),D):ae(O)}function Y(O){return O===45||t(O)?(c.consume(O),Y):O===47||O===62||n(O)?U(O):u(O)}function U(O){return O===47?(c.consume(O),ae):O===58||O===95||e(O)?(c.consume(O),q):r(O)?(x=U,G(O)):o(O)?(c.consume(O),U):ae(O)}function q(O){return O===45||O===46||O===58||O===95||t(O)?(c.consume(O),q):F(O)}function F(O){return O===61?(c.consume(O),W):r(O)?(x=F,G(O)):o(O)?(c.consume(O),F):U(O)}function W(O){return O===null||O===60||O===61||O===62||O===96?u(O):O===34||O===39?(c.consume(O),m=O,te):r(O)?(x=W,G(O)):o(O)?(c.consume(O),W):(c.consume(O),m=void 0,X)}function te(O){return O===m?(c.consume(O),K):O===null?u(O):r(O)?(x=te,G(O)):(c.consume(O),te)}function K(O){return O===62||O===47||n(O)?U(O):u(O)}function X(O){return O===null||O===34||O===39||O===60||O===61||O===96?u(O):O===62||n(O)?U(O):(c.consume(O),X)}function G(O){return c.exit("htmlTextData"),c.enter("lineEnding"),c.consume(O),c.exit("lineEnding"),a(c,J,"linePrefix",p.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function J(O){return c.enter("htmlTextData"),x(O)}function ae(O){return O===62?(c.consume(O),c.exit("htmlTextData"),c.exit("htmlText"),d):u(O)}}return Np=i,Np}var Sp,Nw;function Nx(){if(Nw)return Sp;Nw=1;var e=yo(),t=kx(),r=bo(),n=yx(),o=jx(),a=li(),i=Y2(),l=X2(),c=Z2(),d=J2(),u={name:"labelEnd",tokenize:y,resolveTo:x,resolveAll:f},p={tokenize:N},m={tokenize:b},g={tokenize:j};function f(v){for(var _=-1,k;++_<v.length;)k=v[_][1],!k._used&&(k.type==="labelImage"||k.type==="labelLink"||k.type==="labelEnd")&&(v.splice(_+1,k.type==="labelImage"?4:2),k.type="data",_++);return v}function x(v,_){for(var k=v.length,w=0,T,S,P,I,M,A,C;k--;)if(I=v[k][1],M){if(I.type==="link"||I.type==="labelLink"&&I._inactive)break;v[k][0]==="enter"&&I.type==="labelLink"&&(I._inactive=!0)}else if(A){if(v[k][0]==="enter"&&(I.type==="labelImage"||I.type==="labelLink")&&!I._balanced&&(M=k,I.type!=="labelLink")){w=2;break}}else I.type==="labelEnd"&&(A=k);return T={type:v[M][1].type==="labelLink"?"link":"image",start:a(v[M][1].start),end:a(v[v.length-1][1].end)},S={type:"label",start:a(v[M][1].start),end:a(v[A][1].end)},P={type:"labelText",start:a(v[M+w+2][1].end),end:a(v[A-2][1].start)},C=[["enter",T,_],["enter",S,_]],C=t(C,v.slice(M+1,M+w+3)),C=t(C,[["enter",P,_]]),C=t(C,o(_.parser.constructs.insideSpan.null,v.slice(M+w+4,A-3),_)),C=t(C,[["exit",P,_],v[A-2],v[A-1],["exit",S,_]]),C=t(C,v.slice(A+1)),C=t(C,[["exit",T,_]]),r(v,M,v.length,C),v}function y(v,_,k){for(var w=this,T=w.events.length,S,P;T--;)if((w.events[T][1].type==="labelImage"||w.events[T][1].type==="labelLink")&&!w.events[T][1]._balanced){S=w.events[T][1];break}return I;function I(C){return S?S._inactive?A(C):(P=w.parser.defined.indexOf(n(w.sliceSerialize({start:S.end,end:w.now()})))>-1,v.enter("labelEnd"),v.enter("labelMarker"),v.consume(C),v.exit("labelMarker"),v.exit("labelEnd"),M):k(C)}function M(C){return C===40?v.attempt(p,_,P?_:A)(C):C===91?v.attempt(m,_,P?v.attempt(g,_,A):A)(C):P?_(C):A(C)}function A(C){return S._balanced=!0,k(C)}}function N(v,_,k){return w;function w(M){return v.enter("resource"),v.enter("resourceMarker"),v.consume(M),v.exit("resourceMarker"),d(v,T)}function T(M){return M===41?I(M):i(v,S,k,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(M)}function S(M){return e(M)?d(v,P)(M):I(M)}function P(M){return M===34||M===39||M===40?c(v,d(v,I),k,"resourceTitle","resourceTitleMarker","resourceTitleString")(M):I(M)}function I(M){return M===41?(v.enter("resourceMarker"),v.consume(M),v.exit("resourceMarker"),v.exit("resource"),_):k(M)}}function b(v,_,k){var w=this;return T;function T(P){return l.call(w,v,S,k,"reference","referenceMarker","referenceString")(P)}function S(P){return w.parser.defined.indexOf(n(w.sliceSerialize(w.events[w.events.length-1][1]).slice(1,-1)))<0?k(P):_(P)}}function j(v,_,k){return w;function w(S){return v.enter("reference"),v.enter("referenceMarker"),v.consume(S),v.exit("referenceMarker"),T}function T(S){return S===93?(v.enter("referenceMarker"),v.consume(S),v.exit("referenceMarker"),v.exit("reference"),_):k(S)}}return Sp=u,Sp}var Tp,Sw;function A6(){if(Sw)return Tp;Sw=1;var e=Nx(),t={name:"labelStartImage",tokenize:r,resolveAll:e.resolveAll};function r(n,o,a){var i=this;return l;function l(u){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(u),n.exit("labelImageMarker"),c}function c(u){return u===91?(n.enter("labelMarker"),n.consume(u),n.exit("labelMarker"),n.exit("labelImage"),d):a(u)}function d(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?a(u):o(u)}}return Tp=t,Tp}var Pp,Tw;function R6(){if(Tw)return Pp;Tw=1;var e=Nx(),t={name:"labelStartLink",tokenize:r,resolveAll:e.resolveAll};function r(n,o,a){var i=this;return l;function l(d){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(d),n.exit("labelMarker"),n.exit("labelLink"),c}function c(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?a(d):o(d)}}return Pp=t,Pp}var Ip,Pw;function O6(){if(Pw)return Ip;Pw=1;var e=As(),t={name:"lineEnding",tokenize:r};function r(n,o){return a;function a(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),e(n,o,"linePrefix")}}return Ip=t,Ip}var Ep,Iw;function eS(){if(Iw)return Ep;Iw=1;var e=bs(),t=qn(),r=As(),n={name:"thematicBreak",tokenize:o};function o(a,i,l){var c=0,d;return u;function u(g){return a.enter("thematicBreak"),d=g,p(g)}function p(g){return g===d?(a.enter("thematicBreakSequence"),m(g)):t(g)?r(a,p,"whitespace")(g):c<3||g!==null&&!e(g)?l(g):(a.exit("thematicBreak"),i(g))}function m(g){return g===d?(a.consume(g),c++,m):(a.exit("thematicBreakSequence"),p(g))}}return Ep=n,Ep}var Mp,Ew;function D6(){if(Ew)return Mp;Ew=1;var e=Q2(),t=qn(),r=Id(),n=K2(),o=As(),a=Pd(),i=eS(),l={name:"list",tokenize:u,continuation:{tokenize:p},exit:g},c={tokenize:f,partial:!0},d={tokenize:m,partial:!0};function u(x,y,N){var b=this,j=r(b.events,"linePrefix"),v=0;return _;function _(I){var M=b.containerState.type||(I===42||I===43||I===45?"listUnordered":"listOrdered");if(M==="listUnordered"?!b.containerState.marker||I===b.containerState.marker:e(I)){if(b.containerState.type||(b.containerState.type=M,x.enter(M,{_container:!0})),M==="listUnordered")return x.enter("listItemPrefix"),I===42||I===45?x.check(i,N,w)(I):w(I);if(!b.interrupt||I===49)return x.enter("listItemPrefix"),x.enter("listItemValue"),k(I)}return N(I)}function k(I){return e(I)&&++v<10?(x.consume(I),k):(!b.interrupt||v<2)&&(b.containerState.marker?I===b.containerState.marker:I===41||I===46)?(x.exit("listItemValue"),w(I)):N(I)}function w(I){return x.enter("listItemMarker"),x.consume(I),x.exit("listItemMarker"),b.containerState.marker=b.containerState.marker||I,x.check(a,b.interrupt?N:T,x.attempt(c,P,S))}function T(I){return b.containerState.initialBlankLine=!0,j++,P(I)}function S(I){return t(I)?(x.enter("listItemPrefixWhitespace"),x.consume(I),x.exit("listItemPrefixWhitespace"),P):N(I)}function P(I){return b.containerState.size=j+n(b.sliceStream(x.exit("listItemPrefix"))),y(I)}}function p(x,y,N){var b=this;return b.containerState._closeFlow=void 0,x.check(a,j,v);function j(k){return b.containerState.furtherBlankLines=b.containerState.furtherBlankLines||b.containerState.initialBlankLine,o(x,y,"listItemIndent",b.containerState.size+1)(k)}function v(k){return b.containerState.furtherBlankLines||!t(k)?(b.containerState.furtherBlankLines=b.containerState.initialBlankLine=void 0,_(k)):(b.containerState.furtherBlankLines=b.containerState.initialBlankLine=void 0,x.attempt(d,y,_)(k))}function _(k){return b.containerState._closeFlow=!0,b.interrupt=void 0,o(x,x.attempt(l,y,N),"linePrefix",b.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)(k)}}function m(x,y,N){var b=this;return o(x,j,"listItemIndent",b.containerState.size+1);function j(v){return r(b.events,"listItemIndent")===b.containerState.size?y(v):N(v)}}function g(x){x.exit(this.containerState.type)}function f(x,y,N){var b=this;return o(x,j,"listItemPrefixWhitespace",b.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:5);function j(v){return t(v)||!r(b.events,"listItemPrefixWhitespace")?N(v):y(v)}}return Mp=l,Mp}var Cp,Mw;function F6(){if(Mw)return Cp;Mw=1;var e=bs(),t=li(),r=As(),n={name:"setextUnderline",tokenize:a,resolveTo:o};function o(i,l){for(var c=i.length,d,u,p,m;c--;)if(i[c][0]==="enter"){if(i[c][1].type==="content"){d=c;break}i[c][1].type==="paragraph"&&(u=c)}else i[c][1].type==="content"&&i.splice(c,1),!p&&i[c][1].type==="definition"&&(p=c);return m={type:"setextHeading",start:t(i[u][1].start),end:t(i[i.length-1][1].end)},i[u][1].type="setextHeadingText",p?(i.splice(u,0,["enter",m,l]),i.splice(p+1,0,["exit",i[d][1],l]),i[d][1].end=t(i[p][1].end)):i[d][1]=m,i.push(["exit",m,l]),i}function a(i,l,c){for(var d=this,u=d.events.length,p,m;u--;)if(d.events[u][1].type!=="lineEnding"&&d.events[u][1].type!=="linePrefix"&&d.events[u][1].type!=="content"){m=d.events[u][1].type==="paragraph";break}return g;function g(y){return!d.lazy&&(d.interrupt||m)?(i.enter("setextHeadingLine"),i.enter("setextHeadingLineSequence"),p=y,f(y)):c(y)}function f(y){return y===p?(i.consume(y),f):(i.exit("setextHeadingLineSequence"),r(i,x,"lineSuffix")(y))}function x(y){return y===null||e(y)?(i.exit("setextHeadingLine"),l(y)):c(y)}}return Cp=n,Cp}var Cw;function L6(){if(Cw)return zr;Cw=1,Object.defineProperty(zr,"__esModule",{value:!0});var e=H2(),t=f6(),r=x6(),n=v6(),o=y6(),a=k6(),i=j6(),l=_6(),c=N6(),d=S6(),u=T6(),p=P6(),m=M6(),g=C6(),f=Nx(),x=A6(),y=R6(),N=O6(),b=D6(),j=F6(),v=eS(),_={42:b,43:b,45:b,48:b,49:b,50:b,51:b,52:b,53:b,54:b,55:b,56:b,57:b,62:n},k={91:d},w={"-2":l,"-1":l,32:l},T={35:p,42:v,45:[j,v],60:m,61:j,95:v,96:i,126:i},S={38:a,92:o},P={"-5":N,"-4":N,"-3":N,33:x,38:a,42:t,60:[r,g],91:y,92:[u,o],93:f,95:t,96:c},I={null:[t,e.resolver]},M={null:[]};return zr.contentInitial=k,zr.disable=M,zr.document=_,zr.flow=T,zr.flowInitial=w,zr.insideSpan=I,zr.string=S,zr.text=P,zr}var Ap,Aw;function B6(){if(Aw)return Ap;Aw=1;var e=t6(),t=s6(),r=o6(),n=H2(),o=a6(),a=c6(),i=wx(),l=L6();function c(d){var u=d||{},p={defined:[],constructs:o([l].concat(i(u.extensions))),content:m(e),document:m(t),flow:m(r),string:m(n.string),text:m(n.text)};return p;function m(g){return f;function f(x){return a(p,g,x)}}}return Ap=c,Ap}var Rp,Rw;function z6(){if(Rw)return Rp;Rw=1;var e=/[\0\t\n\r]/g;function t(){var r=!0,n=1,o="",a;return i;function i(l,c,d){var u=[],p,m,g,f,x;for(l=o+l.toString(c),g=0,o="",r&&(l.charCodeAt(0)===65279&&g++,r=void 0);g<l.length;){if(e.lastIndex=g,p=e.exec(l),f=p?p.index:l.length,x=l.charCodeAt(f),!p){o=l.slice(g);break}if(x===10&&g===f&&a)u.push(-3),a=void 0;else if(a&&(u.push(-5),a=void 0),g<f&&(u.push(l.slice(g,f)),n+=f-g),x===0)u.push(65533),n++;else if(x===9)for(m=Math.ceil(n/4)*4,u.push(-2);n++<m;)u.push(-1);else x===10?(u.push(-4),n=1):(a=!0,n=1);g=f+1}return d&&(a&&u.push(-5),o&&u.push(o),u.push(null)),u}}return Rp=t,Rp}var Op,Ow;function q6(){if(Ow)return Op;Ow=1;var e=$2();function t(r){for(;!e(r););return r}return Op=t,Op}var Dp,Dw;function U6(){if(Dw)return Dp;Dw=1,Dp=u;var e=ZB(),t=gl(),r=W2(),n=yx(),o=e6(),a=B6(),i=z6(),l=q6(),c=G2(),d=U2();function u(f,x,y){return typeof x!="string"&&(y=x,x=void 0),p(y)(l(a(y).document().write(i()(f,x,!0))))}function p(f){var x=f||{},y=m({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:w(Ce),autolinkProtocol:J,autolinkEmail:J,atxHeading:w(ct),blockQuote:w($e),characterEscape:J,characterReference:J,codeFenced:w(jt),codeFencedFenceInfo:T,codeFencedFenceMeta:T,codeIndented:w(jt,T),codeText:w(Me,T),codeTextData:J,data:J,codeFlowValue:J,definition:w(et),definitionDestinationString:T,definitionLabelString:T,definitionTitleString:T,emphasis:w(bt),hardBreakEscape:w(Ot),hardBreakTrailing:w(Ot),htmlFlow:w(Mt,T),htmlFlowData:J,htmlText:w(Mt,T),htmlTextData:J,image:w(ss),label:T,link:w(Ce),listItem:w(cs),listItemValue:C,listOrdered:w(Ks,A),listUnordered:w(Ks),paragraph:w(wt),reference:je,referenceString:T,resourceDestinationString:T,resourceTitleString:T,setextHeading:w(ct),strong:w(Ue),thematicBreak:w(us)},exit:{atxHeading:P(),atxHeadingSequence:te,autolink:P(),autolinkEmail:Rs,autolinkProtocol:Rt,blockQuote:P(),characterEscapeValue:ae,characterReferenceMarkerHexadecimal:lt,characterReferenceMarkerNumeric:lt,characterReferenceValue:Ze,codeFenced:P(Y),codeFencedFence:D,codeFencedFenceInfo:H,codeFencedFenceMeta:z,codeFlowValue:ae,codeIndented:P(U),codeText:P(Pe),codeTextData:ae,data:ae,definition:P(),definitionDestinationString:W,definitionLabelString:q,definitionTitleString:F,emphasis:P(),hardBreakEscape:P(pe),hardBreakTrailing:P(pe),htmlFlow:P(be),htmlFlowData:ae,htmlText:P(xe),htmlTextData:ae,image:P(L),label:ne,labelText:fe,lineEnding:O,link:P(Te),listItem:P(),listOrdered:P(),listUnordered:P(),paragraph:P(),referenceString:_e,resourceDestinationString:Ve,resourceTitleString:mt,resource:V,setextHeading:P(G),setextHeadingLineSequence:X,setextHeadingText:K,strong:P(),thematicBreak:P()}},x.mdastExtensions||[]),N={};return b;function b(ee){for(var Le={type:"root",children:[]},tt=[Le],Ae=[],Zt=[],kt=-1,Bt,ps,Ht={stack:tt,tokenStack:Ae,config:y,enter:S,exit:I,buffer:T,resume:M,setData:v,getData:_};++kt<ee.length;)(ee[kt][1].type==="listOrdered"||ee[kt][1].type==="listUnordered")&&(ee[kt][0]==="enter"?Zt.push(kt):(ps=Zt.pop(kt),kt=j(ee,ps,kt)));for(kt=-1;++kt<ee.length;)Bt=y[ee[kt][0]],r.call(Bt,ee[kt][1].type)&&Bt[ee[kt][1].type].call(t({sliceSerialize:ee[kt][2].sliceSerialize},Ht),ee[kt][1]);if(Ae.length)throw new Error("Cannot close document, a token (`"+Ae[Ae.length-1].type+"`, "+d({start:Ae[Ae.length-1].start,end:Ae[Ae.length-1].end})+") is still open");for(Le.position={start:k(ee.length?ee[0][1].start:{line:1,column:1,offset:0}),end:k(ee.length?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},kt=-1;++kt<y.transforms.length;)Le=y.transforms[kt](Le)||Le;return Le}function j(ee,Le,tt){for(var Ae=Le-1,Zt=-1,kt=!1,Bt,ps,Ht,_t,dt,ht,gs;++Ae<=tt;)if(dt=ee[Ae],dt[1].type==="listUnordered"||dt[1].type==="listOrdered"||dt[1].type==="blockQuote"?(dt[0]==="enter"?Zt++:Zt--,gs=void 0):dt[1].type==="lineEndingBlank"?dt[0]==="enter"&&(Bt&&!gs&&!Zt&&!ht&&(ht=Ae),gs=void 0):dt[1].type==="linePrefix"||dt[1].type==="listItemValue"||dt[1].type==="listItemMarker"||dt[1].type==="listItemPrefix"||dt[1].type==="listItemPrefixWhitespace"||(gs=void 0),!Zt&&dt[0]==="enter"&&dt[1].type==="listItemPrefix"||Zt===-1&&dt[0]==="exit"&&(dt[1].type==="listUnordered"||dt[1].type==="listOrdered")){if(Bt){for(ps=Ae,Ht=void 0;ps--;)if(_t=ee[ps],_t[1].type==="lineEnding"||_t[1].type==="lineEndingBlank"){if(_t[0]==="exit")continue;Ht&&(ee[Ht][1].type="lineEndingBlank",kt=!0),_t[1].type="lineEnding",Ht=ps}else if(!(_t[1].type==="linePrefix"||_t[1].type==="blockQuotePrefix"||_t[1].type==="blockQuotePrefixWhitespace"||_t[1].type==="blockQuoteMarker"||_t[1].type==="listItemIndent"))break;ht&&(!Ht||ht<Ht)&&(Bt._spread=!0),Bt.end=k(Ht?ee[Ht][1].start:dt[1].end),ee.splice(Ht||Ae,0,["exit",Bt,dt[2]]),Ae++,tt++}dt[1].type==="listItemPrefix"&&(Bt={type:"listItem",_spread:!1,start:k(dt[1].start)},ee.splice(Ae,0,["enter",Bt,dt[2]]),Ae++,tt++,ht=void 0,gs=!0)}return ee[Le][1]._spread=kt,tt}function v(ee,Le){N[ee]=Le}function _(ee){return N[ee]}function k(ee){return{line:ee.line,column:ee.column,offset:ee.offset}}function w(ee,Le){return tt;function tt(Ae){S.call(this,ee(Ae),Ae),Le&&Le.call(this,Ae)}}function T(){this.stack.push({type:"fragment",children:[]})}function S(ee,Le){return this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push(Le),ee.position={start:k(Le.start)},ee}function P(ee){return Le;function Le(tt){ee&&ee.call(this,tt),I.call(this,tt)}}function I(ee){var Le=this.stack.pop(),tt=this.tokenStack.pop();if(tt){if(tt.type!==ee.type)throw new Error("Cannot close `"+ee.type+"` ("+d({start:ee.start,end:ee.end})+"): a different token (`"+tt.type+"`, "+d({start:tt.start,end:tt.end})+") is open")}else throw new Error("Cannot close `"+ee.type+"` ("+d({start:ee.start,end:ee.end})+"): its not open");return Le.position.end=k(ee.end),Le}function M(){return e(this.stack.pop())}function A(){v("expectingFirstListItemValue",!0)}function C(ee){_("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=parseInt(this.sliceSerialize(ee),10),v("expectingFirstListItemValue"))}function H(){var ee=this.resume();this.stack[this.stack.length-1].lang=ee}function z(){var ee=this.resume();this.stack[this.stack.length-1].meta=ee}function D(){_("flowCodeInside")||(this.buffer(),v("flowCodeInside",!0))}function Y(){var ee=this.resume();this.stack[this.stack.length-1].value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),v("flowCodeInside")}function U(){var ee=this.resume();this.stack[this.stack.length-1].value=ee}function q(ee){var Le=this.resume();this.stack[this.stack.length-1].label=Le,this.stack[this.stack.length-1].identifier=n(this.sliceSerialize(ee)).toLowerCase()}function F(){var ee=this.resume();this.stack[this.stack.length-1].title=ee}function W(){var ee=this.resume();this.stack[this.stack.length-1].url=ee}function te(ee){this.stack[this.stack.length-1].depth||(this.stack[this.stack.length-1].depth=this.sliceSerialize(ee).length)}function K(){v("setextHeadingSlurpLineEnding",!0)}function X(ee){this.stack[this.stack.length-1].depth=this.sliceSerialize(ee).charCodeAt(0)===61?1:2}function G(){v("setextHeadingSlurpLineEnding")}function J(ee){var Le=this.stack[this.stack.length-1].children,tt=Le[Le.length-1];(!tt||tt.type!=="text")&&(tt=Lt(),tt.position={start:k(ee.start)},this.stack[this.stack.length-1].children.push(tt)),this.stack.push(tt)}function ae(ee){var Le=this.stack.pop();Le.value+=this.sliceSerialize(ee),Le.position.end=k(ee.end)}function O(ee){var Le=this.stack[this.stack.length-1];if(_("atHardBreak")){Le.children[Le.children.length-1].position.end=k(ee.end),v("atHardBreak");return}!_("setextHeadingSlurpLineEnding")&&y.canContainEols.indexOf(Le.type)>-1&&(J.call(this,ee),ae.call(this,ee))}function pe(){v("atHardBreak",!0)}function be(){var ee=this.resume();this.stack[this.stack.length-1].value=ee}function xe(){var ee=this.resume();this.stack[this.stack.length-1].value=ee}function Pe(){var ee=this.resume();this.stack[this.stack.length-1].value=ee}function Te(){var ee=this.stack[this.stack.length-1];_("inReference")?(ee.type+="Reference",ee.referenceType=_("referenceType")||"shortcut",delete ee.url,delete ee.title):(delete ee.identifier,delete ee.label,delete ee.referenceType),v("referenceType")}function L(){var ee=this.stack[this.stack.length-1];_("inReference")?(ee.type+="Reference",ee.referenceType=_("referenceType")||"shortcut",delete ee.url,delete ee.title):(delete ee.identifier,delete ee.label,delete ee.referenceType),v("referenceType")}function fe(ee){this.stack[this.stack.length-2].identifier=n(this.sliceSerialize(ee)).toLowerCase()}function ne(){var ee=this.stack[this.stack.length-1],Le=this.resume();this.stack[this.stack.length-1].label=Le,v("inReference",!0),this.stack[this.stack.length-1].type==="link"?this.stack[this.stack.length-1].children=ee.children:this.stack[this.stack.length-1].alt=Le}function Ve(){var ee=this.resume();this.stack[this.stack.length-1].url=ee}function mt(){var ee=this.resume();this.stack[this.stack.length-1].title=ee}function V(){v("inReference")}function je(){v("referenceType","collapsed")}function _e(ee){var Le=this.resume();this.stack[this.stack.length-1].label=Le,this.stack[this.stack.length-1].identifier=n(this.sliceSerialize(ee)).toLowerCase(),v("referenceType","full")}function lt(ee){v("characterReferenceType",ee.type)}function Ze(ee){var Le=this.sliceSerialize(ee),tt=_("characterReferenceType"),Ae,Zt;tt?(Ae=o(Le,tt==="characterReferenceMarkerNumeric"?10:16),v("characterReferenceType")):Ae=c(Le),Zt=this.stack.pop(),Zt.value+=Ae,Zt.position.end=k(ee.end)}function Rt(ee){ae.call(this,ee),this.stack[this.stack.length-1].url=this.sliceSerialize(ee)}function Rs(ee){ae.call(this,ee),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(ee)}function $e(){return{type:"blockquote",children:[]}}function jt(){return{type:"code",lang:null,meta:null,value:""}}function Me(){return{type:"inlineCode",value:""}}function et(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function bt(){return{type:"emphasis",children:[]}}function ct(){return{type:"heading",depth:void 0,children:[]}}function Ot(){return{type:"break"}}function Mt(){return{type:"html",value:""}}function ss(){return{type:"image",title:null,url:"",alt:null}}function Ce(){return{type:"link",title:null,url:"",children:[]}}function Ks(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function cs(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function wt(){return{type:"paragraph",children:[]}}function Ue(){return{type:"strong",children:[]}}function Lt(){return{type:"text",value:""}}function us(){return{type:"thematicBreak"}}}function m(f,x){for(var y=-1;++y<x.length;)g(f,x[y]);return f}function g(f,x){var y,N;for(y in x)N=r.call(f,y)?f[y]:f[y]={},y==="canContainEols"||y==="transforms"?f[y]=[].concat(N,x[y]):Object.assign(N,x[y])}return Dp}var Fp,Fw;function W6(){return Fw||(Fw=1,Fp=U6()),Fp}var Lp,Lw;function K6(){if(Lw)return Lp;Lw=1,Lp=t;var e=W6();function t(r){var n=this;this.Parser=o;function o(a){return e(a,Object.assign({},n.data("settings"),r,{extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]}))}}return Lp}var $6=K6();const H6=ln($6);var Bp,Bw;function Rr(){if(Bw)return Bp;Bw=1,Bp=e;function e(t,r,n){var o;return n==null&&(typeof r!="object"||Array.isArray(r))&&(n=r,r={}),o=Object.assign({type:String(t)},r),Array.isArray(n)?o.children=n:n!=null&&(o.value=String(n)),o}return Bp}var zp,zw;function tS(){if(zw)return zp;zw=1,zp=e;function e(a){if(a==null)return o;if(typeof a=="string")return n(a);if(typeof a=="object")return"length"in a?r(a):t(a);if(typeof a=="function")return a;throw new Error("Expected function, string, or object as test")}function t(a){return i;function i(l){var c;for(c in a)if(l[c]!==a[c])return!1;return!0}}function r(a){for(var i=[],l=-1;++l<a.length;)i[l]=e(a[l]);return c;function c(){for(var d=-1;++d<i.length;)if(i[d].apply(this,arguments))return!0;return!1}}function n(a){return i;function i(l){return!!(l&&l.type===a)}}function o(){return!0}return zp}var qp,qw;function V6(){if(qw)return qp;qw=1,qp=e;function e(t){return t}return qp}var Up,Uw;function G6(){if(Uw)return Up;Uw=1,Up=a;var e=tS(),t=V6(),r=!0,n="skip",o=!1;a.CONTINUE=r,a.SKIP=n,a.EXIT=o;function a(l,c,d,u){var p,m;typeof c=="function"&&typeof d!="function"&&(u=d,d=c,c=null),m=e(c),p=u?-1:1,g(l,null,[])();function g(f,x,y){var N=typeof f=="object"&&f!==null?f:{},b;return typeof N.type=="string"&&(b=typeof N.tagName=="string"?N.tagName:typeof N.name=="string"?N.name:void 0,j.displayName="node ("+t(N.type+(b?"<"+b+">":""))+")"),j;function j(){var v=y.concat(f),_=[],k,w;if((!c||m(f,x,y[y.length-1]||null))&&(_=i(d(f,y)),_[0]===o))return _;if(f.children&&_[0]!==n)for(w=(u?f.children.length:-1)+p;w>-1&&w<f.children.length;){if(k=g(f.children[w],w,v)(),k[0]===o)return k;w=typeof k[1]=="number"?k[1]:w+p}return _}}}function i(l){return l!==null&&typeof l=="object"&&"length"in l?l:typeof l=="number"?[r,l]:[l]}return Up}var Wp,Ww;function sS(){if(Ww)return Wp;Ww=1,Wp=o;var e=G6(),t=e.CONTINUE,r=e.SKIP,n=e.EXIT;o.CONTINUE=t,o.SKIP=r,o.EXIT=n;function o(a,i,l,c){typeof i=="function"&&typeof l!="function"&&(c=l,l=i,i=null),e(a,i,d,c);function d(u,p){var m=p[p.length-1],g=m?m.children.indexOf(u):null;return l(u,g,m)}}return Wp}var Kp,Kw;function rS(){if(Kw)return Kp;Kw=1;var e=n("start"),t=n("end");Kp=r,r.start=e,r.end=t;function r(o){return{start:e(o),end:t(o)}}function n(o){return a.displayName=o,a;function a(i){var l=i&&i.position&&i.position[o]||{};return{line:l.line||null,column:l.column||null,offset:isNaN(l.offset)?null:l.offset}}}return Kp}var $p,$w;function Q6(){if($w)return $p;$w=1,$p=e;function e(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}return $p}var Hp,Hw;function Y6(){if(Hw)return Hp;Hw=1;var e=sS();Hp=r;var t={}.hasOwnProperty;function r(i,l){return o(n(i))}function n(i){var l={};if(!i||!i.type)throw new Error("mdast-util-definitions expected node");return e(i,"definition",c),l;function c(d){var u=a(d.identifier);t.call(l,u)||(l[u]=d)}}function o(i){return l;function l(c){var d=c&&a(c);return d&&t.call(i,d)?i[d]:null}}function a(i){return i.toUpperCase()}return Hp}var Vp,Vw;function lr(){if(Vw)return Vp;Vw=1,Vp=t;var e=nS();function t(r,n){for(var o=n.children||[],a=o.length,i=[],l=-1,c,d;++l<a;)c=e(r,o[l],n),c&&(l&&o[l-1].type==="break"&&(c.value&&(c.value=c.value.replace(/^\s+/,"")),d=c.children&&c.children[0],d&&d.value&&(d.value=d.value.replace(/^\s+/,""))),i=i.concat(c));return i}return Vp}var Gp,Gw;function nS(){if(Gw)return Gp;Gw=1,Gp=o;var e=Rr(),t=lr(),r={}.hasOwnProperty;function n(l,c){return a(c)?l.augment(c,e("text",c.value)):l(c,"div",t(l,c))}function o(l,c,d){var u=c&&c.type,p;if(!u)throw new Error("Expected node, got `"+c+"`");return r.call(l.handlers,u)?p=l.handlers[u]:l.passThrough&&l.passThrough.indexOf(u)>-1?p=i:p=l.unknownHandler,(typeof p=="function"?p:n)(l,c,d)}function a(l){var c=l.data||{};return r.call(c,"hName")||r.call(c,"hProperties")||r.call(c,"hChildren")?!1:"value"in l}function i(l,c){var d;return c.children?(d=Object.assign({},c),d.children=t(l,c),d):c}return Gp}var Qp,Qw;function oS(){if(Qw)return Qp;Qw=1,Qp=e;function e(t,r){return t(r,"hr")}return Qp}var Yp,Yw;function xl(){if(Yw)return Yp;Yw=1,Yp=t;var e=Rr();function t(r,n){var o=[],a=-1,i=r.length;for(n&&o.push(e("text",`
`));++a<i;)a&&o.push(e("text",`
`)),o.push(r[a]);return n&&r.length>0&&o.push(e("text",`
`)),o}return Yp}var Xp,Xw;function aS(){if(Xw)return Xp;Xw=1,Xp=r;var e=xl(),t=lr();function r(n,o){var a={},i=o.ordered?"ol":"ul",l,c=-1,d;for(typeof o.start=="number"&&o.start!==1&&(a.start=o.start),l=t(n,o),d=l.length;++c<d;)if(l[c].properties.className&&l[c].properties.className.indexOf("task-list-item")!==-1){a.className=["contains-task-list"];break}return n(o,i,a,e(l,!0))}return Xp}var Jp,Jw;function X6(){if(Jw)return Jp;Jw=1,Jp=n;var e=oS(),t=aS(),r=xl();function n(o){for(var a=o.footnoteById,i=o.footnoteOrder,l=i.length,c=-1,d=[],u,p,m,g;++c<l;)u=a[i[c].toUpperCase()],u&&(m=u.children.concat(),g=m[m.length-1],p={type:"link",url:"#fnref-"+u.identifier,data:{hProperties:{className:["footnote-backref"]}},children:[{type:"text",value:""}]},(!g||g.type!=="paragraph")&&(g={type:"paragraph",children:[]},m.push(g)),g.children.push(p),d.push({type:"listItem",data:{hProperties:{id:"fn-"+u.identifier}},children:m,position:u.position}));return d.length===0?null:o(null,"div",{className:["footnotes"]},r([e(o),t(o,{type:"list",ordered:!0,children:d})],!0))}return Jp}var Zp,Zw;function J6(){if(Zw)return Zp;Zw=1,Zp=r;var e=xl(),t=lr();function r(n,o){return n(o,"blockquote",e(t(n,o),!0))}return Zp}var em,ek;function Z6(){if(ek)return em;ek=1,em=t;var e=Rr();function t(r,n){return[r(n,"br"),e("text",`
`)]}return em}var tm,tk;function e8(){if(tk)return tm;tk=1,tm=t;var e=Rr();function t(r,n){var o=n.value?n.value+`
`:"",a=n.lang&&n.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={},l;return a&&(i.className=["language-"+a]),l=r(n,"code",i,[e("text",o)]),n.meta&&(l.data={meta:n.meta}),r(n.position,"pre",[l])}return tm}var sm,sk;function t8(){if(sk)return sm;sk=1,sm=t;var e=lr();function t(r,n){return r(n,"del",e(r,n))}return sm}var rm,rk;function s8(){if(rk)return rm;rk=1,rm=t;var e=lr();function t(r,n){return r(n,"em",e(r,n))}return rm}var nm,nk;function iS(){if(nk)return nm;nk=1,nm=t;var e=Rr();function t(r,n){var o=r.footnoteOrder,a=String(n.identifier);return o.indexOf(a)===-1&&o.push(a),r(n.position,"sup",{id:"fnref-"+a},[r(n,"a",{href:"#fn-"+a,className:["footnote-ref"]},[e("text",n.label||a)])])}return nm}var om,ok;function r8(){if(ok)return om;ok=1,om=t;var e=iS();function t(r,n){for(var o=r.footnoteById,a=r.footnoteOrder,i=1;i in o;)i++;return i=String(i),a.push(i),o[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:n.children}],position:n.position},e(r,{type:"footnoteReference",identifier:i,position:n.position})}return om}var am,ak;function n8(){if(ak)return am;ak=1,am=t;var e=lr();function t(r,n){return r(n,"h"+n.depth,e(r,n))}return am}var im,ik;function o8(){if(ik)return im;ik=1,im=t;var e=Rr();function t(r,n){return r.dangerous?r.augment(n,e("raw",n.value)):null}return im}var lm,lk;function Md(){if(lk)return lm;lk=1;var e={};function t(n){var o,a,i=e[n];if(i)return i;for(i=e[n]=[],o=0;o<128;o++)a=String.fromCharCode(o),/^[0-9a-z]$/i.test(a)?i.push(a):i.push("%"+("0"+o.toString(16).toUpperCase()).slice(-2));for(o=0;o<n.length;o++)i[n.charCodeAt(o)]=n[o];return i}function r(n,o,a){var i,l,c,d,u,p="";for(typeof o!="string"&&(a=o,o=r.defaultChars),typeof a>"u"&&(a=!0),u=t(o),i=0,l=n.length;i<l;i++){if(c=n.charCodeAt(i),a&&c===37&&i+2<l&&/^[0-9a-f]{2}$/i.test(n.slice(i+1,i+3))){p+=n.slice(i,i+3),i+=2;continue}if(c<128){p+=u[c];continue}if(c>=55296&&c<=57343){if(c>=55296&&c<=56319&&i+1<l&&(d=n.charCodeAt(i+1),d>=56320&&d<=57343)){p+=encodeURIComponent(n[i]+n[i+1]),i++;continue}p+="%EF%BF%BD";continue}p+=encodeURIComponent(n[i])}return p}return r.defaultChars=";/?:@&=+$,-_.!~*'()#",r.componentChars="-_.!~*'()",lm=r,lm}var cm,ck;function lS(){if(ck)return cm;ck=1,cm=r;var e=Rr(),t=lr();function r(n,o){var a=o.referenceType,i="]",l,c,d;return a==="collapsed"?i+="[]":a==="full"&&(i+="["+(o.label||o.identifier)+"]"),o.type==="imageReference"?e("text","!["+o.alt+i):(l=t(n,o),c=l[0],c&&c.type==="text"?c.value="["+c.value:l.unshift(e("text","[")),d=l[l.length-1],d&&d.type==="text"?d.value+=i:l.push(e("text",i)),l)}return cm}var dm,dk;function a8(){if(dk)return dm;dk=1,dm=r;var e=Md(),t=lS();function r(n,o){var a=n.definition(o.identifier),i;return a?(i={src:e(a.url||""),alt:o.alt},a.title!==null&&a.title!==void 0&&(i.title=a.title),n(o,"img",i)):t(n,o)}return dm}var um,uk;function i8(){if(uk)return um;uk=1;var e=Md();um=t;function t(r,n){var o={src:e(n.url),alt:n.alt};return n.title!==null&&n.title!==void 0&&(o.title=n.title),r(n,"img",o)}return um}var pm,pk;function l8(){if(pk)return pm;pk=1,pm=t;var e=Rr();function t(r,n){var o=n.value.replace(/\r?\n|\r/g," ");return r(n,"code",[e("text",o)])}return pm}var mm,mk;function c8(){if(mk)return mm;mk=1,mm=n;var e=Md(),t=lS(),r=lr();function n(o,a){var i=o.definition(a.identifier),l;return i?(l={href:e(i.url||"")},i.title!==null&&i.title!==void 0&&(l.title=i.title),o(a,"a",l,r(o,a))):t(o,a)}return mm}var hm,hk;function d8(){if(hk)return hm;hk=1;var e=Md(),t=lr();hm=r;function r(n,o){var a={href:e(o.url)};return o.title!==null&&o.title!==void 0&&(a.title=o.title),n(o,"a",a,t(n,o))}return hm}var fm,fk;function u8(){if(fk)return fm;fk=1,fm=r;var e=Rr(),t=lr();function r(a,i,l){var c=t(a,i),d=c[0],u=l?n(l):o(i),p={},m=[],g,f,x;for(typeof i.checked=="boolean"&&((!d||d.tagName!=="p")&&(d=a(null,"p",[]),c.unshift(d)),d.children.length>0&&d.children.unshift(e("text"," ")),d.children.unshift(a(null,"input",{type:"checkbox",checked:i.checked,disabled:!0})),p.className=["task-list-item"]),g=c.length,f=-1;++f<g;)x=c[f],(u||f!==0||x.tagName!=="p")&&m.push(e("text",`
`)),x.tagName==="p"&&!u?m=m.concat(x.children):m.push(x);return g&&(u||x.tagName!=="p")&&m.push(e("text",`
`)),a(i,"li",p,m)}function n(a){for(var i=a.spread,l=a.children,c=l.length,d=-1;!i&&++d<c;)i=o(l[d]);return i}function o(a){var i=a.spread;return i??a.children.length>1}return fm}var gm,gk;function p8(){if(gk)return gm;gk=1,gm=t;var e=lr();function t(r,n){return r(n,"p",e(r,n))}return gm}var xm,xk;function m8(){if(xk)return xm;xk=1,xm=n;var e=Rr(),t=xl(),r=lr();function n(o,a){return o.augment(a,e("root",t(r(o,a))))}return xm}var vm,vk;function h8(){if(vk)return vm;vk=1,vm=t;var e=lr();function t(r,n){return r(n,"strong",e(r,n))}return vm}var bm,bk;function f8(){if(bk)return bm;bk=1,bm=n;var e=rS(),t=xl(),r=lr();function n(o,a){for(var i=a.children,l=i.length,c=a.align||[],d=c.length,u=[],p,m,g,f,x;l--;){for(m=i[l].children,f=l===0?"th":"td",p=d||m.length,g=[];p--;)x=m[p],g[p]=o(x,f,{align:c[p]},x?r(o,x):[]);u[l]=o(i[l],"tr",t(g,!0))}return o(a,"table",t([o(u[0].position,"thead",t([u[0]],!0))].concat(u[1]?o({start:e.start(u[1]),end:e.end(u[u.length-1])},"tbody",t(u.slice(1),!0)):[]),!0))}return bm}var ym,yk;function g8(){if(yk)return ym;yk=1,ym=t;var e=Rr();function t(r,n){return r.augment(n,e("text",String(n.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g,"$1")))}return ym}var wm,wk;function x8(){if(wk)return wm;wk=1,wm={blockquote:J6(),break:Z6(),code:e8(),delete:t8(),emphasis:s8(),footnoteReference:iS(),footnote:r8(),heading:n8(),html:o8(),imageReference:a8(),image:i8(),inlineCode:l8(),linkReference:c8(),link:d8(),listItem:u8(),list:aS(),paragraph:p8(),root:m8(),strong:h8(),table:f8(),text:g8(),thematicBreak:oS(),toml:e,yaml:e,definition:e,footnoteDefinition:e};function e(){return null}return wm}var km,kk;function v8(){if(kk)return km;kk=1,km=p;var e=Rr(),t=sS(),r=rS(),n=Q6(),o=Y6(),a=nS(),i=X6(),l=x8(),c={}.hasOwnProperty,d=!1;function u(m,g){var f=g||{};f.allowDangerousHTML!==void 0&&!d&&(d=!0,console.warn("mdast-util-to-hast: deprecation: `allowDangerousHTML` is nonstandard, use `allowDangerousHtml` instead"));var x=f.allowDangerousHtml||f.allowDangerousHTML,y={};return b.dangerous=x,b.definition=o(m),b.footnoteById=y,b.footnoteOrder=[],b.augment=N,b.handlers=Object.assign({},l,f.handlers),b.unknownHandler=f.unknownHandler,b.passThrough=f.passThrough,t(m,"footnoteDefinition",j),b;function N(v,_){var k,w;return v&&v.data&&(k=v.data,k.hName&&(_.type!=="element"&&(_={type:"element",tagName:"",properties:{},children:[]}),_.tagName=k.hName),_.type==="element"&&k.hProperties&&(_.properties=Object.assign({},_.properties,k.hProperties)),_.children&&k.hChildren&&(_.children=k.hChildren)),w=v&&v.position?v:{position:v},n(w)||(_.position={start:r.start(w),end:r.end(w)}),_}function b(v,_,k,w){return w==null&&typeof k=="object"&&"length"in k&&(w=k,k={}),N(v,{type:"element",tagName:_,properties:k||{},children:w||[]})}function j(v){var _=String(v.identifier).toUpperCase();c.call(y,_)||(y[_]=v)}}function p(m,g){var f=u(m,g),x=a(f,m),y=i(f);return y&&(x.children=x.children.concat(e("text",`
`),y)),x}return km}var jm,jk;function b8(){return jk||(jk=1,jm=v8()),jm}var _m,_k;function y8(){if(_k)return _m;_k=1;var e=b8();_m=t;function t(o,a){return o&&!o.process&&(a=o,o=null),o?r(o,a):n(a)}function r(o,a){return i;function i(l,c,d){o.run(e(l,a),c,u);function u(p){d(p)}}}function n(o){return a;function a(i){return e(i,o)}}return _m}var w8=y8();const k8=ln(w8);var Nm,Nk;function j8(){if(Nk)return Nm;Nk=1,Nm=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var o=arguments[n];for(var a in o)e.call(o,a)&&(r[a]=o[a])}return r}return Nm}var Sm,Sk;function cS(){if(Sk)return Sm;Sk=1,Sm=t;var e=t.prototype;e.space=null,e.normal={},e.property={};function t(r,n,o){this.property=r,this.normal=n,o&&(this.space=o)}return Sm}var Tm,Tk;function dS(){if(Tk)return Tm;Tk=1;var e=j8(),t=cS();Tm=r;function r(n){for(var o=n.length,a=[],i=[],l=-1,c,d;++l<o;)c=n[l],a.push(c.property),i.push(c.normal),d=c.space;return new t(e.apply(null,a),e.apply(null,i),d)}return Tm}var Pm,Pk;function uS(){if(Pk)return Pm;Pk=1,Pm=e;function e(t){return t.toLowerCase()}return Pm}var Im,Ik;function pS(){if(Ik)return Im;Ik=1,Im=t;var e=t.prototype;e.space=null,e.attribute=null,e.property=null,e.boolean=!1,e.booleanish=!1,e.overloadedBoolean=!1,e.number=!1,e.commaSeparated=!1,e.spaceSeparated=!1,e.commaOrSpaceSeparated=!1,e.mustUseProperty=!1,e.defined=!1;function t(r,n){this.property=r,this.attribute=n}return Im}var Pn={},Ek;function Cd(){if(Ek)return Pn;Ek=1;var e=0;Pn.boolean=t(),Pn.booleanish=t(),Pn.overloadedBoolean=t(),Pn.number=t(),Pn.spaceSeparated=t(),Pn.commaSeparated=t(),Pn.commaOrSpaceSeparated=t();function t(){return Math.pow(2,++e)}return Pn}var Em,Mk;function mS(){if(Mk)return Em;Mk=1;var e=pS(),t=Cd();Em=o,o.prototype=new e,o.prototype.defined=!0;var r=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],n=r.length;function o(i,l,c,d){var u=-1,p;for(a(this,"space",d),e.call(this,i,l);++u<n;)p=r[u],a(this,p,(c&t[p])===t[p])}function a(i,l,c){c&&(i[l]=c)}return Em}var Mm,Ck;function ci(){if(Ck)return Mm;Ck=1;var e=uS(),t=cS(),r=mS();Mm=n;function n(o){var a=o.space,i=o.mustUseProperty||[],l=o.attributes||{},c=o.properties,d=o.transform,u={},p={},m,g;for(m in c)g=new r(m,d(l,m),c[m],a),i.indexOf(m)!==-1&&(g.mustUseProperty=!0),u[m]=g,p[e(m)]=m,p[e(g.attribute)]=m;return new t(u,p,a)}return Mm}var Cm,Ak;function hS(){if(Ak)return Cm;Ak=1;var e=ci();Cm=e({space:"xlink",transform:t,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function t(r,n){return"xlink:"+n.slice(5).toLowerCase()}return Cm}var Am,Rk;function fS(){if(Rk)return Am;Rk=1;var e=ci();Am=e({space:"xml",transform:t,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function t(r,n){return"xml:"+n.slice(3).toLowerCase()}return Am}var Rm,Ok;function gS(){if(Ok)return Rm;Ok=1,Rm=e;function e(t,r){return r in t?t[r]:r}return Rm}var Om,Dk;function xS(){if(Dk)return Om;Dk=1;var e=gS();Om=t;function t(r,n){return e(r,n.toLowerCase())}return Om}var Dm,Fk;function vS(){if(Fk)return Dm;Fk=1;var e=ci(),t=xS();return Dm=e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:t,properties:{xmlns:null,xmlnsXLink:null}}),Dm}var Fm,Lk;function bS(){if(Lk)return Fm;Lk=1;var e=Cd(),t=ci(),r=e.booleanish,n=e.number,o=e.spaceSeparated;Fm=t({transform:a,properties:{ariaActiveDescendant:null,ariaAtomic:r,ariaAutoComplete:null,ariaBusy:r,ariaChecked:r,ariaColCount:n,ariaColIndex:n,ariaColSpan:n,ariaControls:o,ariaCurrent:null,ariaDescribedBy:o,ariaDetails:null,ariaDisabled:r,ariaDropEffect:o,ariaErrorMessage:null,ariaExpanded:r,ariaFlowTo:o,ariaGrabbed:r,ariaHasPopup:null,ariaHidden:r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:o,ariaLevel:n,ariaLive:null,ariaModal:r,ariaMultiLine:r,ariaMultiSelectable:r,ariaOrientation:null,ariaOwns:o,ariaPlaceholder:null,ariaPosInSet:n,ariaPressed:r,ariaReadOnly:r,ariaRelevant:null,ariaRequired:r,ariaRoleDescription:o,ariaRowCount:n,ariaRowIndex:n,ariaRowSpan:n,ariaSelected:r,ariaSetSize:n,ariaSort:null,ariaValueMax:n,ariaValueMin:n,ariaValueNow:n,ariaValueText:null,role:null}});function a(i,l){return l==="role"?l:"aria-"+l.slice(4).toLowerCase()}return Fm}var Lm,Bk;function _8(){if(Bk)return Lm;Bk=1;var e=Cd(),t=ci(),r=xS(),n=e.boolean,o=e.overloadedBoolean,a=e.booleanish,i=e.number,l=e.spaceSeparated,c=e.commaSeparated;return Lm=t({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:r,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:c,acceptCharset:l,accessKey:l,action:null,allow:null,allowFullScreen:n,allowPaymentRequest:n,allowUserMedia:n,alt:null,as:null,async:n,autoCapitalize:null,autoComplete:l,autoFocus:n,autoPlay:n,capture:n,charSet:null,checked:n,cite:null,className:l,cols:i,colSpan:null,content:null,contentEditable:a,controls:n,controlsList:l,coords:i|c,crossOrigin:null,data:null,dateTime:null,decoding:null,default:n,defer:n,dir:null,dirName:null,disabled:n,download:o,draggable:a,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:n,formTarget:null,headers:l,height:i,hidden:n,high:i,href:null,hrefLang:null,htmlFor:l,httpEquiv:l,id:null,imageSizes:null,imageSrcSet:c,inputMode:null,integrity:null,is:null,isMap:n,itemId:null,itemProp:l,itemRef:l,itemScope:n,itemType:l,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:n,low:i,manifest:null,max:null,maxLength:i,media:null,method:null,min:null,minLength:i,multiple:n,muted:n,name:null,nonce:null,noModule:n,noValidate:n,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:n,optimum:i,pattern:null,ping:l,placeholder:null,playsInline:n,poster:null,preload:null,readOnly:n,referrerPolicy:null,rel:l,required:n,reversed:n,rows:i,rowSpan:i,sandbox:l,scope:null,scoped:n,seamless:n,selected:n,shape:null,size:i,sizes:null,slot:null,span:i,spellCheck:a,src:null,srcDoc:null,srcLang:null,srcSet:c,start:i,step:null,style:null,tabIndex:i,target:null,title:null,translate:null,type:null,typeMustMatch:n,useMap:null,value:a,width:i,wrap:null,align:null,aLink:null,archive:l,axis:null,background:null,bgColor:null,border:i,borderColor:null,bottomMargin:i,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:n,declare:n,event:null,face:null,frame:null,frameBorder:null,hSpace:i,leftMargin:i,link:null,longDesc:null,lowSrc:null,marginHeight:i,marginWidth:i,noResize:n,noHref:n,noShade:n,noWrap:n,object:null,profile:null,prompt:null,rev:null,rightMargin:i,rules:null,scheme:null,scrolling:a,standby:null,summary:null,text:null,topMargin:i,valueType:null,version:null,vAlign:null,vLink:null,vSpace:i,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:n,disableRemotePlayback:n,prefix:null,property:null,results:i,security:null,unselectable:null}}),Lm}var Bm,zk;function N8(){if(zk)return Bm;zk=1;var e=dS(),t=hS(),r=fS(),n=vS(),o=bS(),a=_8();return Bm=e([r,t,n,o,a]),Bm}var zm,qk;function S8(){if(qk)return zm;qk=1;var e=Cd(),t=ci(),r=gS(),n=e.boolean,o=e.number,a=e.spaceSeparated,i=e.commaSeparated,l=e.commaOrSpaceSeparated;return zm=t({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:r,properties:{about:l,accentHeight:o,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:o,amplitude:o,arabicForm:null,ascent:o,attributeName:null,attributeType:null,azimuth:o,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:o,by:null,calcMode:null,capHeight:o,className:a,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:o,diffuseConstant:o,direction:null,display:null,dur:null,divisor:o,dominantBaseline:null,download:n,dx:null,dy:null,edgeMode:null,editable:null,elevation:o,enableBackground:null,end:null,event:null,exponent:o,externalResourcesRequired:null,fill:null,fillOpacity:o,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:i,g2:i,glyphName:i,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:o,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:o,horizOriginX:o,horizOriginY:o,id:null,ideographic:o,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:o,k:o,k1:o,k2:o,k3:o,k4:o,kernelMatrix:l,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:o,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:o,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:o,overlineThickness:o,paintOrder:null,panose1:null,path:null,pathLength:o,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:a,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:o,pointsAtY:o,pointsAtZ:o,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:l,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:l,rev:l,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:l,requiredFeatures:l,requiredFonts:l,requiredFormats:l,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:o,specularExponent:o,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:o,strikethroughThickness:o,string:null,stroke:null,strokeDashArray:l,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:o,strokeOpacity:o,strokeWidth:null,style:null,surfaceScale:o,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:l,tabIndex:o,tableValues:null,target:null,targetX:o,targetY:o,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:l,to:null,transform:null,u1:null,u2:null,underlinePosition:o,underlineThickness:o,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:o,values:null,vAlphabetic:o,vMathematical:o,vectorEffect:null,vHanging:o,vIdeographic:o,version:null,vertAdvY:o,vertOriginX:o,vertOriginY:o,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:o,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),zm}var qm,Uk;function T8(){if(Uk)return qm;Uk=1;var e=dS(),t=hS(),r=fS(),n=vS(),o=bS(),a=S8();return qm=e([r,t,n,o,a]),qm}var Um,Wk;function P8(){if(Wk)return Um;Wk=1;var e=uS(),t=mS(),r=pS(),n="data";Um=l;var o=/^data[-\w.:]+$/i,a=/-[a-z]/g,i=/[A-Z]/g;function l(m,g){var f=e(g),x=g,y=r;return f in m.normal?m.property[m.normal[f]]:(f.length>4&&f.slice(0,4)===n&&o.test(g)&&(g.charAt(4)==="-"?x=c(g):g=d(g),y=t),new y(x,g))}function c(m){var g=m.slice(5).replace(a,p);return n+g.charAt(0).toUpperCase()+g.slice(1)}function d(m){var g=m.slice(4);return a.test(g)?m:(g=g.replace(i,u),g.charAt(0)!=="-"&&(g="-"+g),n+g)}function u(m){return"-"+m.toLowerCase()}function p(m){return m.charAt(1).toUpperCase()}return Um}const I8="classID",E8="datatype",M8="itemID",C8="strokeDasharray",A8="strokeDashoffset",R8="strokeLinecap",O8="strokeLinejoin",D8="strokeMiterlimit",F8="typeof",L8="xlinkActuate",B8="xlinkArcrole",z8="xlinkHref",q8="xlinkRole",U8="xlinkShow",W8="xlinkTitle",K8="xlinkType",$8="xmlnsXlink",H8={classId:I8,dataType:E8,itemId:M8,strokeDashArray:C8,strokeDashOffset:A8,strokeLineCap:R8,strokeLineJoin:O8,strokeMiterLimit:D8,typeOf:F8,xLinkActuate:L8,xLinkArcRole:B8,xLinkHref:z8,xLinkRole:q8,xLinkShow:U8,xLinkTitle:W8,xLinkType:K8,xmlnsXLink:$8};var Ul={},Kk;function V8(){if(Kk)return Ul;Kk=1,Ul.parse=n,Ul.stringify=o;var e="",t=" ",r=/[ \t\n\r\f]+/g;function n(a){var i=String(a||e).trim();return i===e?[]:i.split(r)}function o(a){return a.join(t).trim()}return Ul}var Wl={},$k;function G8(){if($k)return Wl;$k=1,Wl.parse=n,Wl.stringify=o;var e=",",t=" ",r="";function n(a){for(var i=[],l=String(a||r),c=l.indexOf(e),d=0,u=!1,p;!u;)c===-1&&(c=l.length,u=!0),p=l.slice(d,c).trim(),(p||!u)&&i.push(p),d=c+1,c=l.indexOf(e,d);return i}function o(a,i){var l=i||{},c=l.padLeft===!1?r:t,d=l.padRight?t:r;return a[a.length-1]===r&&(a=a.concat(r)),a.join(d+e+c).trim()}return Wl}var Wm,Hk;function Q8(){if(Hk)return Wm;Hk=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,i=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,d="/",u="*",p="",m="comment",g="declaration";Wm=function(x,y){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];y=y||{};var N=1,b=1;function j(A){var C=A.match(t);C&&(N+=C.length);var H=A.lastIndexOf(c);b=~H?A.length-H:b+A.length}function v(){var A={line:N,column:b};return function(C){return C.position=new _(A),T(),C}}function _(A){this.start=A,this.end={line:N,column:b},this.source=y.source}_.prototype.content=x;function k(A){var C=new Error(y.source+":"+N+":"+b+": "+A);if(C.reason=A,C.filename=y.source,C.line=N,C.column=b,C.source=x,!y.silent)throw C}function w(A){var C=A.exec(x);if(C){var H=C[0];return j(H),x=x.slice(H.length),C}}function T(){w(r)}function S(A){var C;for(A=A||[];C=P();)C!==!1&&A.push(C);return A}function P(){var A=v();if(!(d!=x.charAt(0)||u!=x.charAt(1))){for(var C=2;p!=x.charAt(C)&&(u!=x.charAt(C)||d!=x.charAt(C+1));)++C;if(C+=2,p===x.charAt(C-1))return k("End of comment missing");var H=x.slice(2,C-2);return b+=2,j(H),x=x.slice(C),b+=2,A({type:m,comment:H})}}function I(){var A=v(),C=w(n);if(C){if(P(),!w(o))return k("property missing ':'");var H=w(a),z=A({type:g,property:f(C[0].replace(e,p)),value:H?f(H[0].replace(e,p)):p});return w(i),z}}function M(){var A=[];S(A);for(var C;C=I();)C!==!1&&(A.push(C),S(A));return A}return T(),M()};function f(x){return x?x.replace(l,p):p}return Wm}var Km,Vk;function Y8(){if(Vk)return Km;Vk=1;var e=Q8();function t(r,n){var o=null;if(!r||typeof r!="string")return o;for(var a,i=e(r),l=typeof n=="function",c,d,u=0,p=i.length;u<p;u++)a=i[u],c=a.property,d=a.value,l?n(c,d,a):d&&(o||(o={}),o[c]=d);return o}return Km=t,Km}const X8="http://www.w3.org/1999/xhtml",J8="http://www.w3.org/1998/Math/MathML",Z8="http://www.w3.org/2000/svg",ez="http://www.w3.org/1999/xlink",tz="http://www.w3.org/XML/1998/namespace",sz="http://www.w3.org/2000/xmlns/",rz={html:X8,mathml:J8,svg:Z8,xlink:ez,xml:tz,xmlns:sz};var $m,Gk;function nz(){if(Gk)return $m;Gk=1;var e=N8(),t=T8(),r=P8(),n=H8,o=V8(),a=G8(),i=Y8(),l=rz,c=tS(),d=c("root"),u=c("element"),p=c("text");$m=m;function m(_,k,w){var T=w||{},S=x(_),P=b(_),I=N(_),M;if(typeof _!="function")throw new Error("h is not a function");if(typeof T=="string"||typeof T=="boolean"?(M=T,T={}):M=T.prefix,d(k))k=k.children.length===1&&u(k.children[0])?k.children[0]:{type:"element",tagName:"div",properties:{},children:k.children};else if(!u(k))throw new Error("Expected root or element, not `"+(k&&k.type||k)+"`");return g(_,k,{schema:T.space==="svg"?t:e,prefix:M??(S||P||I?"h-":null),key:0,react:S,vue:P,vdom:I,hyperscript:y(_)})}function g(_,k,w){var T=w.schema,S=T,P=k.tagName,I={},M=[],A=-1,C,H;T.space==="html"&&P.toLowerCase()==="svg"&&(S=t,w.schema=S);for(C in k.properties)f(I,C,k.properties[C],w,P);if(w.vdom&&(S.space==="html"?P=P.toUpperCase():I.namespace=l[S.space]),w.prefix&&(w.key++,I.key=w.prefix+w.key),k.children)for(;++A<k.children.length;)H=k.children[A],u(H)?M.push(g(_,H,w)):p(H)&&M.push(H.value);return w.schema=T,M.length?_.call(k,P,I,M):_.call(k,P,I)}function f(_,k,w,T,S){var P=r(T.schema,k),I;w==null||w!==w||w===!1&&(T.vue||T.vdom||T.hyperscript)||!w&&P.boolean&&(T.vue||T.vdom||T.hyperscript)||(w&&typeof w=="object"&&"length"in w&&(w=(P.commaSeparated?a:o).stringify(w)),P.boolean&&T.hyperscript&&(w=""),P.property==="style"&&typeof w=="string"&&(T.react||T.vue||T.vdom)&&(w=j(w,S)),T.vue?P.property!=="style"&&(I="attrs"):P.mustUseProperty||(T.vdom?P.property!=="style"&&(I="attributes"):T.hyperscript&&(I="attrs")),I?(_[I]||(_[I]={}),_[I][P.attribute]=w):P.space&&T.react?_[n[P.property]||P.property]=w:_[P.attribute]=w)}function x(_){var k=_&&_("div");return!!(k&&("_owner"in k||"_store"in k)&&k.key==null)}function y(_){return!!(_&&_.context&&_.cleanup)}function N(_){return _&&_("div").type==="VirtualNode"}function b(_){var k=_&&_("div");return!!(k&&k.context&&k.context._isVue)}function j(_,k){var w={};try{i(_,T)}catch(S){throw S.message=k+"[style]"+S.message.slice(9),S}return w;function T(S,P){S.slice(0,4)==="-ms-"&&(S="ms-"+S.slice(4)),w[S.replace(/-([a-z])/g,v)]=P}}function v(_,k){return k.toUpperCase()}return $m}var Hm,Qk;function oz(){if(Qk)return Hm;Qk=1,Hm=e;function e(i){if(typeof i=="string")return o(i);if(i==null)return a;if(typeof i=="object")return("length"in i?n:r)(i);if(typeof i=="function")return i;throw new Error("Expected function, string, or object as test")}function t(i){for(var l=[],c=i.length,d=-1;++d<c;)l[d]=e(i[d]);return l}function r(i){return l;function l(c){var d;for(d in i)if(c[d]!==i[d])return!1;return!0}}function n(i){var l=t(i),c=l.length;return d;function d(){for(var u=-1;++u<c;)if(l[u].apply(this,arguments))return!0;return!1}}function o(i){return l;function l(c){return!!(c&&c.type===i)}}function a(){return!0}return Hm}var Vm,Yk;function az(){if(Yk)return Vm;Yk=1,Vm=o;var e=oz(),t=!0,r="skip",n=!1;o.CONTINUE=t,o.SKIP=r,o.EXIT=n;function o(i,l,c,d){var u;typeof l=="function"&&typeof c!="function"&&(d=c,c=l,l=null),u=e(l),p(i,null,[]);function p(g,f,x){var y=[],N;return(!l||u(g,f,x[x.length-1]||null))&&(y=a(c(g,x)),y[0]===n)?y:g.children&&y[0]!==r?(N=a(m(g.children,x.concat(g))),N[0]===n?N:y):y}function m(g,f){for(var x=-1,y=d?-1:1,N=(d?g.length:x)+y,b;N>x&&N<g.length;){if(b=p(g[N],N,f),b[0]===n)return b;N=typeof b[1]=="number"?b[1]:N+y}}}function a(i){return i!==null&&typeof i=="object"&&"length"in i?i:typeof i=="number"?[t,i]:[i]}return Vm}var Gm,Xk;function iz(){if(Xk)return Gm;Xk=1,Gm=o;var e=az(),t=e.CONTINUE,r=e.SKIP,n=e.EXIT;o.CONTINUE=t,o.SKIP=r,o.EXIT=n;function o(a,i,l,c){typeof i=="function"&&typeof l!="function"&&(c=l,l=i,i=null),e(a,i,d,c);function d(u,p){var m=p[p.length-1],g=m?m.children.indexOf(u):null;return l(u,g,m)}}return Gm}var Qm,Jk;function lz(){if(Jk)return Qm;Jk=1;var e=iz(),t=Object.prototype.hasOwnProperty,r={align:"text-align",valign:"vertical-align",height:"height",width:"width"};Qm=function(i){return e(i,"element",n),i};function n(a){if(!(a.tagName!=="tr"&&a.tagName!=="td"&&a.tagName!=="th")){var i,l;for(i in r)!t.call(r,i)||a.properties[i]===void 0||(l=r[i],o(a,l,a.properties[i]),delete a.properties[i])}}function o(a,i,l){var c=(a.properties.style||"").trim();c&&!/;\s*/.test(c)&&(c+=";"),c&&(c+=" ");var d=c+i+": "+l+";";a.properties.style=d}return Qm}var Ym,Zk;function cz(){if(Zk)return Ym;Zk=1;var e=nz(),t=lz();Ym=o;var r={}.hasOwnProperty,n=new Set(["table","thead","tbody","tfoot","tr","th","td"]);function o(a){var i=a||{},l=i.createElement;this.Compiler=c;function c(u){var p=e(d,t(u),i.prefix);return u.type==="root"?(p=p.type==="div"&&(u.children.length!==1||u.children[0].type!=="element")?p.props.children:[p],l(i.Fragment||"div",{},p)):p}function d(u,p,m){var g=u;return m&&n.has(u)&&(m=m.filter(function(f){return f!==`
`})),i.components&&r.call(i.components,u)&&(g=i.components[u],i.passNode&&(p.node=this)),l(g,p,m)}}return Ym}var dz=cz();const uz=ln(dz);function Mf(){return Mf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mf.apply(this,arguments)}var pz=function(t){var r={},n=r.remarkParseOptions,o=r.remarkToRehypeOptions,a=r.rehypeReactOptions,i=r.remarkPlugins,l=i===void 0?[]:i,c=r.rehypePlugins,d=c===void 0?[]:c,u=r.onError,p=u===void 0?function(){}:u,m=h.useState(null),g=m[0],f=m[1],x=h.useCallback(function(y){JB().use(H6,n).use(l).use(k8,o).use(d).use(uz,Mf({createElement:h.createElement,Fragment:h.Fragment},a)).process(y).then(function(N){return f(N.result)}).catch(p)},[]);return[g,x]};const mz=Js.div`
	font-family:
		var(--vscode-font-family),
		system-ui,
		-apple-system,
		BlinkMacSystemFont,
		"Segoe UI",
		Roboto,
		Oxygen,
		Ubuntu,
		Cantarell,
		"Open Sans",
		"Helvetica Neue",
		sans-serif;
	font-size: 12px;
	color: var(--vscode-descriptionForeground);

	p,
	li,
	ol,
	ul {
		line-height: 1.25;
		margin: 0;
	}

	ol,
	ul {
		padding-left: 1.5em;
		margin-left: 0;
	}

	ol {
		list-style-type: decimal;
	}

	ul {
		list-style-type: disc;
	}

	/* Nested list styles */
	ul ul {
		list-style-type: circle;
	}

	ul ul ul {
		list-style-type: square;
	}

	ol ol {
		list-style-type: lower-alpha;
	}

	ol ol ol {
		list-style-type: lower-roman;
	}

	p {
		white-space: pre-wrap;
	}

	a {
		text-decoration: none;
	}
	a {
		&:hover {
			text-decoration: underline;
		}
	}
`,yS=h.memo(({markdown:e="",key:t,isExpanded:r,setIsExpanded:n})=>{const[o,a]=pz(),[i,l]=h.useState(!1),c=h.useRef(null),d=h.useRef(null);return h.useEffect(()=>a(e),[e,a]),h.useEffect(()=>{d.current&&c.current&&l(d.current.scrollHeight>c.current.clientHeight)},[o]),s.jsxs(Hg,{open:r,onOpenChange:n,className:"relative",children:[s.jsx("div",{ref:c,className:Z({"line-clamp-4":!r}),children:s.jsx("div",{ref:d,children:s.jsx(mz,{children:o},t)})}),s.jsx(Vg,{asChild:!0,className:Z({hidden:!i}),children:s.jsx(Oe,{className:"text-sm",children:r?"Less":"More"})})]})}),Sx=({apiProvider:e,selectedModelId:t,modelInfo:r,isDescriptionExpanded:n,setIsDescriptionExpanded:o,hidePricing:a})=>{var g,f,x,y,N,b,j,v,_,k,w,T,S,P,I,M;const{t:i}=re(),l=((f=(g=r==null?void 0:r.tiers)==null?void 0:g.filter(A=>A.name==="flex"||A.name==="priority"))==null?void 0:f.map(A=>A.name))??[],c=e==="openai-native"&&l.length>0,d=A=>typeof A=="number"?`${To(A)}`:"",u=[typeof(r==null?void 0:r.contextWindow)=="number"&&r.contextWindow>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium",children:i("settings:modelInfo.contextWindow")})," ",(x=r.contextWindow)==null?void 0:x.toLocaleString()," tokens"]}),typeof(r==null?void 0:r.maxTokens)=="number"&&r.maxTokens>0&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"font-medium",children:[i("settings:modelInfo.maxOutput"),":"]})," ",(y=r.maxTokens)==null?void 0:y.toLocaleString()," tokens"]}),s.jsx(Bc,{isSupported:(r==null?void 0:r.supportsImages)??!1,supportsLabel:i("settings:modelInfo.supportsImages"),doesNotSupportLabel:i("settings:modelInfo.noImages")}),s.jsx(Bc,{isSupported:(r==null?void 0:r.supportsPromptCache)??!1,supportsLabel:i("settings:modelInfo.supportsPromptCache"),doesNotSupportLabel:i("settings:modelInfo.noPromptCache")}),e==="gemini"&&s.jsxs("span",{className:"italic",children:[t.includes("pro-preview")?i("settings:modelInfo.gemini.billingEstimate"):i("settings:modelInfo.gemini.freeRequests",{count:t&&t.includes("flash")?15:2})," ",s.jsx(Oe,{href:"https://ai.google.dev/pricing",className:"text-sm",children:i("settings:modelInfo.gemini.pricingDetails")})]})].filter(Boolean),p=[(r==null?void 0:r.inputPrice)!==void 0&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"font-medium",children:[i("settings:modelInfo.inputPrice"),":"]})," ",To(r.inputPrice)," / 1M tokens"]}),(r==null?void 0:r.outputPrice)!==void 0&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"font-medium",children:[i("settings:modelInfo.outputPrice"),":"]})," ",To(r.outputPrice)," / 1M tokens"]}),(r==null?void 0:r.supportsPromptCache)&&r.cacheReadsPrice&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"font-medium",children:[i("settings:modelInfo.cacheReadsPrice"),":"]})," ",To(r.cacheReadsPrice||0)," / 1M tokens"]}),(r==null?void 0:r.supportsPromptCache)&&r.cacheWritesPrice&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"font-medium",children:[i("settings:modelInfo.cacheWritesPrice"),":"]})," ",To(r.cacheWritesPrice||0)," / 1M tokens"]})].filter(Boolean),m=c||a?u:[...u,...p];return s.jsxs(s.Fragment,{children:[(r==null?void 0:r.description)&&s.jsx(yS,{markdown:r.description,isExpanded:n,setIsExpanded:o},"description"),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:m.map((A,C)=>s.jsx("div",{children:A},C))}),c&&!a&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mb-1",children:i("settings:serviceTier.pricingTableTitle")}),s.jsx("div",{className:"border border-vscode-dropdown-border rounded-xs overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-vscode-dropdown-background",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-3 py-1.5",children:i("settings:serviceTier.columns.tier")}),s.jsx("th",{className:"text-right px-3 py-1.5",children:i("settings:serviceTier.columns.input")}),s.jsx("th",{className:"text-right px-3 py-1.5",children:i("settings:serviceTier.columns.output")}),s.jsx("th",{className:"text-right px-3 py-1.5",children:i("settings:serviceTier.columns.cacheReads")})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-t border-vscode-dropdown-border/60",children:[s.jsx("td",{className:"px-3 py-1.5",children:i("settings:serviceTier.standard")}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:d(r==null?void 0:r.inputPrice)}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:d(r==null?void 0:r.outputPrice)}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:d(r==null?void 0:r.cacheReadsPrice)})]}),l.includes("flex")&&s.jsxs("tr",{className:"border-t border-vscode-dropdown-border/60",children:[s.jsx("td",{className:"px-3 py-1.5",children:i("settings:serviceTier.flex")}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:d(((b=(N=r==null?void 0:r.tiers)==null?void 0:N.find(A=>A.name==="flex"))==null?void 0:b.inputPrice)??(r==null?void 0:r.inputPrice))}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:d(((v=(j=r==null?void 0:r.tiers)==null?void 0:j.find(A=>A.name==="flex"))==null?void 0:v.outputPrice)??(r==null?void 0:r.outputPrice))}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:d(((k=(_=r==null?void 0:r.tiers)==null?void 0:_.find(A=>A.name==="flex"))==null?void 0:k.cacheReadsPrice)??(r==null?void 0:r.cacheReadsPrice))})]}),l.includes("priority")&&s.jsxs("tr",{className:"border-t border-vscode-dropdown-border/60",children:[s.jsx("td",{className:"px-3 py-1.5",children:i("settings:serviceTier.priority")}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:d(((T=(w=r==null?void 0:r.tiers)==null?void 0:w.find(A=>A.name==="priority"))==null?void 0:T.inputPrice)??(r==null?void 0:r.inputPrice))}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:d(((P=(S=r==null?void 0:r.tiers)==null?void 0:S.find(A=>A.name==="priority"))==null?void 0:P.outputPrice)??(r==null?void 0:r.outputPrice))}),s.jsx("td",{className:"px-3 py-1.5 text-right",children:d(((M=(I=r==null?void 0:r.tiers)==null?void 0:I.find(A=>A.name==="priority"))==null?void 0:M.cacheReadsPrice)??(r==null?void 0:r.cacheReadsPrice))})]})]})]})})]})]})},Bc=({isSupported:e,supportsLabel:t,doesNotSupportLabel:r})=>s.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[s.jsx("span",{className:Z("codicon",e?"codicon-check":"codicon-x")}),e?t:r]}),zc=({errorMessage:e,children:t})=>s.jsxs("div",{className:"flex flex-col gap-2 text-vscode-errorForeground text-sm","data-testid":"api-error-message",children:[s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx("div",{className:"codicon codicon-close"}),s.jsx("div",{children:e})]}),t]}),hz=Ns({model:He(),cost:tP.number(),costPerRequest:vr()}),fz=ka(hz),wa=(e,t=2)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t,maximumFractionDigits:t}).format(e),gz=({providers:e})=>{const{t}=re(),r="text-left px-3 py-2 font-medium text-vscode-foreground whitespace-nowrap",n="px-3 py-2 text-vscode-descriptionForeground whitespace-nowrap";return s.jsx("div",{className:"overflow-x-auto border border-vscode-widget-border rounded-md",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-vscode-widget-border bg-vscode-editor-background",children:[s.jsx("th",{className:r,children:t("kilocode:settings.modelInfo.table.provider")}),s.jsx(ue,{content:t("kilocode:settings.modelInfo.table.context"),children:s.jsx("th",{className:r,children:"Context"})}),s.jsx(ue,{content:t("kilocode:settings.modelInfo.table.inputPrice"),children:s.jsx("th",{className:r,children:"Input"})}),s.jsx(ue,{content:t("kilocode:settings.modelInfo.table.outputPrice"),children:s.jsx("th",{className:r,children:"Output"})}),s.jsx(ue,{content:t("kilocode:settings.modelInfo.table.cacheReadPrice"),children:s.jsx("th",{className:r,children:"C Read"})}),s.jsx(ue,{content:t("kilocode:settings.modelInfo.table.cacheWritePrice"),children:s.jsx("th",{className:r,children:"C Write"})})]})}),s.jsx("tbody",{children:e.map((o,a)=>s.jsxs("tr",{className:`border-b border-vscode-widget-border last:border-b-0 ${a%2===0?"bg-vscode-editor-background":"bg-vscode-sideBar-background"} hover:bg-vscode-list-hoverBackground`,children:[s.jsx("td",{className:"px-3 py-2 text-vscode-foreground whitespace-nowrap",children:o.label}),s.jsx("td",{className:n,children:o.contextWindow.toLocaleString()}),s.jsx("td",{className:n,children:wa(o.inputPrice??0)}),s.jsx("td",{className:n,children:wa(o.outputPrice??0)}),s.jsx("td",{className:n,children:o.cacheReadsPrice&&wa(o.cacheReadsPrice)}),s.jsx("td",{className:n,children:o.cacheWritesPrice&&wa(o.cacheWritesPrice)})]},o.label))})]})})},xz=({apiConfiguration:e,modelId:t,model:r,isDescriptionExpanded:n,setIsDescriptionExpanded:o,isPricingExpanded:a,setIsPricingExpanded:i})=>{var p;const{t:l}=re(),c=Object.values(Dg(t,e).data??{}),{data:d}=Ln({queryKey:["modelstats"],queryFn:async()=>{try{const m=sP("https://api.kilo.ai/api/modelstats",e.kilocodeToken??""),g=await fetch(m);if(!g.ok)throw new Error(`Failed to fetch model stats: ${g.status}`);const f=await g.json();return fz.parse(f)}catch(m){throw m instanceof Error&&os.captureException(m,{context:"modelstats"}),m}}}),u=d==null?void 0:d.find(m=>m.model===t);return s.jsxs(s.Fragment,{children:[r.description&&s.jsx(yS,{markdown:r.description,isExpanded:n,setIsExpanded:o},"description"),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground",children:[s.jsx(Bc,{isSupported:r.supportsImages??!1,supportsLabel:l("settings:modelInfo.supportsImages"),doesNotSupportLabel:l("settings:modelInfo.noImages")}),s.jsx(Bc,{isSupported:r.supportsPromptCache,supportsLabel:l("settings:modelInfo.supportsPromptCache"),doesNotSupportLabel:l("settings:modelInfo.noPromptCache")}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[l("kilocode:settings.modelInfo.contextWindow"),":"]})," ",r.contextWindow.toLocaleString()]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[l("settings:modelInfo.maxOutput"),":"]})," ",((p=r.maxTokens)==null?void 0:p.toLocaleString())??0]})]}),u&&u.cost&&u.costPerRequest&&r.inputPrice&&r.outputPrice?s.jsx(ue,{content:l("kilocode:settings.modelInfo.averageKiloCodeCost"),children:s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground font-medium flex flex-wrap gap-2",children:[s.jsxs("div",{className:"rounded-full border px-2.5 py-1",children:[wa(u.cost)," / M tokens"]}),s.jsxs("div",{className:"rounded-full border px-2.5 py-1",children:[wa(u.costPerRequest,4)," / request"]})]})}):s.jsx(s.Fragment,{}),s.jsxs(Hg,{open:a,onOpenChange:i,children:[s.jsxs(Vg,{className:"flex items-center gap-1 w-full cursor-pointer hover:opacity-80 mb-2",children:[s.jsx("span",{className:`codicon codicon-chevron-${a?"down":"right"}`}),s.jsx("span",{className:"font-medium",children:l("kilocode:settings.modelInfo.providerBreakdown")})]}),s.jsx(w_,{className:"space-y-3",children:s.jsx(gz,{providers:c})})]})]})},Ts=({defaultModelId:e,models:t,modelIdKey:r,serviceName:n,serviceUrl:o,apiConfiguration:a,setApiConfigurationField:i,errorMessage:l,simplifySettings:c})=>{const{t:d}=re(),[u,p]=h.useState(!1),[m,g]=h.useState(!1),f=h.useRef(!1),x=h.useRef(null),y=h.useRef(null),N=h.useRef(null),{preferredModelIds:b,restModelIds:j}=d2(t),v=h.useMemo(()=>[...b,...j],[b,j]),[_,k]=h.useState(!1),{id:w,info:T}=Bn(a),[S,P]=h.useState(""),I=h.useCallback(C=>{C&&(p(!1),i(r,C),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>P(""),100))},[r,i]),M=h.useCallback(C=>{p(C),C||(N.current&&clearTimeout(N.current),N.current=setTimeout(()=>P(""),100))},[]),A=h.useCallback(()=>{var C;P(""),(C=x.current)==null||C.focus()},[]);return h.useEffect(()=>{if(!w&&!f.current){const C=v.includes(w)?w:e;i(r,C,!1)}f.current=!0},[v,i,r,w,e]),h.useEffect(()=>()=>{y.current&&clearTimeout(y.current),N.current&&clearTimeout(N.current)},[]),dl(u,()=>p(!1)),s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:d("settings:modelPicker.label")}),s.jsxs(Nn,{open:u,onOpenChange:M,children:[s.jsx(Dn,{asChild:!0,children:s.jsxs(oe,{variant:"combobox",role:"combobox","aria-expanded":u,className:"w-full justify-between","data-testid":"model-picker-button",children:[s.jsx("div",{className:"truncate",children:w??d("settings:common.select")}),s.jsx(o_,{className:"opacity-50"})]})}),s.jsx(Sn,{className:"p-0 w-[var(--radix-popover-trigger-width)]",children:s.jsxs(Ji,{children:[s.jsxs("div",{className:"relative",children:[s.jsx(Kc,{ref:x,value:S,onValueChange:P,placeholder:d("settings:modelPicker.searchPlaceholder"),className:"h-9 mr-4","data-testid":"model-input"}),S.length>0&&s.jsx("div",{className:"absolute right-2 top-0 bottom-0 flex items-center justify-center",children:s.jsx(_n,{className:"text-vscode-input-foreground opacity-50 hover:opacity-100 size-4 p-0.5 cursor-pointer",onClick:A})})]}),s.jsxs(Zi,{children:[s.jsx($c,{children:S&&s.jsx("div",{className:"py-2 px-1 text-sm",children:d("settings:modelPicker.noMatchFound")})}),b.length>0&&s.jsx(Wa,{heading:d("settings:modelPicker.recommendedModels"),children:b.map(C=>s.jsxs(mo,{value:C,onSelect:I,"data-testid":`model-option-${C}`,className:"font-semibold",children:[s.jsx("span",{className:"truncate",title:C,children:C}),s.jsx(yr,{className:Z("size-4 p-0.5 ml-auto",C===w?"opacity-100":"opacity-0")})]},C))}),j.length>0&&s.jsx(Wa,{heading:d("settings:modelPicker.allModels"),children:j.map(C=>s.jsxs(mo,{value:C,onSelect:I,"data-testid":`model-option-${C}`,children:[s.jsx("span",{className:"truncate",title:C,children:C}),s.jsx(yr,{className:Z("size-4 p-0.5 ml-auto",C===w?"opacity-100":"opacity-0")})]},C))})]}),S&&!v.includes(S)&&s.jsx("div",{className:"p-1 border-t border-vscode-input-border",children:s.jsx(mo,{"data-testid":"use-custom-model",value:S,onSelect:I,children:d("settings:modelPicker.useCustomModel",{modelId:S})})})]})})]})]}),l&&s.jsx(zc,{errorMessage:l}),(T==null?void 0:T.deprecated)&&s.jsx(zc,{errorMessage:d("settings:validation.modelDeprecated")}),c?s.jsxs("p",{className:"text-xs text-vscode-descriptionForeground m-0",children:[s.jsx(zg,{className:"size-3 inline mr-1"}),d("settings:modelPicker.simplifiedExplanation")]}):s.jsxs("div",{children:[w&&T&&(a.apiProvider==="kilocode"||a.apiProvider==="openrouter"?s.jsx(xz,{apiConfiguration:a,modelId:w,model:T,isDescriptionExpanded:m,setIsDescriptionExpanded:g,isPricingExpanded:_,setIsPricingExpanded:k}):s.jsx(Sx,{apiProvider:a.apiProvider,selectedModelId:w,modelInfo:T,isDescriptionExpanded:m,setIsDescriptionExpanded:g})),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:a.apiProvider==="kilocode"?s.jsx(we,{i18nKey:"kilocode:settings.provider.automaticFetch"}):s.jsx(we,{i18nKey:"settings:modelPicker.automaticFetch",components:{serviceLink:s.jsx(Oe,{href:o,className:"text-sm"}),defaultModelLink:s.jsx(Oe,{onClick:()=>I(e),className:"text-sm"})},values:{serviceName:n,defaultModelId:e}})})]})]})},vz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,organizationAllowList:n,modelValidationError:o,simplifySettings:a})=>{const{t:i}=re(),l=h.useCallback((c,d=nt)=>u=>{t(c,d(u))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.chutesApiKey)||"",type:"password",onInput:l("chutesApiKey"),placeholder:i("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:i("settings:providers.chutesApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:i("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.chutesApiKey)&&s.jsx(yt,{href:"https://chutes.ai/app/api",appearance:"secondary",children:i("settings:providers.getChutesApiKey")}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:Xc,models:(r==null?void 0:r.chutes)??{},modelIdKey:"apiModelId",serviceName:"Chutes AI",serviceUrl:"https://llm.chutes.ai/v1/models",organizationAllowList:n,errorMessage:o,simplifySettings:a})]})};function e0(e){if(!e)return"N/A";const t=Date.now()/1e3,r=e-t;if(r<=0)return"Now";const n=Math.floor(r/3600),o=Math.floor(r%3600/60);if(n>24){const a=Math.floor(n/24),i=n%24;return`${a}d ${i}h`}return n>0?`${n}h ${o}m`:`${o}m`}function t0(e){return`${(e*100).toFixed(1)}%`}const s0=({utilization:e,label:t})=>{const r=Math.min(e*100,100),n=r>=70,o=r>=90;return s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mb-1",children:t}),s.jsx("div",{className:"w-full bg-vscode-input-background rounded-sm h-2 overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ${o?"bg-vscode-errorForeground":n?"bg-vscode-editorWarning-foreground":"bg-vscode-button-background"}`,style:{width:`${r}%`}})})]})},bz=({isAuthenticated:e})=>{const[t,r]=h.useState(null),[n,o]=h.useState(!1),[a,i]=h.useState(null),l=h.useCallback(()=>{if(!e){r(null),i(null);return}o(!0),i(null),R.postMessage({type:"requestClaudeCodeRateLimits"})},[e]);return h.useEffect(()=>{const c=d=>{const u=d.data;u.type==="claudeCodeRateLimits"&&(o(!1),u.error?(i(u.error),r(null)):u.values&&(r(u.values),i(null)))};return window.addEventListener("message",c),()=>window.removeEventListener("message",c)},[]),h.useEffect(()=>{e&&l()},[e,l]),e?n&&!t?s.jsx("div",{className:"bg-vscode-editor-background border border-vscode-panel-border rounded-md p-3",children:s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:"Loading rate limits..."})}):a?s.jsx("div",{className:"bg-vscode-editor-background border border-vscode-panel-border rounded-md p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-vscode-errorForeground",children:"Failed to load rate limits"}),s.jsx("button",{onClick:l,className:"text-xs text-vscode-textLink-foreground hover:text-vscode-textLink-activeForeground cursor-pointer bg-transparent border-none",children:"Retry"})]})}):t?s.jsxs("div",{className:"bg-vscode-editor-background border border-vscode-panel-border rounded-md p-3",children:[s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"text-sm font-medium text-vscode-foreground",children:"Usage Limits"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-vscode-foreground",children:["Limit: ",t.representativeClaim||"5-hour"]}),s.jsxs("span",{className:"text-vscode-descriptionForeground",children:[t0(t.fiveHour.utilization)," used  resets in"," ",e0(t.fiveHour.resetTime)]})]}),s.jsx(s0,{utilization:t.fiveHour.utilization,label:""})]}),t.weeklyUnified&&t.weeklyUnified.utilization>0&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-vscode-foreground",children:"Weekly"}),s.jsxs("span",{className:"text-vscode-descriptionForeground",children:[t0(t.weeklyUnified.utilization)," used  resets in"," ",e0(t.weeklyUnified.resetTime)]})]}),s.jsx(s0,{utilization:t.weeklyUnified.utilization,label:""})]})]})]}):null:null},yz=({apiConfiguration:e,setApiConfigurationField:t,simplifySettings:r,claudeCodeIsAuthenticated:n=!1})=>{const{t:o}=re();return s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex flex-col gap-2",children:n?s.jsx("div",{className:"flex justify-end",children:s.jsx(oe,{variant:"secondary",size:"sm",onClick:()=>R.postMessage({type:"claudeCodeSignOut"}),children:o("settings:providers.claudeCode.signOutButton",{defaultValue:"Sign Out"})})}):s.jsx(oe,{variant:"primary",onClick:()=>R.postMessage({type:"claudeCodeSignIn"}),className:"w-fit",children:o("settings:providers.claudeCode.signInButton",{defaultValue:"Sign in to Claude Code"})})}),s.jsx(bz,{isAuthenticated:n}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:rl,models:Ka,modelIdKey:"apiModelId",serviceName:"Claude Code",serviceUrl:"https://claude.ai",simplifySettings:r,hidePricing:!0})]})},wz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useCallback((o,a=nt)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.deepSeekApiKey)||"",type:"password",onInput:n("deepSeekApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.deepSeekApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.deepSeekApiKey)&&s.jsx(yt,{href:"https://platform.deepseek.com/",appearance:"secondary",children:r("settings:providers.getDeepSeekApiKey")})]})},kz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useCallback((o,a=nt)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.doubaoApiKey)||"",type:"password",onInput:n("doubaoApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.doubaoApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.doubaoApiKey)&&s.jsx(yt,{href:"https://www.volcengine.com/experience/ark?model=doubao-1-5-thinking-vision-pro-250428",appearance:"secondary",children:r("settings:providers.getDoubaoApiKey")})]})},jz=({apiConfiguration:e,setApiConfigurationField:t,simplifySettings:r,routerModels:n,organizationAllowList:o,modelValidationError:a})=>{const{t:i}=re(),[l,c]=h.useState(!!(e!=null&&e.googleGeminiBaseUrl)),d=h.useCallback((p,m=nt)=>g=>{t(p,m(g))},[t]),u=o??{allowAll:!0,providers:{}};return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.geminiApiKey)||"",type:"password",onInput:d("geminiApiKey"),placeholder:i("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:i("settings:providers.geminiApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:i("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.geminiApiKey)&&s.jsx(yt,{href:"https://ai.google.dev/",appearance:"secondary",children:i("settings:providers.getGeminiApiKey")}),s.jsxs("div",{children:[s.jsx(It,{"data-testid":"checkbox-custom-base-url",checked:l,onChange:p=>{c(p),p||t("googleGeminiBaseUrl","")},children:i("settings:providers.useCustomBaseUrl")}),l&&s.jsx(de,{value:(e==null?void 0:e.googleGeminiBaseUrl)||"",type:"url",onInput:d("googleGeminiBaseUrl"),placeholder:i("settings:defaults.geminiUrl"),className:"w-full mt-1"}),!r&&s.jsxs(s.Fragment,{children:[s.jsx(It,{className:"mt-6","data-testid":"checkbox-url-context",checked:!!e.enableUrlContext,onChange:p=>t("enableUrlContext",p),children:i("settings:providers.geminiParameters.urlContext.title")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-3 mt-1.5",children:i("settings:providers.geminiParameters.urlContext.description")}),s.jsx(It,{"data-testid":"checkbox-grounding-search",checked:!!e.enableGrounding,onChange:p=>t("enableGrounding",p),children:i("settings:providers.geminiParameters.groundingSearch.title")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-3 mt-1.5",children:i("settings:providers.geminiParameters.groundingSearch.description")})]}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:$a,models:(n==null?void 0:n.gemini)??{},modelIdKey:"apiModelId",serviceName:"Google Gemini",serviceUrl:"https://ai.google.dev/gemini-api/docs/models/gemini",organizationAllowList:u,errorMessage:a})]})]})};function Tx(e,t){return encodeURIComponent(`${t||"vscode"}://${Va.publisher}.${Va.name}/${e}`)}function _z(e){return`https://glama.ai/oauth/authorize?callback_url=${Tx("glama",e)}`}function Nz(e){return`https://openrouter.ai/auth?callback_url=${Tx("openrouter",e)}`}const Sz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,uriScheme:n,organizationAllowList:o,modelValidationError:a,simplifySettings:i})=>{const{t:l}=re(),c=h.useCallback((d,u=nt)=>p=>{t(d,u(p))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.glamaApiKey)||"",type:"password",onInput:c("glamaApiKey"),placeholder:l("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:l("settings:providers.glamaApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:l("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.glamaApiKey)&&s.jsx(yt,{href:_z(n),style:{width:"100%"},appearance:"primary",children:l("settings:providers.getGlamaApiKey")}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:td,models:(r==null?void 0:r.glama)??{},modelIdKey:"glamaModelId",serviceName:"Glama",serviceUrl:"https://glama.ai/models",organizationAllowList:o,errorMessage:a,simplifySettings:i})]})},Tz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useCallback((o,a=nt)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.groqApiKey)||"",type:"password",onInput:n("groqApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.groqApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.groqApiKey)&&s.jsx(yt,{href:"https://console.groq.com/keys",appearance:"secondary",children:r("settings:providers.getGroqApiKey")})]})},Pz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),[n,o]=h.useState([]),[a,i]=h.useState(!1),[l,c]=h.useState((e==null?void 0:e.huggingFaceInferenceProvider)||"auto"),d=h.useCallback((b,j=nt)=>v=>{t(b,j(v))},[t]);h.useEffect(()=>{i(!0),R.postMessage({type:"requestHuggingFaceModels"})},[]);const u=h.useCallback(b=>{var v;const j=b.data;switch(j.type){case"huggingFaceModels":o(((v=j.huggingFaceModels)==null?void 0:v.sort((_,k)=>_.id.localeCompare(k.id)))||[]),i(!1);break}},[]);Us("message",u);const p=n.find(b=>b.id===(e==null?void 0:e.huggingFaceModelId)),m=h.useMemo(()=>(p==null?void 0:p.providers)||[],[p==null?void 0:p.providers]);h.useEffect(()=>{if(p&&m.length>0){const b=e==null?void 0:e.huggingFaceInferenceProvider;if(b)c(b);else if(!m.find(v=>v.provider===l)){const v="auto";c(v),t("huggingFaceInferenceProvider",v,!1)}}},[p,m,l,e==null?void 0:e.huggingFaceInferenceProvider,t]);const g=b=>{t("huggingFaceModelId",b);const j="auto";c(j),t("huggingFaceInferenceProvider",j)},f=b=>{c(b),t("huggingFaceInferenceProvider",b)},x=b=>({sambanova:"SambaNova","fireworks-ai":"Fireworks",together:"Together AI",nebius:"Nebius AI Studio",hyperbolic:"Hyperbolic",novita:"Novita",cohere:"Cohere","hf-inference":"HF Inference API",replicate:"Replicate"})[b]||b.charAt(0).toUpperCase()+b.slice(1),y=h.useMemo(()=>!p||!l||l==="auto"?null:p.providers.find(b=>b.provider===l),[p,l]),N=h.useMemo(()=>{var _;if(!p)return null;const b=!1,j=(y==null?void 0:y.context_length)||((_=p.providers.find(k=>k.context_length))==null?void 0:_.context_length),v=(y==null?void 0:y.supports_tools)||p.providers.some(k=>k.supports_tools);return{supportsImages:b,maxTokens:j,supportsTools:v}},[p,y]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.huggingFaceApiKey)||"",type:"password",onInput:d("huggingFaceApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.huggingFaceApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.huggingFaceApiKey)&&s.jsx(yt,{href:"https://huggingface.co/settings/tokens",appearance:"secondary",children:r("settings:providers.getHuggingFaceApiKey")}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("label",{className:"block font-medium text-sm",children:[r("settings:providers.huggingFaceModelId"),a&&s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:r("settings:providers.huggingFaceLoading")}),!a&&s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:r("settings:providers.huggingFaceModelsCount",{count:n.length})})]}),s.jsx(Qo,{value:(e==null?void 0:e.huggingFaceModelId)||"",onValueChange:g,options:n.map(b=>({value:b.id,label:b.id})),placeholder:r("settings:providers.huggingFaceSelectModel"),searchPlaceholder:r("settings:providers.huggingFaceSearchModels"),emptyMessage:r("settings:providers.huggingFaceNoModelsFound"),disabled:a})]}),p&&m.length>0&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"block font-medium text-sm",children:r("settings:providers.huggingFaceProvider")}),s.jsx(Qo,{value:l,onValueChange:f,options:[{value:"auto",label:r("settings:providers.huggingFaceProviderAuto")},...m.map(b=>({value:b.provider,label:`${x(b.provider)} (${b.status})`}))],placeholder:r("settings:providers.huggingFaceSelectProvider"),searchPlaceholder:r("settings:providers.huggingFaceSearchProviders"),emptyMessage:r("settings:providers.huggingFaceNoProvidersFound")})]}),p&&N&&s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground",children:[s.jsxs("div",{className:Z("flex items-center gap-1 font-medium",N.supportsImages?"text-vscode-charts-green":"text-vscode-errorForeground"),children:[s.jsx("span",{className:Z("codicon",N.supportsImages?"codicon-check":"codicon-x")}),N.supportsImages?r("settings:modelInfo.supportsImages"):r("settings:modelInfo.noImages")]}),N.maxTokens&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[r("settings:modelInfo.maxOutput"),":"]})," ",N.maxTokens.toLocaleString()," tokens"]}),(y==null?void 0:y.pricing)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[r("settings:modelInfo.inputPrice"),":"]})," ",To(y.pricing.input)," / 1M tokens"]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[r("settings:modelInfo.outputPrice"),":"]})," ",To(y.pricing.output)," / 1M tokens"]})]})]})]})},Iz=({apiConfiguration:e,setApiConfigurationField:t,organizationAllowList:r,modelValidationError:n,simplifySettings:o})=>{const{t:a}=re(),{routerModels:i}=Ye(),l=h.useCallback((c,d=nt)=>u=>{t(c,d(u))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.ioIntelligenceApiKey)||"",type:"password",onInput:l("ioIntelligenceApiKey"),placeholder:a("settings:providers.ioIntelligenceApiKeyPlaceholder"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.ioIntelligenceApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:a("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.ioIntelligenceApiKey)&&s.jsx(yt,{href:"https://ai.io.net/ai/api-keys",appearance:"secondary",children:a("settings:providers.getIoIntelligenceApiKey")}),s.jsx(Ts,{apiConfiguration:e,defaultModelId:sd,models:(i==null?void 0:i["io-intelligence"])??o1,modelIdKey:"ioIntelligenceModelId",serviceName:"IO Intelligence",serviceUrl:"https://api.intelligence.io.solutions/api/v1/models",setApiConfigurationField:t,organizationAllowList:r,errorMessage:n,simplifySettings:o})]})},Ez=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),[n,o]=h.useState({}),a=nl({lmStudioBaseUrl:e.lmStudioBaseUrl}),i=h.useCallback((u,p=nt)=>m=>{t(u,p(m))},[t]),l=h.useCallback(u=>{const p=u.data;switch(p.type){case"lmStudioModels":{const m=p.lmStudioModels??{};o(m)}break}},[]);Us("message",l),h.useEffect(()=>{R.postMessage({type:"requestLmStudioModels"})},[]);const c=h.useMemo(()=>{var p;const u=e==null?void 0:e.lmStudioModelId;return!u||Object.keys(n).length>0&&u in n?!1:(p=a.data)!=null&&p.lmstudio?!Object.keys(a.data.lmstudio).includes(u):!1},[e==null?void 0:e.lmStudioModelId,a.data,n]),d=h.useMemo(()=>{var p;const u=e==null?void 0:e.lmStudioDraftModelId;return!u||Object.keys(n).length>0&&u in n?!1:(p=a.data)!=null&&p.lmstudio?!Object.keys(a.data.lmstudio).includes(u):!1},[e==null?void 0:e.lmStudioDraftModelId,a.data,n]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.lmStudioBaseUrl)||"",type:"url",onInput:i("lmStudioBaseUrl"),placeholder:r("settings:defaults.lmStudioUrl"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.lmStudio.baseUrl")})}),s.jsx(de,{value:(e==null?void 0:e.lmStudioModelId)||"",onInput:i("lmStudioModelId"),placeholder:r("settings:placeholders.modelId.lmStudio"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.lmStudio.modelId")})}),c&&s.jsx("div",{className:"flex flex-col gap-2 text-vscode-errorForeground text-sm",children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx("div",{className:"codicon codicon-close"}),s.jsx("div",{children:r("settings:validation.modelAvailability",{modelId:e==null?void 0:e.lmStudioModelId})})]})}),Object.keys(n).length>0&&s.jsx(wc,{value:((e==null?void 0:e.lmStudioModelId)||"")in n?e==null?void 0:e.lmStudioModelId:"",onChange:i("lmStudioModelId"),children:Object.keys(n).map(u=>s.jsx(Ci,{value:u,checked:(e==null?void 0:e.lmStudioModelId)===u,children:u},u))}),s.jsx(It,{checked:(e==null?void 0:e.lmStudioSpeculativeDecodingEnabled)===!0,onChange:u=>{t("lmStudioSpeculativeDecodingEnabled",u)},children:r("settings:providers.lmStudio.speculativeDecoding")}),(e==null?void 0:e.lmStudioSpeculativeDecodingEnabled)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(de,{value:(e==null?void 0:e.lmStudioDraftModelId)||"",onInput:i("lmStudioDraftModelId"),placeholder:r("settings:placeholders.modelId.lmStudioDraft"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.lmStudio.draftModelId")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.lmStudio.draftModelDesc")}),d&&s.jsx("div",{className:"flex flex-col gap-2 text-vscode-errorForeground text-sm mt-2",children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx("div",{className:"codicon codicon-close"}),s.jsx("div",{children:r("settings:validation.modelAvailability",{modelId:e==null?void 0:e.lmStudioDraftModelId})})]})})]}),Object.keys(n).length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium",children:r("settings:providers.lmStudio.selectDraftModel")}),s.jsx(wc,{value:((e==null?void 0:e.lmStudioDraftModelId)||"")in n?e==null?void 0:e.lmStudioDraftModelId:"",onChange:i("lmStudioDraftModelId"),children:Object.keys(n).map(u=>s.jsx(Ci,{value:u,children:u},`draft-${u}`))}),Object.keys(n).length===0&&s.jsx("div",{className:"text-sm rounded-xs p-2",style:{backgroundColor:"var(--vscode-inputValidation-infoBackground)",border:"1px solid var(--vscode-inputValidation-infoBorder)",color:"var(--vscode-inputValidation-infoForeground)"},children:r("settings:providers.lmStudio.noModelsFound")})]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:s.jsx(we,{i18nKey:"settings:providers.lmStudio.description",components:{a:s.jsx(Oe,{href:"https://lmstudio.ai/docs"}),b:s.jsx(Oe,{href:"https://lmstudio.ai/docs/basics/server"}),span:s.jsx("span",{className:"text-vscode-errorForeground ml-1",children:s.jsx("span",{className:"font-medium",children:"Note:"})})}})})]})},Mz=({apiConfiguration:e,setApiConfigurationField:t})=>{var o;const{t:r}=re(),n=h.useCallback((a,i=nt)=>l=>{t(a,i(l))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.mistralApiKey)||"",type:"password",onInput:n("mistralApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("span",{className:"font-medium",children:r("settings:providers.mistralApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.mistralApiKey)&&s.jsx(yt,{href:"https://console.mistral.ai/",appearance:"secondary",children:r("settings:providers.getMistralApiKey")}),(((o=e==null?void 0:e.apiModelId)==null?void 0:o.startsWith("codestral-"))||!(e!=null&&e.apiModelId)&&rd.startsWith("codestral-"))&&s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.mistralCodestralUrl)||"",type:"url",onInput:n("mistralCodestralUrl"),placeholder:"https://codestral.mistral.ai",className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.codestralBaseUrl")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.codestralBaseUrlDesc")})]})]})},Cz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useCallback((o,a=nt)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.moonshotBaseUrl")}),s.jsxs(Bs,{value:e.moonshotBaseUrl,onChange:n("moonshotBaseUrl"),className:Z("w-full"),children:[s.jsx(gt,{value:"https://api.moonshot.ai/v1",className:"p-2",children:"api.moonshot.ai"}),s.jsx(gt,{value:"https://api.moonshot.cn/v1",className:"p-2",children:"api.moonshot.cn"})]})]}),s.jsxs("div",{children:[s.jsx(de,{value:(e==null?void 0:e.moonshotApiKey)||"",type:"password",onInput:n("moonshotApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.moonshotApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.moonshotApiKey)&&s.jsx(yt,{href:e.moonshotBaseUrl==="https://api.moonshot.cn/v1"?"https://platform.moonshot.cn/console/api-keys":"https://platform.moonshot.ai/console/api-keys",appearance:"secondary",children:r("settings:providers.getMoonshotApiKey")})]})]})},Az=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,organizationAllowList:n,modelValidationError:o})=>{const{t:a}=re(),i=h.useCallback(c=>d=>{t(c,nt(d))},[t]),l=h.useCallback(c=>d=>{t(c,d.target.value)},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.nanoGptApiKey)||"",type:"password",onInput:i("nanoGptApiKey"),placeholder:a("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.nanoGptApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:a("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.nanoGptApiKey)&&s.jsx(yt,{href:"https://nano-gpt.com/",style:{width:"100%"},appearance:"primary",children:a("settings:providers.getNanoGptApiKey")}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"nanoGptModelList",className:"block font-medium mb-1",children:a("settings:providers.nanoGptModelList")}),s.jsx(Bs,{id:"nanoGptModelList",value:e.nanoGptModelList||"all",onChange:l("nanoGptModelList"),className:"w-full",children:rP.options.map(c=>s.jsx(gt,{value:c,children:a(`settings:providers.nanoGptModelListOptions.${c}`)},c))}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:' Click "Save" to refresh the model list after changing this selection'})]}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:xg,models:(r==null?void 0:r["nano-gpt"])??{},modelIdKey:"nanoGptModelId",serviceName:"Nano-GPT",serviceUrl:"https://nano-gpt.com/docs/api-reference/endpoint/models",organizationAllowList:n,errorMessage:o})]})},Rz=({apiConfiguration:e,setApiConfigurationField:t})=>{var d;const{t:r}=re(),[n,o]=h.useState({}),a=nl({ollamaBaseUrl:e==null?void 0:e.ollamaBaseUrl}),i=h.useCallback((u,p=nt)=>m=>{t(u,p(m))},[t]),l=h.useCallback(u=>{const p=u.data;switch(p.type){case"ollamaModels":{const m=p.ollamaModels??{};o(m)}break}},[]);Us("message",l),h.useEffect(()=>{R.postMessage({type:"requestOllamaModels"})},[]);const c=h.useMemo(()=>{var p;const u=e==null?void 0:e.ollamaModelId;return!u||Object.keys(n).length>0&&u in n?!1:(p=a.data)!=null&&p.ollama?!Object.keys(a.data.ollama).includes(u):!1},[e==null?void 0:e.ollamaModelId,a.data,n]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.ollamaBaseUrl)||"",type:"url",onInput:i("ollamaBaseUrl"),placeholder:r("settings:defaults.ollamaUrl"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.ollama.baseUrl")})}),(e==null?void 0:e.ollamaBaseUrl)&&s.jsxs(de,{value:(e==null?void 0:e.ollamaApiKey)||"",type:"password",onInput:i("ollamaApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.ollama.apiKey")}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1",children:r("settings:providers.ollama.apiKeyHelp")})]}),s.jsx(de,{value:(e==null?void 0:e.ollamaModelId)||"",onInput:i("ollamaModelId"),placeholder:r("settings:placeholders.modelId.ollama"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.ollama.modelId")})}),c&&s.jsx("div",{className:"flex flex-col gap-2 text-vscode-errorForeground text-sm",children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx("div",{className:"codicon codicon-close"}),s.jsx("div",{children:r("settings:validation.modelAvailability",{modelId:e==null?void 0:e.ollamaModelId})})]})}),Object.keys(n).length>0&&s.jsx(wc,{value:((e==null?void 0:e.ollamaModelId)||"")in n?e==null?void 0:e.ollamaModelId:"",onChange:i("ollamaModelId"),children:Object.keys(n).map(u=>s.jsx(Ci,{value:u,checked:(e==null?void 0:e.ollamaModelId)===u,children:u},u))}),s.jsxs(de,{value:((d=e==null?void 0:e.ollamaNumCtx)==null?void 0:d.toString())||"",onInput:u=>{var m;const p=(m=u.target)==null?void 0:m.value;if(p==="")t("ollamaNumCtx",void 0);else{const g=parseInt(p,10);!isNaN(g)&&g>=128&&t("ollamaNumCtx",g)}},placeholder:"e.g., 4096",className:"w-full",children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.ollama.numCtx")}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1",children:r("settings:providers.ollama.numCtxHelp")})]}),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground",children:[r("settings:providers.ollama.description"),s.jsx("span",{className:"text-vscode-errorForeground ml-1",children:r("settings:providers.ollama.warning")})]})]})},Oz=({apiConfiguration:e,setApiConfigurationField:t,selectedModelInfo:r})=>{const{t:n}=re(),[o,a]=h.useState(!!(e!=null&&e.openAiNativeBaseUrl)),i=h.useCallback((l,c=nt)=>d=>{t(l,c(d))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(It,{checked:o,onChange:l=>{a(l),l||t("openAiNativeBaseUrl","")},children:n("settings:providers.useCustomBaseUrl")}),o&&s.jsx(s.Fragment,{children:s.jsx(de,{value:(e==null?void 0:e.openAiNativeBaseUrl)||"",type:"url",onInput:i("openAiNativeBaseUrl"),placeholder:"https://api.openai.com/v1",className:"w-full mt-1"})}),s.jsx(de,{value:(e==null?void 0:e.openAiNativeApiKey)||"",type:"password",onInput:i("openAiNativeApiKey"),placeholder:n("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.openAiApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:n("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.openAiNativeApiKey)&&s.jsx(yt,{href:"https://platform.openai.com/api-keys",appearance:"secondary",children:n("settings:providers.getOpenAiApiKey")}),(()=>{var c;const l=(((c=r==null?void 0:r.tiers)==null?void 0:c.map(d=>d.name).filter(Boolean))||[]).filter(d=>d==="flex"||d==="priority");return l.length===0?null:s.jsxs("div",{className:"flex flex-col gap-1 mt-2","data-testid":"openai-service-tier",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:"Service tier"}),s.jsx(ue,{content:"For faster processing of API requests, try the priority processing service tier. For lower prices with higher latency, try the flex processing tier.",children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground text-xs"})})]}),s.jsxs(Ut,{value:e.openAiNativeServiceTier||"default",onValueChange:d=>t("openAiNativeServiceTier",d),children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{placeholder:n("settings:common.select")})}),s.jsxs($t,{children:[s.jsx(ze,{value:"default",children:"Standard"}),l.includes("flex")&&s.jsx(ze,{value:"flex",children:"Flex"}),l.includes("priority")&&s.jsx(ze,{value:"priority",children:"Priority"})]})]})]})})()]})},Dz=({onChange:e,openAiR1FormatEnabled:t})=>{const{t:r}=re();return s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(It,{checked:t,onChange:e,children:s.jsx("span",{className:"font-medium",children:r("settings:modelInfo.enableR1Format")})})}),s.jsx("p",{className:"text-vscode-descriptionForeground text-sm mt-0",children:r("settings:modelInfo.enableR1FormatTips")})]})},wS=({apiConfiguration:e,setApiConfigurationField:t,modelInfo:r})=>{const{t:n}=re(),{id:o}=Bn(e),i=o&&o.includes("gemini-2.5-pro")?jD:1024,l=!!r&&r.supportsReasoningBinary,c=!!r&&r.supportsReasoningBudget,d=!!r&&r.requiredReasoningBudget,u=!!r&&r.supportsReasoningEffort,p=r==null?void 0:r.supportsReasoningEffort,m=p===!0?Ux:Array.isArray(p)?p:Ux,f=!(r!=null&&r.requiredReasoningEffort)&&p===!0&&!m.includes("disable")?["disable",...m]:m,x=r==null?void 0:r.reasoningEffort,y=r!=null&&r.requiredReasoningEffort?x||"medium":"disable",b=e.reasoningEffort||y;h.useEffect(()=>{u&&!e.reasoningEffort&&r!=null&&r.requiredReasoningEffort&&y!=="disable"&&t("reasoningEffort",y,!1)},[u,e.reasoningEffort,y,r==null?void 0:r.requiredReasoningEffort,t]),h.useEffect(()=>{if(!u)return;((r==null?void 0:r.requiredReasoningEffort)||b!=="disable")&&e.enableReasoningEffort!==!0&&t("enableReasoningEffort",!0,!1)},[u,r==null?void 0:r.requiredReasoningEffort,b,e.enableReasoningEffort,t]);const j=e.enableReasoningEffort,v=e.modelMaxTokens||nc,_=e.modelMaxThinkingTokens||kD,k=r!=null&&r.maxThinkingTokens?Math.min(r.maxThinkingTokens,Math.floor(.8*v)):Math.floor(.8*v);return h.useEffect(()=>{c&&_>k&&t("modelMaxThinkingTokens",k,!1)},[c,_,k,t]),h.useEffect(()=>{c&&(r!=null&&r.maxTokens)&&v>r.maxTokens&&t("modelMaxTokens",r.maxTokens||nc)},[c,v,r==null?void 0:r.maxTokens,t]),r?l?s.jsx("div",{className:"flex flex-col gap-1",children:s.jsx(It,{checked:j,onChange:w=>t("enableReasoningEffort",w===!0),children:n("settings:providers.useReasoning")})}):c&&r.maxTokens?s.jsxs(s.Fragment,{children:[!d&&e.apiProvider!=="virtual-quota-fallback"&&s.jsx("div",{className:"flex flex-col gap-1",children:s.jsx(It,{checked:j,onChange:w=>t("enableReasoningEffort",w===!0),children:n("settings:providers.useReasoning")})}),(d||j)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"font-medium",children:n("settings:thinkingBudget.maxTokens")}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qt,{min:8192,max:Math.max(r.maxTokens||8192,v,nc),step:1024,value:[v],onValueChange:([w])=>t("modelMaxTokens",w)}),s.jsx("div",{className:"w-12 text-sm text-center",children:v})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"font-medium",children:n("settings:thinkingBudget.maxThinkingTokens")}),s.jsxs("div",{className:"flex items-center gap-1","data-testid":"reasoning-budget",children:[s.jsx(qt,{min:i,max:k,step:i===128?128:1024,value:[_],onValueChange:([w])=>t("modelMaxThinkingTokens",w)}),s.jsx("div",{className:"w-12 text-sm text-center",children:_})]})]})]})]}):u?s.jsxs("div",{className:"flex flex-col gap-1","data-testid":"reasoning-effort",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.reasoningEffort.label")})}),s.jsxs(Ut,{value:b,onValueChange:w=>{w==="disable"?(t("enableReasoningEffort",!1),t("reasoningEffort","disable")):(t("enableReasoningEffort",!0),t("reasoningEffort",w))},children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{placeholder:n(b?b==="none"||b==="disable"?"settings:providers.reasoningEffort.none":`settings:providers.reasoningEffort.${b}`:"settings:common.select")})}),s.jsx($t,{children:f.map(w=>s.jsx(ze,{value:w,children:n(w==="none"||w==="disable"?"settings:providers.reasoningEffort.none":`settings:providers.reasoningEffort.${w}`)},w))})]})]}):null:null},Fz=({apiConfiguration:e,setApiConfigurationField:t,organizationAllowList:r,modelValidationError:n,simplifySettings:o})=>{var v,_,k,w,T,S,P,I,M,A,C,H,z,D,Y,U,q,F,W,te;const{t:a}=re(),[i,l]=h.useState(!!(e!=null&&e.azureApiVersion)),[c,d]=h.useState(!!(e!=null&&e.openAiLegacyFormat)),[u,p]=h.useState(null),[m,g]=h.useState(()=>{const K=(e==null?void 0:e.openAiHeaders)||{};return Object.entries(K)}),f=h.useCallback(()=>{g(K=>[...K,["",""]])},[]),x=h.useCallback((K,X)=>{g(G=>{const J=[...G];return J[K]&&(J[K]=[X,J[K][1]]),J})},[]),y=h.useCallback((K,X)=>{g(G=>{const J=[...G];return J[K]&&(J[K]=[J[K][0],X]),J})},[]),N=h.useCallback(K=>{g(X=>X.filter((G,J)=>J!==K))},[]);h.useEffect(()=>{const K=setTimeout(()=>{const X=jf(m);t("openAiHeaders",X)},300);return()=>clearTimeout(K)},[m,t]);const b=h.useCallback((K,X=nt)=>G=>{t(K,X(G))},[t]),j=h.useCallback(K=>{const X=K.data;switch(X.type){case"openAiModels":{const G=X.openAiModels??[];p(Object.fromEntries(G.map(J=>[J,Gt])));break}}},[]);return Us("message",j),s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.openAiBaseUrl)||"",type:"url",onInput:b("openAiBaseUrl"),placeholder:a("settings:placeholders.baseUrl"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.openAiBaseUrl")})}),s.jsx(de,{value:(e==null?void 0:e.openAiApiKey)||"",type:"password",onInput:b("openAiApiKey"),placeholder:a("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.apiKey")})}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:"gpt-4o",models:u,modelIdKey:"openAiModelId",serviceName:"OpenAI",serviceUrl:"https://platform.openai.com",organizationAllowList:r,errorMessage:n,simplifySettings:o}),s.jsx(Dz,{onChange:b("openAiR1FormatEnabled",Co),openAiR1FormatEnabled:(e==null?void 0:e.openAiR1FormatEnabled)??!1}),s.jsx("div",{children:s.jsx(It,{checked:c,onChange:K=>{d(K),t("openAiLegacyFormat",K)},children:a("settings:providers.useLegacyFormat")})}),s.jsx(It,{checked:(e==null?void 0:e.openAiStreamingEnabled)??!0,onChange:b("openAiStreamingEnabled",Co),children:a("settings:modelInfo.enableStreaming")}),s.jsxs("div",{children:[s.jsx(It,{checked:(e==null?void 0:e.includeMaxTokens)??!0,onChange:b("includeMaxTokens",Co),children:a("settings:includeMaxOutputTokens")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground ml-6",children:a("settings:includeMaxOutputTokensDescription")})]}),s.jsx(It,{checked:(e==null?void 0:e.openAiUseAzure)??!1,onChange:b("openAiUseAzure",Co),children:a("settings:modelInfo.useAzure")}),s.jsxs("div",{children:[s.jsx(It,{checked:i,onChange:K=>{l(K),K||t("azureApiVersion","")},children:a("settings:modelInfo.azureApiVersion")}),i&&s.jsx(de,{value:(e==null?void 0:e.azureApiVersion)||"",onInput:b("azureApiVersion"),placeholder:`Default: ${tE}`,className:"w-full mt-1"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"block font-medium",children:a("settings:providers.customHeaders")}),s.jsx(ue,{content:a("settings:common.add"),children:s.jsx(xt,{appearance:"icon",onClick:f,children:s.jsx("span",{className:"codicon codicon-add"})})})]}),m.length?m.map(([K,X],G)=>s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(de,{value:K,className:"flex-1 mr-2",placeholder:a("settings:providers.headerName"),onInput:J=>x(G,J.target.value)}),s.jsx(de,{value:X,className:"flex-1 mr-2",placeholder:a("settings:providers.headerValue"),onInput:J=>y(G,J.target.value)}),s.jsx(ue,{content:a("settings:common.remove"),children:s.jsx(xt,{appearance:"icon",onClick:()=>N(G),children:s.jsx("span",{className:"codicon codicon-trash"})})})]},G)):s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:a("settings:providers.noCustomHeaders")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(It,{checked:e.enableReasoningEffort??!1,onChange:K=>{if(t("enableReasoningEffort",K),!K){const{reasoningEffort:X,...G}=e.openAiCustomModelInfo||Gt;t("openAiCustomModelInfo",G)}},children:a("settings:providers.setReasoningLevel")}),!!e.enableReasoningEffort&&s.jsx(wS,{apiConfiguration:{...e,reasoningEffort:(v=e.openAiCustomModelInfo)==null?void 0:v.reasoningEffort},setApiConfigurationField:(K,X)=>{if(K==="reasoningEffort"){const G=e.openAiCustomModelInfo||Gt;t("openAiCustomModelInfo",{...G,reasoningEffort:X})}},modelInfo:{...e.openAiCustomModelInfo||Gt,supportsReasoningEffort:!0}})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("div",{className:"text-sm text-vscode-descriptionForeground whitespace-pre-line",children:a("settings:providers.customModel.capabilities")}),s.jsxs("div",{children:[s.jsx(de,{value:((k=(_=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:_.maxTokens)==null?void 0:k.toString())||((w=Gt.maxTokens)==null?void 0:w.toString())||"",type:"text",style:{borderColor:(()=>{var X;const K=(X=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:X.maxTokens;return K?K>0?"var(--vscode-charts-green)":"var(--vscode-errorForeground)":"var(--vscode-input-border)"})()},onInput:b("openAiCustomModelInfo",K=>{const X=parseInt(K.target.value);return{...(e==null?void 0:e.openAiCustomModelInfo)||Gt,maxTokens:isNaN(X)?void 0:X}}),placeholder:a("settings:placeholders.numbers.maxTokens"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.customModel.maxTokens.label")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:a("settings:providers.customModel.maxTokens.description")})]}),s.jsxs("div",{children:[s.jsx(de,{value:((S=(T=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:T.contextWindow)==null?void 0:S.toString())||((P=Gt.contextWindow)==null?void 0:P.toString())||"",type:"text",style:{borderColor:(()=>{var X;const K=(X=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:X.contextWindow;return K?K>0?"var(--vscode-charts-green)":"var(--vscode-errorForeground)":"var(--vscode-input-border)"})()},onInput:b("openAiCustomModelInfo",K=>{const X=K.target.value,G=parseInt(X);return{...(e==null?void 0:e.openAiCustomModelInfo)||Gt,contextWindow:isNaN(G)?Gt.contextWindow:G}}),placeholder:a("settings:placeholders.numbers.contextWindow"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.customModel.contextWindow.label")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:a("settings:providers.customModel.contextWindow.description")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(It,{checked:((I=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:I.supportsImages)??Gt.supportsImages,onChange:b("openAiCustomModelInfo",K=>({...(e==null?void 0:e.openAiCustomModelInfo)||Gt,supportsImages:K})),children:s.jsx("span",{className:"font-medium",children:a("settings:providers.customModel.imageSupport.label")})}),s.jsx(ue,{content:a("settings:providers.customModel.imageSupport.description"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground pt-1",children:a("settings:providers.customModel.imageSupport.description")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(It,{checked:((M=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:M.supportsPromptCache)??!1,onChange:b("openAiCustomModelInfo",K=>({...(e==null?void 0:e.openAiCustomModelInfo)||Gt,supportsPromptCache:K})),children:s.jsx("span",{className:"font-medium",children:a("settings:providers.customModel.promptCache.label")})}),s.jsx(ue,{content:a("settings:providers.customModel.promptCache.description"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground pt-1",children:a("settings:providers.customModel.promptCache.description")})]}),s.jsx("div",{children:s.jsx(de,{value:((C=(A=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:A.inputPrice)==null?void 0:C.toString())??((H=Gt.inputPrice)==null?void 0:H.toString())??"",type:"text",style:{borderColor:(()=>{var X;const K=(X=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:X.inputPrice;return!K&&K!==0?"var(--vscode-input-border)":K>=0?"var(--vscode-charts-green)":"var(--vscode-errorForeground)"})()},onChange:b("openAiCustomModelInfo",K=>{const X=K.target.value,G=parseFloat(X);return{...(e==null?void 0:e.openAiCustomModelInfo)??Gt,inputPrice:isNaN(G)?Gt.inputPrice:G}}),placeholder:a("settings:placeholders.numbers.inputPrice"),className:"w-full",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.customModel.pricing.input.label")}),s.jsx(ue,{content:a("settings:providers.customModel.pricing.input.description"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]})})}),s.jsx("div",{children:s.jsx(de,{value:((D=(z=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:z.outputPrice)==null?void 0:D.toString())||((Y=Gt.outputPrice)==null?void 0:Y.toString())||"",type:"text",style:{borderColor:(()=>{var X;const K=(X=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:X.outputPrice;return!K&&K!==0?"var(--vscode-input-border)":K>=0?"var(--vscode-charts-green)":"var(--vscode-errorForeground)"})()},onChange:b("openAiCustomModelInfo",K=>{const X=K.target.value,G=parseFloat(X);return{...(e==null?void 0:e.openAiCustomModelInfo)||Gt,outputPrice:isNaN(G)?Gt.outputPrice:G}}),placeholder:a("settings:placeholders.numbers.outputPrice"),className:"w-full",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.customModel.pricing.output.label")}),s.jsx(ue,{content:a("settings:providers.customModel.pricing.output.description"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]})})}),((U=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:U.supportsPromptCache)&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx(de,{value:((F=(q=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:q.cacheReadsPrice)==null?void 0:F.toString())??"0",type:"text",style:{borderColor:(()=>{var X;const K=(X=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:X.cacheReadsPrice;return!K&&K!==0?"var(--vscode-input-border)":K>=0?"var(--vscode-charts-green)":"var(--vscode-errorForeground)"})()},onChange:b("openAiCustomModelInfo",K=>{const X=K.target.value,G=parseFloat(X);return{...(e==null?void 0:e.openAiCustomModelInfo)??Gt,cacheReadsPrice:isNaN(G)?0:G}}),placeholder:a("settings:placeholders.numbers.inputPrice"),className:"w-full",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:a("settings:providers.customModel.pricing.cacheReads.label")}),s.jsx(ue,{content:a("settings:providers.customModel.pricing.cacheReads.description"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]})})}),s.jsx("div",{children:s.jsx(de,{value:((te=(W=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:W.cacheWritesPrice)==null?void 0:te.toString())??"0",type:"text",style:{borderColor:(()=>{var X;const K=(X=e==null?void 0:e.openAiCustomModelInfo)==null?void 0:X.cacheWritesPrice;return!K&&K!==0?"var(--vscode-input-border)":K>=0?"var(--vscode-charts-green)":"var(--vscode-errorForeground)"})()},onChange:b("openAiCustomModelInfo",K=>{const X=K.target.value,G=parseFloat(X);return{...(e==null?void 0:e.openAiCustomModelInfo)??Gt,cacheWritesPrice:isNaN(G)?0:G}}),placeholder:a("settings:placeholders.numbers.cacheWritePrice"),className:"w-full",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.customModel.pricing.cacheWrites.label")}),s.jsx(ue,{content:a("settings:providers.customModel.pricing.cacheWrites.description"),children:s.jsx("i",{className:"codicon codicon-info text-vscode-descriptionForeground",style:{fontSize:"12px"}})})]})})})]}),s.jsx(oe,{variant:"secondary",onClick:()=>t("openAiCustomModelInfo",Gt),children:a("settings:providers.customModel.resetDefaults")})]})]})},Lz=Ns({data:Ns({label:He(),usage:vr(),is_free_tier:Rn(),is_provisioning_key:Rn(),rate_limit:Ns({requests:vr(),interval:He()}),limit:vr().nullable()})});async function Bz(e,t){if(!e)return null;try{const n=`${t||"https://openrouter.ai/api/v1"}/key`,o=await is.get(n,{headers:{Authorization:`Bearer ${e}`}}),a=Lz.safeParse(o.data);return a.success?a.data.data:(console.error("OpenRouter API key info validation failed:",a.error),null)}catch(r){return console.error("Error fetching OpenRouter key info:",r),null}}const zz=(e,t,r)=>Ln({queryKey:["openrouter-key-info",e,t],queryFn:()=>Bz(e,t),staleTime:30*1e3,enabled:!!e,...r}),qz=({apiKey:e,baseUrl:t})=>{const{data:r}=zz(e,t);if(!r||!r.limit)return null;const n=(r.limit-r.usage).toFixed(2);return s.jsxs(Oe,{href:"https://openrouter.ai/settings/keys",className:"text-vscode-foreground hover:underline",children:["$",n]})},Uz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,uriScheme:n,simplifySettings:o,organizationAllowList:a,modelValidationError:i})=>{const{t:l}=re(),[c,d]=h.useState(!!(e!=null&&e.openRouterBaseUrl)),u=h.useCallback((p,m=nt)=>g=>{t(p,m(g))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.openRouterApiKey)||"",type:"password",onInput:u("openRouterApiKey"),placeholder:l("settings:placeholders.apiKey"),className:"w-full",children:s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("label",{className:"block font-medium",children:l("settings:providers.openRouterApiKey")}),(e==null?void 0:e.openRouterApiKey)&&s.jsx(qz,{apiKey:e.openRouterApiKey,baseUrl:e.openRouterBaseUrl})]})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:l("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.openRouterApiKey)&&s.jsx(yt,{href:Nz(n),style:{width:"100%"},appearance:"primary",children:l("settings:providers.getOpenRouterApiKey")}),!o&&s.jsxs("div",{children:[s.jsx(It,{checked:c,onChange:p=>{d(p),p||t("openRouterBaseUrl","")},children:l("settings:providers.useCustomBaseUrl")}),c&&s.jsx(de,{value:(e==null?void 0:e.openRouterBaseUrl)||"",type:"url",onInput:u("openRouterBaseUrl"),placeholder:"Default: https://openrouter.ai/api/v1",className:"w-full mt-1"})]}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:tl,models:(r==null?void 0:r.openrouter)??{},modelIdKey:"openRouterModelId",serviceName:"OpenRouter",serviceUrl:"https://openrouter.ai/models",organizationAllowList:a,errorMessage:i,simplifySettings:o})]})},Wz=({apiConfiguration:e,setApiConfigurationField:t})=>{const r="~/.qwen/oauth_creds.json",n=a=>{const i=a.target;t("qwenCodeOauthPath",i.value)},o=a=>{const i=a.target;(!i.value||i.value.trim()==="")&&t("qwenCodeOauthPath",r)};return s.jsx("div",{className:"flex flex-col gap-4",children:s.jsxs("div",{children:[s.jsx(de,{value:(e==null?void 0:e.qwenCodeOauthPath)||"",className:"w-full mt-1",type:"text",onInput:n,onBlur:o,placeholder:r,children:"OAuth Credentials Path"}),s.jsx("p",{className:"text-xs mt-1 text-vscode-descriptionForeground",children:"Path to your Qwen OAuth credentials file. Defaults to ~/.qwen/oauth_creds.json if left empty."}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-3",children:"Qwen Code is an OAuth-based API that requires authentication through the official Qwen client. You'll need to set up OAuth credentials first."}),s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground mt-2",children:["To get started:",s.jsx("br",{}),"1. Install the official Qwen client",s.jsx("br",{}),"2. Authenticate using your account",s.jsx("br",{}),"3. OAuth credentials will be stored automatically"]}),s.jsx(Oe,{href:"https://github.com/QwenLM/qwen-code/blob/main/README.md",className:"text-vscode-textLink-foreground mt-2 inline-block text-xs",children:"Setup Instructions"})]})})},Kz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,cloudIsAuthenticated:n,organizationAllowList:o,modelValidationError:a,simplifySettings:i})=>{const{t:l}=re();return s.jsxs(s.Fragment,{children:[n?s.jsx("div",{className:"flex justify-between items-center mb-2",children:s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:l("settings:providers.roo.authenticatedMessage")})}):s.jsx("div",{className:"flex flex-col gap-2",children:s.jsx(oe,{variant:"primary",onClick:()=>R.postMessage({type:"rooCloudSignIn"}),className:"w-fit",children:l("settings:providers.roo.connectButton")})}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:qf,models:(r==null?void 0:r.roo)??{},modelIdKey:"apiModelId",serviceName:"Roo Code Cloud",serviceUrl:"https://roocode.com",organizationAllowList:o,errorMessage:a,simplifySettings:i})]})},Xm="https://router.requesty.ai/v1",r0=(e,t)=>{if(t==="router")return e;try{const r=new URL(e);return r.hostname.includes("router")&&(r.hostname=r.hostname.replace("router",t)),r.pathname.endsWith("/v1")&&(r.pathname=r.pathname.slice(0,-3)),r.toString()}catch{return e.replace("router",t).replace("/v1","")}},Px=(e,t="router")=>{const r=e&&typeof e=="string"&&e.trim()?e.trim():Xm;try{const n=new URL(r).toString();return r0(n,t)}catch{return e&&e!==Xm&&console.warn(`Invalid base URL "${e}", falling back to default`),r0(Xm,t)}},$z=Ns({name:He(),monthly_limit:He(),monthly_spend:He(),org_balance:He(),config:Ns({aliases:nP(He(),oP()).optional()})});async function Hz(e,t){if(!t)return null;const r=Px(e,"api"),n=new URL("x/apikey",r);try{const o=await is.get(n.toString(),{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),a=$z.safeParse(o.data);return a.success?a.data:(console.error("Requesty API key info validation failed:",a.error),null)}catch(o){return console.error("Error fetching Requesty key info:",o),null}}const Vz=(e,t,r)=>Ln({queryKey:["requesty-key-info",e,t],queryFn:()=>Hz(e,t),staleTime:30*1e3,enabled:!!t,...r}),Gz=({baseUrl:e,apiKey:t})=>{const{data:r}=Vz(e,t);if(!r)return null;const o=parseFloat(r.org_balance).toFixed(2),a=Px(e,"app"),i=new URL("settings",a);return s.jsxs(Oe,{href:i.toString(),className:"text-vscode-foreground hover:underline",children:["$",o]})},Qz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,organizationAllowList:n,modelValidationError:o,uriScheme:a,simplifySettings:i})=>{const{t:l}=re(),[c,d]=h.useState(!!e.requestyBaseUrl);h.useEffect(()=>{d(!!(e!=null&&e.requestyBaseUrl))},[e==null?void 0:e.requestyBaseUrl]);const u=h.useCallback((m,g=nt)=>f=>{t(m,g(f))},[t]),p=()=>{const m=Tx("requesty",a),g=Px(e.requestyBaseUrl,"app");return new URL(`oauth/authorize?callback_url=${m}`,g).toString()};return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.requestyApiKey)||"",type:"password",onInput:u("requestyApiKey"),placeholder:l("settings:providers.getRequestyApiKey"),className:"w-full",children:s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("label",{className:"block font-medium",children:l("settings:providers.requestyApiKey")}),(e==null?void 0:e.requestyApiKey)&&s.jsx(Gz,{baseUrl:e.requestyBaseUrl,apiKey:e.requestyApiKey})]})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:l("settings:providers.apiKeyStorageNotice")}),s.jsx("a",{href:p(),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center whitespace-nowrap text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 rounded-md px-3 w-full",style:{width:"100%",textDecoration:"none",color:"var(--vscode-button-foreground)",backgroundColor:"var(--vscode-button-background)"},children:l("settings:providers.getRequestyApiKey")}),s.jsx(qe,{checked:c,onChange:m=>{const g=m.target.checked===!0;g||t("requestyBaseUrl",void 0),d(g)},children:l("settings:providers.requestyUseCustomBaseUrl")}),c&&s.jsx(de,{value:(e==null?void 0:e.requestyBaseUrl)||"",type:"text",onInput:u("requestyBaseUrl"),placeholder:l("settings:providers.getRequestyBaseUrl"),className:"w-full",children:s.jsx("div",{className:"flex justify-between items-center mb-1",children:s.jsx("label",{className:"block font-medium",children:l("settings:providers.getRequestyBaseUrl")})})}),s.jsx(oe,{variant:"outline",onClick:()=>{R.postMessage({type:"requestRouterModels",values:{provider:"requesty",refresh:!0}})},children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-refresh"}),l("settings:providers.refreshModels.label")]})}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:nd,models:(r==null?void 0:r.requesty)??{},modelIdKey:"requestyModelId",serviceName:"Requesty",serviceUrl:"https://requesty.ai",organizationAllowList:n,errorMessage:o,simplifySettings:i})]})},Yz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useCallback((o,a=nt)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.sambaNovaApiKey)||"",type:"password",onInput:n("sambaNovaApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.sambaNovaApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.sambaNovaApiKey)&&s.jsx(yt,{href:"https://cloud.sambanova.ai/?utm_source=roocode&utm_medium=external&utm_campaign=cloud_signup",appearance:"secondary",children:r("settings:providers.getSambaNovaApiKey")})]})},Xz=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,organizationAllowList:n,modelValidationError:o,simplifySettings:a})=>{const{t:i}=re(),[l,c]=h.useState(),[d,u]=h.useState(!1),p=Jj(),m=h.useRef(),g=h.useRef(),f=h.useCallback((b,j=nt)=>v=>{t(b,j(v))},[t]),x=h.useCallback(async()=>{R.postMessage({type:"upsertApiConfiguration",text:"default",apiConfiguration:e});const b=new Promise((j,v)=>{const _=setTimeout(()=>{window.removeEventListener("message",k),v(new Error("Timeout waiting for state update"))},1e4),k=w=>{w.data.type==="state"&&(clearTimeout(_),window.removeEventListener("message",k),j())};window.addEventListener("message",k)});try{await b}catch(j){console.error("Failed to save configuration:",j)}},[e]),y=h.useCallback(async()=>{var v;R.postMessage({type:"flushRouterModels",text:"unbound"});const b=new Promise(_=>{const k=w=>{w.data.type==="routerModels"&&(window.removeEventListener("message",k),_())};window.addEventListener("message",k)});R.postMessage({type:"requestRouterModels"}),await b,await p.invalidateQueries({queryKey:["routerModels"]});const j=(v=p.getQueryData(["routerModels"]))==null?void 0:v.unbound;if(j&&Object.keys(j).length>0){const _=e==null?void 0:e.unboundModelId,k=_&&Object.prototype.hasOwnProperty.call(j,_);if(!_||!k){const w=Object.keys(j)[0];t("unboundModelId",w,!1)}}return!(!j||Object.keys(j).includes("error"))},[p,e,t]),N=h.useCallback(async()=>{await x(),await y()?(c(!0),m.current=setTimeout(()=>c(!1),3e3)):(u(!0),g.current=setTimeout(()=>u(!1),3e3))},[x,y]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.unboundApiKey)||"",type:"password",onInput:f("unboundApiKey"),placeholder:i("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:i("settings:providers.unboundApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:i("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.unboundApiKey)&&s.jsx(yt,{href:"https://gateway.getunbound.ai",appearance:"secondary",children:i("settings:providers.getUnboundApiKey")}),s.jsx("div",{className:"flex justify-end",children:s.jsx(oe,{variant:"outline",onClick:N,className:"w-1/2 max-w-xs",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("span",{className:"codicon codicon-refresh"}),i("settings:providers.refreshModels.label")]})})}),l&&s.jsx("div",{className:"flex items-center text-vscode-charts-green",children:i("settings:providers.unboundRefreshModelsSuccess")}),d&&s.jsx("div",{className:"flex items-center text-vscode-errorForeground",children:i("settings:providers.unboundInvalidApiKey")}),s.jsx(Ts,{apiConfiguration:e,defaultModelId:od,models:(r==null?void 0:r.unbound)??{},modelIdKey:"unboundModelId",serviceName:"Unbound",serviceUrl:"https://api.getunbound.ai/models",setApiConfigurationField:t,organizationAllowList:n,errorMessage:o,simplifySettings:a})]})},Jz=({apiConfiguration:e,setApiConfigurationField:t,simplifySettings:r})=>{var i;const{t:n}=re(),o=!!(e!=null&&e.apiModelId)&&sE.includes(e.apiModelId),a=h.useCallback((l,c=nt)=>d=>{t(l,c(d))},[t]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground",children:[s.jsx("div",{children:n("settings:providers.googleCloudSetup.title")}),s.jsx("div",{children:s.jsx(Oe,{href:"https://cloud.google.com/vertex-ai/generative-ai/docs/partner-models/use-claude#before_you_begin",className:"text-sm",children:n("settings:providers.googleCloudSetup.step1")})}),s.jsx("div",{children:s.jsx(Oe,{href:"https://cloud.google.com/docs/authentication/provide-credentials-adc#google-idp",className:"text-sm",children:n("settings:providers.googleCloudSetup.step2")})}),s.jsx("div",{children:s.jsx(Oe,{href:"https://developers.google.com/workspace/guides/create-credentials?hl=en#service-account",className:"text-sm",children:n("settings:providers.googleCloudSetup.step3")})})]}),s.jsx(de,{value:(e==null?void 0:e.vertexJsonCredentials)||"",onInput:a("vertexJsonCredentials"),placeholder:n("settings:placeholders.credentialsJson"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.googleCloudCredentials")})}),s.jsx(de,{value:(e==null?void 0:e.vertexKeyFile)||"",onInput:a("vertexKeyFile"),placeholder:n("settings:placeholders.keyFilePath"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.googleCloudKeyFile")})}),s.jsx(de,{value:(e==null?void 0:e.vertexProjectId)||"",onInput:a("vertexProjectId"),placeholder:n("settings:placeholders.projectId"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.googleCloudProjectId")})}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.googleCloudRegion")}),s.jsxs(Ut,{value:(e==null?void 0:e.vertexRegion)||"",onValueChange:l=>t("vertexRegion",l),children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{placeholder:n("settings:common.select")})}),s.jsx($t,{children:rE.map(({value:l,label:c})=>s.jsx(ze,{value:l,children:c},l))})]})]}),o&&s.jsxs("div",{children:[s.jsx(It,{"data-testid":"checkbox-vertex-1m-context",checked:(e==null?void 0:e.vertex1MContext)??!1,onChange:l=>{t("vertex1MContext",l)},children:n("settings:providers.vertex1MContextBetaLabel")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1 ml-6",children:n("settings:providers.vertex1MContextBetaDescription")})]}),!r&&((i=e.apiModelId)==null?void 0:i.startsWith("gemini"))&&s.jsxs("div",{className:"mt-6",children:[s.jsx(It,{"data-testid":"checkbox-url-context",checked:!!e.enableUrlContext,onChange:l=>t("enableUrlContext",l),children:n("settings:providers.geminiParameters.urlContext.title")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-3 mt-1.5",children:n("settings:providers.geminiParameters.urlContext.description")}),s.jsx(It,{"data-testid":"checkbox-grounding-search",checked:!!e.enableGrounding,onChange:l=>t("enableGrounding",l),children:n("settings:providers.geminiParameters.groundingSearch.title")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-3 mt-1.5",children:n("settings:providers.geminiParameters.groundingSearch.description")})]})]})},Zz=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),[n,o]=h.useState([]),a=h.useCallback((l,c=nt)=>d=>{t(l,c(d))},[t]),i=h.useCallback(l=>{const c=l.data;switch(c.type){case"vsCodeLmModels":{const d=c.vsCodeLmModels??[];o(d)}break}},[]);return Us("message",i),s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.vscodeLmModel")}),n.length>0?s.jsxs(Ut,{value:e!=null&&e.vsCodeLmModelSelector?`${e.vsCodeLmModelSelector.vendor??""}/${e.vsCodeLmModelSelector.family??""}`:"",onValueChange:a("vsCodeLmModelSelector",l=>{const[c,d]=l.split("/");return{vendor:c,family:d}}),children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{placeholder:r("settings:common.select")})}),s.jsx($t,{children:n.map(l=>s.jsx(ze,{value:`${l.vendor}/${l.family}`,children:`${l.vendor} - ${l.family}`},`${l.vendor}/${l.family}`))})]}):s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground",children:[s.jsx("p",{children:r("settings:providers.vscodeLmUnavailable")}),s.jsx("p",{className:"mt-2",children:r("settings:providers.vscodeLmUnavailableInstructions")})]})]}),s.jsx("div",{className:"text-sm text-vscode-errorForeground",children:r("settings:providers.vscodeLmWarning")})]})},eq=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useCallback((o,a=nt)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.xaiApiKey)||"",type:"password",onInput:n("xaiApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.xaiApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.xaiApiKey)&&s.jsx(yt,{href:"https://api.x.ai/docs",appearance:"secondary",children:r("settings:providers.getXaiApiKey")})]})},tq=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,organizationAllowList:n,modelValidationError:o})=>{const{t:a}=re(),[i,l]=h.useState(!!(e!=null&&e.ovhCloudAiEndpointsBaseUrl)),c=h.useCallback((d,u=nt)=>p=>{t(d,u(p))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.ovhCloudAiEndpointsApiKey)||"",type:"password",onInput:c("ovhCloudAiEndpointsApiKey"),placeholder:a("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.ovhCloudAiEndpointsApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:a("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.ovhCloudAiEndpointsApiKey)&&s.jsx(yt,{href:"https://www.ovh.com/manager",appearance:"secondary",children:a("settings:providers.getOvhCloudAiEndpointsApiKey")}),s.jsx(qe,{checked:i,onChange:d=>{const u=d.target.checked===!0;u||t("ovhCloudAiEndpointsBaseUrl",void 0),l(u)},children:a("settings:providers.getOvhCloudAiEndpointsBaseUrl")}),i&&s.jsx(de,{value:(e==null?void 0:e.ovhCloudAiEndpointsBaseUrl)||"",type:"text",onInput:c("ovhCloudAiEndpointsBaseUrl"),placeholder:a("settings:providers.getOvhCloudAiEndpointsBaseUrl"),className:"w-full",children:s.jsx("div",{className:"flex justify-between items-center mb-1",children:s.jsx("label",{className:"block font-medium",children:a("settings:providers.ovhCloudAiEndpointsBaseUrl")})})}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:Jc,models:(r==null?void 0:r.ovhcloud)??{},modelIdKey:"ovhCloudAiEndpointsModelId",serviceName:"OVHcloud AI Endpoints",serviceUrl:"https://endpoints.ai.cloud.ovh.net/catalog",organizationAllowList:n,errorMessage:o})]})},sq=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useCallback((o,a=nt)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.geminiCliOAuthPath)||"",onInput:n("geminiCliOAuthPath"),placeholder:"~/.gemini/oauth_creds.json",className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.geminiCli.oauthPath")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.geminiCli.oauthPathDescription")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-3",children:r("settings:providers.geminiCli.description")}),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground mt-2",children:[r("settings:providers.geminiCli.instructions")," ",s.jsx("code",{className:"text-vscode-textPreformat-foreground",children:"gemini"})," ",r("settings:providers.geminiCli.instructionsContinued")]}),s.jsx(Oe,{href:"https://github.com/google-gemini/gemini-cli?tab=readme-ov-file#quickstart",className:"text-vscode-textLink-foreground hover:text-vscode-textLink-activeForeground mt-2 inline-block",children:r("settings:providers.geminiCli.setupLink")}),s.jsxs("div",{className:"mt-3 p-3 bg-vscode-editorWidget-background border border-vscode-editorWidget-border rounded",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("i",{className:"codicon codicon-warning text-vscode-notificationsWarningIcon-foreground"}),s.jsx("span",{className:"font-semibold text-sm",children:r("settings:providers.geminiCli.requirementsTitle")})]}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-vscode-descriptionForeground",children:[s.jsx("li",{children:r("settings:providers.geminiCli.requirement1")}),s.jsx("li",{children:r("settings:providers.geminiCli.requirement2")}),s.jsx("li",{children:r("settings:providers.geminiCli.requirement3")}),s.jsx("li",{children:r("settings:providers.geminiCli.requirement4")}),s.jsx("li",{children:r("settings:providers.geminiCli.requirement5")})]})]}),s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsx("i",{className:"codicon codicon-check text-vscode-notificationsInfoIcon-foreground"}),s.jsx("span",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.geminiCli.freeAccess")})]})]})},rq=({profiles:e,availableProfiles:t,isAlertOpen:r,usageData:n,onProfileChange:o,onProfileSelect:a,onAddProfile:i,onRemoveProfile:l,onMoveProfileUp:c,onMoveProfileDown:d,onClearUsageData:u,onSetIsAlertOpen:p,getUsedProfileIds:m})=>{const{t:g}=vt();return s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-lg font-medium mb-0",children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.title",children:"Virtual Quota Fallback Settings"})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-4",children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.description",children:"Configure a list of profiles each with their own limits. When one profiles limits are reached, the next profile in the list will be used until none remain."})}),s.jsxs("div",{className:"space-y-1",children:[e.map((f,x)=>{const y=m(x),N=t.filter(b=>!y.includes(b.id));return s.jsxs("div",{className:"border border-vscode-settings-sashBorder rounded-md p-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"block font-medium",children:x===0?g("kilocode:virtualProvider.primaryProfileLabel",{number:x+1}):g("kilocode:virtualProvider.profileLabel",{number:x+1})}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xt,{appearance:"icon",onClick:()=>c(x),disabled:x===0,title:g("kilocode:virtualProvider.moveProfileUp"),children:s.jsx(Hc,{size:16})}),s.jsx(xt,{appearance:"icon",onClick:()=>d(x),disabled:x===e.length-1,title:g("kilocode:virtualProvider.moveProfileDown"),children:s.jsx(Zo,{size:16})}),e.length>1&&s.jsx(xt,{appearance:"icon",onClick:()=>l(x),title:g("kilocode:virtualProvider.removeProfile"),children:s.jsx(jT,{})})]})]}),s.jsx(Qo,{value:f.profileId||"",onValueChange:b=>a(x,b),disabled:N.length===0,options:N.map(b=>({value:b.id,label:b.name})),placeholder:g("kilocode:virtualProvider.selectProfilePlaceholder"),searchPlaceholder:g("settings:providers.searchPlaceholder"),emptyMessage:g("settings:providers.noMatchFound"),className:"w-full"}),s.jsx(nq,{profile:f,index:x,onProfileChange:o,usage:f.profileId?n[f.profileId]:null})]},x)}),s.jsx("div",{className:"flex justify-center p-4",children:s.jsxs(xt,{appearance:"secondary",onClick:i,disabled:t.length<=e.length,children:[s.jsx(_T,{className:"mr-2"}),s.jsx(we,{i18nKey:"kilocode:virtualProvider.addProfile",children:"Add Profile"})]})}),t.length===0?s.jsx("div",{className:"text-sm text-vscode-descriptionForeground text-center p-4 border border-vscode-settings-sashBorder rounded-md",children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.noProfilesAvailable",children:"No profile profiles available. Please configure at least one non-virtual profile profile first."})}):null]}),s.jsxs("div",{className:"p-4 border border-vscode-editorWarning-foreground rounded-md",children:[s.jsx("div",{className:"text-md font-semibold text-vscode-editorWarning-foreground",children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.dangerZoneTitle",children:"Danger Zone"})}),s.jsx("p",{className:"text-sm text-vscode-descriptionForeground mt-1 mb-3",children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.dangerZoneDescription",children:"These actions are destructive and cannot be undone."})}),s.jsx(xt,{appearance:"secondary",onClick:()=>p(!0),children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.clearUsageData",children:"Clear Usage Data"})})]}),s.jsx(en,{open:r,onOpenChange:p,children:s.jsxs(tn,{children:[s.jsxs(sn,{children:[s.jsx(nn,{children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.confirmClearTitle",children:"Are you sure?"})}),s.jsx(on,{children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.confirmClearDescription",children:"This will permanently delete all stored usage data for virtual profiles. This action cannot be undone."})})]}),s.jsxs(rn,{children:[s.jsx(an,{children:s.jsx(we,{i18nKey:"common:cancel",children:"Cancel"})}),s.jsx(Cr,{onClick:u,children:s.jsx(we,{i18nKey:"common:confirm",children:"Confirm"})})]})]})})]})},nq=({profile:e,index:t,onProfileChange:r,usage:n})=>{var i,l,c,d,u,p,m,g,f,x,y,N;const o=h.useCallback(b=>j=>{const v=nt(j),_={...e,profileLimits:{...e.profileLimits,[b]:v===""?void 0:Number(v)}};r(t,_)},[e,t,r]),a=h.useCallback((b,j,v)=>{var w;const _=(w=e.profileLimits)==null?void 0:w[b];if(!_||!n)return null;const k=n[v][j];return s.jsx("div",{className:"mt-1",children:s.jsx(cR,{label:"",currentValue:k,limitValue:_})})},[e.profileLimits,n]);return e.profileId?s.jsxs("div",{className:"space-y-4 p-2 rounded-md mt-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.tokensLabel",children:"Tokens"})}),s.jsxs("div",{className:"grid grid-cols-3 gap-x-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-vscode-descriptionForeground mb-1",children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.perMinute",children:"Per Minute"})}),s.jsx(de,{value:((l=(i=e.profileLimits)==null?void 0:i.tokensPerMinute)==null?void 0:l.toString())??"",onInput:o("tokensPerMinute"),className:"[--input-min-width:100%]"}),a("tokensPerMinute","tokens","minute")]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-vscode-descriptionForeground mb-1",children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.perHour",children:"Per Hour"})}),s.jsx(de,{value:((d=(c=e.profileLimits)==null?void 0:c.tokensPerHour)==null?void 0:d.toString())??"",onInput:o("tokensPerHour"),className:"[--input-min-width:100%]"}),a("tokensPerHour","tokens","hour")]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-vscode-descriptionForeground mb-1",children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.perDay",children:"Per Day"})}),s.jsx(de,{value:((p=(u=e.profileLimits)==null?void 0:u.tokensPerDay)==null?void 0:p.toString())??"",onInput:o("tokensPerDay"),className:"[--input-min-width:100%]"}),a("tokensPerDay","tokens","day")]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.requestsLabel",children:"Requests"})}),s.jsxs("div",{className:"grid grid-cols-3 gap-x-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-vscode-descriptionForeground mb-1",children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.perMinute",children:"Per Minute"})}),s.jsx(de,{value:((g=(m=e.profileLimits)==null?void 0:m.requestsPerMinute)==null?void 0:g.toString())??"",onInput:o("requestsPerMinute"),className:"[--input-min-width:100%]"}),a("requestsPerMinute","requests","minute")]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-vscode-descriptionForeground mb-1",children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.perHour",children:"Per Hour"})}),s.jsx(de,{value:((x=(f=e.profileLimits)==null?void 0:f.requestsPerHour)==null?void 0:x.toString())??"",onInput:o("requestsPerHour"),className:"[--input-min-width:100%]"}),a("requestsPerHour","requests","hour")]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-vscode-descriptionForeground mb-1",children:s.jsx(we,{i18nKey:"kilocode:virtualProvider.perDay",children:"Per Day"})}),s.jsx(de,{value:((N=(y=e.profileLimits)==null?void 0:y.requestsPerDay)==null?void 0:N.toString())??"",onInput:o("requestsPerDay"),className:"[--input-min-width:100%]"}),a("requestsPerDay","requests","day")]})]})]})]}):null},oq=({apiConfiguration:e,setApiConfigurationField:t})=>{const{listApiConfigMeta:r,currentApiConfigName:n}=Ye(),[o,a]=h.useState(!1),[i,l]=h.useState({}),c=r==null?void 0:r.find(k=>k.name===n),d=c==null?void 0:c.id,u=h.useMemo(()=>(r==null?void 0:r.filter(k=>k.apiProvider!=="virtual-quota-fallback"&&k.id!==d))||[],[r,d]),p=h.useMemo(()=>e.profiles&&e.profiles.length>0?e.profiles:[{}],[e.profiles]),m=h.useCallback(k=>{t("profiles",k)},[t]),g=h.useCallback((k,w)=>{const T=[...p];T[k]=w,m(T)},[p,m]),f=h.useCallback((k,w)=>{const T=u.find(S=>S.id===w);if(T){const S={...p[k],profileId:T.id,profileName:T.name};g(k,S)}},[u,p,g]),x=h.useCallback(()=>{const k=[...p,{}];m(k)},[p,m]),y=h.useCallback(k=>{if(p.length>1){const w=p.filter((T,S)=>S!==k);m(w)}},[p,m]),N=h.useCallback((k,w)=>{const T=[...p],S=T[k];T[k]=T[w],T[w]=S,m(T)},[p,m]),b=h.useCallback(k=>{k>0&&N(k,k-1)},[N]),j=h.useCallback(k=>{k<p.length-1&&N(k,k+1)},[p.length,N]),v=h.useCallback(()=>{R.postMessage({type:"clearUsageData"}),a(!1)},[]),_=h.useCallback(k=>p.map((w,T)=>T!==k?w.profileId:null).filter(w=>!!w),[p]);return h.useEffect(()=>{const k=w=>{const T=w.data;T.type==="usageDataResponse"&&T.text&&l(S=>({...S,[T.text]:T.values}))};return window.addEventListener("message",k),()=>{window.removeEventListener("message",k)}},[]),h.useEffect(()=>{p.forEach(k=>{k.profileId&&R.postMessage({type:"getUsageData",text:k.profileId})})},[p]),s.jsx(rq,{profiles:p,availableProfiles:u,isAlertOpen:o,usageData:i,onProfileChange:g,onProfileSelect:f,onAddProfile:x,onRemoveProfile:y,onMoveProfileUp:b,onMoveProfileDown:j,onClearUsageData:v,onSetIsAlertOpen:a,getUsedProfileIds:_})},aq=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,refetchRouterModels:n,organizationAllowList:o,modelValidationError:a})=>{const{t:i}=re(),[l,c]=h.useState(),d=h.useCallback((u,p=nt)=>m=>{t(u,p(m))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.inceptionLabsApiKey)||"",type:"password",onInput:d("inceptionLabsApiKey"),placeholder:i("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:i("settings:providers.apiKey")})}),s.jsx(de,{value:(e==null?void 0:e.inceptionLabsBaseUrl)||"",onInput:d("inceptionLabsBaseUrl"),placeholder:"https://api.inceptionlabs.ai/",className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:"Base URL (optional)"})}),s.jsx(oe,{variant:"outline",onClick:()=>{R.postMessage({type:"flushRouterModels",text:"inception"}),n(),c(!0)},children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-refresh"}),i("settings:providers.refreshModels.label")]})}),l&&s.jsx("div",{className:"flex items-center text-vscode-errorForeground",children:i("settings:providers.refreshModels.hint")}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:ed,models:(r==null?void 0:r.inception)??{},modelIdKey:"inceptionLabsModelId",serviceName:"Inception",serviceUrl:"https://inceptionlabs.ai/models",organizationAllowList:o,errorMessage:a})]})},iq=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,organizationAllowList:n,modelValidationError:o})=>{const{t:a}=re(),i=h.useCallback((l,c=nt)=>d=>{t(l,c(d))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.syntheticApiKey)||"",type:"password",onInput:i("syntheticApiKey"),placeholder:a("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.syntheticApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:a("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.syntheticApiKey)&&s.jsx(yt,{href:"https://synthetic.new/",appearance:"secondary",children:a("settings:providers.getSyntheticApiKey")}),s.jsx(s.Fragment,{children:s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:Zc,models:(r==null?void 0:r.synthetic)??{},modelIdKey:"apiModelId",serviceName:"Synthetic",serviceUrl:"https://synthetic.new/",organizationAllowList:n,errorMessage:o})})]})},lq=["sapAiCoreServiceKey","sapAiCoreResourceGroup","sapAiCoreUseOrchestration"],cq=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),[n,o]=h.useState({}),[a,i]=h.useState({}),[l,c]=h.useState(!1),[d,u]=h.useState(!1),p=h.useMemo(()=>({sapAiCoreServiceKey:e.sapAiCoreServiceKey||"",sapAiCoreResourceGroup:e.sapAiCoreResourceGroup||"",sapAiCoreUseOrchestration:e.sapAiCoreUseOrchestration||!1}),[e]),m=h.useCallback(()=>{c(!0),R.postMessage({type:"requestSapAiCoreModels",values:p})},[p]),g=h.useCallback(()=>{c(!0),R.postMessage({type:"requestSapAiCoreDeployments",values:p})},[p]),f=h.useCallback(()=>{["sapAiCoreModelId","sapAiCoreCustomModelInfo","sapAiCoreDeploymentId"].forEach(S=>t(S,void 0))},[t]),x=h.useCallback((T,S=nt)=>P=>{t(T,S(P)),lq.includes(T)&&(f(),m(),g())},[t,m,g,f]);h.useEffect(()=>{m(),g()},[m,g]);const y=h.useCallback(T=>{const S=T.data;switch(S.type){case"sapAiCoreModels":o(S.sapAiCoreModels||{}),c(!1);break;case"sapAiCoreDeployments":i(S.sapAiCoreDeployments||{}),c(!1);break}},[]);Us("message",y);const N=T=>{t("sapAiCoreModelId",T),t("sapAiCoreCustomModelInfo",n[T]),t("sapAiCoreDeploymentId",void 0)},b=T=>{t("sapAiCoreDeploymentId",T)},j=T=>{f(),t("sapAiCoreUseOrchestration",T)},v=h.useCallback(T=>Object.values(a).filter(S=>S.model===T),[a]),_=h.useCallback(T=>v(T).length>0,[v]),k=h.useMemo(()=>Object.keys(n).map(T=>({value:T,label:T,disabled:!e.sapAiCoreUseOrchestration&&!_(T)})).sort((T,S)=>!e.sapAiCoreUseOrchestration&&T.disabled!==S.disabled?T.disabled?1:-1:T.label.localeCompare(S.label)),[n,e.sapAiCoreUseOrchestration,_]),w=h.useMemo(()=>e.sapAiCoreModelId?v(e.sapAiCoreModelId).sort((T,S)=>+(S.targetStatus==="RUNNING")-+(T.targetStatus==="RUNNING")).map(T=>({value:T.id,label:T.targetStatus==="RUNNING"?T.id:`${T.id} (${T.targetStatus.toLowerCase()})`,disabled:T.targetStatus!=="RUNNING"})):[],[e.sapAiCoreModelId,v]);return s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{htmlFor:"sap-ai-core-service-key",className:"block font-medium mb-1",children:r("settings:providers.sapAiCore.serviceKey")}),s.jsx(Mr,{id:"sap-ai-core-service-key",type:"text",value:e.sapAiCoreServiceKey||"",onInput:x("sapAiCoreServiceKey"),placeholder:r("settings:providers.sapAiCore.serviceKeyJson")})]}),s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground mb-3",children:[r("settings:providers.sapAiCore.credentialsNote")," ",s.jsx(Oe,{href:"https://help.sap.com/docs/sap-ai-core/sap-ai-core-service-guide/enabling-service-in-cloud-foundry",target:"_blank",children:r("settings:providers.sapAiCore.learnMore")})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{htmlFor:"sap-ai-core-resource-group",className:"block font-medium mb-1",children:r("settings:providers.sapAiCore.resourceGroup")}),s.jsx(Mr,{id:"sap-ai-core-resource-group",type:"text",value:e.sapAiCoreResourceGroup||"",onInput:x("sapAiCoreResourceGroup"),placeholder:"default"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(bc,{id:"sap-ai-core-orchestration",checked:e.sapAiCoreUseOrchestration??!1,onCheckedChange:j}),s.jsx("label",{htmlFor:"sap-ai-core-orchestration",children:r("settings:providers.sapAiCore.orchestrationMode")})]}),s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground mb-3",children:[s.jsx("div",{className:"mb-1",children:r("settings:providers.sapAiCore.orchestrationEnabledDesc")}),s.jsx("div",{children:r("settings:providers.sapAiCore.orchestrationDisabledDesc")})]}),!e.sapAiCoreUseOrchestration&&s.jsxs("div",{className:"mt-3 p-3 bg-vscode-editorWidget-background border border-vscode-editorWidget-border rounded",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("i",{className:"codicon codicon-warning text-vscode-notificationsWarningIcon-foreground"}),s.jsx("span",{className:"font-semibold text-sm",children:r("settings:providers.sapAiCore.supportedProviders")})]}),s.jsx("span",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.sapAiCore.supportedProvidersDesc1")}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-vscode-descriptionForeground",children:s.jsx("li",{children:r("settings:codeIndex.openaiProvider")})}),s.jsx("span",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.sapAiCore.supportedProvidersDesc2")}),s.jsx("div",{className:"mt-2",children:s.jsx(Oe,{href:"https://help.sap.com/docs/sap-ai-core/sap-ai-core-service-guide/orchestration-8d022355037643cebf775cd3bf662cc5",target:"_blank",children:r("settings:providers.sapAiCore.supportedProvidersDesc3")})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("label",{className:"block font-medium text-sm",children:[r("settings:providers.model"),l?s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:r("settings:providers.sapAiCore.loading")}):s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:r("settings:providers.sapAiCore.modelsCount",{count:Object.keys(n).length})})]}),s.jsx(Qo,{value:(e==null?void 0:e.sapAiCoreModelId)||"",onValueChange:N,options:k,placeholder:r("settings:providers.sapAiCore.selectModel"),searchPlaceholder:r("settings:providers.sapAiCore.searchModels"),emptyMessage:r("settings:providers.sapAiCore.noModelsFound"),disabled:l})]}),!e.sapAiCoreUseOrchestration&&!e.sapAiCoreModelId&&s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mb-3",children:s.jsx("div",{className:"mb-1",children:r("settings:providers.sapAiCore.modelDeploymentDesc")})}),!e.sapAiCoreUseOrchestration&&e.sapAiCoreModelId&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("label",{className:"block font-medium text-sm",children:[r("settings:providers.sapAiCore.deployment"),l?s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:r("settings:providers.sapAiCore.loading")}):s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:r("settings:providers.sapAiCore.deploymentsCount",{count:v(e.sapAiCoreModelId).length})})]}),s.jsx(Qo,{value:(e==null?void 0:e.sapAiCoreDeploymentId)||"",onValueChange:b,options:w,placeholder:_(e.sapAiCoreModelId)?r("settings:providers.sapAiCore.selectDeployment"):r("settings:providers.sapAiCore.noDeploymentFound"),searchPlaceholder:r("settings:providers.sapAiCore.searchDeployments"),emptyMessage:r("settings:providers.sapAiCore.noDeploymentFound"),disabled:!_(e.sapAiCoreModelId)})]}),e.sapAiCoreModelId&&s.jsx(Sx,{apiProvider:e.apiProvider,selectedModelId:e.sapAiCoreModelId,modelInfo:n[e.sapAiCoreModelId],isDescriptionExpanded:d,setIsDescriptionExpanded:u}),s.jsx("div",{className:"mt-2",children:s.jsx(Oe,{href:"https://help.sap.com/docs/sap-ai-core",target:"_blank",children:r("settings:providers.sapAiCore.getStarted")})})]})},dq=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useCallback((o,a=nt)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.zaiEntrypoint")}),s.jsx(Bs,{value:e.zaiApiLine||Wx.enum.international_coding,onChange:n("zaiApiLine"),className:Z("w-full"),children:Wx.options.map(o=>{const a=pv[o];return s.jsxs(gt,{value:o,className:"p-2",children:[a.name," (",a.baseUrl,")"]},o)})}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1",children:r("settings:providers.zaiEntrypointDescription")})]}),s.jsxs("div",{children:[s.jsx(de,{value:(e==null?void 0:e.zaiApiKey)||"",type:"password",onInput:n("zaiApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.zaiApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.zaiApiKey)&&s.jsx(yt,{href:pv[e.zaiApiLine??"international_coding"].isChina?"https://open.bigmodel.cn/console/overview":"https://z.ai/manage-apikey/apikey-list",appearance:"secondary",children:r("settings:providers.getZaiApiKey")})]})]})},uq=({apiConfiguration:e,setApiConfigurationField:t,organizationAllowList:r,modelValidationError:n,simplifySettings:o})=>{const{t:a}=re(),{routerModels:i}=Ye(),[l,c]=h.useState("idle"),[d,u]=h.useState(),p=h.useRef(!1);h.useEffect(()=>{const f=x=>{var N;const y=x.data;y.type==="singleRouterModelFetchResponse"&&!y.success?((N=y.values)==null?void 0:N.provider)==="litellm"&&(p.current=!0,c("error"),u(y.error)):y.type==="routerModels"&&l==="loading"&&(p.current||c("success"))};return window.addEventListener("message",f),()=>{window.removeEventListener("message",f)}},[l,d,c,u]);const m=h.useCallback((f,x=nt)=>y=>{t(f,x(y))},[t]),g=h.useCallback(()=>{p.current=!1,c("loading"),u(void 0);const f=e.litellmApiKey,x=e.litellmBaseUrl;if(!f||!x){c("error"),u(a("settings:providers.refreshModels.missingConfig"));return}R.postMessage({type:"requestRouterModels",values:{litellmApiKey:f,litellmBaseUrl:x}})},[e,c,u,a]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.litellmBaseUrl)||"",onInput:m("litellmBaseUrl"),placeholder:a("settings:placeholders.baseUrl"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.litellmBaseUrl")})}),s.jsx(de,{value:(e==null?void 0:e.litellmApiKey)||"",type:"password",onInput:m("litellmApiKey"),placeholder:a("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:a("settings:providers.litellmApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:a("settings:providers.apiKeyStorageNotice")}),s.jsx(oe,{variant:"outline",onClick:g,disabled:l==="loading"||!e.litellmApiKey||!e.litellmBaseUrl,className:"w-full",children:s.jsxs("div",{className:"flex items-center gap-2",children:[l==="loading"?s.jsx("span",{className:"codicon codicon-loading codicon-modifier-spin"}):s.jsx("span",{className:"codicon codicon-refresh"}),a("settings:providers.refreshModels.label")]})}),l==="loading"&&s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:a("settings:providers.refreshModels.loading")}),l==="success"&&s.jsx("div",{className:"text-sm text-vscode-foreground",children:a("settings:providers.refreshModels.success")}),l==="error"&&s.jsx("div",{className:"text-sm text-vscode-errorForeground",children:d||a("settings:providers.refreshModels.error")}),s.jsx(Ts,{apiConfiguration:e,defaultModelId:Fi,models:(i==null?void 0:i.litellm)??{},modelIdKey:"litellmModelId",serviceName:"LiteLLM",serviceUrl:"https://docs.litellm.ai/",setApiConfigurationField:t,organizationAllowList:r,errorMessage:n,simplifySettings:o}),(()=>{var y;const f=e.litellmModelId||Fi,x=(y=i==null?void 0:i.litellm)==null?void 0:y[f];return x!=null&&x.supportsPromptCache?s.jsxs("div",{className:"mt-4",children:[s.jsx(qe,{checked:e.litellmUsePromptCache||!1,onChange:N=>{t("litellmUsePromptCache",N.target.checked)},children:s.jsx("span",{className:"font-medium",children:a("settings:providers.enablePromptCaching")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground ml-6 mt-1",children:a("settings:providers.enablePromptCachingTitle")})]}):null})()]})},pq=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useCallback((o,a=nt)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.fireworksApiKey)||"",type:"password",onInput:n("fireworksApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.fireworksApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.fireworksApiKey)&&s.jsx(yt,{href:"https://fireworks.ai/",appearance:"secondary",children:r("settings:providers.getFireworksApiKey")})]})},mq=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useCallback((o,a=nt)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.featherlessApiKey)||"",type:"password",onInput:n("featherlessApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.featherlessApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.featherlessApiKey)&&s.jsx(yt,{href:"https://featherless.ai/account/api-keys",appearance:"secondary",children:r("settings:providers.getFeatherlessApiKey")})]})},hq=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,organizationAllowList:n,modelValidationError:o,simplifySettings:a})=>{const{t:i}=re(),l=h.useCallback((c,d=nt)=>u=>{t(c,d(u))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.vercelAiGatewayApiKey)||"",type:"password",onInput:l("vercelAiGatewayApiKey"),placeholder:i("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:i("settings:providers.vercelAiGatewayApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:i("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.vercelAiGatewayApiKey)&&s.jsx(yt,{href:"https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys&title=AI+Gateway+API+Key",appearance:"primary",style:{width:"100%"},children:i("settings:providers.getVercelAiGatewayApiKey")}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:Tg,models:(r==null?void 0:r["vercel-ai-gateway"])??{},modelIdKey:"vercelAiGatewayModelId",serviceName:"Vercel AI Gateway",serviceUrl:"https://vercel.com/ai-gateway/models",organizationAllowList:n,errorMessage:o,simplifySettings:a})]})},fq=({apiConfiguration:e,setApiConfigurationField:t,routerModels:r,refetchRouterModels:n,organizationAllowList:o,modelValidationError:a,simplifySettings:i})=>{const{t:l}=re(),[c,d]=h.useState(),u=h.useCallback((p,m=nt)=>g=>{t(p,m(g))},[t]);return h.useEffect(()=>{},[e.deepInfraBaseUrl,e.deepInfraApiKey]),s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.deepInfraApiKey)||"",type:"password",onInput:u("deepInfraApiKey"),placeholder:l("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:l("settings:providers.apiKey")})}),s.jsx(oe,{variant:"outline",onClick:()=>{R.postMessage({type:"flushRouterModels",text:"deepinfra"}),n(),d(!0)},children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-refresh"}),l("settings:providers.refreshModels.label")]})}),c&&s.jsx("div",{className:"flex items-center text-vscode-errorForeground",children:l("settings:providers.refreshModels.hint")}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:ad,models:(r==null?void 0:r.deepinfra)??{},modelIdKey:"deepInfraModelId",serviceName:"Deep Infra",serviceUrl:"https://deepinfra.com/models",organizationAllowList:o,errorMessage:a,simplifySettings:i})]})},gq=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useCallback((o,a=nt)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.minimaxBaseUrl")}),s.jsxs(Bs,{value:e.minimaxBaseUrl,onChange:n("minimaxBaseUrl"),className:Z("w-full"),children:[s.jsx(gt,{value:"https://api.minimax.io/anthropic",className:"p-2",children:"api.minimax.io"}),s.jsx(gt,{value:"https://api.minimaxi.com/anthropic",className:"p-2",children:"api.minimaxi.com"})]})]}),s.jsxs("div",{children:[s.jsx(de,{value:(e==null?void 0:e.minimaxApiKey)||"",type:"password",onInput:n("minimaxApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.minimaxApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.minimaxApiKey)&&s.jsx(yt,{href:e.minimaxBaseUrl==="https://api.minimaxi.com/anthropic"?"https://platform.minimaxi.com/user-center/basic-information/interface-key":"https://www.minimax.io/platform/user-center/basic-information/interface-key",appearance:"secondary",children:r("settings:providers.getMiniMaxApiKey")})]})]})},xq=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useCallback((o,a=nt)=>i=>{t(o,a(i))},[t]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.basetenApiKey)||"",type:"password",onInput:n("basetenApiKey"),placeholder:r("settings:placeholders.apiKey"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.basetenApiKey")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:r("settings:providers.apiKeyStorageNotice")}),!(e!=null&&e.basetenApiKey)&&s.jsx(yt,{href:"https://app.baseten.co/settings/api_keys",appearance:"secondary",children:r("settings:providers.getBasetenApiKey")})]})},vq={anthropic:Yc,"claude-code":Ka,bedrock:Vf,cerebras:ng,deepseek:ag,doubao:Hf,moonshot:gg,"gemini-cli":ug,mistral:hg,"openai-native":vg,"qwen-code":yg,vertex:_g,xai:Sg,groq:mg,sambanova:kg,zai:Ig,fireworks:dg,roo:aP,featherless:ig,minimax:$f,baseten:tg},qc=[{value:"openrouter",label:"OpenRouter"},{value:"deepinfra",label:"DeepInfra"},{value:"anthropic",label:"Anthropic"},{value:"claude-code",label:"Claude Code"},{value:"cerebras",label:"Cerebras"},{value:"gemini",label:"Google Gemini"},{value:"doubao",label:"Doubao"},{value:"inception",label:"Inception"},{value:"gemini-cli",label:"Gemini CLI"},{value:"virtual-quota-fallback",label:"Virtual Quota Fallback"},{value:"synthetic",label:"Synthetic"},{value:"ovhcloud",label:"OVHcloud AI Endpoints"},{value:"sap-ai-core",label:"SAP AI Core"},{value:"deepseek",label:"DeepSeek"},{value:"moonshot",label:"Moonshot"},{value:"openai-native",label:"OpenAI"},{value:"openai",label:"OpenAI Compatible"},{value:"qwen-code",label:"Qwen Code"},{value:"vertex",label:"GCP Vertex AI"},{value:"bedrock",label:"Amazon Bedrock"},{value:"glama",label:"Glama"},{value:"nano-gpt",label:"Nano-GPT"},{value:"vscode-lm",label:"VS Code LM API"},{value:"mistral",label:"Mistral"},{value:"lmstudio",label:"LM Studio"},{value:"ollama",label:"Ollama"},{value:"unbound",label:"Unbound"},{value:"requesty",label:"Requesty"},{value:"human-relay",label:"Human Relay"},{value:"xai",label:"xAI (Grok)"},{value:"groq",label:"Groq"},{value:"huggingface",label:"Hugging Face"},{value:"chutes",label:"Chutes AI"},{value:"litellm",label:"LiteLLM"},{value:"sambanova",label:"SambaNova"},{value:"zai",label:"Z.ai"},{value:"fireworks",label:"Fireworks AI"},{value:"featherless",label:"Featherless AI"},{value:"io-intelligence",label:"IO Intelligence"},{value:"vercel-ai-gateway",label:"Vercel AI Gateway"},{value:"minimax",label:"MiniMax"},{value:"baseten",label:"Baseten"}].sort((e,t)=>e.label.localeCompare(t.label));qc.unshift({value:"kilocode",label:"Kilo Gateway"});const bq=({apiConfiguration:e,setApiConfigurationField:t,modelInfo:r})=>{const{t:n}=re();return r?s.jsxs("div",{className:"flex flex-col gap-1","data-testid":"verbosity",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("label",{className:"block font-medium mb-1",children:n("settings:providers.verbosity.label")})}),s.jsxs(Ut,{value:e.verbosity||"medium",onValueChange:o=>t("verbosity",o),children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{placeholder:n("settings:common.select")})}),s.jsx($t,{children:iP.map(o=>s.jsx(ze,{value:o,children:n(`settings:providers.verbosity.${o}`)},o))})]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:n("settings:providers.verbosity.description")})]}):null},yq=({diffEnabled:e=!0,fuzzyMatchThreshold:t=1,onChange:r})=>{const{t:n}=re(),o=h.useCallback(i=>{r("diffEnabled",i.target.checked)},[r]),a=h.useCallback(i=>{r("fuzzyMatchThreshold",i[0])},[r]);return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{children:[s.jsx(qe,{checked:e,onChange:o,children:s.jsx("span",{className:"font-medium",children:n("settings:advanced.diff.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm",children:n("settings:advanced.diff.description")})]}),e&&s.jsx("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:n("settings:advanced.diff.matchPrecision.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:.8,max:1,step:.005,value:[t],onValueChange:a}),s.jsxs("span",{className:"w-10",children:[Math.round(t*100),"%"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:n("settings:advanced.diff.matchPrecision.description")})]})})]})},wq=({todoListEnabled:e=!0,onChange:t})=>{const{t:r}=re(),n=h.useCallback(o=>{t("todoListEnabled",o.target.checked)},[t]);return s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{children:[s.jsx(qe,{checked:e,onChange:n,children:s.jsx("span",{className:"font-medium",children:r("settings:advanced.todoList.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm",children:r("settings:advanced.todoList.description")})]})})},kq=({value:e,onChange:t,maxValue:r=1,defaultValue:n})=>{const{t:o}=re(),[a,i]=h.useState(e!==void 0),[l,c]=h.useState(e);return Mh(()=>t(l),50,[t,l]),h.useEffect(()=>{const d=e!=null;i(d),c(e)},[e]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(qe,{checked:a,onChange:d=>{const u=d.target.checked;i(u),c(u?e??n??0:null)},children:s.jsx("label",{className:"block font-medium mb-1",children:o("settings:temperature.useCustom")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:o("settings:temperature.description")})]}),a&&s.jsx("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:0,max:r,step:.01,value:[l??0],onValueChange:([d])=>c(d)}),s.jsx("span",{className:"w-10",children:l})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:o("settings:temperature.rangeDescription")})]})})]})},jq=({value:e,onChange:t})=>{const{t:r}=re();return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.rateLimitSeconds.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{value:[e],min:0,max:60,step:1,onValueChange:n=>t(n[0])}),s.jsxs("span",{className:"w-10",children:[e,"s"]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:r("settings:providers.rateLimitSeconds.description",{value:e})})]})},_q=({value:e,onChange:t})=>{const{t:r}=re();return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"block font-medium mb-1",children:r("settings:providers.consecutiveMistakeLimit.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{value:[e??Ql],min:0,max:10,step:1,onValueChange:n=>t(Math.max(0,n[0]))}),s.jsx("span",{className:"w-10",children:Math.max(0,e??Ql)})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:e===0?r("settings:providers.consecutiveMistakeLimit.unlimitedDescription"):r("settings:providers.consecutiveMistakeLimit.description",{value:e??Ql})}),e===0&&s.jsx("div",{className:"text-sm text-vscode-errorForeground mt-1",children:r("settings:providers.consecutiveMistakeLimit.warning")})]})},Nq=({apiConfiguration:e,setApiConfigurationField:t})=>{const{t:r}=re(),n=h.useMemo(()=>{const{awsCustomArn:o,awsRegion:a}=e;return o?hL(o,a):{isValid:!0,errorMessage:void 0}},[e]);return s.jsxs(s.Fragment,{children:[s.jsx(de,{value:(e==null?void 0:e.awsCustomArn)||"",onInput:o=>t("awsCustomArn",o.target.value),placeholder:r("settings:placeholders.customArn"),className:"w-full",children:s.jsx("label",{className:"block font-medium mb-1",children:r("settings:labels.customArn")})}),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground -mt-2",children:[r("settings:providers.awsCustomArnUse"),s.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[s.jsx("li",{children:"arn:aws:bedrock:eu-west-1:123456789012:inference-profile/eu.anthropic.claude-3-7-sonnet-20250219-v1:0"}),s.jsx("li",{children:"arn:aws:bedrock:us-west-2:123456789012:provisioned-model/my-provisioned-model"}),s.jsx("li",{children:"arn:aws:bedrock:us-east-1:123456789012:default-prompt-router/anthropic.claude:1"})]}),r("settings:providers.awsCustomArnDesc")]}),n.isValid?n.errorMessage&&s.jsx("div",{className:"text-sm text-vscode-errorForeground mt-2",children:n.errorMessage}):s.jsx("div",{className:"text-sm text-vscode-errorForeground mt-2",children:n.errorMessage||r("settings:providers.invalidArnFormat")})]})};function kS(e,t){const[r,n]=h.useState("");return h.useEffect(()=>{const o=a=>{var i,l,c;if(a.data.type==="profileDataResponse"){const d=a.data.payload,u=(d==null?void 0:d.success)||!1,p=((i=d==null?void 0:d.data)==null?void 0:i.kilocodeToken)||"",m=((c=(l=d==null?void 0:d.data)==null?void 0:l.user)==null?void 0:c.email)||"";u?p!==e?console.error("KILOTEL: Failed to identify Kilo user, token mismatch:",d):m?(console.debug("KILOTEL: Kilo user identified:",m),n(m),window.removeEventListener("message",o)):console.error("KILOTEL: Failed to identify Kilo user, email missing:",d):console.error("KILOTEL: Failed to identify Kilo user, message doesn't indicate success:",d)}};return e?(console.debug("KILOTEL: fetching profile..."),window.addEventListener("message",o),R.postMessage({type:"fetchProfileDataRequest"})):(console.debug("KILOTEL: no Kilo user"),n("")),()=>{window.removeEventListener("message",o)}},[e]),r||t}const Sq=({apiConfiguration:e,setApiConfigurationField:t,currentApiConfigName:r,hideKiloCodeButton:n,routerModels:o,organizationAllowList:a,kilocodeDefaultModel:i})=>{const{t:l}=re(),c=h.useCallback((g,f=nt)=>x=>{t(g,f(x))},[t]),u=kS(e.kilocodeToken||"","").endsWith("@kilo.ai"),p=e.kilocodeTesterWarningsDisabledUntil?e.kilocodeTesterWarningsDisabledUntil>Date.now():!1,m=h.useCallback(()=>{const g=Date.now()+(p?0:864e5);t("kilocodeTesterWarningsDisabledUntil",g)},[p,t]);return s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("label",{className:"block font-medium -mb-2",children:l("kilocode:settings.provider.account")})}),!n&&(e.kilocodeToken?s.jsx("div",{children:s.jsx(oe,{variant:"secondary",onClick:async()=>{t("kilocodeToken",""),R.postMessage({type:"upsertApiConfiguration",text:r,apiConfiguration:{...e,kilocodeToken:"",kilocodeOrganizationId:void 0}})},children:l("kilocode:settings.provider.logout")})}):s.jsx(oe,{variant:"secondary",onClick:()=>{R.postMessage({type:"switchTab",tab:"auth",values:{returnTo:"settings",profileName:r}})},children:l("kilocode:settings.provider.login")})),s.jsx(de,{value:(e==null?void 0:e.kilocodeToken)||"",type:"password",onInput:c("kilocodeToken"),placeholder:l("kilocode:settings.provider.apiKey"),className:"w-full",children:s.jsx("div",{className:"flex justify-between items-center mb-1",children:s.jsx("label",{className:"block font-medium",children:l("kilocode:settings.provider.apiKey")})})}),s.jsx(Yg,{showLabel:!0}),s.jsx(Ts,{apiConfiguration:e,setApiConfigurationField:t,defaultModelId:i,models:(o==null?void 0:o.kilocode)??{},modelIdKey:"kilocodeModel",serviceName:"Kilo Code",serviceUrl:Er(),organizationAllowList:a}),u&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block font-medium mb-2",children:"Disable KILOCODE-TESTER warnings"}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:p?`Warnings disabled until ${new Date(e.kilocodeTesterWarningsDisabledUntil||0).toLocaleString()}`:"KILOCODE-TESTER warnings are currently enabled"}),s.jsx(oe,{variant:"secondary",onClick:m,className:"text-sm",children:p?"Enable warnings now":"Disable warnings for 1 day"})]})]})},Tq=()=>{const[e,t]=h.useState(null),[r,n]=h.useState(!1),[o,a]=h.useState(null);return h.useEffect(()=>{n(!0);const i=`roo-balance-${Date.now()}`,l=d=>{var p,m;const u=d.data;u.type==="rooCreditBalance"&&u.requestId===i&&(window.removeEventListener("message",l),clearTimeout(c),((p=u.values)==null?void 0:p.balance)!==void 0?(t(u.values.balance),a(null)):(m=u.values)!=null&&m.error&&(a(u.values.error),t(null)),n(!1))},c=setTimeout(()=>{window.removeEventListener("message",l),n(!1),a("Request timed out")},1e4);return window.addEventListener("message",l),R.postMessage({type:"requestRooCreditBalance",requestId:i}),()=>{window.removeEventListener("message",l),clearTimeout(c)}},[]),{data:e,isLoading:r,error:o}},Pq=()=>{const{data:e}=Tq(),{cloudApiUrl:t}=Ye();if(e==null)return null;const r=e.toFixed(2),n=t?`${t.replace(/\/$/,"")}/billing`:"https://app.roocode.com/billing";return s.jsxs(Oe,{href:n,className:"text-vscode-foreground hover:underline whitespace-nowrap",children:["$",r]})},uc="default",Si="specific",Jm="zdr",ua=({value:e,children:t})=>s.jsx(ze,{value:JSON.stringify(e),children:t}),Iq=e=>e.openRouterSpecificProvider&&e.openRouterSpecificProvider!==Mi?{type:Si,provider:e.openRouterSpecificProvider}:{type:e.openRouterProviderSort??uc},Eq=e=>{const{t}=re();return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("label",{className:"block font-medium mb-1",children:t("kilocode:settings.provider.providerRouting.title")})}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:s.jsx(yt,{href:Er(`/organizations/${e.organizationId}`),appearance:"secondary",className:"text-sm w-full whitespace-normal h-auto py-3",children:t("kilocode:settings.provider.providerRouting.managedByOrganization")})})]})},Mq=({apiConfiguration:e,setApiConfigurationField:t,kilocodeDefaultModel:r})=>{const{t:n}=re(),o=Object.values(Dg(r,e).data??{}),a=c=>{const d=xr(c);t("openRouterProviderSort",kl.safeParse(d==null?void 0:d.type).data),t("openRouterSpecificProvider",(d==null?void 0:d.type)===Si?d.provider:Mi)},i=e.openRouterSpecificProvider,l=!!i&&i!==Mi&&!o.find(c=>c.label===i);return s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("label",{className:"block font-medium mb-1",children:n("kilocode:settings.provider.providerRouting.title")})}),s.jsxs(Ut,{value:JSON.stringify(Iq(e)),onValueChange:a,children:[s.jsx(Kt,{className:Z("w-full",l&&"border-destructive border-3"),children:s.jsx(Wt,{})}),s.jsxs($t,{children:[s.jsx(ua,{value:{type:uc},children:n("kilocode:settings.provider.providerRouting.sorting.default")}),s.jsx(ua,{value:{type:kl.Values.price},children:n("kilocode:settings.provider.providerRouting.sorting.price")}),s.jsx(ua,{value:{type:kl.Values.throughput},children:n("kilocode:settings.provider.providerRouting.sorting.throughput")}),s.jsx(ua,{value:{type:kl.Values.latency},children:n("kilocode:settings.provider.providerRouting.sorting.latency")}),s.jsx($R,{}),l&&s.jsx(ua,{value:{type:Si,provider:i},children:i}),o.map(c=>s.jsx(ua,{value:{type:Si,provider:c.label},children:c.label},`${Si}:${c.label}`))]})]}),s.jsxs(Ut,{value:e.openRouterZdr?Jm:e.openRouterProviderDataCollection??uc,onValueChange:c=>{t("openRouterProviderDataCollection",Dd.safeParse(c).data),t("openRouterZdr",c===Jm||void 0)},children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{})}),s.jsxs($t,{children:[s.jsx(ze,{value:uc,children:e.apiProvider==="kilocode"?n("kilocode:settings.provider.providerRouting.dataCollection.allowFree"):n("kilocode:settings.provider.providerRouting.dataCollection.default")}),s.jsx(ze,{value:Dd.Values.allow,children:n("kilocode:settings.provider.providerRouting.dataCollection.allow")}),s.jsx(ze,{value:Dd.Values.deny,children:n("kilocode:settings.provider.providerRouting.dataCollection.deny")}),s.jsx(ze,{value:Jm,children:n("kilocode:settings.provider.providerRouting.dataCollection.zdr")})]})]}),e.apiProvider==="kilocode"&&s.jsx(yt,{onClick:()=>{os.capture(Cs.CREATE_ORGANIZATION_LINK_CLICKED,{origin:"provider-routing"})},href:Er("/organizations/new"),appearance:"primary",className:"text-sm w-full whitespace-normal h-auto py-3",children:n("kilocode:settings.provider.providerRouting.createOrganization")})]})},Cq=({rateLimitAfterEnabled:e=!1,onChange:t})=>{const{t:r}=re(),n=h.useCallback(o=>{t("rateLimitAfter",o.target.checked)},[t]);return s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{children:[s.jsx(qe,{checked:e,onChange:n,children:s.jsx("span",{className:"font-medium",children:r("settings:providers.rateLimitAfter.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm",children:r("settings:providers.rateLimitAfter.description")})]})})},Aq=({uriScheme:e,apiConfiguration:t,setApiConfigurationField:r,fromWelcomeView:n,errorMessage:o,setErrorMessage:a,hideKiloCodeButton:i=!1,currentApiConfigName:l})=>{const{t:c}=re(),{organizationAllowList:d,kilocodeDefaultModel:u,cloudIsAuthenticated:p,claudeCodeIsAuthenticated:m}=Ye(),[g,f]=h.useState(()=>{const C=(t==null?void 0:t.openAiHeaders)||{};return Object.entries(C)});h.useEffect(()=>{const C=(t==null?void 0:t.openAiHeaders)||{};JSON.stringify(g)!==JSON.stringify(Object.entries(C))&&f(Object.entries(C))},[t==null?void 0:t.openAiHeaders,g]),Mh(()=>{const C=(t==null?void 0:t.openAiHeaders)||{},H=jf(g);JSON.stringify(C)!==JSON.stringify(H)&&r("openAiHeaders",H)},300,[g,t==null?void 0:t.openAiHeaders,r]);const[x,y]=h.useState(!1),[N,b]=h.useState(!1),j=h.useCallback((C,H=nt)=>z=>{r(C,H(z))},[r]),{provider:v,id:_,info:k}=Bn(t),{data:w,refetch:T}=nl({openRouterBaseUrl:t==null?void 0:t.openRouterBaseUrl,openRouterApiKey:t==null?void 0:t.openRouterApiKey,kilocodeOrganizationId:(t==null?void 0:t.kilocodeOrganizationId)??"personal",deepInfraApiKey:t==null?void 0:t.deepInfraApiKey,geminiApiKey:t==null?void 0:t.geminiApiKey,googleGeminiBaseUrl:t==null?void 0:t.googleGeminiBaseUrl,chutesApiKey:t==null?void 0:t.chutesApiKey,syntheticApiKey:t==null?void 0:t.syntheticApiKey});h.useEffect(()=>{_&&t.apiModelId!==_&&r("apiModelId",_,!1)},[_,r,t.apiModelId]),Mh(()=>{if(v==="openai"){const C=jf(g);R.postMessage({type:"requestOpenAiModels",values:{baseUrl:t==null?void 0:t.openAiBaseUrl,apiKey:t==null?void 0:t.openAiApiKey,customHeaders:{},openAiHeaders:C}})}else v==="ollama"?R.postMessage({type:"requestOllamaModels"}):v==="lmstudio"?R.postMessage({type:"requestLmStudioModels"}):v==="vscode-lm"?R.postMessage({type:"requestVsCodeLmModels"}):(v==="litellm"||v==="deepinfra"||v==="chutes"||v==="synthetic"||v==="roo")&&R.postMessage({type:"requestRouterModels"})},250,[v,t==null?void 0:t.requestyApiKey,t==null?void 0:t.openAiBaseUrl,t==null?void 0:t.openAiApiKey,t==null?void 0:t.ollamaBaseUrl,t==null?void 0:t.lmStudioBaseUrl,t==null?void 0:t.litellmBaseUrl,t==null?void 0:t.litellmApiKey,t==null?void 0:t.deepInfraApiKey,t==null?void 0:t.deepInfraBaseUrl,t==null?void 0:t.chutesApiKey,t==null?void 0:t.ovhCloudAiEndpointsBaseUrl,g]),h.useEffect(()=>{const C=gL(t,w,d);a(C)},[t,w,d,a]);const S=h.useMemo(()=>{const C=vq[v];if(!C)return[];const H=xL(C,v,d);return H?Object.entries(H).filter(([D,Y])=>D===_?!0:!Y.deprecated).map(([D])=>({value:D,label:D})):[]},[v,d,_]),P=h.useCallback(C=>{r("apiProvider",C);const H=(Y,U,q)=>{if(!q)return;!Y&&r(U,q,!1)},D={deepinfra:{field:"deepInfraModelId",default:ad},openrouter:{field:"openRouterModelId",default:tl},glama:{field:"glamaModelId",default:td},unbound:{field:"unboundModelId",default:od},requesty:{field:"requestyModelId",default:nd},litellm:{field:"litellmModelId",default:Fi},"nano-gpt":{field:"nanoGptModelId",default:xg},anthropic:{field:"apiModelId",default:Qc},cerebras:{field:"apiModelId",default:rg},"claude-code":{field:"apiModelId",default:rl},"qwen-code":{field:"apiModelId",default:bg},"openai-native":{field:"apiModelId",default:a1},gemini:{field:"apiModelId",default:$a},deepseek:{field:"apiModelId",default:og},doubao:{field:"apiModelId",default:Wf},moonshot:{field:"apiModelId",default:fg},minimax:{field:"apiModelId",default:Uf},mistral:{field:"apiModelId",default:rd},xai:{field:"apiModelId",default:Ng},groq:{field:"apiModelId",default:pg},chutes:{field:"apiModelId",default:Xc},baseten:{field:"apiModelId",default:sg},bedrock:{field:"apiModelId",default:Kf},vertex:{field:"apiModelId",default:jg},sambanova:{field:"apiModelId",default:wg},zai:{field:"apiModelId",default:t.zaiApiLine==="china_coding"?Eg:Pg},fireworks:{field:"apiModelId",default:cg},featherless:{field:"apiModelId",default:lg},"io-intelligence":{field:"ioIntelligenceModelId",default:sd},roo:{field:"apiModelId",default:qf},"vercel-ai-gateway":{field:"vercelAiGatewayModelId",default:Tg},openai:{field:"openAiModelId"},ollama:{field:"ollamaModelId"},lmstudio:{field:"lmStudioModelId"},kilocode:{field:"kilocodeModel",default:u},"gemini-cli":{field:"apiModelId",default:n1},synthetic:{field:"apiModelId",default:Zc},ovhcloud:{field:"ovhCloudAiEndpointsModelId",default:Jc},inception:{field:"inceptionLabsModelId",default:ed}}[C];D&&H(t[D.field],D.field,D.default)},[r,t,u]),I=h.useMemo(()=>fL(t,w,d),[t,w,d]),M=h.useMemo(()=>{const C=qc.find(({value:U})=>U===v),H=C==null?void 0:C.label;if(!H||["gemini-cli","moonshot","chutes","cerebras","litellm","zai","qwen-code","minimax"].includes(v))return;const Y={"openai-native":"openai",openai:"openai-compatible"}[v]||v;return{url:St(`providers/${Y}`),name:H}},[v]),A=h.useMemo(()=>qc.map(({value:C,label:H})=>({value:C,label:H})),[]);return s.jsxs("div",{className:"flex flex-col gap-3",children:[Mg,s.jsxs("div",{className:"flex flex-col gap-1 relative",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{className:"block font-medium",children:c("settings:providers.apiProvider")}),v==="roo"&&p?s.jsx(Pq,{}):M&&s.jsxs(Oe,{href:M.url,target:"_blank",className:"flex gap-2",children:[c("settings:providers.apiProviderDocs"),s.jsx(r_,{className:"size-4 inline ml-2"})]})]}),s.jsx(Qo,{value:v,onValueChange:C=>P(C),options:A,placeholder:c("settings:common.select"),searchPlaceholder:c("settings:providers.searchProviderPlaceholder"),emptyMessage:c("settings:providers.noProviderMatchFound"),className:"w-full","data-testid":"provider-select"})]}),o&&s.jsx(zc,{errorMessage:o}),v==="kilocode"&&s.jsx(Sq,{apiConfiguration:t,setApiConfigurationField:r,hideKiloCodeButton:i,currentApiConfigName:l,routerModels:w,organizationAllowList:d,kilocodeDefaultModel:u}),v==="openrouter"&&s.jsx(Uz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:w,selectedModelId:_,uriScheme:e,simplifySettings:n,organizationAllowList:d,modelValidationError:I}),v==="requesty"&&s.jsx(Qz,{uriScheme:e,apiConfiguration:t,setApiConfigurationField:r,routerModels:w,refetchRouterModels:T,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),v==="glama"&&s.jsx(Sz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:w,uriScheme:e,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),v==="unbound"&&s.jsx(Xz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:w,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),v==="deepinfra"&&s.jsx(fq,{apiConfiguration:t,setApiConfigurationField:r,routerModels:w,refetchRouterModels:T,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),v==="inception"&&s.jsx(aq,{apiConfiguration:t,setApiConfigurationField:r,routerModels:w,refetchRouterModels:T,organizationAllowList:d,modelValidationError:I}),v==="anthropic"&&s.jsx(FB,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),v==="claude-code"&&s.jsx(yz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n,claudeCodeIsAuthenticated:m}),v==="openai-native"&&s.jsx(Oz,{apiConfiguration:t,setApiConfigurationField:r,selectedModelInfo:k,simplifySettings:n}),v==="ovhcloud"&&s.jsx(tq,{apiConfiguration:t,setApiConfigurationField:r,routerModels:w,organizationAllowList:d,modelValidationError:I}),v==="mistral"&&s.jsx(Mz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),v==="baseten"&&s.jsx(xq,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),v==="bedrock"&&s.jsx(LB,{apiConfiguration:t,setApiConfigurationField:r,selectedModelInfo:k,simplifySettings:n}),v==="vertex"&&s.jsx(Jz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),v==="gemini"&&s.jsx(jz,{apiConfiguration:t,setApiConfigurationField:r,fromWelcomeView:n,routerModels:w,organizationAllowList:d,modelValidationError:I}),v==="openai"&&s.jsx(Fz,{apiConfiguration:t,setApiConfigurationField:r,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),v==="lmstudio"&&s.jsx(Ez,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),v==="deepseek"&&s.jsx(wz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),v==="doubao"&&s.jsx(kz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),v==="qwen-code"&&s.jsx(Wz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),v==="moonshot"&&s.jsx(Cz,{apiConfiguration:t,setApiConfigurationField:r,simplifySettings:n}),v==="minimax"&&s.jsx(gq,{apiConfiguration:t,setApiConfigurationField:r}),v==="nano-gpt"&&s.jsx(Az,{apiConfiguration:t,setApiConfigurationField:r,routerModels:w,organizationAllowList:d,modelValidationError:I}),v==="vscode-lm"&&s.jsx(Zz,{apiConfiguration:t,setApiConfigurationField:r}),v==="ollama"&&s.jsx(Rz,{apiConfiguration:t,setApiConfigurationField:r}),v==="xai"&&s.jsx(eq,{apiConfiguration:t,setApiConfigurationField:r}),v==="groq"&&s.jsx(Tz,{apiConfiguration:t,setApiConfigurationField:r}),v==="huggingface"&&s.jsx(Pz,{apiConfiguration:t,setApiConfigurationField:r}),v==="cerebras"&&s.jsx(BB,{apiConfiguration:t,setApiConfigurationField:r}),v==="chutes"&&s.jsx(vz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:w,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),v==="gemini-cli"&&s.jsx(sq,{apiConfiguration:t,setApiConfigurationField:r}),v==="virtual-quota-fallback"&&s.jsx(oq,{apiConfiguration:t,setApiConfigurationField:r}),v==="litellm"&&s.jsx(uq,{apiConfiguration:t,setApiConfigurationField:r,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),v==="sambanova"&&s.jsx(Yz,{apiConfiguration:t,setApiConfigurationField:r}),v==="zai"&&s.jsx(dq,{apiConfiguration:t,setApiConfigurationField:r}),v==="io-intelligence"&&s.jsx(Iz,{apiConfiguration:t,setApiConfigurationField:r,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),v==="vercel-ai-gateway"&&s.jsx(hq,{apiConfiguration:t,setApiConfigurationField:r,routerModels:w,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),v==="human-relay"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:c("settings:providers.humanRelay.description")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground",children:c("settings:providers.humanRelay.instructions")})]}),v==="fireworks"&&s.jsx(pq,{apiConfiguration:t,setApiConfigurationField:r}),v==="synthetic"&&s.jsx(iq,{apiConfiguration:t,setApiConfigurationField:r,routerModels:w,organizationAllowList:d,modelValidationError:I}),v==="roo"&&s.jsx(Kz,{apiConfiguration:t,setApiConfigurationField:r,routerModels:w,cloudIsAuthenticated:p,organizationAllowList:d,modelValidationError:I,simplifySettings:n}),v==="featherless"&&s.jsx(mq,{apiConfiguration:t,setApiConfigurationField:r}),v==="sap-ai-core"&&s.jsx(cq,{apiConfiguration:t,setApiConfigurationField:r}),S.length>0&&v!=="claude-code"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:c("settings:providers.model")}),s.jsxs(Ut,{value:_==="custom-arn"?"custom-arn":_,onValueChange:C=>{r("apiModelId",C),C!=="custom-arn"&&v==="bedrock"&&r("awsCustomArn",""),v==="openai-native"&&r("reasoningEffort",void 0)},children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{placeholder:c("settings:common.select")})}),s.jsxs($t,{children:[S.map(C=>s.jsx(ze,{value:C.value,children:C.label},C.value)),v==="bedrock"&&s.jsx(ze,{value:"custom-arn",children:c("settings:labels.useCustomArn")})]})]})]}),(k==null?void 0:k.deprecated)&&s.jsx(zc,{errorMessage:c("settings:validation.modelDeprecated")}),v==="bedrock"&&_==="custom-arn"&&s.jsx(Nq,{apiConfiguration:t,setApiConfigurationField:r}),!(k!=null&&k.deprecated)&&s.jsx(Sx,{apiProvider:v,selectedModelId:_,modelInfo:k,isDescriptionExpanded:x,setIsDescriptionExpanded:y})]}),!n&&s.jsx(wS,{apiConfiguration:t,setApiConfigurationField:r,modelInfo:k},`${v}-${_}`),!n&&(k==null?void 0:k.supportsVerbosity)&&s.jsx(bq,{apiConfiguration:t,setApiConfigurationField:r,modelInfo:k}),(v==="kilocode"||v==="openrouter")&&(t.kilocodeOrganizationId?s.jsx(Eq,{organizationId:t.kilocodeOrganizationId}):s.jsx(Mq,{apiConfiguration:t,setApiConfigurationField:r,kilocodeDefaultModel:u})),!n&&v!=="virtual-quota-fallback"&&s.jsxs(Hg,{open:N,onOpenChange:b,children:[s.jsxs(Vg,{className:"flex items-center gap-1 w-full cursor-pointer hover:opacity-80 mb-2",children:[s.jsx("span",{className:`codicon codicon-chevron-${N?"down":"right"}`}),s.jsx("span",{className:"font-medium",children:c("settings:advancedSettings.title")})]}),s.jsxs(w_,{className:"space-y-3",children:[s.jsx(wq,{todoListEnabled:t.todoListEnabled,onChange:(C,H)=>r(C,H)}),s.jsx(yq,{diffEnabled:t.diffEnabled,fuzzyMatchThreshold:t.fuzzyMatchThreshold,onChange:(C,H)=>r(C,H)}),(k==null?void 0:k.supportsTemperature)!==!1&&s.jsx(kq,{value:t.modelTemperature,onChange:j("modelTemperature",Co),maxValue:2,defaultValue:k==null?void 0:k.defaultTemperature}),s.jsx(Cq,{rateLimitAfterEnabled:t.rateLimitAfter,onChange:(C,H)=>r(C,H)}),s.jsx(jq,{value:t.rateLimitSeconds||0,onChange:C=>r("rateLimitSeconds",C)}),s.jsx(_q,{value:t.consecutiveMistakeLimit!==void 0?t.consecutiveMistakeLimit:Ql,onChange:C=>r("consecutiveMistakeLimit",C)})]})]})]})},jS=h.memo(Aq),ts=({className:e,...t})=>s.jsx("div",{className:Z("flex flex-col gap-4 px-5 py-2",e),...t}),Rq=({allowedMaxRequests:e,allowedMaxCost:t,onMaxRequestsChange:r,onMaxCostChange:n})=>{const{t:o}=vt();return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-x-2 gap-y-2 items-center",children:[s.jsx(o2,{allowedMaxRequests:e,onValueChange:r}),s.jsx(a2,{allowedMaxCost:t,onValueChange:n})]}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground",children:o("settings:autoApprove.maxLimits.description")})]})},Oq=({alwaysAllowReadOnly:e,alwaysAllowReadOnlyOutsideWorkspace:t,alwaysAllowWrite:r,alwaysAllowWriteOutsideWorkspace:n,alwaysAllowWriteProtected:o,alwaysAllowBrowser:a,alwaysAllowMcp:i,alwaysAllowModeSwitch:l,alwaysAllowSubtasks:c,alwaysAllowExecute:d,alwaysAllowFollowupQuestions:u,followupAutoApproveTimeoutMs:p=6e4,allowedCommands:m,allowedMaxRequests:g,allowedMaxCost:f,showAutoApproveMenu:x,yoloMode:y,yoloGatekeeperApiConfigId:N,deniedCommands:b,setCachedStateField:j,...v})=>{const{t:_}=re(),[k,w]=h.useState(""),[T,S]=h.useState(""),{autoApprovalEnabled:P,setAutoApprovalEnabled:I,listApiConfigMeta:M}=Ye(),A=l2(),{effectiveAutoApprovalEnabled:C}=i2(A,P),H=()=>{const D=m??[];if(k&&!D.includes(k)){const Y=[...D,k];j("allowedCommands",Y),w(""),R.postMessage({type:"updateSettings",updatedSettings:{allowedCommands:Y}})}},z=()=>{const D=b??[];if(T&&!D.includes(T)){const Y=[...D,T];j("deniedCommands",Y),S(""),R.postMessage({type:"updateSettings",updatedSettings:{deniedCommands:Y}})}};return s.jsxs("div",{...v,children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fg,{className:"w-4 h-4"}),s.jsx("div",{children:_("settings:sections.autoApprove")})]})}),y&&s.jsx(ts,{children:s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded p-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-sm font-medium text-yellow-500",children:"YOLO Mode is active - all auto-approval settings below are overridden"})]})}),s.jsx(ts,{children:s.jsxs("div",{children:[s.jsx(qe,{checked:x,onChange:D=>j("showAutoApproveMenu",D.target.checked),"data-testid":"show-auto-approve-menu-checkbox",children:s.jsx("span",{className:"font-medium",children:_("settings:autoApprove.showMenu.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:_("settings:autoApprove.showMenu.description")})]})}),s.jsxs(ts,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(qe,{checked:C,"aria-label":_("settings:autoApprove.toggleAriaLabel"),onChange:()=>{const D=!(P??!1);I(D),R.postMessage({type:"autoApprovalEnabled",bool:D})},children:s.jsx("span",{className:"font-medium",children:_("settings:autoApprove.enabled")})}),s.jsxs("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:[s.jsx("p",{children:_("settings:autoApprove.description")}),s.jsx("p",{children:s.jsx(we,{i18nKey:"settings:autoApprove.toggleShortcut",components:{SettingsLink:s.jsx("a",{href:"#",className:"text-vscode-textLink-foreground hover:underline cursor-pointer",onClick:D=>{D.preventDefault(),R.postMessage({type:"openKeyboardShortcuts",text:`${Va.name}.toggleAutoApprove`})}})}})})]}),s.jsx(r2,{alwaysAllowReadOnly:e,alwaysAllowWrite:r,alwaysAllowBrowser:a,alwaysAllowMcp:i,alwaysAllowModeSwitch:l,alwaysAllowSubtasks:c,alwaysAllowExecute:d,alwaysAllowFollowupQuestions:u,onToggle:(D,Y)=>j(D,Y)}),s.jsx(Rq,{allowedMaxRequests:g,allowedMaxCost:f,onMaxRequestsChange:D=>j("allowedMaxRequests",D),onMaxCostChange:D=>j("allowedMaxCost",D)})]}),e&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{className:"flex items-center gap-4 font-bold",children:[s.jsx("span",{className:"codicon codicon-eye"}),s.jsx("div",{children:_("settings:autoApprove.readOnly.label")})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:t,onChange:D=>j("alwaysAllowReadOnlyOutsideWorkspace",D.target.checked),"data-testid":"always-allow-readonly-outside-workspace-checkbox",children:s.jsx("span",{className:"font-medium",children:_("settings:autoApprove.readOnly.outsideWorkspace.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:_("settings:autoApprove.readOnly.outsideWorkspace.description")})]})]}),r&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{className:"flex items-center gap-4 font-bold",children:[s.jsx("span",{className:"codicon codicon-edit"}),s.jsx("div",{children:_("settings:autoApprove.write.label")})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:n,onChange:D=>j("alwaysAllowWriteOutsideWorkspace",D.target.checked),"data-testid":"always-allow-write-outside-workspace-checkbox",children:s.jsx("span",{className:"font-medium",children:_("settings:autoApprove.write.outsideWorkspace.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:_("settings:autoApprove.write.outsideWorkspace.description")})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:o,onChange:D=>j("alwaysAllowWriteProtected",D.target.checked),"data-testid":"always-allow-write-protected-checkbox",children:s.jsx("span",{className:"font-medium",children:_("settings:autoApprove.write.protected.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:_("settings:autoApprove.write.protected.description")})]})]}),u&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{className:"flex items-center gap-4 font-bold",children:[s.jsx("span",{className:"codicon codicon-question"}),s.jsx("div",{children:_("settings:autoApprove.followupQuestions.label")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:1e3,max:3e5,step:1e3,value:[p],onValueChange:([D])=>j("followupAutoApproveTimeoutMs",D),"data-testid":"followup-timeout-slider"}),s.jsxs("span",{className:"w-20",children:[p/1e3,"s"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:_("settings:autoApprove.followupQuestions.timeoutLabel")})]})]}),d&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{className:"flex items-center gap-4 font-bold",children:[s.jsx("span",{className:"codicon codicon-terminal"}),s.jsx("div",{children:_("settings:autoApprove.execute.label")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1","data-testid":"allowed-commands-heading",children:_("settings:autoApprove.execute.allowedCommands")}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:_("settings:autoApprove.execute.allowedCommandsDescription")})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Mr,{value:k,onChange:D=>w(D.target.value),onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),H())},placeholder:_("settings:autoApprove.execute.commandPlaceholder"),className:"grow","data-testid":"command-input"}),s.jsx(oe,{className:"h-8",onClick:H,"data-testid":"add-command-button",children:_("settings:autoApprove.execute.addButton")})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(m??[]).map((D,Y)=>s.jsx(oe,{variant:"secondary","data-testid":`remove-command-${Y}`,onClick:()=>{const U=(m??[]).filter((q,F)=>F!==Y);j("allowedCommands",U),R.postMessage({type:"updateSettings",updatedSettings:{allowedCommands:U}})},children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx("div",{children:D}),s.jsx(_n,{className:"text-foreground scale-75"})]})},Y))}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block font-medium mb-1","data-testid":"denied-commands-heading",children:_("settings:autoApprove.execute.deniedCommands")}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:_("settings:autoApprove.execute.deniedCommandsDescription")})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Mr,{value:T,onChange:D=>S(D.target.value),onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),z())},placeholder:_("settings:autoApprove.execute.deniedCommandPlaceholder"),className:"grow","data-testid":"denied-command-input"}),s.jsx(oe,{className:"h-8",onClick:z,"data-testid":"add-denied-command-button",children:_("settings:autoApprove.execute.addButton")})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(b??[]).map((D,Y)=>s.jsx(oe,{variant:"secondary","data-testid":`remove-denied-command-${Y}`,onClick:()=>{const U=(b??[]).filter((q,F)=>F!==Y);j("deniedCommands",U),R.postMessage({type:"updateSettings",updatedSettings:{deniedCommands:U}})},children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx("div",{children:D}),s.jsx(_n,{className:"text-foreground scale-75"})]})},Y))})]})]}),s.jsx(ts,{children:s.jsxs("div",{className:"border-2 border-yellow-500 rounded-md p-4 bg-yellow-500/10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("h3",{className:"text-lg font-bold text-yellow-500",children:"YOLO Mode"})]}),s.jsx(qe,{checked:y??!1,onChange:D=>j("yoloMode",D.target.checked),"data-testid":"yolo-mode-checkbox",children:s.jsx("span",{className:"font-bold text-base",children:"Enable YOLO Mode - Auto-approve EVERYTHING"})}),s.jsxs("div",{className:"text-vscode-descriptionForeground text-sm mt-2 pl-6",children:[s.jsxs("p",{className:"mb-2",children:["When enabled,"," ",s.jsx("strong",{children:"all operations will be automatically approved without confirmation"}),"."]}),s.jsx("p",{className:"text-yellow-500 font-medium",children:" This includes file modifications, command execution, MCP tools, browser actions, and all other operations. Use with extreme caution!"})]}),y&&s.jsxs("div",{className:"mt-4 pl-6 border-l-2 border-yellow-500/50",children:[s.jsx("label",{className:"block font-medium mb-1",children:"AI Safety Gatekeeper (Optional)"}),s.jsxs(Ut,{value:N||"-",onValueChange:D=>{const Y=D==="-"?"":D;j("yoloGatekeeperApiConfigId",Y),R.postMessage({type:"yoloGatekeeperApiConfigId",text:Y})},children:[s.jsx(Kt,{"data-testid":"gatekeeper-api-config-select",className:"w-full",children:s.jsx(Wt,{placeholder:"No gatekeeper (approve all)"})}),s.jsxs($t,{children:[s.jsx(ze,{value:"-",children:"No gatekeeper (approve all)"}),(M||[]).map(D=>s.jsx(ze,{value:D.id,"data-testid":`gatekeeper-${D.id}-option`,children:D.name},D.id))]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:"Select a model to evaluate each action before auto-approving. The gatekeeper will decide if risky operations should be allowed. We suggest using a small, fast model. This will incur additional costs, as well as additional latency."})]})]})})]})},Dq=({browserToolEnabled:e,browserViewportSize:t,screenshotQuality:r,remoteBrowserHost:n,remoteBrowserEnabled:o,setCachedStateField:a,...i})=>{const{t:l}=re(),[c,d]=h.useState(!1),[u,p]=h.useState(null),[m,g]=h.useState(!1);h.useEffect(()=>{const y=N=>{const b=N.data;b.type==="browserConnectionResult"&&(p({success:b.success,text:b.text}),d(!1),g(!1))};return window.addEventListener("message",y),()=>{window.removeEventListener("message",y)}},[]);const f=async()=>{d(!0),p(null);try{R.postMessage({type:"testBrowserConnection",text:n})}catch(y){p({success:!1,text:`Error: ${y instanceof Error?y.message:String(y)}`}),d(!1)}},x=h.useMemo(()=>[{value:"1280x800",label:l("settings:browser.viewport.options.largeDesktop")},{value:"900x600",label:l("settings:browser.viewport.options.smallDesktop")},{value:"768x1024",label:l("settings:browser.viewport.options.tablet")},{value:"360x640",label:l("settings:browser.viewport.options.mobile")}],[l]);return s.jsxs("div",{...i,children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(p_,{className:"w-4"}),s.jsx("div",{children:l("settings:sections.browser")})]})}),s.jsxs(ts,{children:[s.jsxs("div",{children:[s.jsx(qe,{checked:e,onChange:y=>a("browserToolEnabled",y.target.checked),children:s.jsx("span",{className:"font-medium",children:l("settings:browser.enable.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:browser.enable.description",children:s.jsx(Oe,{href:St("features/browser-use"),style:{display:"inline"},children:" "})})})]}),e&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:l("settings:browser.viewport.label")}),s.jsxs(Ut,{value:t,onValueChange:y=>a("browserViewportSize",y),children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{placeholder:l("settings:common.select")})}),s.jsx($t,{children:s.jsx(Y_,{children:x.map(({value:y,label:N})=>s.jsx(ze,{value:y,children:N},y))})})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:l("settings:browser.viewport.description")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:l("settings:browser.screenshotQuality.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:1,max:100,step:1,value:[r??75],onValueChange:([y])=>a("screenshotQuality",y)}),s.jsxs("span",{className:"w-10",children:[r??75,"%"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:l("settings:browser.screenshotQuality.description")})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:o,onChange:y=>{a("remoteBrowserEnabled",y.target.checked),y.target.checked||a("remoteBrowserHost",void 0)},children:s.jsx("label",{className:"block font-medium mb-1",children:l("settings:browser.remote.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:l("settings:browser.remote.description")})]}),o&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(de,{value:n??"",onChange:y=>a("remoteBrowserHost",y.target.value||void 0),placeholder:l("settings:browser.remote.urlPlaceholder"),style:{flexGrow:1}}),s.jsx(oe,{disabled:c,onClick:f,children:l(c||m?"settings:browser.remote.testingButton":"settings:browser.remote.testButton")})]}),u&&s.jsx("div",{className:`p-2 rounded-xs text-sm ${u.success?"bg-green-800/20 text-green-400":"bg-red-800/20 text-red-400"}`,children:u.text}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:l("settings:browser.remote.instructions")})]})]})]})]})},Fq=({enableCheckpoints:e,autoPurgeEnabled:t,autoPurgeDefaultRetentionDays:r,autoPurgeFavoritedTaskRetentionDays:n,autoPurgeCompletedTaskRetentionDays:o,autoPurgeIncompleteTaskRetentionDays:a,autoPurgeLastRunTimestamp:i,onManualPurge:l,checkpointTimeout:c,setCachedStateField:d,...u})=>{const{t:p}=re();return s.jsxs("div",{...u,children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lj,{className:"w-4"}),s.jsx("div",{children:p("settings:sections.checkpoints")})]})}),s.jsxs(ts,{children:[s.jsxs("div",{children:[s.jsx(qe,{checked:e,onChange:m=>{d("enableCheckpoints",m.target.checked)},children:s.jsx("span",{className:"font-medium",children:p("settings:checkpoints.enable.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:checkpoints.enable.description",children:s.jsx(Oe,{href:St("features/checkpoints"),style:{display:"inline"},children:" "})})})]}),e&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:p("settings:checkpoints.timeout.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:cP,max:lP,step:1,defaultValue:[c??Ph],onValueChange:([m])=>{d("checkpointTimeout",m)},className:"flex-1","data-testid":"checkpoint-timeout-slider"}),s.jsx("span",{className:"w-12 text-center",children:c??Ph})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:p("settings:checkpoints.timeout.description")})]})]}),s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Li,{className:"w-4"}),s.jsx("div",{children:p("settings:sections.autoPurge")})]})}),s.jsx(ts,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(qe,{checked:t,onChange:m=>{d("autoPurgeEnabled",m.target.checked)},children:s.jsx("span",{className:"font-medium",children:p("settings:autoPurge.enable.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:p("settings:autoPurge.enable.description")})]}),t&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:p("settings:autoPurge.defaultRetention.label")}),s.jsx(de,{value:String(r||30),onInput:m=>{const g=parseInt(m.target.value)||30;d("autoPurgeDefaultRetentionDays",Math.max(1,g))},placeholder:"30"}),s.jsx("div",{className:"text-vscode-descriptionForeground text-xs mt-1",children:p("settings:autoPurge.defaultRetention.description")})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:n===null,onChange:m=>{d("autoPurgeFavoritedTaskRetentionDays",m.target.checked?null:90)},children:s.jsx("span",{className:"font-medium",children:p("settings:autoPurge.neverPurgeFavorited.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:p("settings:autoPurge.neverPurgeFavorited.description")})]}),n!==null&&s.jsxs("div",{className:"ml-6",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:p("settings:autoPurge.favoritedRetention.label")}),s.jsx(de,{value:String(n||90),onInput:m=>{const g=parseInt(m.target.value)||90;d("autoPurgeFavoritedTaskRetentionDays",Math.max(1,g))},placeholder:"90"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:p("settings:autoPurge.completedRetention.label")}),s.jsx(de,{value:String(o||30),onInput:m=>{const g=parseInt(m.target.value)||30;d("autoPurgeCompletedTaskRetentionDays",Math.max(1,g))},placeholder:"30"}),s.jsx("div",{className:"text-vscode-descriptionForeground text-xs mt-1",children:p("settings:autoPurge.completedRetention.description")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:p("settings:autoPurge.incompleteRetention.label")}),s.jsx(de,{value:String(a||7),onInput:m=>{const g=parseInt(m.target.value)||7;d("autoPurgeIncompleteTaskRetentionDays",Math.max(1,g))},placeholder:"7"}),s.jsx("div",{className:"text-vscode-descriptionForeground text-xs mt-1",children:p("settings:autoPurge.incompleteRetention.description")})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsx("div",{children:i&&s.jsxs("div",{className:"text-vscode-descriptionForeground text-sm",children:[s.jsx(Bj,{className:"w-3 h-3 inline mr-1"}),p("settings:autoPurge.lastRun.label"),":"," ",new Date(i).toLocaleDateString()]})}),s.jsx(xt,{onClick:l,appearance:"secondary",children:p("settings:autoPurge.manualPurge.button")})]})]})]})})]})};var pc={exports:{}},Lq=pc.exports,n0;function Bq(){return n0||(n0=1,(function(e){(function(t,r,n){function o(c){var d=this,u=l();d.next=function(){var p=2091639*d.s0+d.c*23283064365386963e-26;return d.s0=d.s1,d.s1=d.s2,d.s2=p-(d.c=p|0)},d.c=1,d.s0=u(" "),d.s1=u(" "),d.s2=u(" "),d.s0-=u(c),d.s0<0&&(d.s0+=1),d.s1-=u(c),d.s1<0&&(d.s1+=1),d.s2-=u(c),d.s2<0&&(d.s2+=1),u=null}function a(c,d){return d.c=c.c,d.s0=c.s0,d.s1=c.s1,d.s2=c.s2,d}function i(c,d){var u=new o(c),p=d&&d.state,m=u.next;return m.int32=function(){return u.next()*4294967296|0},m.double=function(){return m()+(m()*2097152|0)*11102230246251565e-32},m.quick=m,p&&(typeof p=="object"&&a(p,u),m.state=function(){return a(u,{})}),m}function l(){var c=4022871197,d=function(u){u=String(u);for(var p=0;p<u.length;p++){c+=u.charCodeAt(p);var m=.02519603282416938*c;c=m>>>0,m-=c,m*=c,c=m>>>0,m-=c,c+=m*4294967296}return(c>>>0)*23283064365386963e-26};return d}r&&r.exports?r.exports=i:this.alea=i})(Lq,e)})(pc)),pc.exports}var mc={exports:{}},zq=mc.exports,o0;function qq(){return o0||(o0=1,(function(e){(function(t,r,n){function o(l){var c=this,d="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var p=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^p^p>>>8},l===(l|0)?c.x=l:d+=l;for(var u=0;u<d.length+64;u++)c.x^=d.charCodeAt(u)|0,c.next()}function a(l,c){return c.x=l.x,c.y=l.y,c.z=l.z,c.w=l.w,c}function i(l,c){var d=new o(l),u=c&&c.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var m=d.next()>>>11,g=(d.next()>>>0)/4294967296,f=(m+g)/(1<<21);while(f===0);return f},p.int32=d.next,p.quick=p,u&&(typeof u=="object"&&a(u,d),p.state=function(){return a(d,{})}),p}r&&r.exports?r.exports=i:this.xor128=i})(zq,e)})(mc)),mc.exports}var hc={exports:{}},Uq=hc.exports,a0;function Wq(){return a0||(a0=1,(function(e){(function(t,r,n){function o(l){var c=this,d="";c.next=function(){var p=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(p^p<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,l===(l|0)?c.x=l:d+=l;for(var u=0;u<d.length+64;u++)c.x^=d.charCodeAt(u)|0,u==d.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function a(l,c){return c.x=l.x,c.y=l.y,c.z=l.z,c.w=l.w,c.v=l.v,c.d=l.d,c}function i(l,c){var d=new o(l),u=c&&c.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var m=d.next()>>>11,g=(d.next()>>>0)/4294967296,f=(m+g)/(1<<21);while(f===0);return f},p.int32=d.next,p.quick=p,u&&(typeof u=="object"&&a(u,d),p.state=function(){return a(d,{})}),p}r&&r.exports?r.exports=i:this.xorwow=i})(Uq,e)})(hc)),hc.exports}var fc={exports:{}},Kq=fc.exports,i0;function $q(){return i0||(i0=1,(function(e){(function(t,r,n){function o(l){var c=this;c.next=function(){var u=c.x,p=c.i,m,g;return m=u[p],m^=m>>>7,g=m^m<<24,m=u[p+1&7],g^=m^m>>>10,m=u[p+3&7],g^=m^m>>>3,m=u[p+4&7],g^=m^m<<7,m=u[p+7&7],m=m^m<<13,g^=m^m<<9,u[p]=g,c.i=p+1&7,g};function d(u,p){var m,g=[];if(p===(p|0))g[0]=p;else for(p=""+p,m=0;m<p.length;++m)g[m&7]=g[m&7]<<15^p.charCodeAt(m)+g[m+1&7]<<13;for(;g.length<8;)g.push(0);for(m=0;m<8&&g[m]===0;++m);for(m==8?g[7]=-1:g[m],u.x=g,u.i=0,m=256;m>0;--m)u.next()}d(c,l)}function a(l,c){return c.x=l.x.slice(),c.i=l.i,c}function i(l,c){l==null&&(l=+new Date);var d=new o(l),u=c&&c.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var m=d.next()>>>11,g=(d.next()>>>0)/4294967296,f=(m+g)/(1<<21);while(f===0);return f},p.int32=d.next,p.quick=p,u&&(u.x&&a(u,d),p.state=function(){return a(d,{})}),p}r&&r.exports?r.exports=i:this.xorshift7=i})(Kq,e)})(fc)),fc.exports}var gc={exports:{}},Hq=gc.exports,l0;function Vq(){return l0||(l0=1,(function(e){(function(t,r,n){function o(l){var c=this;c.next=function(){var u=c.w,p=c.X,m=c.i,g,f;return c.w=u=u+1640531527|0,f=p[m+34&127],g=p[m=m+1&127],f^=f<<13,g^=g<<17,f^=f>>>15,g^=g>>>12,f=p[m]=f^g,c.i=m,f+(u^u>>>16)|0};function d(u,p){var m,g,f,x,y,N=[],b=128;for(p===(p|0)?(g=p,p=null):(p=p+"\0",g=0,b=Math.max(b,p.length)),f=0,x=-32;x<b;++x)p&&(g^=p.charCodeAt((x+32)%p.length)),x===0&&(y=g),g^=g<<10,g^=g>>>15,g^=g<<4,g^=g>>>13,x>=0&&(y=y+1640531527|0,m=N[x&127]^=g+y,f=m==0?f+1:0);for(f>=128&&(N[(p&&p.length||0)&127]=-1),f=127,x=512;x>0;--x)g=N[f+34&127],m=N[f=f+1&127],g^=g<<13,m^=m<<17,g^=g>>>15,m^=m>>>12,N[f]=g^m;u.w=y,u.X=N,u.i=f}d(c,l)}function a(l,c){return c.i=l.i,c.w=l.w,c.X=l.X.slice(),c}function i(l,c){l==null&&(l=+new Date);var d=new o(l),u=c&&c.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var m=d.next()>>>11,g=(d.next()>>>0)/4294967296,f=(m+g)/(1<<21);while(f===0);return f},p.int32=d.next,p.quick=p,u&&(u.X&&a(u,d),p.state=function(){return a(d,{})}),p}r&&r.exports?r.exports=i:this.xor4096=i})(Hq,e)})(gc)),gc.exports}var xc={exports:{}},Gq=xc.exports,c0;function Qq(){return c0||(c0=1,(function(e){(function(t,r,n){function o(l){var c=this,d="";c.next=function(){var p=c.b,m=c.c,g=c.d,f=c.a;return p=p<<25^p>>>7^m,m=m-g|0,g=g<<24^g>>>8^f,f=f-p|0,c.b=p=p<<20^p>>>12^m,c.c=m=m-g|0,c.d=g<<16^m>>>16^f,c.a=f-p|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,l===Math.floor(l)?(c.a=l/4294967296|0,c.b=l|0):d+=l;for(var u=0;u<d.length+20;u++)c.b^=d.charCodeAt(u)|0,c.next()}function a(l,c){return c.a=l.a,c.b=l.b,c.c=l.c,c.d=l.d,c}function i(l,c){var d=new o(l),u=c&&c.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var m=d.next()>>>11,g=(d.next()>>>0)/4294967296,f=(m+g)/(1<<21);while(f===0);return f},p.int32=d.next,p.quick=p,u&&(typeof u=="object"&&a(u,d),p.state=function(){return a(d,{})}),p}r&&r.exports?r.exports=i:this.tychei=i})(Gq,e)})(xc)),xc.exports}var vc={exports:{}};const Yq=wP(iE);var Xq=vc.exports,d0;function Jq(){return d0||(d0=1,(function(e){(function(t,r,n){var o=256,a=6,i=52,l="random",c=n.pow(o,a),d=n.pow(2,i),u=d*2,p=o-1,m;function g(v,_,k){var w=[];_=_==!0?{entropy:!0}:_||{};var T=N(y(_.entropy?[v,j(r)]:v??b(),3),w),S=new f(w),P=function(){for(var I=S.g(a),M=c,A=0;I<d;)I=(I+A)*o,M*=o,A=S.g(1);for(;I>=u;)I/=2,M/=2,A>>>=1;return(I+A)/M};return P.int32=function(){return S.g(4)|0},P.quick=function(){return S.g(4)/4294967296},P.double=P,N(j(S.S),r),(_.pass||k||function(I,M,A,C){return C&&(C.S&&x(C,S),I.state=function(){return x(S,{})}),A?(n[l]=I,M):I})(P,T,"global"in _?_.global:this==n,_.state)}function f(v){var _,k=v.length,w=this,T=0,S=w.i=w.j=0,P=w.S=[];for(k||(v=[k++]);T<o;)P[T]=T++;for(T=0;T<o;T++)P[T]=P[S=p&S+v[T%k]+(_=P[T])],P[S]=_;(w.g=function(I){for(var M,A=0,C=w.i,H=w.j,z=w.S;I--;)M=z[C=p&C+1],A=A*o+z[p&(z[C]=z[H=p&H+M])+(z[H]=M)];return w.i=C,w.j=H,A})(o)}function x(v,_){return _.i=v.i,_.j=v.j,_.S=v.S.slice(),_}function y(v,_){var k=[],w=typeof v,T;if(_&&w=="object")for(T in v)try{k.push(y(v[T],_-1))}catch{}return k.length?k:w=="string"?v:v+"\0"}function N(v,_){for(var k=v+"",w,T=0;T<k.length;)_[p&T]=p&(w^=_[p&T]*19)+k.charCodeAt(T++);return j(_)}function b(){try{var v;return m&&(v=m.randomBytes)?v=v(o):(v=new Uint8Array(o),(t.crypto||t.msCrypto).getRandomValues(v)),j(v)}catch{var _=t.navigator,k=_&&_.plugins;return[+new Date,t,k,t.screen,j(r)]}}function j(v){return String.fromCharCode.apply(0,v)}if(N(n.random(),r),e.exports){e.exports=g;try{m=Yq}catch{}}else n["seed"+l]=g})(typeof self<"u"?self:Xq,[],Math)})(vc)),vc.exports}var Zm,u0;function Zq(){if(u0)return Zm;u0=1;var e=Bq(),t=qq(),r=Wq(),n=$q(),o=Vq(),a=Qq(),i=Jq();return i.alea=e,i.xor128=t,i.xorwow=r,i.xorshift7=n,i.xor4096=o,i.tychei=a,Zm=i,Zm}var e7=Zq();const t7=ln(e7),s7=17041104e5,p0=t7("TimelineData");function r7(){const e=[],t=[{type:"ask",ask:"command",texts:["Create a React component","Build a todo app","Fix the login bug","Add dark mode support"]},{type:"say",say:"text",texts:["I'll help you with that","Let me analyze the requirements","I'll start by examining the code","Let me understand the current setup"]},{type:"ask",ask:"tool",texts:[JSON.stringify({tool:"read_file",path:"src/App.tsx"}),JSON.stringify({tool:"list_files",path:"src/components"}),JSON.stringify({tool:"search_files",query:"useState"}),JSON.stringify({tool:"read_file",path:"package.json"})]},{type:"say",say:"command_output",texts:["File created successfully","Changes applied","Build completed","Tests passed"]},{type:"say",say:"checkpoint_saved",texts:["Checkpoint saved","Progress saved","State preserved"]},{type:"say",say:"completion_result",texts:["Task completed successfully!","All done!","Implementation finished","Ready to use"]}];for(let r=0;r<8;r++)t.forEach((n,o)=>{const a=n.texts[Math.floor(p0()*n.texts.length)];e.push({ts:s7+(r*8+o)*(1e3+p0()*3e3),type:n.type,...n.ask&&{ask:n.ask},...n.say&&{say:n.say},text:a})});return e}const n7=({showTaskTimeline:e,showTimestamps:t,sendMessageOnEnter:r,setCachedStateField:n,reasoningBlockCollapsed:o,hideCostBelowThreshold:a,...i})=>{const{t:l}=re(),c=h.useMemo(()=>r7(),[]),d=u=>{n("reasoningBlockCollapsed",u),os.capture("ui_settings_collapse_thinking_changed",{enabled:u})};return s.jsxs("div",{...i,children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(l_,{className:"w-4"}),s.jsx("div",{children:l("settings:sections.display")})]})}),s.jsxs(ts,{children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(qe,{checked:o,onChange:u=>d(u.target.checked),"data-testid":"collapse-thinking-checkbox",children:s.jsx("span",{className:"font-medium",children:l("settings:ui.collapseThinking.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm ml-5 mt-1",children:l("settings:ui.collapseThinking.description")})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:e,onChange:u=>{var p;n("showTaskTimeline",((p=u.target)==null?void 0:p.checked)||!1)},children:s.jsx("span",{className:"font-medium",children:l("settings:display.taskTimeline.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:l("settings:display.taskTimeline.description")}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"font-medium text-vscode-foreground text-xs mb-4",children:"Preview"}),s.jsx("div",{className:"opacity-60",children:s.jsx(Rc,{groupedMessages:c,isTaskActive:!1})})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx(qe,{checked:t,onChange:u=>{n("showTimestamps",u.target.checked)},children:s.jsx("span",{className:"font-medium",children:l("settings:display.showTimestamps.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:l("settings:display.showTimestamps.description")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(qe,{checked:r,onChange:u=>{var p;n("sendMessageOnEnter",((p=u.target)==null?void 0:p.checked)||!1)},children:s.jsx("span",{className:"font-medium",children:l("settings:display.sendMessageOnEnter.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:l("settings:display.sendMessageOnEnter.description")})]})]}),s.jsx(ts,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:l("settings:display.costThreshold.label")}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:l("settings:display.costThreshold.description")}),s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:0,max:1,step:.01,value:[a??0],onValueChange:([u])=>n("hideCostBelowThreshold",u),"data-testid":"cost-threshold-slider",className:"flex-1"}),s.jsxs("span",{className:"text-sm text-vscode-foreground min-w-[60px]",children:["$",(a??0).toFixed(2)]})]}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1",children:l("settings:display.costThreshold.currentValue",{value:(a??0).toFixed(2)})})]})]})})]})},o7=({ttsEnabled:e,ttsSpeed:t,soundEnabled:r,soundVolume:n,systemNotificationsEnabled:o,areSettingsCommitted:a,setCachedStateField:i,...l})=>{const{t:c}=re(),d=()=>{R.postMessage({type:"showSystemNotification",notificationOptions:{title:c("kilocode:settings.systemNotifications.testTitle"),message:c("kilocode:settings.systemNotifications.testMessage")},alwaysAllow:!0})};return s.jsxs("div",{...l,children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(s_,{className:"w-4"}),s.jsx("div",{children:c("settings:sections.notifications")})]})}),s.jsxs(ts,{children:[s.jsxs("div",{children:[s.jsx(qe,{checked:e,onChange:u=>i("ttsEnabled",u.target.checked),"data-testid":"tts-enabled-checkbox",children:s.jsx("span",{className:"font-medium",children:c("settings:notifications.tts.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:c("settings:notifications.tts.description")})]}),e&&s.jsx("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:c("settings:notifications.tts.speedLabel")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:.1,max:2,step:.01,value:[t??1],onValueChange:([u])=>i("ttsSpeed",u),"data-testid":"tts-speed-slider"}),s.jsxs("span",{className:"w-10",children:[((t??1)*100).toFixed(0),"%"]})]})]})}),s.jsxs("div",{children:[s.jsx(qe,{checked:r,onChange:u=>i("soundEnabled",u.target.checked),"data-testid":"sound-enabled-checkbox",children:s.jsx("span",{className:"font-medium",children:c("settings:notifications.sound.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:c("settings:notifications.sound.description")})]}),r&&s.jsx("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:c("settings:notifications.sound.volumeLabel")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:0,max:1,step:.01,value:[n??.5],onValueChange:([u])=>i("soundVolume",u),"data-testid":"sound-volume-slider"}),s.jsxs("span",{className:"w-10",children:[((n??.5)*100).toFixed(0),"%"]})]})]})}),s.jsxs("div",{children:[s.jsx(qe,{checked:o,onChange:u=>i("systemNotificationsEnabled",u.target.checked),"data-testid":"system-notifications-enabled-checkbox",children:s.jsx("span",{className:"font-medium",children:c("kilocode:settings.systemNotifications.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:c("kilocode:settings.systemNotifications.description")})]}),o&&s.jsx("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsx(L2,{className:"w-fit text-vscode-button-background hover:text-vscode-button-hoverBackground",onClick:d,children:c("kilocode:settings.systemNotifications.testButton")})})]})]})},a7=({autoCondenseContext:e,autoCondenseContextPercent:t,listApiConfigMeta:r,maxOpenTabsContext:n,maxWorkspaceFiles:o,showRooIgnoredFiles:a,enableSubfolderRules:i,setCachedStateField:l,maxReadFileLine:c,maxImageFileSize:d,maxTotalImageSize:u,maxConcurrentFileReads:p,allowVeryLargeReads:m,profileThresholds:g={},includeDiagnosticMessages:f,maxDiagnosticMessages:x,writeDelayMs:y,includeCurrentTime:N,includeCurrentCost:b,maxGitStatusFiles:j,className:v,..._})=>{const{t:k}=re(),[w,T]=Qe.useState("default"),S=()=>{if(w==="default")return t;const I=g[w];return I===void 0||I===-1?t:I},P=I=>{if(w==="default")l("autoCondenseContextPercent",I);else{const M={...g,[w]:I};l("profileThresholds",M),R.postMessage({type:"updateSettings",updatedSettings:{profileThresholds:M}})}};return s.jsxs("div",{className:Z("flex flex-col gap-2",v),..._,children:[s.jsx(Ss,{description:k("settings:contextManagement.description"),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lg,{className:"w-4"}),s.jsx("div",{children:k("settings:sections.contextManagement")})]})}),s.jsxs(ts,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium mb-1",children:k("settings:contextManagement.openTabs.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:0,max:500,step:1,value:[n??20],onValueChange:([I])=>l("maxOpenTabsContext",I),"data-testid":"open-tabs-limit-slider"}),s.jsx("span",{className:"w-10",children:n??20})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:k("settings:contextManagement.openTabs.description")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium mb-1",children:k("settings:contextManagement.workspaceFiles.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:0,max:500,step:1,value:[o??200],onValueChange:([I])=>l("maxWorkspaceFiles",I),"data-testid":"workspace-files-limit-slider"}),s.jsx("span",{className:"w-10",children:o??200})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:k("settings:contextManagement.workspaceFiles.description")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium mb-1",children:k("settings:contextManagement.maxGitStatusFiles.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:0,max:50,step:1,value:[j??0],onValueChange:([I])=>l("maxGitStatusFiles",I),"data-testid":"max-git-status-files-slider"}),s.jsx("span",{className:"w-10",children:j??0})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:k("settings:contextManagement.maxGitStatusFiles.description")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium mb-1",children:k("settings:contextManagement.maxConcurrentFileReads.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:1,max:100,step:1,value:[Math.max(1,p??5)],onValueChange:([I])=>l("maxConcurrentFileReads",I),"data-testid":"max-concurrent-file-reads-slider"}),s.jsx("span",{className:"w-10 text-sm",children:Math.max(1,p??5)})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:k("settings:contextManagement.maxConcurrentFileReads.description")})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:a,onChange:I=>l("showRooIgnoredFiles",I.target.checked),"data-testid":"show-rooignored-files-checkbox",children:s.jsx("label",{className:"block font-medium mb-1",children:k("settings:contextManagement.rooignore.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:k("settings:contextManagement.rooignore.description")})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:i,onChange:I=>l("enableSubfolderRules",I.target.checked),"data-testid":"enable-subfolder-rules-checkbox",children:s.jsx("label",{className:"block font-medium mb-1",children:k("settings:contextManagement.enableSubfolderRules.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:k("settings:contextManagement.enableSubfolderRules.description")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"font-medium",children:k("settings:contextManagement.maxReadFile.label")}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mr,{type:"number",pattern:"-?[0-9]*",className:"w-24 bg-vscode-input-background text-vscode-input-foreground border border-vscode-input-border px-2 py-1 rounded text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none disabled:opacity-50",value:c??500,min:-1,onChange:I=>{const M=parseInt(I.target.value,10);!isNaN(M)&&M>=-1&&l("maxReadFileLine",M)},onClick:I=>I.currentTarget.select(),"data-testid":"max-read-file-line-input",disabled:c===-1}),s.jsx("span",{children:k("settings:contextManagement.maxReadFile.lines")}),s.jsx(qe,{checked:c===-1,onChange:I=>l("maxReadFileLine",I.target.checked?-1:500),"data-testid":"max-read-file-always-full-checkbox",children:k("settings:contextManagement.maxReadFile.always_full_read")})]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-2",children:k("settings:contextManagement.maxReadFile.description")})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:m,onChange:I=>l("allowVeryLargeReads",I.target.checked),children:s.jsx("label",{className:"block font-medium mb-1",children:k("kilocode:settings.contextManagement.allowVeryLargeReads.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:k("kilocode:settings.contextManagement.allowVeryLargeReads.description")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"font-medium",children:k("settings:contextManagement.maxImageFileSize.label")}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mr,{type:"number",pattern:"[0-9]*",className:"w-24 bg-vscode-input-background text-vscode-input-foreground border border-vscode-input-border px-2 py-1 rounded text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:d??5,min:1,max:100,onChange:I=>{const M=parseInt(I.target.value,10);!isNaN(M)&&M>=1&&M<=100&&l("maxImageFileSize",M)},onClick:I=>I.currentTarget.select(),"data-testid":"max-image-file-size-input"}),s.jsx("span",{children:k("settings:contextManagement.maxImageFileSize.mb")})]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-2",children:k("settings:contextManagement.maxImageFileSize.description")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"font-medium",children:k("settings:contextManagement.maxTotalImageSize.label")}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mr,{type:"number",pattern:"[0-9]*",className:"w-24 bg-vscode-input-background text-vscode-input-foreground border border-vscode-input-border px-2 py-1 rounded text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:u??20,min:1,max:500,onChange:I=>{const M=parseInt(I.target.value,10);!isNaN(M)&&M>=1&&M<=500&&l("maxTotalImageSize",M)},onClick:I=>I.currentTarget.select(),"data-testid":"max-total-image-size-input"}),s.jsx("span",{children:k("settings:contextManagement.maxTotalImageSize.mb")})]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-2",children:k("settings:contextManagement.maxTotalImageSize.description")})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:f,onChange:I=>l("includeDiagnosticMessages",I.target.checked),"data-testid":"include-diagnostic-messages-checkbox",children:s.jsx("label",{className:"block font-medium mb-1",children:k("settings:contextManagement.diagnostics.includeMessages.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:k("settings:contextManagement.diagnostics.includeMessages.description")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium mb-1",children:k("settings:contextManagement.diagnostics.maxMessages.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:1,max:100,step:1,value:[x!==void 0&&x<=0?100:x??50],onValueChange:([I])=>{l("maxDiagnosticMessages",I===100?-1:I)},"data-testid":"max-diagnostic-messages-slider","aria-label":k("settings:contextManagement.diagnostics.maxMessages.label"),"aria-valuemin":1,"aria-valuemax":100,"aria-valuenow":x!==void 0&&x<=0?100:x??50,"aria-valuetext":x!==void 0&&x<=0||x===100?k("settings:contextManagement.diagnostics.maxMessages.unlimitedLabel"):`${x??50} ${k("settings:contextManagement.diagnostics.maxMessages.label")}`}),s.jsx("span",{className:"w-20 text-sm font-medium",children:x!==void 0&&x<=0||x===100?k("settings:contextManagement.diagnostics.maxMessages.unlimitedLabel"):x??50}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>l("maxDiagnosticMessages",50),title:k("settings:contextManagement.diagnostics.maxMessages.resetTooltip"),className:"p-1 h-6 w-6",disabled:x===50,children:s.jsx("span",{className:"codicon codicon-discard"})})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:k("settings:contextManagement.diagnostics.maxMessages.description")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium mb-1",children:k("settings:contextManagement.diagnostics.delayAfterWrite.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:0,max:5e3,step:100,value:[y],onValueChange:([I])=>l("writeDelayMs",I),"data-testid":"write-delay-slider"}),s.jsxs("span",{className:"w-20",children:[y,"ms"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:k("settings:contextManagement.diagnostics.delayAfterWrite.description")})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:N,onChange:I=>l("includeCurrentTime",I.target.checked),"data-testid":"include-current-time-checkbox",children:s.jsx("label",{className:"block font-medium mb-1",children:k("settings:contextManagement.includeCurrentTime.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:k("settings:contextManagement.includeCurrentTime.description")})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:b,onChange:I=>l("includeCurrentCost",I.target.checked),"data-testid":"include-current-cost-checkbox",children:s.jsx("label",{className:"block font-medium mb-1",children:k("settings:contextManagement.includeCurrentCost.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:k("settings:contextManagement.includeCurrentCost.description")})]})]}),s.jsxs(ts,{className:"pt-2",children:[s.jsx(qe,{checked:e,onChange:I=>l("autoCondenseContext",I.target.checked),"data-testid":"auto-condense-context-checkbox",children:s.jsx("span",{className:"font-medium",children:k("settings:contextManagement.autoCondenseContext.name")})}),e&&s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{className:"flex items-center gap-4 font-bold",children:[s.jsx(pd,{size:16}),s.jsx("div",{children:k("settings:contextManagement.condensingThreshold.label")})]}),s.jsx("div",{children:s.jsxs(Ut,{value:w||"default",onValueChange:I=>{T(I)},"data-testid":"threshold-profile-select",children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{placeholder:k("settings:contextManagement.condensingThreshold.selectProfile")||"Select profile for threshold"})}),s.jsxs($t,{children:[s.jsx(ze,{value:"default",children:k("settings:contextManagement.condensingThreshold.defaultProfile")||"Default (applies to all unconfigured profiles)"}),(r||[]).map(I=>{const M=g[I.id],A=M!==void 0?M===-1?` ${k("settings:contextManagement.condensingThreshold.usesGlobal",{threshold:t})}`:` (${M}%)`:"";return s.jsxs(ze,{value:I.id,children:[I.name,A]},I.id)})]})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:10,max:100,step:1,value:[S()],onValueChange:([I])=>P(I),"data-testid":"condense-threshold-slider"}),s.jsxs("span",{className:"w-20",children:[S(),"%"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:w==="default"?k("settings:contextManagement.condensingThreshold.defaultDescription",{threshold:t}):k("settings:contextManagement.condensingThreshold.profileDescription")})]})]})]})]})},i7=({terminalCommandApiConfigId:e,setCachedStateField:t,className:r,...n})=>{const{t:o}=re(),{listApiConfigMeta:a}=Ye();return s.jsxs("div",{className:Z("flex flex-col gap-3",r),...n,children:[s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[s.jsx(g_,{className:"w-4"}),s.jsx("div",{children:o("kilocode:settings.terminal.commandGenerator.provider")})]})}),s.jsx("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:o("kilocode:settings.terminal.commandGenerator.apiConfigId.label")}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{children:[s.jsxs(Ut,{value:e||"-",onValueChange:i=>t("terminalCommandApiConfigId",i==="-"?"":i),children:[s.jsx(Kt,{"data-testid":"terminal-command-api-config-select",className:"w-full",children:s.jsx(Wt,{placeholder:o("kilocode:settings.terminal.commandGenerator.apiConfigId.current")})}),s.jsxs($t,{children:[s.jsx(ze,{value:"-",children:o("kilocode:settings.terminal.commandGenerator.apiConfigId.current")}),(a||[]).map(i=>s.jsxs(ze,{value:i.id,"data-testid":`terminal-command-${i.id}-option`,children:[i.name," (",i.apiProvider,")"]},i.id))]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:o("kilocode:settings.terminal.commandGenerator.apiConfigId.description")})]})})]})})]})},l7=({terminalOutputLineLimit:e,terminalOutputCharacterLimit:t,terminalShellIntegrationTimeout:r,terminalShellIntegrationDisabled:n,terminalCommandDelay:o,terminalPowershellCounter:a,terminalZshClearEolMark:i,terminalZshOhMy:l,terminalZshP10k:c,terminalZdotdir:d,terminalCompressProgressBar:u,terminalCommandApiConfigId:p,setCachedStateField:m,className:g,...f})=>{const{t:x}=re(),[y,N]=h.useState(!0);NT(()=>R.postMessage({type:"getVSCodeSetting",setting:"terminal.integrated.inheritEnv"}));const b=h.useCallback(j=>{const v=j.data;switch(v.type){case"vsCodeSetting":switch(v.setting){case"terminal.integrated.inheritEnv":N(v.value??!0);break}break}},[]);return Us("message",b),s.jsxs("div",{className:Z("flex flex-col",g),...f,children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ff,{className:"w-4"}),s.jsx("div",{children:x("settings:sections.terminal")})]})}),s.jsxs(ts,{children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[s.jsx("span",{className:"codicon codicon-settings-gear"}),s.jsx("div",{children:x("settings:terminal.basic.label")})]})}),s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:x("settings:terminal.outputLineLimit.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:100,max:5e3,step:100,value:[e??500],onValueChange:([j])=>m("terminalOutputLineLimit",j),"data-testid":"terminal-output-limit-slider"}),s.jsx("span",{className:"w-10",children:e??500})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:terminal.outputLineLimit.description",children:s.jsx(Oe,{href:St("features/shell-integration#terminal-output-limit"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:x("settings:terminal.outputCharacterLimit.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:1e3,max:1e5,step:1e3,value:[t??5e4],onValueChange:([j])=>m("terminalOutputCharacterLimit",j),"data-testid":"terminal-output-character-limit-slider"}),s.jsx("span",{className:"w-16",children:t??5e4})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:terminal.outputCharacterLimit.description",children:s.jsx(Oe,{href:St("features/shell-integration#terminal-output-limit"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:u??!0,onChange:j=>m("terminalCompressProgressBar",j.target.checked),"data-testid":"terminal-compress-progress-bar-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.compressProgressBar.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:terminal.compressProgressBar.description",children:s.jsx(Oe,{href:St("features/shell-integration#compress-progress-bar-output"),style:{display:"inline"},children:" "})})})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[s.jsx("span",{className:"codicon codicon-tools"}),s.jsx("div",{children:x("settings:terminal.advanced.label")})]}),s.jsx("div",{className:"text-vscode-descriptionForeground",children:x("settings:terminal.advanced.description")})]}),s.jsxs("div",{className:"flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{children:[s.jsx(qe,{checked:y,onChange:j=>{N(j.target.checked),R.postMessage({type:"updateVSCodeSetting",setting:"terminal.integrated.inheritEnv",value:j.target.checked})},"data-testid":"terminal-inherit-env-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.inheritEnv.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:terminal.inheritEnv.description",children:s.jsx(Oe,{href:St("features/shell-integration#inherit-environment-variables"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:n??!0,onChange:j=>m("terminalShellIntegrationDisabled",j.target.checked),children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.shellIntegrationDisabled.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:terminal.shellIntegrationDisabled.description",children:s.jsx(Oe,{href:St("features/shell-integration#use-inline-terminal-recommended"),style:{display:"inline"},children:" "})})})]}),!n&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(qe,{checked:y,onChange:j=>{N(j.target.checked),R.postMessage({type:"updateVSCodeSetting",setting:"terminal.integrated.inheritEnv",value:j.target.checked})},"data-testid":"terminal-inherit-env-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.inheritEnv.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:terminal.inheritEnv.description",children:s.jsx(Oe,{href:St("features/shell-integration#inherit-environment-variables"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:x("settings:terminal.shellIntegrationTimeout.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:1e3,max:6e4,step:1e3,value:[r??5e3],onValueChange:([j])=>m("terminalShellIntegrationTimeout",Math.min(6e4,Math.max(1e3,j)))}),s.jsxs("span",{className:"w-10",children:[(r??5e3)/1e3,"s"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:terminal.shellIntegrationTimeout.description",children:s.jsx(Oe,{href:St("features/shell-integration#terminal-shell-integration-timeout"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:x("settings:terminal.commandDelay.label")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{min:0,max:1e3,step:10,value:[o??0],onValueChange:([j])=>m("terminalCommandDelay",Math.min(1e3,Math.max(0,j)))}),s.jsxs("span",{className:"w-10",children:[o??50,"ms"]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:terminal.commandDelay.description",children:s.jsx(Oe,{href:St("features/shell-integration#terminal-command-delay"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:a??!1,onChange:j=>m("terminalPowershellCounter",j.target.checked),"data-testid":"terminal-powershell-counter-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.powershellCounter.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:terminal.powershellCounter.description",children:s.jsx(Oe,{href:St("features/shell-integration#enable-powershell-counter-workaround"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:i??!0,onChange:j=>m("terminalZshClearEolMark",j.target.checked),"data-testid":"terminal-zsh-clear-eol-mark-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.zshClearEolMark.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:terminal.zshClearEolMark.description",children:s.jsx(Oe,{href:St("features/shell-integration#clear-zsh-eol-mark"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:l??!1,onChange:j=>m("terminalZshOhMy",j.target.checked),"data-testid":"terminal-zsh-oh-my-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.zshOhMy.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:terminal.zshOhMy.description",children:s.jsx(Oe,{href:St("features/shell-integration#enable-oh-my-zsh-integration"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:c??!1,onChange:j=>m("terminalZshP10k",j.target.checked),"data-testid":"terminal-zsh-p10k-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.zshP10k.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:terminal.zshP10k.description",children:s.jsx(Oe,{href:St("features/shell-integration#enable-powerlevel10k-integration"),style:{display:"inline"},children:" "})})})]}),s.jsxs("div",{children:[s.jsx(qe,{checked:d??!1,onChange:j=>m("terminalZdotdir",j.target.checked),"data-testid":"terminal-zdotdir-checkbox",children:s.jsx("span",{className:"font-medium",children:x("settings:terminal.zdotdir.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"settings:terminal.zdotdir.description",children:s.jsx(Oe,{href:St("features/shell-integration#enable-zdotdir-handling"),style:{display:"inline"},children:" "})})})]})]})]})]}),s.jsx(i7,{terminalCommandApiConfigId:p,setCachedStateField:m})]})]})},Kl=({enabled:e,onChange:t,experimentKey:r})=>{const{t:n}=re(),o=r?`settings:experimental.${r}.name`:"",a=r?`settings:experimental.${r}.description`:"";return s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(qe,{checked:e,onChange:i=>t(i.target.checked),children:s.jsx("span",{className:"font-medium",children:n(o)})})}),s.jsx("p",{className:"text-vscode-descriptionForeground text-sm mt-0",children:n(a)})]})},c7=({morphApiKey:e,fastApplyModel:t,fastApplyApiProvider:r,setCachedStateField:n})=>{const{t:o}=re();return s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-vscode-descriptionForeground mb-1 block",children:o("settings:experimental.MORPH_FAST_APPLY.apiProvider")}),s.jsxs(Bs,{value:r||"current",onChange:a=>{var i;return n("fastApplyApiProvider",((i=a.target)==null?void 0:i.value)||"current")},className:"w-full",children:[s.jsx(gt,{className:"py-2 px-3",value:"kilocode",children:"Kilo Code"}),s.jsx(gt,{className:"py-2 px-3",value:"openrouter",children:"OpenRouter"}),s.jsx(gt,{className:"py-2 px-3",value:"morph",children:"Morph"}),s.jsx(gt,{className:"py-2 px-3",value:"current",children:o("settings:experimental.MORPH_FAST_APPLY.apiProviderList.current")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-vscode-descriptionForeground mb-1 block",children:o("settings:experimental.MORPH_FAST_APPLY.modelLabel")}),s.jsxs(Bs,{value:t||"auto",onChange:a=>{var i;return n("fastApplyModel",((i=a.target)==null?void 0:i.value)||"auto")},className:"w-full",children:[s.jsx(gt,{value:"auto",children:o("settings:experimental.MORPH_FAST_APPLY.models.auto")}),s.jsx(gt,{value:"morph/morph-v3-fast",children:o("settings:experimental.MORPH_FAST_APPLY.models.morphFast")}),s.jsx(gt,{value:"morph/morph-v3-large",children:o("settings:experimental.MORPH_FAST_APPLY.models.morphLarge")}),s.jsx(gt,{value:"relace/relace-apply-3",children:o("settings:experimental.MORPH_FAST_APPLY.models.relace")})]}),s.jsx("p",{className:"text-xs text-vscode-descriptionForeground mt-1",children:o("settings:experimental.MORPH_FAST_APPLY.modelDescription")})]}),r!=="current"&&s.jsx(de,{type:"password",value:e||"",placeholder:o("settings:experimental.MORPH_FAST_APPLY.placeholder"),onChange:a=>{var i;return n("morphApiKey",((i=a.target)==null?void 0:i.value)||"")},className:"w-full",children:o("settings:experimental.MORPH_FAST_APPLY.apiKey")})]})},d7=({enabled:e,onChange:t,imageGenerationProvider:r,openRouterImageApiKey:n,openRouterImageGenerationSelectedModel:o,setImageGenerationProvider:a,setOpenRouterImageApiKey:i,setImageGenerationSelectedModel:l,kiloCodeImageApiKey:c,setKiloCodeImageApiKey:d,currentProfileKilocodeToken:u})=>{const{t:p}=re(),m=dP(r,!!o);h.useEffect(()=>{e&&m!=="openrouter"&&n&&i("")},[e,m,n,i]);const g=h.useMemo(()=>jl.filter(v=>v.provider===m),[m]),f=h.useMemo(()=>{var v;return o&&jl.find(k=>k.value===o&&k.provider===m)?o:((v=g[0])==null?void 0:v.value)||jl[0].value},[o,g,m]),x=v=>{const _=v;a(_);const k=jl.filter(w=>w.provider===_);k.length>0&&(k.find(T=>T.value===o)||l(k[0].value))},y=v=>{i(v)},N=v=>{d(v)},b=v=>{l(v)},j=m==="openrouter"?n:c;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(qe,{checked:e,onChange:v=>t(v.target.checked),children:s.jsx("span",{className:"font-medium",children:p("settings:experimental.IMAGE_GENERATION.name")})})}),s.jsx("p",{className:"text-vscode-descriptionForeground text-sm mt-0",children:p("settings:experimental.IMAGE_GENERATION.description")})]}),e&&s.jsxs("div",{className:"ml-2 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:p("settings:experimental.IMAGE_GENERATION.providerLabel")}),s.jsxs(Bs,{value:m,onChange:v=>x(v.target.value),className:"w-full",children:[s.jsx(gt,{value:"kilocode",className:"py-2 px-3",children:"Kilo Gateway"}),s.jsx(gt,{value:"openrouter",className:"py-2 px-3",children:"OpenRouter"})]}),s.jsx("p",{className:"text-vscode-descriptionForeground text-xs mt-1",children:p("settings:experimental.IMAGE_GENERATION.providerDescription")})]}),s.jsxs("div",{style:{display:m==="openrouter"?"none":void 0},children:[s.jsx("label",{className:"block font-medium mb-1",children:p("settings:experimental.IMAGE_GENERATION.kiloCodeApiKeyLabel")}),s.jsx(de,{value:c,onInput:v=>N(v.target.value),placeholder:p("settings:experimental.IMAGE_GENERATION.kiloCodeApiKeyPlaceholder"),className:"w-full",type:"password"}),s.jsx("p",{className:"text-vscode-descriptionForeground text-xs mt-1",children:u?s.jsx("a",{href:"#",onClick:()=>N(u),className:"text-vscode-textLink-foreground hover:text-vscode-textLink-activeForeground",children:p("settings:experimental.IMAGE_GENERATION.kiloCodeApiKeyPaste")}):s.jsxs(s.Fragment,{children:[p("settings:experimental.IMAGE_GENERATION.getApiKeyText")," ",s.jsx("a",{href:Er("/profile?personal=true"),target:"_blank",rel:"noopener noreferrer",className:"text-vscode-textLink-foreground hover:text-vscode-textLink-activeForeground",children:Er("/profile")})]})})]}),m==="openrouter"&&s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:p("settings:experimental.IMAGE_GENERATION.openRouterApiKeyLabel")}),s.jsx(de,{value:n||"",onInput:v=>y(v.target.value),placeholder:p("settings:experimental.IMAGE_GENERATION.openRouterApiKeyPlaceholder"),className:"w-full",type:"password"}),s.jsxs("p",{className:"text-vscode-descriptionForeground text-xs mt-1",children:[p("settings:experimental.IMAGE_GENERATION.getApiKeyText")," ",s.jsx("a",{href:"https://openrouter.ai/keys",target:"_blank",rel:"noopener noreferrer",className:"text-vscode-textLink-foreground hover:text-vscode-textLink-activeForeground",children:"openrouter.ai/keys"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:p("settings:experimental.IMAGE_GENERATION.modelSelectionLabel")}),s.jsx(Bs,{value:f,onChange:v=>b(v.target.value),className:"w-full",children:g.map(v=>s.jsx(gt,{value:v.value,className:"py-2 px-3",children:v.label},v.value))}),s.jsx("p",{className:"text-vscode-descriptionForeground text-xs mt-1",children:p("settings:experimental.IMAGE_GENERATION.modelSelectionDescription")})]}),e&&!j&&s.jsx("div",{className:"p-2 bg-vscode-editorWarning-background text-vscode-editorWarning-foreground rounded text-sm",children:p("settings:experimental.IMAGE_GENERATION.warningMissingKey")}),e&&j&&s.jsx("div",{className:"p-2 bg-vscode-editorInfo-background text-vscode-editorInfo-foreground rounded text-sm",children:p("settings:experimental.IMAGE_GENERATION.successConfigured")})]})]})},u7=({enabled:e,onChange:t})=>{const{t:r}=re(),[n,o]=h.useState([]),[a,i]=h.useState(!1),[l,c]=h.useState(null);h.useEffect(()=>{e?R.postMessage({type:"refreshCustomTools"}):o([])},[e]),Us("message",p=>{const m=p.data;m.type==="customToolsResult"&&(o(m.tools||[]),i(!1),c(m.error??null))});const d=h.useCallback(()=>{i(!0),c(null),R.postMessage({type:"refreshCustomTools"})},[]),u=h.useMemo(()=>n.map(p=>{const m=p.parameters,g=(m==null?void 0:m.properties)??{},f=(m==null?void 0:m.required)??[];return{name:p.name,description:p.description,source:p.source,parameters:Object.entries(g).map(([x,y])=>({name:x,type:y.type??"any",description:y.description,required:f.includes(x)}))}}),[n]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(qe,{checked:e,onChange:p=>t(p.target.checked),children:s.jsx("span",{className:"font-medium",children:r("settings:experimental.CUSTOM_TOOLS.name")})})}),s.jsx("p",{className:"text-vscode-descriptionForeground text-sm mt-0",children:r("settings:experimental.CUSTOM_TOOLS.description")})]}),e&&s.jsxs("div",{className:"ml-2 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("label",{className:"block font-medium",children:r("settings:experimental.CUSTOM_TOOLS.toolsHeader")}),s.jsx(oe,{variant:"outline",onClick:d,disabled:a,children:s.jsxs("div",{className:"flex items-center gap-2",children:[a?s.jsx(Dj,{className:"w-4 h-4 animate-spin"}):s.jsx(zj,{className:"w-4 h-4"}),r(a?"settings:experimental.CUSTOM_TOOLS.refreshing":"settings:experimental.CUSTOM_TOOLS.refreshButton")]})})]}),l&&s.jsxs("div",{className:"p-2 bg-vscode-inputValidation-errorBackground text-vscode-errorForeground rounded text-sm border border-vscode-inputValidation-errorBorder",children:[r("settings:experimental.CUSTOM_TOOLS.refreshError"),": ",l]}),u.length===0?s.jsx("p",{className:"text-vscode-descriptionForeground text-sm italic",children:r("settings:experimental.CUSTOM_TOOLS.noTools")}):u.map(p=>s.jsxs("div",{className:"bg-vscode-editor-background border border-vscode-panel-border rounded space-y-3 p-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium text-vscode-foreground",children:p.name}),p.source&&s.jsxs("div",{className:"flex items-center text-xs text-vscode-descriptionForeground",children:[s.jsx(GC,{className:"size-3 flex-shrink-0"}),s.jsx("span",{className:"font-mono truncate",title:p.source,children:p.source})]})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm",children:p.description}),p.parameters.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-xs font-medium text-vscode-foreground",children:[r("settings:experimental.CUSTOM_TOOLS.toolParameters"),":"]}),s.jsx("div",{children:p.parameters.map(m=>s.jsxs("div",{className:"flex items-start gap-2 text-xs pl-2 py-1 border-l-2 border-vscode-panel-border",children:[s.jsx("code",{className:"text-vscode-textLink-foreground font-mono",children:m.name}),s.jsxs("span",{className:"text-vscode-descriptionForeground",children:["(",m.type,")"]}),m.required&&s.jsx("span",{className:"text-vscode-errorForeground text-[10px] uppercase",children:"required"}),m.description&&s.jsxs("span",{className:"text-vscode-descriptionForeground",children:[" ",m.description]})]},m.name))})]})]},p.name))]})]})},p7=()=>{const{t:e}=re(),{devices:t,isLoadingDevices:r,loadDevices:n,selectDevice:o,selectedDevice:a}=LN(),i=Ye(),c=i==null?void 0:i.selectedMicrophoneDevice,d=p=>{if(p==="default")o(null);else{const m=t.find(g=>g.id===p);m&&o(m)}},u=()=>{const p=c!==void 0?c:a;return!p||!t.some(m=>m.id===p.id)?"default":p.id};return h.useEffect(()=>{n()},[n]),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:e("kilocode:speechToText.microphone.label")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Bs,{value:u(),onChange:p=>d(p.target.value),className:"flex-1",disabled:r,children:[s.jsx(gt,{value:"default",className:"py-2 px-3",children:e("kilocode:speechToText.microphone.defaultOption")}),t.map(p=>s.jsx(gt,{value:p.id,className:"py-2 px-3",children:p.name},p.id))]}),s.jsxs(oe,{onClick:n,disabled:r,className:"flex items-center gap-2",children:[s.jsx(zj,{className:`w-4 h-4 ${r?"animate-spin":""}`}),e("kilocode:speechToText.microphone.refresh")]})]}),s.jsx("p",{className:"text-vscode-descriptionForeground text-xs mt-1",children:e("kilocode:speechToText.microphone.description")}),r&&s.jsx("p",{className:"text-vscode-descriptionForeground text-xs mt-1",children:e("kilocode:speechToText.microphone.loading")}),!r&&t.length===0&&s.jsx("p",{className:"text-vscode-descriptionForeground text-xs mt-1",children:e("kilocode:speechToText.microphone.noDevices")})]})})},m7=({experiments:e,setExperimentEnabled:t,apiConfiguration:r,setApiConfigurationField:n,imageGenerationProvider:o,openRouterImageApiKey:a,openRouterImageGenerationSelectedModel:i,setImageGenerationProvider:l,setOpenRouterImageApiKey:c,setImageGenerationSelectedModel:d,className:u,morphApiKey:p,fastApplyModel:m,fastApplyApiProvider:g,setCachedStateField:f,setKiloCodeImageApiKey:x,kiloCodeImageApiKey:y,currentProfileKilocodeToken:N,...b})=>{const{t:j}=re();return s.jsxs("div",{className:Z("flex flex-col gap-2",u),...b,children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a_,{className:"w-4"}),s.jsx("div",{children:j("settings:sections.experimental")})]})}),s.jsx(ts,{children:Object.entries(uP).filter(([v])=>v in ur).filter(v=>v[0]!=="MARKETPLACE").filter(([v])=>v!=="MULTIPLE_NATIVE_TOOL_CALLS").map(v=>{if(v[0]==="MULTI_FILE_APPLY_DIFF")return s.jsx(Kl,{experimentKey:v[0],enabled:e[ur.MULTI_FILE_APPLY_DIFF]??!1,onChange:_=>t(ur.MULTI_FILE_APPLY_DIFF,_)},v[0]);if(v[0]==="MORPH_FAST_APPLY"){const _=e[ur[v[0]]]??!1;return s.jsxs(Qe.Fragment,{children:[s.jsx(Kl,{experimentKey:v[0],enabled:_,onChange:k=>t(ur[v[0]],k)},v[0]),_&&s.jsx(c7,{setCachedStateField:f,morphApiKey:p,fastApplyModel:m,fastApplyApiProvider:g})]},v[0])}if(v[0]==="SPEECH_TO_TEXT"){const _=e[ur.SPEECH_TO_TEXT]??!1;return s.jsxs(Qe.Fragment,{children:[s.jsx(Kl,{experimentKey:v[0],enabled:_,onChange:k=>t(ur.SPEECH_TO_TEXT,k)},v[0]),_&&s.jsx(p7,{})]},v[0])}return v[0]==="IMAGE_GENERATION"&&l&&c&&x&&d?s.jsx(d7,{enabled:e[ur.IMAGE_GENERATION]??!1,onChange:_=>t(ur.IMAGE_GENERATION,_),imageGenerationProvider:o,openRouterImageApiKey:a,kiloCodeImageApiKey:y,openRouterImageGenerationSelectedModel:i,setImageGenerationProvider:l,setOpenRouterImageApiKey:c,setKiloCodeImageApiKey:x,setImageGenerationSelectedModel:d,currentProfileKilocodeToken:N},v[0]):v[0]==="CUSTOM_TOOLS"?s.jsx(u7,{enabled:e[ur.CUSTOM_TOOLS]??!1,onChange:_=>t(ur.CUSTOM_TOOLS,_)},v[0]):s.jsx(Kl,{experimentKey:v[0],enabled:e[ur[v[0]]]??!1,onChange:_=>t(ur[v[0]],_)},v[0])})})]})};function h7(){return Object.entries(cE).toSorted((e,t)=>e[0].localeCompare(t[0]))}const f7=({language:e,setCachedStateField:t,className:r,...n})=>{const{t:o}=re();return s.jsxs("div",{className:Z("flex flex-col gap-2",r),...n,children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gc,{className:"w-4"}),s.jsx("div",{children:o("settings:sections.language")})]})}),s.jsx(ts,{children:s.jsxs(Ut,{value:e,onValueChange:a=>t("language",a),children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{placeholder:o("settings:common.select")})}),s.jsx($t,{children:s.jsx(Y_,{children:h7().map(([a,i])=>s.jsxs(ze,{value:a,children:[i,s.jsxs("span",{className:"text-muted-foreground",children:["(",a,")"]})]},a))})})]})})]})};c1(e=>{R.postMessage({type:"showSystemNotification",notificationOptions:{message:e}})});function m0(){if("memory"in performance&&typeof performance.memory=="object"){const e=performance.memory;return Math.floor(100*e.totalJSHeapSize/e.jsHeapSizeLimit)}return 0}const g7=({telemetrySetting:e,setTelemetrySetting:t,className:r,isVsCode:n,...o})=>{const{t:a}=re(),[i,l]=h.useState([]);return s.jsxs("div",{className:Z("flex flex-col gap-2",r),...o,children:[s.jsx(Ss,{description:`Version: ${Va.version} (${Va.sha.slice(0,8)})`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zg,{className:"w-4"}),s.jsx("div",{children:a("settings:sections.about")})]})}),s.jsxs(ts,{children:[s.jsxs("div",{style:{display:n?"none":void 0},children:[s.jsx(qe,{checked:e!=="disabled",onChange:c=>{const d=c.target.checked===!0;t(d?"enabled":"disabled")},children:a("settings:footer.telemetry.label")}),s.jsx("p",{className:"text-vscode-descriptionForeground text-sm mt-0",children:s.jsx(we,{i18nKey:"settings:footer.telemetry.description",components:{privacyLink:s.jsx(Oe,{href:"https://kilo.ai/privacy"})}})})]}),s.jsx("div",{children:s.jsx(we,{i18nKey:"settings:footer.feedback",components:{githubLink:s.jsx(Oe,{href:"https://github.com/Kilo-Org/kilocode"}),redditLink:s.jsx(Oe,{href:"https://reddit.com/r/kilocode"}),discordLink:s.jsx(Oe,{href:"https://kilo.ai/discord"})}})}),s.jsx("div",{children:s.jsx(we,{i18nKey:"settings:footer.support",components:{supportLink:s.jsx(Oe,{href:"https://kilo.ai/support"})}})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[s.jsxs(oe,{onClick:()=>R.postMessage({type:"exportSettings"}),className:"w-28",children:[s.jsx(h_,{className:"p-0.5"}),a("settings:footer.settings.export")]}),s.jsxs(oe,{onClick:()=>R.postMessage({type:"importSettings"}),className:"w-28",children:[s.jsx(Bg,{className:"p-0.5"}),a("settings:footer.settings.import")]}),s.jsxs(oe,{variant:"destructive",onClick:()=>R.postMessage({type:"resetState"}),className:"w-28",children:[s.jsx(cl,{className:"p-0.5"}),a("settings:footer.settings.reset")]})]}),!1]})]})},x7=e=>e!=null&&e.length?`
Current problems detected:
${e.map(t=>`- [${t.source||"Error"}] ${t.message}${t.code?` (${t.code})`:""}`).join(`
`)}`:"",v7=(e,t)=>e.replace(/\${(.*?)}/g,(r,n)=>{if(n==="diagnosticText")return x7(t.diagnostics);if(t.hasOwnProperty(n)){const o=t[n];return typeof o=="string"?o:String(o)}else return""}),h0={ENHANCE:{template:`Generate an enhanced version of this prompt (reply with only the enhanced prompt - no conversation, explanations, lead-in, bullet points, placeholders, or surrounding quotes):

\${userInput}`},CONDENSE:{template:`Your task is to create a detailed summary of the conversation so far, paying close attention to the user's explicit requests and your previous actions.
This summary should be thorough in capturing technical details, code patterns, and architectural decisions that would be essential for continuing with the conversation and supporting any continuing tasks.

Your summary should be structured as follows:
Context: The context to continue the conversation with. If applicable based on the current task, this should include:
  1. Previous Conversation: High level details about what was discussed throughout the entire conversation with the user. This should be written to allow someone to be able to follow the general overarching conversation flow.
  2. Current Work: Describe in detail what was being worked on prior to this request to summarize the conversation. Pay special attention to the more recent messages in the conversation.
  3. Key Technical Concepts: List all important technical concepts, technologies, coding conventions, and frameworks discussed, which might be relevant for continuing with this work.
  4. Relevant Files and Code: If applicable, enumerate specific files and code sections examined, modified, or created for the task continuation. Pay special attention to the most recent messages and changes.
  5. Problem Solving: Document problems solved thus far and any ongoing troubleshooting efforts.
  6. Pending Tasks and Next Steps: Outline all pending tasks that you have explicitly been asked to work on, as well as list the next steps you will take for all outstanding work, if applicable. Include code snippets where they add clarity. For any next steps, include direct quotes from the most recent conversation showing exactly what task you were working on and where you left off. This should be verbatim to ensure there's no information loss in context between tasks.

Example summary structure:
1. Previous Conversation:
  [Detailed description]
2. Current Work:
  [Detailed description]
3. Key Technical Concepts:
  - [Concept 1]
  - [Concept 2]
  - [...]
4. Relevant Files and Code:
  - [File Name 1]
	- [Summary of why this file is important]
	- [Summary of the changes made to this file, if any]
	- [Important Code Snippet]
  - [File Name 2]
	- [Important Code Snippet]
  - [...]
5. Problem Solving:
  [Detailed description]
6. Pending Tasks and Next Steps:
  - [Task 1 details & next steps]
  - [Task 2 details & next steps]
  - [...]

Output only the summary of the conversation so far, without any additional commentary or explanation.`},EXPLAIN:{template:"Explain the following code from file path ${filePath}:${startLine}-${endLine}\n${userInput}\n\n```\n${selectedText}\n```\n\nPlease provide a clear and concise explanation of what this code does, including:\n1. The purpose and functionality\n2. Key components and their interactions\n3. Important patterns or techniques used"},FIX:{template:"Fix any issues in the following code from file path ${filePath}:${startLine}-${endLine}\n${diagnosticText}\n${userInput}\n\n```\n${selectedText}\n```\n\nPlease:\n1. Address all detected problems listed above (if any)\n2. Identify any other potential bugs or issues\n3. Provide corrected code\n4. Explain what was fixed and why"},IMPROVE:{template:`Improve the following code from file path \${filePath}:\${startLine}-\${endLine}
\${userInput}

\`\`\`
\${selectedText}
\`\`\`

Please suggest improvements for:
1. Code readability and maintainability
2. Performance optimization
3. Best practices and patterns
4. Error handling and edge cases

Provide the improved code along with explanations for each enhancement.`},ADD_TO_CONTEXT:{template:"${filePath}:${startLine}-${endLine}\n```\n${selectedText}\n```"},TERMINAL_ADD_TO_CONTEXT:{template:"${userInput}\nTerminal output:\n```\n${terminalContent}\n```"},TERMINAL_FIX:{template:`\${userInput}
Fix this terminal command:
\`\`\`
\${terminalContent}
\`\`\`

Please:
1. Identify any issues in the command
2. Provide the corrected command
3. Explain what was fixed and why`},TERMINAL_EXPLAIN:{template:`\${userInput}
Explain this terminal command:
\`\`\`
\${terminalContent}
\`\`\`

Please provide:
1. What the command does
2. Explanation of each part/flag
3. Expected output and behavior`},TERMINAL_GENERATE:{template:`Generate a terminal command based on this description: "\${userInput}"

Context:
- Operating System: \${operatingSystem}
- Current Directory: \${currentDirectory}
- Shell: \${shell}

Requirements:
1. Generate ONLY the command, no explanations or formatting
2. Ensure the command is safe and appropriate
3. Use common command-line tools and best practices
4. Consider the current working directory context
5. Return only the raw command that can be executed directly
`},NEW_TASK:{template:"${userInput}"},COMMIT_MESSAGE:{template:`# Conventional Commit Message Generator
## System Instructions
You are an expert Git commit message generator that creates conventional commit messages based on staged changes. Analyze the provided git diff output and generate appropriate conventional commit messages following the specification.

\${customInstructions}

## CRITICAL: Commit Message Output Rules
- DO NOT include any memory bank status indicators like "[Memory Bank: Active]" or "[Memory Bank: Missing]"
- DO NOT include any task-specific formatting or artifacts from other rules
- ONLY Generate a clean conventional commit message as specified below

\${gitContext}

## Conventional Commits Format
Generate commit messages following this exact structure:
\`\`\`
<type>[optional scope]: <description>
[optional body]
[optional footer(s)]
\`\`\`

### Core Types (Required)
- **feat**: New feature or functionality (MINOR version bump)
- **fix**: Bug fix or error correction (PATCH version bump)

### Additional Types (Extended)
- **docs**: Documentation changes only
- **style**: Code style changes (whitespace, formatting, semicolons, etc.)
- **refactor**: Code refactoring without feature changes or bug fixes
- **perf**: Performance improvements
- **test**: Adding or fixing tests
- **build**: Build system or external dependency changes
- **ci**: CI/CD configuration changes
- **chore**: Maintenance tasks, tooling changes
- **revert**: Reverting previous commits

### Scope Guidelines
- Use parentheses: \`feat(api):\`, \`fix(ui):\`
- Common scopes: \`api\`, \`ui\`, \`auth\`, \`db\`, \`config\`, \`deps\`, \`docs\`
- For monorepos: package or module names
- Keep scope concise and lowercase

### Description Rules
- Use imperative mood ("add" not "added" or "adds")
- Start with lowercase letter
- No period at the end
- Maximum 50 characters
- Be concise but descriptive

### Body Guidelines (Optional)
- Start one blank line after description
- Explain the "what" and "why", not the "how"
- Wrap at 72 characters per line
- Use for complex changes requiring explanation

### Footer Guidelines (Optional)
- Start one blank line after body
- **Breaking Changes**: \`BREAKING CHANGE: description\`

## Analysis Instructions
When analyzing staged changes:
1. Determine Primary Type based on the nature of changes
2. Identify Scope from modified directories or modules
3. Craft Description focusing on the most significant change
4. Determine if there are Breaking Changes
5. For complex changes, include a detailed body explaining what and why
6. Add appropriate footers for issue references or breaking changes

For significant changes, include a detailed body explaining the changes.

Return ONLY the commit message in the conventional format, nothing else.`}},Xn={default:Object.fromEntries(Object.entries(h0).map(([e,t])=>[e,t.template])),get:(e,t)=>(e==null?void 0:e[t])??h0[t].template,create:(e,t,r)=>{const n=Xn.get(r,e);return v7(n,t)}},b7=()=>{const{t:e}=re(),{listApiConfigMeta:t,commitMessageApiConfigId:r,setCommitMessageApiConfigId:n}=Ye();return s.jsx("div",{className:"mt-4 flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:e("prompts:supportPrompts.enhance.apiConfiguration")}),s.jsxs(Ut,{value:r||"-",onValueChange:o=>{n(o==="-"?"":o),R.postMessage({type:"commitMessageApiConfigId",text:o})},children:[s.jsx(Kt,{"data-testid":"commit-message-api-config-select",className:"w-full",children:s.jsx(Wt,{placeholder:e("prompts:supportPrompts.enhance.useCurrentConfig")})}),s.jsxs($t,{children:[s.jsx(ze,{value:"-",children:e("prompts:supportPrompts.enhance.useCurrentConfig")}),(t||[]).map(o=>s.jsx(ze,{value:o.id,"data-testid":`commit-message-${o.id}-option`,children:o.name},o.id))]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:e("prompts:supportPrompts.enhance.apiConfigDescription")})]})})},y7=({customSupportPrompts:e,setCustomSupportPrompts:t,includeTaskHistoryInEnhance:r,setIncludeTaskHistoryInEnhance:n})=>{const{t:o}=re(),{listApiConfigMeta:a,enhancementApiConfigId:i,setEnhancementApiConfigId:l,condensingApiConfigId:c,setCondensingApiConfigId:d,customCondensingPrompt:u,setCustomCondensingPrompt:p,includeTaskHistoryInEnhance:m,setIncludeTaskHistoryInEnhance:g}=Ye(),f=r??m??!0,x=n??g,[y,N]=h.useState(""),[b,j]=h.useState(!1),[v,_]=h.useState("ENHANCE");h.useEffect(()=>{const P=I=>{const M=I.data;M.type==="enhancedPrompt"&&(M.text&&N(M.text),j(!1))};return window.addEventListener("message",P),()=>window.removeEventListener("message",P)},[]);const k=(P,I)=>{const M=I??void 0;if(P==="CONDENSE"){p(M??Xn.default.CONDENSE),R.postMessage({type:"updateCondensingPrompt",text:M??Xn.default.CONDENSE});const A={...e};M===void 0?delete A[P]:A[P]=M,t(A)}else{const A={...e};M===void 0?delete A[P]:A[P]=M,t(A)}},w=P=>{if(P==="CONDENSE"){p(Xn.default.CONDENSE),R.postMessage({type:"updateCondensingPrompt",text:Xn.default.CONDENSE});const I={...e};delete I[P],t(I)}else{const I={...e};delete I[P],t(I)}},T=P=>P==="CONDENSE"?u??Xn.default.CONDENSE:Xn.get(e,P),S=()=>{y.trim()&&(j(!0),R.postMessage({type:"enhancePrompt",text:y}))};return s.jsxs("div",{children:[s.jsx(Ss,{description:o("settings:prompts.description"),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qg,{className:"w-4"}),s.jsx("div",{children:o("settings:sections.prompts")})]})}),s.jsxs(ts,{children:[s.jsxs("div",{children:[s.jsxs(Ut,{value:v,onValueChange:P=>_(P),children:[s.jsx(Kt,{className:"w-full","data-testid":"support-prompt-select-trigger",children:s.jsx(Wt,{placeholder:o("settings:common.select")})}),s.jsx($t,{children:Object.keys(Xn.default).map(P=>s.jsx(ze,{value:P,"data-testid":`${P}-option`,children:o(`prompts:supportPrompts.types.${P}.label`)},P))})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:o(`prompts:supportPrompts.types.${v}.description`)})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("label",{className:"block font-medium",children:o("prompts:supportPrompts.prompt")}),s.jsx(ue,{content:o("prompts:supportPrompts.resetPrompt",{promptType:v}),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>w(v),children:s.jsx("span",{className:"codicon codicon-discard"})})})]}),s.jsx(En,{resize:"vertical",value:T(v),onInput:P=>{var M,A;const I=((A=(M=P==null?void 0:P.detail)==null?void 0:M.target)==null?void 0:A.value)??P.target.value;k(v,I)},rows:6,className:"w-full"}),(v==="ENHANCE"||v==="CONDENSE")&&s.jsxs("div",{className:"mt-4 flex flex-col gap-3 pl-3 border-l-2 border-vscode-button-background",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:o(v==="ENHANCE"?"prompts:supportPrompts.enhance.apiConfiguration":"prompts:supportPrompts.condense.apiConfiguration")}),s.jsxs(Ut,{value:v==="ENHANCE"?i||"-":c||"-",onValueChange:P=>{const I=P==="-"?"":P;v==="ENHANCE"?(l(I),R.postMessage({type:"enhancementApiConfigId",text:P})):(d(I),R.postMessage({type:"updateSettings",updatedSettings:{condensingApiConfigId:I}}))},children:[s.jsx(Kt,{"data-testid":"api-config-select",className:"w-full",children:s.jsx(Wt,{placeholder:o(v==="ENHANCE"?"prompts:supportPrompts.enhance.useCurrentConfig":"prompts:supportPrompts.condense.useCurrentConfig")})}),s.jsxs($t,{children:[s.jsx(ze,{value:"-",children:o(v==="ENHANCE"?"prompts:supportPrompts.enhance.useCurrentConfig":"prompts:supportPrompts.condense.useCurrentConfig")}),(a||[]).map(P=>s.jsx(ze,{value:P.id,"data-testid":`${P.id}-option`,children:P.name},P.id))]})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mt-1",children:o(v==="ENHANCE"?"prompts:supportPrompts.enhance.apiConfigDescription":"prompts:supportPrompts.condense.apiConfigDescription")})]}),v==="ENHANCE"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(qe,{checked:f,onChange:P=>{const I="target"in P?P.target:null;I&&(x(I.checked),R.postMessage({type:"updateSettings",updatedSettings:{includeTaskHistoryInEnhance:I.checked}}))},children:s.jsx("span",{className:"font-medium",children:o("prompts:supportPrompts.enhance.includeTaskHistory")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1 mb-3",children:o("prompts:supportPrompts.enhance.includeTaskHistoryDescription")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:o("prompts:supportPrompts.enhance.testEnhancement")}),s.jsx(En,{resize:"vertical",value:y,onChange:P=>N(P.target.value),placeholder:o("prompts:supportPrompts.enhance.testPromptPlaceholder"),rows:3,className:"w-full","data-testid":"test-prompt-textarea"}),s.jsx("div",{className:"mt-2 flex justify-start items-center gap-2",children:s.jsx(oe,{variant:"primary",onClick:S,disabled:b,children:o("prompts:supportPrompts.enhance.previewButton")})})]})]})]}),v==="COMMIT_MESSAGE"&&s.jsx(b7,{})]},v)]})]})},_S=6048e5,w7=864e5,f0=Symbol.for("constructDateFrom");function fo(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&f0 in e?e[f0](t):e instanceof Date?new e.constructor(t):new Date(t)}function dn(e,t){return fo(t||e,e)}let k7={};function vl(){return k7}function $i(e,t){var l,c,d,u;const r=vl(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,o=dn(e,t==null?void 0:t.in),a=o.getDay(),i=(a<n?7:0)+a-n;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function Uc(e,t){return $i(e,{...t,weekStartsOn:1})}function NS(e,t){const r=dn(e,t==null?void 0:t.in),n=r.getFullYear(),o=fo(r,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const a=Uc(o),i=fo(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=Uc(i);return r.getTime()>=a.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function g0(e){const t=dn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function SS(e,...t){const r=fo.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function x0(e,t){const r=dn(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function TS(e,t,r){const[n,o]=SS(r==null?void 0:r.in,e,t),a=x0(n),i=x0(o),l=+a-g0(a),c=+i-g0(i);return Math.round((l-c)/w7)}function j7(e,t){const r=NS(e,t),n=fo(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Uc(n)}function _7(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function N7(e){return!(!_7(e)&&typeof e!="number"||isNaN(+dn(e)))}function S7(e,t){const r=dn(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const T7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},P7=(e,t,r)=>{let n;const o=T7[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function eh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const I7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},E7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C7={date:eh({formats:I7,defaultWidth:"full"}),time:eh({formats:E7,defaultWidth:"full"}),dateTime:eh({formats:M7,defaultWidth:"full"})},A7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},R7=(e,t,r,n)=>A7[e];function xi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;o=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return o[a]}}const O7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},D7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},F7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},L7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},z7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q7=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},U7={ordinalNumber:q7,era:xi({values:O7,defaultWidth:"wide"}),quarter:xi({values:D7,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xi({values:F7,defaultWidth:"wide"}),day:xi({values:L7,defaultWidth:"wide"}),dayPeriod:xi({values:B7,defaultWidth:"wide",formattingValues:z7,defaultFormattingWidth:"wide"})};function vi(e){return(t,r={})=>{const n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const i=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?K7(l,p=>p.test(i)):W7(l,p=>p.test(i));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function W7(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function K7(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function $7(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const o=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(o.length);return{value:i,rest:l}}}const H7=/^(\d+)(th|st|nd|rd)?/i,V7=/\d+/i,G7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q7={any:[/^b/i,/^(a|c)/i]},Y7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},X7={any:[/1/i,/2/i,/3/i,/4/i]},J7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Z7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nU={ordinalNumber:$7({matchPattern:H7,parsePattern:V7,valueCallback:e=>parseInt(e,10)}),era:vi({matchPatterns:G7,defaultMatchWidth:"wide",parsePatterns:Q7,defaultParseWidth:"any"}),quarter:vi({matchPatterns:Y7,defaultMatchWidth:"wide",parsePatterns:X7,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vi({matchPatterns:J7,defaultMatchWidth:"wide",parsePatterns:Z7,defaultParseWidth:"any"}),day:vi({matchPatterns:eU,defaultMatchWidth:"wide",parsePatterns:tU,defaultParseWidth:"any"}),dayPeriod:vi({matchPatterns:sU,defaultMatchWidth:"any",parsePatterns:rU,defaultParseWidth:"any"})},PS={code:"en-US",formatDistance:P7,formatLong:C7,formatRelative:R7,localize:U7,match:nU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oU(e,t){const r=dn(e,t==null?void 0:t.in);return TS(r,S7(r))+1}function aU(e,t){const r=dn(e,t==null?void 0:t.in),n=+Uc(r)-+j7(r);return Math.round(n/_S)+1}function IS(e,t){var u,p,m,g;const r=dn(e,t==null?void 0:t.in),n=r.getFullYear(),o=vl(),a=(t==null?void 0:t.firstWeekContainsDate)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??o.firstWeekContainsDate??((g=(m=o.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=fo((t==null?void 0:t.in)||e,0);i.setFullYear(n+1,0,a),i.setHours(0,0,0,0);const l=$i(i,t),c=fo((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=$i(c,t);return+r>=+l?n+1:+r>=+d?n:n-1}function iU(e,t){var l,c,d,u;const r=vl(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,o=IS(e,t),a=fo((t==null?void 0:t.in)||e,0);return a.setFullYear(o,0,n),a.setHours(0,0,0,0),$i(a,t)}function lU(e,t){const r=dn(e,t==null?void 0:t.in),n=+$i(r,t)-+iU(r,t);return Math.round(n/_S)+1}function At(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Wn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return At(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):At(r+1,2)},d(e,t){return At(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return At(e.getHours()%12||12,t.length)},H(e,t){return At(e.getHours(),t.length)},m(e,t){return At(e.getMinutes(),t.length)},s(e,t){return At(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),o=Math.trunc(n*Math.pow(10,r-3));return At(o,t.length)}},pa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},v0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return Wn.y(e,t)},Y:function(e,t,r,n){const o=IS(e,n),a=o>0?o:1-o;if(t==="YY"){const i=a%100;return At(i,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):At(a,t.length)},R:function(e,t){const r=NS(e);return At(r,t.length)},u:function(e,t){const r=e.getFullYear();return At(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return At(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return At(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Wn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return At(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const o=lU(e,n);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):At(o,t.length)},I:function(e,t,r){const n=aU(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):At(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Wn.d(e,t)},D:function(e,t,r){const n=oU(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):At(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const o=e.getDay(),a=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return At(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const o=e.getDay(),a=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return At(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),o=n===0?7:n;switch(t){case"i":return String(o);case"ii":return At(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let o;switch(n===12?o=pa.noon:n===0?o=pa.midnight:o=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let o;switch(n>=17?o=pa.evening:n>=12?o=pa.afternoon:n>=4?o=pa.morning:o=pa.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Wn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Wn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):At(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):At(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Wn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Wn.s(e,t)},S:function(e,t){return Wn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return y0(n);case"XXXX":case"XX":return No(n);case"XXXXX":case"XXX":default:return No(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return y0(n);case"xxxx":case"xx":return No(n);case"xxxxx":case"xxx":default:return No(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+b0(n,":");case"OOOO":default:return"GMT"+No(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+b0(n,":");case"zzzz":default:return"GMT"+No(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return At(n,t.length)},T:function(e,t,r){return At(+e,t.length)}};function b0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),a=n%60;return a===0?r+String(o):r+String(o)+t+At(a,2)}function y0(e,t){return e%60===0?(e>0?"-":"+")+At(Math.abs(e)/60,2):No(e,t)}function No(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=At(Math.trunc(n/60),2),a=At(n%60,2);return r+o+t+a}const w0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ES=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},cU=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return w0(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",w0(n,t)).replace("{{time}}",ES(o,t))},dU={p:ES,P:cU},uU=/^D+$/,pU=/^Y+$/,mU=["D","DD","YY","YYYY"];function hU(e){return uU.test(e)}function fU(e){return pU.test(e)}function gU(e,t,r){const n=xU(e,t,r);if(console.warn(n),mU.includes(e))throw new RangeError(n)}function xU(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yU=/^'([^]*?)'?$/,wU=/''/g,kU=/[a-zA-Z]/;function jU(e,t,r){var u,p,m,g,f,x,y,N;const n=vl(),o=(r==null?void 0:r.locale)??n.locale??PS,a=(r==null?void 0:r.firstWeekContainsDate)??((p=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((x=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((N=(y=n.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??0,l=dn(e,r==null?void 0:r.in);if(!N7(l))throw new RangeError("Invalid time value");let c=t.match(bU).map(b=>{const j=b[0];if(j==="p"||j==="P"){const v=dU[j];return v(b,o.formatLong)}return b}).join("").match(vU).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const j=b[0];if(j==="'")return{isToken:!1,value:_U(b)};if(v0[j])return{isToken:!0,value:b};if(j.match(kU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:b}});o.localize.preprocessor&&(c=o.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:i,locale:o};return c.map(b=>{if(!b.isToken)return b.value;const j=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&fU(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&hU(j))&&gU(j,t,String(e));const v=v0[j[0]];return v(l,j,o.localize,d)}).join("")}function _U(e){const t=e.match(yU);return t?t[1].replace(wU,"'"):e}function NU(e,t,r){var p,m;const[n,o]=SS(r==null?void 0:r.in,e,t),a=vl(),i=a.locale??PS,l=a.weekStartsOn??((m=(p=a.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,c=TS(n,o);if(isNaN(c))throw new RangeError("Invalid time value");let d;c<-6?d="other":c<-1?d="lastWeek":c<0?d="yesterday":c<1?d="today":c<2?d="tomorrow":c<7?d="nextWeek":d="other";const u=i.formatRelative(d,n,o,{locale:i,weekStartsOn:l});return jU(n,u,{locale:i,weekStartsOn:l})}const SU=({error:e})=>{const t=h.useMemo(()=>{switch(e.level){case"error":return"var(--vscode-testing-iconFailed)";case"warn":return"var(--vscode-charts-yellow)";case"info":return"var(--vscode-testing-iconPassed)"}},[e.level]);return s.jsxs("div",{className:"text-sm bg-vscode-textCodeBlock-background border-l-2 p-2",style:{borderColor:t},children:[s.jsx("div",{className:"mb-1",style:{color:t},children:e.message}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground",children:NU(e.timestamp,new Date)})]})},MS=({onDone:e,hideHeader:t=!1})=>{const{mcpServers:r,alwaysAllowMcp:n,mcpEnabled:o,enableMcpServerCreation:a,setEnableMcpServerCreation:i}=Ye(),{t:l}=re();return s.jsxs(ra,{className:"relative",children:[s.jsxs(hl,{style:{display:t?"none":"flex"},className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-vscode-foreground m-0",children:l("mcp:title")}),s.jsx(oe,{onClick:e,children:l("mcp:done")})]}),s.jsxs(ts,{children:[s.jsx("div",{style:{color:"var(--vscode-foreground)",fontSize:"13px",marginBottom:"10px",marginTop:"5px"},children:s.jsx(we,{i18nKey:"mcp:description",children:s.jsx(Oe,{href:St("features/mcp/using-mcp-in-kilo-code"),style:{display:"inline"},children:"Learn More"})})}),o&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"none",marginBottom:15},children:[s.jsx(qe,{checked:a,onChange:c=>{i(c.target.checked),R.postMessage({type:"enableMcpServerCreation",bool:c.target.checked})},children:s.jsx("span",{style:{fontWeight:"500"},children:l("mcp:enableServerCreation.title")})}),s.jsxs("div",{style:{fontSize:"12px",marginTop:"5px",color:"var(--vscode-descriptionForeground)"},children:[s.jsxs(we,{i18nKey:"mcp:enableServerCreation.description",children:[s.jsx(Oe,{href:St("features/mcp/using-mcp-in-kilo-code#how-to-use-kilo-code-to-create-an-mcp-server"),style:{display:"inline"},children:"Learn about server creation"}),s.jsx("strong",{children:"new"})]}),s.jsx("p",{style:{marginTop:"8px"},children:l("mcp:enableServerCreation.hint")})]})]}),r.length>0&&s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:r.map(c=>s.jsx(TU,{server:c,alwaysAllowMcp:n},`${c.name}-${c.source||"global"}`))}),s.jsxs("div",{style:{marginTop:"10px",width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:[s.jsxs(oe,{variant:"secondary",style:{width:"100%"},onClick:()=>{R.postMessage({type:"openMcpSettings"})},children:[s.jsx("span",{className:"codicon codicon-edit",style:{marginRight:"6px"}}),l("mcp:editGlobalMCP")]}),s.jsxs(oe,{variant:"secondary",style:{width:"100%"},onClick:()=>{R.postMessage({type:"openProjectMcpSettings"})},children:[s.jsx("span",{className:"codicon codicon-edit",style:{marginRight:"6px"}}),l("mcp:editProjectMCP")]}),s.jsxs(oe,{variant:"secondary",style:{width:"100%"},onClick:()=>{R.postMessage({type:"refreshAllMcpServers"})},children:[s.jsx("span",{className:"codicon codicon-refresh",style:{marginRight:"6px"}}),l("mcp:refreshMCP")]})]}),s.jsx("div",{className:"mt-5",children:"You can find the MCP Marketplace under Settings > MCP Servers > Marketplace"}),s.jsx("div",{style:{marginTop:"15px",fontSize:"12px",color:"var(--vscode-descriptionForeground)"},children:s.jsx(Oe,{href:St("features/mcp/using-mcp-in-kilo-code#editing-mcp-settings-files"),style:{display:"inline"},children:l("mcp:learnMoreEditingSettings")})})]})]})]})},TU=({server:e,alwaysAllowMcp:t})=>{var y,N;const{t:r}=re(),[n,o]=h.useState(!1),[a,i]=h.useState(!1),[l,c]=h.useState(()=>{var j;return((j=JSON.parse(e.config))==null?void 0:j.timeout)??60}),d=e.status==="connected"&&!e.disabled,u=[{value:15,label:r("mcp:networkTimeout.options.15seconds")},{value:30,label:r("mcp:networkTimeout.options.30seconds")},{value:60,label:r("mcp:networkTimeout.options.1minute")},{value:300,label:r("mcp:networkTimeout.options.5minutes")},{value:600,label:r("mcp:networkTimeout.options.10minutes")},{value:900,label:r("mcp:networkTimeout.options.15minutes")},{value:1800,label:r("mcp:networkTimeout.options.30minutes")},{value:3600,label:r("mcp:networkTimeout.options.60minutes")}],p=()=>{if(e.disabled)return"var(--vscode-descriptionForeground)";switch(e.status){case"connected":return"var(--vscode-testing-iconPassed)";case"connecting":return"var(--vscode-charts-yellow)";case"disconnected":return"var(--vscode-testing-iconFailed)"}},m=()=>{d&&o(!n)},g=()=>{R.postMessage({type:"restartMcpServer",text:e.name,source:e.source||"global"})},f=b=>{const j=parseInt(b.target.value);c(j),R.postMessage({type:"updateMcpTimeout",serverName:e.name,source:e.source||"global",timeout:j})},x=()=>{R.postMessage({type:"deleteMcpServer",serverName:e.name,source:e.source||"global"}),i(!1)};return s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"8px",background:"var(--vscode-textCodeBlock-background)",cursor:d?"pointer":"default",borderRadius:n||d?"4px":"4px 4px 0 0",opacity:e.disabled?.6:1},onClick:m,children:[d&&s.jsx("span",{className:`codicon codicon-chevron-${n?"down":"right"}`,style:{marginRight:"8px"}}),s.jsxs("span",{style:{flex:1},children:[e.name,e.source&&s.jsx("span",{style:{marginLeft:"8px",padding:"1px 6px",fontSize:"11px",borderRadius:"4px",background:"var(--vscode-badge-background)",color:"var(--vscode-badge-foreground)"},children:e.source})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",marginRight:"8px"},onClick:b=>b.stopPropagation(),children:[s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>i(!0),style:{marginRight:"8px"},children:s.jsx("span",{className:"codicon codicon-trash",style:{fontSize:"14px"}})}),s.jsx(oe,{variant:"ghost",size:"icon",onClick:g,disabled:e.status==="connecting",style:{marginRight:"8px"},children:s.jsx("span",{className:"codicon codicon-refresh",style:{fontSize:"14px"}})})]}),s.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:p(),marginLeft:"8px"}}),s.jsx("div",{style:{marginLeft:"8px"},children:s.jsx(X_,{checked:!e.disabled,onChange:()=>{R.postMessage({type:"toggleMcpServer",serverName:e.name,source:e.source||"global",disabled:!e.disabled})},size:"medium","aria-label":`Toggle ${e.name} server`})})]}),d?n&&s.jsxs("div",{style:{background:"var(--vscode-textCodeBlock-background)",padding:"0 10px 10px 10px",fontSize:"13px",borderRadius:"0 0 4px 4px"},children:[s.jsxs(pP,{style:{marginBottom:"10px"},children:[s.jsxs(_l,{id:"tools",children:[r("mcp:tabs.tools")," (",((y=e.tools)==null?void 0:y.length)||0,")"]}),s.jsxs(_l,{id:"resources",children:[r("mcp:tabs.resources")," (",[...e.resourceTemplates||[],...e.resources||[]].length||0,")"]}),e.instructions&&s.jsx(_l,{id:"instructions",children:r("mcp:instructions")}),s.jsxs(_l,{id:"logs",children:[r("mcp:tabs.logs")," (",((N=e.errorHistory)==null?void 0:N.length)||0,")"]}),s.jsx(Nl,{id:"tools-view",children:e.tools&&e.tools.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",width:"100%"},children:e.tools.map(b=>s.jsx(xf,{tool:b,serverName:e.name,serverSource:e.source||"global",alwaysAllowMcp:t},`${b.name}-${e.name}-${e.source||"global"}`))}):s.jsx("div",{style:{padding:"10px 0",color:"var(--vscode-descriptionForeground)"},children:r("mcp:emptyState.noTools")})}),s.jsx(Nl,{id:"resources-view",children:e.resources&&e.resources.length>0||e.resourceTemplates&&e.resourceTemplates.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",width:"100%"},children:[...e.resourceTemplates||[],...e.resources||[]].map(b=>s.jsx(vN,{item:b},"uriTemplate"in b?b.uriTemplate:b.uri))}):s.jsx("div",{style:{padding:"10px 0",color:"var(--vscode-descriptionForeground)"},children:r("mcp:emptyState.noResources")})}),e.instructions&&s.jsx(Nl,{id:"instructions-view",children:s.jsx("div",{style:{padding:"10px 0",fontSize:"12px"},children:s.jsx("div",{className:"opacity-80 whitespace-pre-wrap break-words",children:e.instructions})})}),s.jsx(Nl,{id:"logs-view",children:e.errorHistory&&e.errorHistory.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",width:"100%"},children:[...e.errorHistory].sort((b,j)=>j.timestamp-b.timestamp).map((b,j)=>s.jsx(SU,{error:b},`${b.timestamp}-${j}`))}):s.jsx("div",{style:{padding:"10px 0",color:"var(--vscode-descriptionForeground)"},children:r("mcp:emptyState.noLogs")})})]}),s.jsxs("div",{style:{padding:"10px 7px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[s.jsx("span",{children:r("mcp:networkTimeout.label")}),s.jsx("select",{value:l,onChange:f,style:{flex:1,padding:"4px",background:"var(--vscode-dropdown-background)",color:"var(--vscode-dropdown-foreground)",border:"1px solid var(--vscode-dropdown-border)",borderRadius:"2px",outline:"none",cursor:"pointer"},children:u.map(b=>s.jsx("option",{value:b.value,children:b.label},b.value))})]}),s.jsx("span",{style:{fontSize:"12px",color:"var(--vscode-descriptionForeground)",display:"block"},children:r("mcp:networkTimeout.description")})]})]}):!e.disabled&&s.jsxs("div",{style:{fontSize:"13px",background:"var(--vscode-textCodeBlock-background)",borderRadius:"0 0 4px 4px",width:"100%"},children:[s.jsx("div",{style:{color:"var(--vscode-testing-iconFailed)",marginBottom:"8px",padding:"0 10px",overflowWrap:"break-word",wordBreak:"break-word"},children:e.error&&e.error.split(`
`).map((b,j)=>s.jsxs(Qe.Fragment,{children:[j>0&&s.jsx("br",{}),b]},j))}),s.jsx(oe,{variant:"secondary",onClick:g,disabled:e.status==="connecting",style:{width:"calc(100% - 20px)",margin:"0 10px 10px 10px"},children:e.status==="connecting"?r("mcp:serverStatus.retrying"):r("mcp:serverStatus.retryConnection")})]}),s.jsx(ea,{open:a,onOpenChange:i,children:s.jsxs(ta,{children:[s.jsxs(ni,{children:[s.jsx(oi,{children:r("mcp:deleteDialog.title")}),s.jsx(Gg,{children:r("mcp:deleteDialog.description",{serverName:e.name})})]}),s.jsxs(hd,{children:[s.jsx(oe,{variant:"secondary",onClick:()=>i(!1),children:r("mcp:deleteDialog.cancel")}),s.jsx(oe,{variant:"primary",onClick:x,children:r("mcp:deleteDialog.delete")})]})]})})]})};function CS(e){const[t]=h.useState(()=>e||new Cg),[r,n]=h.useState(()=>t.getState());return h.useEffect(()=>{const o=l=>{n(c=>c.isFetching!==l.isFetching||c.activeTab!==l.activeTab||JSON.stringify(c.allItems)!==JSON.stringify(l.allItems)||JSON.stringify(c.organizationMcps)!==JSON.stringify(l.organizationMcps)||JSON.stringify(c.displayItems)!==JSON.stringify(l.displayItems)||JSON.stringify(c.displayOrganizationMcps)!==JSON.stringify(l.displayOrganizationMcps)||JSON.stringify(c.filters)!==JSON.stringify(l.filters)?l:c)},a=l=>{t.handleMessage(l.data)};window.addEventListener("message",a);const i=t.onStateChange(o);return o(t.getState()),()=>{window.removeEventListener("message",a),i(),e||t.cleanup()}},[t,e]),[r,t]}const Cf=e=>{try{return new URL(e),!0}catch{return!1}},PU=({item:e,isOpen:t,onClose:r,hasWorkspace:n})=>{const{t:o}=re(),[a,i]=h.useState(n?"project":"global"),[l,c]=h.useState(0),[d,u]=h.useState({}),[p,m]=h.useState(null),[g,f]=h.useState(!1);Qe.useEffect(()=>{e&&(c(0),u({}),m(null),f(!1))},[e]);const x=h.useMemo(()=>e&&Array.isArray(e.content)&&e.content.length>1,[e]),y=h.useMemo(()=>!e||!Array.isArray(e.content)?[]:e.content.map(_=>_.name),[e]),N=h.useMemo(()=>{if(!e)return[];const _=e.type==="mcp"?e.parameters||[]:[];let k=[];if(Array.isArray(e.content)){const T=e.content[l];k=(T==null?void 0:T.parameters)||[]}const w=new Map;return _.forEach(T=>w.set(T.key,T)),k.forEach(T=>w.set(T.key,T)),Array.from(w.values())},[e,l]),b=h.useMemo(()=>{if(!e)return[];const _=e.prerequisites||[];let k=[];if(Array.isArray(e.content)){const T=e.content[l];k=(T==null?void 0:T.prerequisites)||[]}const w=[..._,...k];return Array.from(new Set(w))},[e,l]);Qe.useEffect(()=>{if(e){const _=e.type==="mcp"?e.parameters||[]:[];let k=[];if(Array.isArray(e.content)){const S=e.content[l];k=(S==null?void 0:S.parameters)||[]}const w=new Map;_.forEach(S=>w.set(S.key,S)),k.forEach(S=>w.set(S.key,S));const T=Array.from(w.values());u(S=>{const P={};return T.forEach(I=>{P[I.key]=S[I.key]||""}),P})}},[e,l]),h.useEffect(()=>{const _=k=>{const w=k.data;w.type==="marketplaceInstallResult"&&w.slug===(e==null?void 0:e.id)&&(w.success?(f(!0),m(null),R.postMessage({type:"fetchMarketplaceData"})):(m(w.error||"Installation failed"),f(!1)))};return window.addEventListener("message",_),()=>window.removeEventListener("message",_)},[e==null?void 0:e.id]);const j=()=>{var k;if(!e)return;m(null);for(const w of N)if(!w.optional&&!((k=d[w.key])!=null&&k.trim())){m(o("marketplace:install.validationRequired",{paramName:w.name}));return}const _={...d};for(const w of N)w.optional&&!_[w.key]&&(_[w.key]="");R.postMessage({type:"installMarketplaceItem",mpItem:e,mpInstallOptions:{target:a,parameters:{..._,_selectedIndex:x?l:void 0}}}),m(null)},v=_=>{const k=_==="mcp"?"mcp":"modes";R.postMessage({type:"switchTab",tab:"settings",values:{section:k}}),r()};return e?s.jsx(ea,{open:t,onOpenChange:r,children:s.jsxs(ta,{className:"sm:max-w-[500px]",children:[s.jsxs(ni,{children:[s.jsx(oi,{children:g?o("marketplace:install.successTitle",{name:e.name}):e.type==="mcp"?o("marketplace:install.titleMcp",{name:e.name}):o("marketplace:install.titleMode",{name:e.name})}),s.jsx(Gg,{children:g?o("marketplace:install.successDescription"):e.type==="mcp"&&e.url?s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:o("marketplace:install.moreInfoMcp",{name:e.name})}):null})]}),g?s.jsx("div",{className:"space-y-4 py-2",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"text-green-500 text-lg",children:[" ",o("marketplace:install.installed")]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.type==="mcp"?o("marketplace:install.whatNextMcp"):o("marketplace:install.whatNextMode")})]})}):s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-base font-semibold",children:o("marketplace:install.scope")}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",name:"scope",value:"project",checked:a==="project",onChange:()=>i("project"),disabled:!n,className:"rounded-full"}),s.jsx("span",{className:n?"":"opacity-50",children:o("marketplace:install.project")})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",name:"scope",value:"global",checked:a==="global",onChange:()=>i("global"),className:"rounded-full"}),s.jsx("span",{children:o("marketplace:install.global")})]})]})]}),x&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-base font-semibold",children:o("marketplace:install.method")}),s.jsxs(Ut,{value:String(l),onValueChange:_=>c(Number(_)),children:[s.jsx(Kt,{children:s.jsx(Wt,{})}),s.jsx($t,{children:y.map((_,k)=>s.jsx(ze,{value:String(k),children:_},k))})]})]}),b.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-base font-semibold",children:o("marketplace:install.prerequisites")}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:b.map((_,k)=>s.jsx("li",{className:"text-muted-foreground",children:_},k))})]}),N.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-base font-semibold",children:o("marketplace:install.configuration")}),s.jsx("div",{className:"text-sm text-muted-foreground",children:o("marketplace:install.configurationDescription")})]}),N.map(_=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{htmlFor:_.key,className:"text-sm",children:[_.name,_.optional?" (optional)":""]}),s.jsx(Mr,{id:_.key,type:"text",placeholder:_.placeholder,value:d[_.key]||"",onChange:k=>u(w=>({...w,[_.key]:k.target.value}))})]},_.key))]}),p&&s.jsx("div",{className:"text-sm text-red-500 bg-red-500/10 border border-red-500/20 rounded p-2",children:p})]}),s.jsx(hd,{children:g?s.jsxs(s.Fragment,{children:[s.jsx(oe,{variant:"outline",onClick:r,children:o("marketplace:install.done")}),s.jsx(oe,{style:e.type==="mcp"?{display:"none"}:void 0,onClick:()=>v(e.type==="mcp"?"mcp":"modes"),children:e.type==="mcp"?o("marketplace:install.goToMcp"):o("marketplace:install.goToModes")})]}):s.jsxs(s.Fragment,{children:[s.jsx(oe,{variant:"outline",onClick:r,children:o("common:answers.cancel")}),s.jsx(oe,{onClick:j,children:o("marketplace:install.button")})]})})]})}):null},k0=({item:e,filters:t,setFilters:r,installed:n})=>{const{t:o}=re(),{cwd:a}=Ye(),[i,l]=h.useState(!1),[c,d]=h.useState(0),[u,p]=h.useState(!1),[m,g]=h.useState("project"),[f,x]=h.useState(null);h.useEffect(()=>{const _=k=>{const w=k.data;w.type==="marketplaceRemoveResult"&&w.slug===e.id&&(w.success?R.postMessage({type:"fetchMarketplaceData"}):x(w.error||o("marketplace:items.unknownError")))};return window.addEventListener("message",_),()=>window.removeEventListener("message",_)},[e.id,o]);const y=h.useMemo(()=>({mode:o("marketplace:filters.type.mode"),mcp:o("marketplace:filters.type.mcpServer")})[e.type]??"N/A",[e.type,o]),N=!!n.global,b=!!n.project,j=N||b,v=()=>{os.capture(Cs.MARKETPLACE_INSTALL_BUTTON_CLICKED,{itemId:e.id,itemType:e.type,itemName:e.name}),d(_=>_+1),l(!0)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"border border-vscode-panel-border rounded-sm p-3 bg-vscode-editor-background",children:[s.jsxs("div",{className:"flex gap-2 items-start justify-between",children:[s.jsx("div",{className:"flex gap-2 items-start",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-vscode-foreground mt-0 mb-1 leading-none",children:e.type==="mcp"&&e.url&&Cf(e.url)?s.jsx(oe,{variant:"link",className:"p-0 h-auto text-lg font-semibold text-vscode-foreground hover:underline",onClick:()=>R.postMessage({type:"openExternal",url:e.url}),children:e.name}):e.name}),s.jsx(IU,{item:e,typeLabel:y})]})}),s.jsxs("div",{className:"flex items-center gap-1",children:[j?s.jsx(ue,{content:o(b?"marketplace:items.card.removeProjectTooltip":"marketplace:items.card.removeGlobalTooltip"),children:s.jsx(oe,{size:"sm",variant:"secondary",className:"text-xs h-5 py-0 px-2",onClick:()=>{g(b?"project":"global"),p(!0)},children:o("marketplace:items.card.remove")})}):s.jsx(oe,{size:"sm",variant:"primary",className:"text-xs h-5 py-0 px-2",onClick:v,children:o("marketplace:items.card.install")}),f&&s.jsx("div",{className:"text-vscode-errorForeground text-sm mt-2",children:o("marketplace:items.removeFailed",{error:f})})]})]}),s.jsx("p",{className:"my-2 text-vscode-foreground",children:e.description}),(j||e.tags&&e.tags.length>0)&&s.jsxs("div",{className:"relative flex flex-wrap gap-1 my-2",children:[j&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-sm h-5 flex items-center bg-green-600/20 text-green-400 border border-green-600/30 shrink-0",children:o("marketplace:items.card.installed")}),e.tags&&e.tags.length>0&&e.tags.map(_=>s.jsx(ue,{content:t.tags.includes(_)?o("marketplace:filters.tags.clear",{count:_}):o("marketplace:filters.tags.clickToFilter"),children:s.jsx(oe,{size:"sm",variant:"secondary",className:Z("rounded-sm capitalize text-xs px-2 h-5",{"border-solid border-primary text-primary":t.tags.includes(_)}),onClick:()=>{const k=t.tags.includes(_)?t.tags.filter(w=>w!==_):[...t.tags,_];r({tags:k})},children:_})},_))]})]}),s.jsx(PU,{item:e,isOpen:i,onClose:()=>l(!1),hasWorkspace:!!a},`install-modal-${e.id}-${c}`),s.jsx(en,{open:u,onOpenChange:p,children:s.jsxs(tn,{children:[s.jsxs(sn,{children:[s.jsx(nn,{children:e.type==="mode"?o("marketplace:removeConfirm.mode.title"):o("marketplace:removeConfirm.mcp.title")}),s.jsx(on,{children:e.type==="mode"?s.jsxs(s.Fragment,{children:[o("marketplace:removeConfirm.mode.message",{modeName:e.name}),s.jsx("div",{className:"mt-2 text-sm",children:o("marketplace:removeConfirm.mode.rulesWarning")})]}):o("marketplace:removeConfirm.mcp.message",{mcpName:e.name})})]}),s.jsxs(rn,{children:[s.jsx(an,{children:o("marketplace:removeConfirm.cancel")}),s.jsx(Cr,{onClick:()=>{x(null),R.postMessage({type:"removeInstalledMarketplaceItem",mpItem:e,mpInstallOptions:{target:m}}),p(!1)},children:o("marketplace:removeConfirm.confirm")})]})]})})]})},IU=({item:e,typeLabel:t})=>{const{t:r}=re(),n=()=>{e.authorUrl&&Cf(e.authorUrl)&&R.postMessage({type:"openExternal",url:e.authorUrl})};return e.author?s.jsxs("p",{className:"text-sm text-vscode-descriptionForeground my-0",children:[t," ",e.authorUrl&&Cf(e.authorUrl)?s.jsx(oe,{variant:"link",className:"p-0 h-auto text-sm text-vscode-textLink hover:underline",onClick:n,children:r("marketplace:items.card.by",{author:e.author})}):r("marketplace:items.card.by",{author:e.author})]}):null},EU=()=>s.jsx("div",{className:"text-xs text-vscode-descriptionForeground p-3",children:s.jsx(we,{i18nKey:"marketplace:footer.issueText",children:s.jsx(Oe,{href:"https://github.com/Kilo-Org/kilocode/issues/new?template=marketplace.yml",style:{display:"inline",fontSize:"inherit"},children:"Open a GitHub issue"})})});function j0({stateManager:e,allTags:t,filteredTags:r,filterByType:n,headerMessage:o}){const[a,i]=CS(e),{t:l}=re(),{marketplaceInstalledMetadata:c,cloudUserInfo:d}=Ye(),[u,p]=h.useState(!1),[m,g]=h.useState(""),f=a.displayItems||[],x=a.displayOrganizationMcps||[],y=n?f.filter(j=>j.type===n):f,N=n==="mcp"?x:[],b=y.length===0&&N.length===0;return s.jsxs(s.Fragment,{children:[o&&s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-sm text-vscode-descriptionForeground",children:s.jsx(we,{i18nKey:o.translationKey,components:{1:s.jsx("a",{className:"text-vscode-textLink-foreground hover:text-vscode-textLink-activeForeground underline cursor-pointer bg-transparent border-none p-0 font-inherit",onClick:o.onLinkClick})}})})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"relative",children:s.jsx(Mr,{type:"text",placeholder:l(n==="mcp"?"marketplace:filters.search.placeholderMcp":n==="mode"?"marketplace:filters.search.placeholderMode":"marketplace:filters.search.placeholder"),value:a.filters.search,onChange:j=>i.transition({type:"UPDATE_FILTERS",payload:{filters:{search:j.target.value}}})})}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsxs(Ut,{value:a.filters.installed,onValueChange:j=>i.transition({type:"UPDATE_FILTERS",payload:{filters:{installed:j}}}),children:[s.jsx(Kt,{className:"flex-1 h-7",children:s.jsx(Wt,{})}),s.jsxs($t,{children:[s.jsx(ze,{value:"all",children:l("marketplace:filters.installed.all")}),s.jsx(ze,{value:"installed",children:l("marketplace:filters.installed.installed")}),s.jsx(ze,{value:"not_installed",children:l("marketplace:filters.installed.notInstalled")})]})]}),t.length>0&&s.jsx("div",{className:"flex-1",children:s.jsxs(Nn,{open:u,onOpenChange:j=>p(j),children:[s.jsx(Dn,{asChild:!0,children:s.jsxs(oe,{variant:"combobox",role:"combobox","aria-expanded":u,className:"w-full justify-between h-7",children:[s.jsx("span",{className:"truncate",children:a.filters.tags.length>0?a.filters.tags.map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(", "):l("marketplace:filters.tags.label")}),s.jsx(o_,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(Sn,{className:"w-[var(--radix-popover-trigger-width)] p-0",onClick:j=>j.stopPropagation(),children:s.jsxs(Ji,{children:[s.jsxs("div",{className:"relative",children:[s.jsx(Kc,{className:"h-9 pr-8",placeholder:l("marketplace:filters.tags.placeholder"),value:m,onValueChange:g}),m&&s.jsx(oe,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7",onClick:()=>g(""),children:s.jsx(_n,{className:"h-4 w-4"})})]}),s.jsxs(Zi,{className:"max-h-[200px] overflow-y-auto bg-vscode-dropdown-background divide-y divide-vscode-panel-border",children:[s.jsx($c,{className:"p-2 text-sm text-vscode-descriptionForeground",children:l("marketplace:filters.tags.noResults")}),s.jsx(Wa,{children:r.map(j=>s.jsxs(mo,{value:j,onSelect:()=>{const v=a.filters.tags.includes(j);i.transition({type:"UPDATE_FILTERS",payload:{filters:{tags:v?a.filters.tags.filter(_=>_!==j):[...a.filters.tags,j]}}})},"data-selected":a.filters.tags.includes(j),className:"grid grid-cols-[1rem_1fr] gap-2 cursor-pointer text-sm capitalize",onMouseDown:v=>{v.stopPropagation(),v.preventDefault()},children:[a.filters.tags.includes(j)?s.jsx("span",{className:"codicon codicon-check"}):s.jsx("span",{}),j]},j))})]})]})})]})})]}),a.filters.tags.length>0&&s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground mt-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"codicon codicon-tag mr-1"}),l("marketplace:filters.tags.selected")]}),s.jsxs(oe,{className:"shadow-none font-normal flex items-center gap-1 h-auto py-0.5 px-1.5 text-xs",size:"sm",variant:"secondary",onClick:j=>{j.stopPropagation(),i.transition({type:"UPDATE_FILTERS",payload:{filters:{tags:[]}}})},children:[s.jsx("span",{className:"codicon codicon-close"}),l("marketplace:filters.tags.clear")]})]})]}),a.isFetching&&b&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-vscode-descriptionForeground animate-fade-in",children:[s.jsx("div",{className:"animate-spin mb-4",children:s.jsx("span",{className:"codicon codicon-sync text-3xl"})}),s.jsx("p",{children:l("marketplace:items.refresh.refreshing")}),s.jsx("p",{className:"text-sm mt-2 animate-pulse",children:l("marketplace:items.refresh.mayTakeMoment")})]}),!a.isFetching&&b&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-vscode-descriptionForeground animate-fade-in",children:[s.jsx("span",{className:"codicon codicon-inbox text-4xl mb-4 opacity-70"}),s.jsx("p",{className:"font-medium",children:l("marketplace:items.empty.noItems")}),s.jsx("p",{className:"text-sm mt-2",children:l("marketplace:items.empty.adjustFilters")}),s.jsxs(oe,{onClick:()=>i.transition({type:"UPDATE_FILTERS",payload:{filters:{search:"",type:"",tags:[],installed:"all"}}}),className:"mt-4 bg-vscode-button-secondaryBackground text-vscode-button-secondaryForeground hover:bg-vscode-button-secondaryHoverBackground transition-colors",children:[s.jsx("span",{className:"codicon codicon-clear-all mr-2"}),l("marketplace:items.empty.clearAllFilters")]})]}),!a.isFetching&&!b&&s.jsxs("div",{className:"pb-3",children:[N.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1",children:[s.jsx("span",{className:"codicon codicon-organization text-lg"}),s.jsx("h3",{className:"text-sm font-semibold text-vscode-foreground",children:l("marketplace:sections.organizationMcps",{organization:d==null?void 0:d.organizationName})}),s.jsx("div",{className:"flex-1 h-px bg-vscode-input-border"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 gap-3",children:N.map(j=>{var v,_;return s.jsx(k0,{item:j,filters:a.filters,setFilters:k=>i.transition({type:"UPDATE_FILTERS",payload:{filters:k}}),installed:{project:(v=c==null?void 0:c.project)==null?void 0:v[j.id],global:(_=c==null?void 0:c.global)==null?void 0:_[j.id]}},`org-${j.id}`)})})]}),y.length>0&&s.jsxs("div",{children:[N.length>0&&s.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1",children:[s.jsx("span",{className:"codicon codicon-globe text-lg"}),s.jsx("h3",{className:"text-sm font-semibold text-vscode-foreground",children:l("marketplace:sections.marketplace")}),s.jsx("div",{className:"flex-1 h-px bg-vscode-input-border"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 gap-3",children:y.map(j=>{var v,_;return s.jsx(k0,{item:j,filters:a.filters,setFilters:k=>i.transition({type:"UPDATE_FILTERS",payload:{filters:k}}),installed:{project:(v=c==null?void 0:c.project)==null?void 0:v[j.id],global:(_=c==null?void 0:c.global)==null?void 0:_[j.id]}},j.id)})})]})]}),s.jsx(EU,{})]})}function AS({stateManager:e,onDone:t,targetTab:r,hideHeader:n=!1}){const{t:o}=re(),[a,i]=CS(e),[l,c]=h.useState(!1),d=h.useContext(mP),[u,p]=h.useState((d==null?void 0:d.organizationSettingsVersion)??-1);h.useEffect(()=>{const y=(d==null?void 0:d.organizationSettingsVersion)??-1;y!==u&&R.postMessage({type:"fetchMarketplaceData"}),p(y)},[d==null?void 0:d.organizationSettingsVersion,u]),h.useEffect(()=>{a.allItems.length>0&&!l&&c(!0)},[a.allItems,l]),h.useEffect(()=>{r&&(r==="mcp"||r==="mode")&&i.transition({type:"SET_ACTIVE_TAB",payload:{tab:r}})},[r,i]),h.useEffect(()=>{!l&&a.allItems.length===0&&R.postMessage({type:"fetchMarketplaceData"});const y=i.onStateChange(b=>{!l&&(b.allItems.length>0||b.displayItems!==void 0)&&c(!0)}),N=b=>{const j=b.data;j.type==="webviewVisible"&&j.visible};return window.addEventListener("message",N),()=>{window.removeEventListener("message",N),y()}},[i,l,a.allItems.length]);const m=h.useMemo(()=>Array.from(new Set(a.allItems.flatMap(y=>y.tags||[]))).sort(),[a.allItems]),g=h.useMemo(()=>m,[m]),f=h.useMemo(()=>({translationKey:"kilocode:marketplace.modes.description",onLinkClick:()=>{R.postMessage({type:"switchTab",tab:"modes"})}}),[]),x=h.useMemo(()=>({translationKey:"kilocode:marketplace.mcp.description",onLinkClick:()=>{R.postMessage({type:"switchTab",tab:"mcp"})}}),[]);return s.jsx(el,{delayDuration:300,children:s.jsxs(ra,{className:Z(n?"relative":"fixed"),children:[s.jsxs(hl,{style:{display:n?"none":"flex"},className:"flex flex-col sticky top-0 z-10 px-3 py-2 bg-vscode-sideBar-background",children:[s.jsxs("div",{className:"flex justify-between items-center px-2",children:[s.jsx("h3",{className:"font-bold m-0",children:o("marketplace:title")}),s.jsx("div",{className:"flex gap-2 items-center",children:s.jsx(oe,{variant:"primary",onClick:()=>{t==null||t()},children:o("marketplace:done")})})]}),s.jsx("div",{className:"w-full mt-2",children:s.jsxs("div",{className:"flex relative py-1",children:[s.jsx("div",{className:"absolute w-full h-[2px] -bottom-[2px] bg-vscode-input-border",children:s.jsx("div",{className:Z("absolute w-1/2 h-[2px] bottom-0 bg-vscode-button-background transition-all duration-300 ease-in-out",{"left-0":a.activeTab==="mcp","left-1/2":a.activeTab==="mode"})})}),s.jsx("button",{className:"flex items-center justify-center gap-2 flex-1 text-sm font-medium rounded-sm transition-colors duration-300 relative z-10 text-vscode-foreground",onClick:()=>i.transition({type:"SET_ACTIVE_TAB",payload:{tab:"mcp"}}),children:"MCP"}),s.jsx("button",{className:"flex items-center justify-center gap-2 flex-1 text-sm font-medium rounded-sm transition-colors duration-300 relative z-10 text-vscode-foreground",onClick:()=>i.transition({type:"SET_ACTIVE_TAB",payload:{tab:"mode"}}),children:"Modes"})]})})]}),s.jsxs(na,{className:"p-3 pt-2",children:[a.activeTab==="mcp"&&s.jsx(j0,{stateManager:e,allTags:m,filteredTags:g,filterByType:"mcp",headerMessage:x}),a.activeTab==="mode"&&s.jsx(j0,{stateManager:e,allTags:m,filteredTags:g,filterByType:"mode",headerMessage:f})]})]})})}const MU=()=>{const[e,t]=h.useState("marketplace"),r=h.useMemo(()=>new Cg,[]),{t:n}=re(),o=a=>{t(a)};return s.jsxs("div",{style:{top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column"},children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ug,{className:"w-4"}),s.jsx("div",{children:n("kilocode:settings.sections.mcp")})]})}),s.jsx(ts,{children:s.jsxs("div",{style:{flex:1,overflow:"auto"},children:[s.jsxs("div",{style:{display:"flex",gap:"1px",padding:"0 20px 0 20px",borderBottom:"1px solid var(--vscode-panel-border)"},children:[s.jsx(_0,{isActive:e==="marketplace",onClick:()=>o("marketplace"),children:"Marketplace"}),s.jsx(_0,{isActive:e==="installed",onClick:()=>o("installed"),children:"Installed"})]}),s.jsxs("div",{style:{width:"100%"},children:[e==="marketplace"&&s.jsx(AS,{hideHeader:!0,targetTab:"mcp",stateManager:r}),e==="installed"&&s.jsx(MS,{hideHeader:!0,onDone:()=>{}})]})]})})]})},CU=Js.button`
	background: none;
	border: none;
	border-bottom: 2px solid ${e=>e.isActive?"var(--vscode-foreground)":"transparent"};
	color: ${e=>e.isActive?"var(--vscode-foreground)":"var(--vscode-descriptionForeground)"};
	padding: 8px 16px;
	cursor: pointer;
	font-size: 13px;
	margin-bottom: -1px;
	font-family: inherit;

	&:hover {
		color: var(--vscode-foreground);
	}
`,_0=({children:e,isActive:t,onClick:r})=>s.jsx(CU,{isActive:t,onClick:r,children:e});function AU(e){const[t,r]=h.useState({}),{t:n}=re();return h.useEffect(()=>{R.postMessage({type:"getKeybindings",commandIds:e});const a=i=>{const l=i.data;l.type==="keybindingsResponse"&&r(l.keybindings||{})};return window.addEventListener("message",a),()=>window.removeEventListener("message",a)},[e]),h.useMemo(()=>{const a={},i=n("kilocode:ghost.settings.keybindingNotFound");for(const l of e)a[l]=t[l]||i;return a},[t,e,n])}const RU=Array.from(hP.keys()),OU=({ghostServiceSettings:e,onGhostServiceSettingsChange:t,className:r,...n})=>{const{t:o}=re(),{kiloCodeWrapperProperties:a}=Ye(),{enableAutoTrigger:i,enableSmartInlineTaskKeybinding:l,enableChatAutocomplete:c,provider:d,model:u,hasKilocodeProfileWithNoBalance:p}=e||{},m=AU(["kilo-code.ghost.generateSuggestions"]),[g,f]=h.useState(300),[x,y]=h.useState(Date.now()),N=h.useMemo(()=>RU.map(P=>{const I=qc.find(M=>M.value===P);return(I==null?void 0:I.label)??P}),[]);h.useEffect(()=>{const P=setInterval(()=>{y(Date.now())},3e4);return()=>clearInterval(P)},[]);const b=e==null?void 0:e.snoozeUntil,j=b?x<b:!1,v=h.useCallback(P=>{t("enableAutoTrigger",P.target.checked)},[t]),_=h.useCallback(P=>{t("enableSmartInlineTaskKeybinding",P.target.checked)},[t]),k=h.useCallback(P=>{t("enableChatAutocomplete",P.target.checked)},[t]),w=P=>{R.postMessage({type:"openGlobalKeybindings",text:P})},T=h.useCallback(()=>{R.postMessage({type:"snoozeAutocomplete",value:g})},[g]),S=h.useCallback(()=>{R.postMessage({type:"snoozeAutocomplete",value:0})},[]);return s.jsxs("div",{className:Z("flex flex-col",r),...n,children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sc,{className:"w-4"}),s.jsx("div",{children:o("kilocode:ghost.title")})]})}),s.jsx(ts,{className:"flex flex-col gap-5",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[s.jsx(FP,{className:"w-4"}),s.jsx("div",{children:o("kilocode:ghost.settings.codeEditorSuggestions")})]})}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(qe,{checked:i||!1,onChange:v,children:s.jsx("span",{className:"font-medium",children:o("kilocode:ghost.settings.enableAutoTrigger.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:o("kilocode:ghost.settings.enableAutoTrigger.description")}),i&&s.jsxs("div",{className:"flex flex-col gap-2 mt-2 ml-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bj,{className:"w-4"}),s.jsx("span",{className:"font-medium",children:o("kilocode:ghost.settings.snooze.label")})]}),j?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-vscode-descriptionForeground text-sm",children:o("kilocode:ghost.settings.snooze.currentlySnoozed")}),s.jsx(xt,{appearance:"secondary",onClick:S,children:o("kilocode:ghost.settings.snooze.unsnooze")})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Bs,{value:g.toString(),onChange:P=>f(Number(P.target.value)),children:[oE,s.jsx(gt,{value:"300",children:o("kilocode:ghost.settings.snooze.duration.5min")}),s.jsx(gt,{value:"900",children:o("kilocode:ghost.settings.snooze.duration.15min")}),s.jsx(gt,{value:"1800",children:o("kilocode:ghost.settings.snooze.duration.30min")}),s.jsx(gt,{value:"3600",children:o("kilocode:ghost.settings.snooze.duration.1hour")})]}),s.jsx(xt,{appearance:"secondary",onClick:T,children:o("kilocode:ghost.settings.snooze.button")})]}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm",children:o("kilocode:ghost.settings.snooze.description")})]})]}),!(a!=null&&a.kiloCodeWrapped)&&s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(qe,{checked:l||!1,onChange:_,children:s.jsx("span",{className:"font-medium",children:o("kilocode:ghost.settings.enableSmartInlineTaskKeybinding.label",{keybinding:m["kilo-code.ghost.generateSuggestions"]})})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"kilocode:ghost.settings.enableSmartInlineTaskKeybinding.description",values:{keybinding:m["kilo-code.ghost.generateSuggestions"]},components:{DocsLink:s.jsx("a",{href:"#",onClick:()=>w("kilo-code.ghost.generateSuggestions"),className:"text-[var(--vscode-list-highlightForeground)] hover:underline cursor-pointer"})}})})]}),s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[s.jsx(sc,{className:"w-4"}),s.jsx("div",{children:o("kilocode:ghost.settings.chatSuggestions")})]})}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(qe,{checked:c||!1,onChange:k,children:s.jsx("span",{className:"font-medium",children:o("kilocode:ghost.settings.enableChatAutocomplete.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm mt-1",children:s.jsx(we,{i18nKey:"kilocode:ghost.settings.enableChatAutocomplete.description"})})]}),s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[s.jsx(sc,{className:"w-4"}),s.jsx("div",{children:o("kilocode:ghost.settings.model")})]})}),s.jsx("div",{className:"flex flex-col gap-2",children:s.jsxs("div",{className:"text-sm",children:[d&&u?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-vscode-descriptionForeground",children:[s.jsxs("span",{className:"font-medium",children:[o("kilocode:ghost.settings.provider"),":"]})," ",d]}),s.jsxs("div",{className:"text-vscode-descriptionForeground",children:[s.jsxs("span",{className:"font-medium",children:[o("kilocode:ghost.settings.model"),":"]})," ",u]})]}):p?s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"text-vscode-errorForeground font-medium",children:o("kilocode:ghost.settings.noCredits.title")}),s.jsx("div",{className:"text-vscode-descriptionForeground",children:o("kilocode:ghost.settings.noCredits.description")}),s.jsx("div",{className:"text-vscode-descriptionForeground",children:s.jsx("a",{href:"https://kilo.ai/credits",className:"text-vscode-textLink-foreground hover:underline",children:o("kilocode:ghost.settings.noCredits.buyCredits")})})]}):s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"text-vscode-errorForeground font-medium",children:o("kilocode:ghost.settings.noModelConfigured.title")}),s.jsx("div",{className:"text-vscode-descriptionForeground",children:o("kilocode:ghost.settings.noModelConfigured.description")}),s.jsx("ul",{className:"text-vscode-descriptionForeground list-disc list-inside ml-2",children:N.map(P=>s.jsx("li",{children:P},P))}),s.jsx("div",{className:"text-vscode-descriptionForeground",children:s.jsx("a",{href:"https://kilo.ai/docs/basic-usage/autocomplete",className:"text-vscode-textLink-foreground hover:underline",children:o("kilocode:ghost.settings.noModelConfigured.learnMore")})})]}),Mg]})})]})})]})},th=({command:e,onDelete:t,onClick:r})=>{const{t:n}=re(),o=e.source==="built-in",a=()=>{e.filePath?R.postMessage({type:"openFile",text:e.filePath}):R.postMessage({type:"openCommandFile",text:e.name,values:{source:e.source}})},i=()=>{t(e)};return s.jsxs("div",{className:"px-4 py-2 text-sm flex items-center group hover:bg-vscode-list-hoverBackground",children:[s.jsx("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>r==null?void 0:r(e),children:s.jsxs("div",{children:[s.jsx("span",{className:"truncate text-vscode-foreground",children:e.name}),e.description&&s.jsx("div",{className:"text-xs text-vscode-descriptionForeground truncate mt-0.5",children:e.description})]})}),!o&&s.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[s.jsx(ue,{content:n("chat:slashCommands.editCommand"),children:s.jsx(oe,{variant:"ghost",size:"icon",tabIndex:-1,onClick:a,className:"size-6 flex items-center justify-center opacity-60 hover:opacity-100",children:s.jsx(m_,{className:"w-4 h-4"})})}),s.jsx(ue,{content:n("chat:slashCommands.deleteCommand"),children:s.jsx(oe,{variant:"ghost",size:"icon",tabIndex:-1,onClick:i,className:"size-6 flex items-center justify-center opacity-60 hover:opacity-100 hover:text-red-400",children:s.jsx(Li,{className:"w-4 h-4"})})})]})]})},DU=()=>{const{t:e}=re(),{commands:t,cwd:r}=Ye(),[n,o]=h.useState(!1),[a,i]=h.useState(null),[l,c]=h.useState(""),[d,u]=h.useState(""),p=!!r;h.useEffect(()=>{m()},[]);const m=()=>{R.postMessage({type:"requestCommands"})},g=_=>{i(_),o(!0)},f=()=>{a&&(R.postMessage({type:"deleteCommand",text:a.name,values:{source:a.source}}),o(!1),i(null),setTimeout(m,100))},x=()=>{o(!1),i(null)},y=(_,k)=>{if(!k.trim())return;const w=k.trim().endsWith(".md")?k.trim():`${k.trim()}.md`;R.postMessage({type:"createCommand",text:w,values:{source:_}}),_==="global"?c(""):u(""),setTimeout(m,500)},N=_=>{console.log(`Command clicked: ${_.name} (${_.source})`)},b=(t==null?void 0:t.filter(_=>_.source==="built-in"))||[],j=(t==null?void 0:t.filter(_=>_.source==="global"))||[],v=(t==null?void 0:t.filter(_=>_.source==="project"))||[];return s.jsxs("div",{children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($A,{className:"w-4"}),s.jsx("div",{children:e("settings:sections.slashCommands")})]})}),s.jsxs(ts,{children:[s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-sm text-vscode-descriptionForeground",children:s.jsx(we,{i18nKey:"settings:slashCommands.description",components:{DocsLink:s.jsx("a",{href:St("features/slash-commands"),target:"_blank",rel:"noopener noreferrer",className:"text-vscode-textLink-foreground hover:underline",children:"Docs"})}})})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[s.jsx(Gc,{className:"w-3 h-3"}),s.jsx("h4",{className:"text-sm font-medium m-0",children:e("chat:slashCommands.globalCommands")})]}),s.jsxs("div",{className:"border border-vscode-panel-border rounded-md",children:[j.map(_=>s.jsx(th,{command:_,onDelete:g,onClick:N},`global-${_.name}`)),s.jsxs("div",{className:"px-4 py-2 flex items-center gap-2 hover:bg-vscode-list-hoverBackground border-t border-vscode-panel-border",children:[s.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:e("chat:slashCommands.newGlobalCommandPlaceholder"),className:"flex-1 bg-vscode-input-background text-vscode-input-foreground placeholder-vscode-input-placeholderForeground border border-vscode-input-border rounded px-2 py-1 text-sm focus:outline-none focus:border-vscode-focusBorder",onKeyDown:_=>{_.key==="Enter"&&y("global",l)}}),s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>y("global",l),disabled:!l.trim(),className:"size-6 flex items-center justify-center opacity-60 hover:opacity-100",children:s.jsx(Qx,{className:"w-4 h-4"})})]})]})]}),p&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[s.jsx(LP,{className:"w-3 h-3"}),s.jsx("h4",{className:"text-sm font-medium m-0",children:e("chat:slashCommands.workspaceCommands")})]}),s.jsxs("div",{className:"border border-vscode-panel-border rounded-md",children:[v.map(_=>s.jsx(th,{command:_,onDelete:g,onClick:N},`project-${_.name}`)),s.jsxs("div",{className:"px-4 py-2 flex items-center gap-2 hover:bg-vscode-list-hoverBackground border-t border-vscode-panel-border",children:[s.jsx("input",{type:"text",value:d,onChange:_=>u(_.target.value),placeholder:e("chat:slashCommands.newWorkspaceCommandPlaceholder"),className:"flex-1 bg-vscode-input-background text-vscode-input-foreground placeholder-vscode-input-placeholderForeground border border-vscode-input-border rounded px-2 py-1 text-sm focus:outline-none focus:border-vscode-focusBorder",onKeyDown:_=>{_.key==="Enter"&&y("project",d)}}),s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>y("project",d),disabled:!d.trim(),className:"size-6 flex items-center justify-center opacity-60 hover:opacity-100",children:s.jsx(Qx,{className:"w-4 h-4"})})]})]})]}),b.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[s.jsx(d_,{className:"w-3 h-3"}),s.jsx("h4",{className:"text-sm font-medium m-0",children:e("chat:slashCommands.builtInCommands")})]}),s.jsx("div",{className:"border border-vscode-panel-border rounded-md",children:b.map(_=>s.jsx(th,{command:_,onDelete:g,onClick:N},`built-in-${_.name}`))})]})]}),s.jsx(en,{open:n,onOpenChange:o,children:s.jsxs(tn,{children:[s.jsxs(sn,{children:[s.jsx(nn,{children:e("chat:slashCommands.deleteDialog.title")}),s.jsx(on,{children:e("chat:slashCommands.deleteDialog.description",{name:a==null?void 0:a.name})})]}),s.jsxs(rn,{children:[s.jsx(an,{onClick:x,children:e("chat:slashCommands.deleteDialog.cancel")}),s.jsx(Cr,{onClick:f,children:e("chat:slashCommands.deleteDialog.confirm")})]})]})})]})},FU=({reasoningBlockCollapsed:e,enterBehavior:t,setCachedStateField:r,...n})=>{const{t:o}=re(),a=h.useMemo(()=>navigator.platform.toUpperCase().indexOf("MAC")>=0?"":"Ctrl",[]),i=c=>{r("reasoningBlockCollapsed",c),os.capture("ui_settings_collapse_thinking_changed",{enabled:c})},l=c=>{const d=c?"newline":"send";r("enterBehavior",d),os.capture("ui_settings_enter_behavior_changed",{behavior:d})};return s.jsxs("div",{...n,children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lA,{className:"w-4"}),s.jsx("div",{children:o("settings:sections.ui")})]})}),s.jsx(ts,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(qe,{checked:e,onChange:c=>i(c.target.checked),"data-testid":"collapse-thinking-checkbox",children:s.jsx("span",{className:"font-medium",children:o("settings:ui.collapseThinking.label")})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm ml-5 mt-1",children:o("settings:ui.collapseThinking.description")})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(qe,{checked:t==="newline",onChange:c=>l(c.target.checked),"data-testid":"enter-behavior-checkbox",children:s.jsx("span",{className:"font-medium",children:o("settings:ui.requireCtrlEnterToSend.label",{primaryMod:a})})}),s.jsx("div",{className:"text-vscode-descriptionForeground text-sm ml-5 mt-1",children:o("settings:ui.requireCtrlEnterToSend.description",{primaryMod:a})})]})]})})]})},LU=({className:e=""})=>{const{t}=re();return s.jsxs("a",{className:`flex items-center gap-1 bg-vscode-editor-background border border-vscode-panel-border rounded-md p-1 my-1 mb-2 text-[var(--vscode-activityWarningBadge-background)] cursor-pointer hover:[filter:brightness(1.1)] ${e}`,href:Er("/organizations/new"),onClick:()=>{os.capture(Cs.CREATE_ORGANIZATION_LINK_CLICKED,{origin:"modes-view"})},children:[s.jsx("div",{className:"flex items-center px-2 py-0.5 rounded-full text-xs font-bold",children:s.jsx("span",{className:"codicon codicon-sparkle text-xs"})}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-bold",children:"NEW:"})," ",t("kilocode:modes.shareModesNewBanner").replace("New: ","")]})]})},BU=({open:e,onOpenChange:t,modeToDelete:r,onConfirm:n})=>{const{t:o}=re();return s.jsx(en,{open:e,onOpenChange:t,children:s.jsxs(tn,{children:[s.jsxs(sn,{children:[s.jsx(nn,{children:o("prompts:deleteMode.title")}),s.jsx(on,{children:r&&s.jsxs(s.Fragment,{children:[o("prompts:deleteMode.message",{modeName:r.name}),r.rulesFolderPath&&s.jsx("div",{className:"mt-2",children:o("prompts:deleteMode.rulesFolder",{folderPath:r.rulesFolderPath})})]})})]}),s.jsxs(rn,{children:[s.jsx(an,{children:o("prompts:deleteMode.cancel")}),s.jsx(Cr,{onClick:n,children:o("prompts:deleteMode.confirm")})]})]})})};function zU(){const{t:e}=re();return s.jsx("div",{className:"mb-4 p-3 border border-vscode-inputValidation-infoBorder rounded",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"codicon codicon-organization mt-0.5"}),s.jsxs("div",{className:"text-sm ",children:[s.jsx("div",{className:"font-semibold mb-1",children:e("prompts:organizationMode.title")}),s.jsx("div",{children:e("prompts:organizationMode.description")})]})]})})}const $l=Object.keys(mv).filter(e=>!mv[e].alwaysAvailable);function ma(e){return Array.isArray(e)?e[0]:e}const qU=()=>{var Zs,er,Tn,jr,$s,Ps,dr,Hs,Lr,hn;const{t:e}=re(),{customModePrompts:t,listApiConfigMeta:r,currentApiConfigName:n,mode:o,customInstructions:a,setCustomInstructions:i,customModes:l}=Ye(),[c,d]=h.useState(o),u=ho(l),[p,m]=h.useState(!1),[g,f]=h.useState(""),[x,y]=h.useState(""),[N,b]=h.useState(!1),[j,v]=h.useState(!1),[_,k]=h.useState(!1),[w,T]=h.useState(!1),[S,P]=h.useState(!1),[I,M]=h.useState(!1),[A,C]=h.useState(!1),[H,z]=h.useState("project"),[D,Y]=h.useState({}),[U,q]=h.useState(!1),[F,W]=h.useState(null),[te,K]=h.useState(!1),[X,G]=h.useState(""),J=h.useRef(null),[ae,O]=h.useState(!1),[pe,be]=h.useState(""),xe=h.useRef(null),[Pe,Te]=h.useState({}),L=(u||[]).map(B=>Pe[B.slug]?{...B,name:Pe[B.slug]}:B),fe=h.useCallback((B,he)=>{const Ee={...t==null?void 0:t[B],...he};Ee.roleDefinition===Kx(B)&&delete Ee.roleDefinition,Ee.description===$x(B)&&delete Ee.description,Ee.whenToUse===Hx(B)&&delete Ee.whenToUse,R.postMessage({type:"updatePrompt",promptMode:B,customPrompt:Ee})},[t]),ne=h.useCallback((B,he)=>{const ge=he.source||"global";R.postMessage({type:"updateCustomMode",slug:B,modeConfig:{...he,source:ge}})},[]),Ve=h.useCallback((B,he)=>fP(B,he),[]),mt=h.useCallback(B=>{R.postMessage({type:"mode",text:B})},[]),V=h.useCallback(B=>{B.slug!==c&&(d(B.slug),mt(B.slug),b(!1))},[c,mt]),je=h.useRef(V),_e=h.useRef(l),lt=h.useRef(mt);h.useEffect(()=>{je.current=V},[V]),h.useEffect(()=>{_e.current=l},[l]),h.useEffect(()=>{lt.current=mt},[mt]),h.useEffect(()=>{d(o)},[o]);const Ze=h.useCallback(B=>{K(B),B||setTimeout(()=>G(""),100)},[]);dl(te,()=>K(!1));const Rt=h.useCallback(()=>{var B;G(""),(B=J.current)==null||B.focus()},[]);h.useEffect(()=>{if(ae){const B=setTimeout(()=>{var he;return(he=xe.current)==null?void 0:he.focus()},0);return()=>clearTimeout(B)}},[ae]);const Rs=h.useCallback(()=>{const B=Ve(c,l);B&&(O(!0),be(B.name))},[c,l,Ve]),$e=h.useCallback(()=>{O(!1),be("")},[]),jt=h.useCallback(()=>{const B=Ve(c,l),he=pe.trim();if(!B||!he){O(!1);return}u.some(Ee=>Ee.name.toLowerCase()===he.toLowerCase()&&Ee.slug!==B.slug)||(ne(c,{...B,name:he,source:B.source||"global"}),Te(Ee=>({...Ee,[c]:he})),O(!1))},[c,l,pe,u,ne,Ve]),Me=h.useCallback(()=>{const B=he=>he.slug===c;return(l==null?void 0:l.find(B))||u.find(B)},[c,l,u]),et=h.useMemo(()=>{var B;return((B=Me())==null?void 0:B.source)==="organization"},[Me]),bt=h.useCallback(B=>{R.postMessage({type:"checkRulesDirectory",slug:B})},[]);h.useEffect(()=>{const B=Me();B!=null&&B.slug&&D[B.slug]===void 0&&bt(B.slug)},[Me,bt,D]);const[ct,Ot]=h.useState(""),[Mt,ss]=h.useState(""),[Ce,Ks]=h.useState(""),[cs,wt]=h.useState(""),[Ue,Lt]=h.useState(""),[us,ee]=h.useState(""),[Le,tt]=h.useState($l),[Ae,Zt]=h.useState("global"),[kt,Bt]=h.useState(""),[ps,Ht]=h.useState(""),[_t,dt]=h.useState(""),[ht,gs]=h.useState(""),[cr,ys]=h.useState(""),ws=h.useCallback(()=>{Ot(""),ss(""),Ks(""),tt($l),wt(""),Lt(""),ee(""),Zt("global"),Bt(""),Ht(""),dt(""),gs(""),ys("")},[]);h.useEffect(()=>{_&&ws()},[_,ws]),h.useEffect(()=>{A&&z("project")},[A]);const ms=h.useCallback((B,he=0)=>{const ge=B.toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"");return he===0?ge:`${ge}-${he}`},[]),Or=h.useCallback(B=>{Ot(B),ss(ms(B))},[ms]),Dr=h.useCallback(()=>{Bt(""),Ht(""),dt(""),gs(""),ys("");const B=Ae,he={slug:Mt,name:ct,description:Ce.trim()||void 0,roleDefinition:cs.trim(),whenToUse:Ue.trim()||void 0,customInstructions:us.trim()||void 0,groups:Le,source:B},ge=gP.safeParse(he);if(!ge.success){ge.error.errors.forEach(Ee=>{const rt=Ee.path[0],Vt=Ee.message;switch(rt){case"name":Bt(Vt);break;case"slug":Ht(Vt);break;case"description":dt(Vt);break;case"roleDefinition":gs(Vt);break;case"groups":ys(Vt);break}});return}ne(Mt,he),d(Mt),mt(Mt),k(!1),ws()},[ct,Mt,Ce,cs,Ue,us,Le,Ae,ne]),un=h.useCallback((B,he)=>u.some(ge=>ge.slug===he||ge.name===B),[u]),Fr=h.useCallback(()=>{const B="New Custom Mode";let he=0,ge=B,Ee=ms(ge);for(;un(ge,Ee);)he++,ge=`${B} ${he+1}`,Ee=ms(ge);Ot(ge),ss(Ee),k(!0)},[ms,un]),pn=h.useCallback((B,he,ge)=>Ee=>{var Os;if(!he)return;const Vt=(((Os=Ee==null?void 0:Ee.detail)==null?void 0:Os.target)||Ee.target).checked,Ct=(ge==null?void 0:ge.groups)||[];let zt;if(Vt?zt=[...Ct,B]:zt=Ct.filter(Vs=>ma(Vs)!==B),ge){const Vs=ge.source||"global";ne(ge.slug,{...ge,groups:zt,source:Vs})}},[ne]);h.useEffect(()=>{const B=()=>{j&&v(!1)};return document.addEventListener("click",B),()=>document.removeEventListener("click",B)},[j]);const mn=h.useRef(F);h.useEffect(()=>{mn.current=F},[F]),h.useEffect(()=>{const B=he=>{var Ee;const ge=he.data;if(ge.type==="systemPrompt")ge.text&&(f(ge.text),y(`System Prompt (${ge.mode} mode)`),m(!0));else if(ge.type==="exportModeResult")P(!1),ge.success||console.error("Failed to export mode:",ge.error);else if(ge.type==="importModeResult")if(M(!1),C(!1),ge.success){const{slug:rt}=ge;if(rt){const Ct=ho(_e.current).find(zt=>zt.slug===rt);Ct?je.current(Ct):(d(Th),(Ee=lt.current)==null||Ee.call(lt,Th))}}else ge.error!=="cancelled"&&console.error("Failed to import mode:",ge.error);else if(ge.type==="checkRulesDirectoryResult")Y(rt=>({...rt,[ge.slug]:ge.hasContent}));else if(ge.type==="deleteCustomModeCheck"){const rt=mn.current;ge.slug&&rt&&rt.slug===ge.slug&&(W({...rt,rulesFolderPath:ge.rulesFolderPath}),q(!0))}};return window.addEventListener("message",B),()=>window.removeEventListener("message",B)},[bt,mt]);const kr=(B,he)=>{const Ee={...t==null?void 0:t[B]};delete Ee[he],R.postMessage({type:"updatePrompt",promptMode:B,customPrompt:Ee})};return s.jsxs("div",{children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qg,{className:"w-4"}),s.jsx("div",{children:e("prompts:title")})]})}),s.jsxs(ts,{children:[s.jsxs("div",{children:[s.jsxs("div",{onClick:B=>B.stopPropagation(),className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"text-vscode-foreground m-0",children:e("prompts:modes.title")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative inline-block",children:[s.jsx(ue,{content:e("prompts:modes.editModesConfig"),children:s.jsx(oe,{variant:"ghost",size:"icon",className:"flex",onClick:B=>{B.preventDefault(),B.stopPropagation(),v(he=>!he)},onBlur:()=>{setTimeout(()=>v(!1),200)},children:s.jsx("span",{className:"codicon codicon-json"})})}),j&&s.jsxs("div",{onClick:B=>B.stopPropagation(),onMouseDown:B=>B.stopPropagation(),className:"absolute top-full right-0 w-[200px] mt-1 bg-vscode-editor-background border border-vscode-input-border rounded shadow-md z-[1000]",children:[s.jsx("div",{className:"p-2 cursor-pointer text-vscode-foreground text-sm",onMouseDown:B=>{B.preventDefault(),R.postMessage({type:"openCustomModesSettings"}),v(!1)},onClick:B=>B.preventDefault(),children:e("prompts:modes.editGlobalModes")}),s.jsx("div",{className:"p-2 cursor-pointer text-vscode-foreground text-sm border-t border-vscode-input-border",onMouseDown:B=>{B.preventDefault(),R.postMessage({type:"openFile",text:"./.kilocodemodes",values:{create:!0,content:JSON.stringify({customModes:[]},null,2)}}),v(!1)},onClick:B=>B.preventDefault(),children:e("prompts:modes.editProjectModes")})]})]}),s.jsx(ue,{content:e("chat:modeSelector.marketplace"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>{window.postMessage({type:"action",action:"marketplaceButtonClicked",values:{marketplaceTab:"mode"}},"*")},children:s.jsx("span",{className:"codicon codicon-extensions"})})}),s.jsx(ue,{content:e("prompts:modes.importMode"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>C(!0),disabled:I,title:e("prompts:modes.importMode"),"data-testid":"import-mode-toolbar-button",children:s.jsx(Bg,{className:"h-4 w-4"})})})]})]}),s.jsxs("div",{className:"text-sm text-vscode-descriptionForeground mb-6",children:[s.jsx(LU,{}),s.jsxs(we,{i18nKey:"prompts:modes.createModeHelpText",children:[s.jsx(Oe,{href:St("basic-usage/using-modes"),style:{display:"inline"},"aria-label":"Learn about using modes"}),s.jsx(Oe,{href:St("features/custom-modes"),style:{display:"inline"},"aria-label":"Learn about customizing modes"})]})]}),s.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[et&&s.jsx(zU,{})," ",ae?s.jsxs(s.Fragment,{children:[s.jsx(de,{ref:xe,value:pe,onInput:B=>{be(B.target.value)},className:"grow",placeholder:e("prompts:createModeDialog.name.placeholder")}),s.jsx(ue,{content:e("settings:common.save"),children:s.jsx(oe,{variant:"ghost",size:"icon",disabled:!pe.trim(),onClick:jt,"data-testid":"save-mode-rename-button",children:s.jsx("span",{className:"codicon codicon-check"})})}),s.jsx(ue,{content:e("settings:common.cancel"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:$e,"data-testid":"cancel-mode-rename-button",children:s.jsx("span",{className:"codicon codicon-close"})})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Nn,{open:te,onOpenChange:Ze,children:[s.jsx(Dn,{asChild:!0,children:s.jsxs(oe,{variant:"combobox",role:"combobox","aria-expanded":te,className:"justify-between grow","data-testid":"mode-select-trigger",children:[s.jsx("div",{className:"truncate",children:Pe[c]??((Zs=Me())==null?void 0:Zs.name)??e("prompts:modes.selectMode")}),s.jsx(Zo,{className:"opacity-50"})]})}),s.jsx(Sn,{className:"p-0 w-[var(--radix-popover-trigger-width)]",children:s.jsxs(Ji,{children:[s.jsxs("div",{className:"relative",children:[s.jsx(Kc,{ref:J,value:X,onValueChange:G,placeholder:e("prompts:modes.selectMode"),className:"h-9 mr-4","data-testid":"mode-search-input"}),X.length>0&&s.jsx("div",{className:"absolute right-2 top-0 bottom-0 flex items-center justify-center",children:s.jsx(_n,{className:"text-vscode-input-foreground opacity-50 hover:opacity-100 size-4 p-0.5 cursor-pointer",onClick:Rt})})]}),s.jsxs(Zi,{children:[s.jsx($c,{children:X&&s.jsx("div",{className:"py-2 px-1 text-sm",children:e("prompts:modes.noMatchFound")})}),s.jsx(Wa,{children:L.filter(B=>X?B.name.toLowerCase().includes(X.toLowerCase()):!0).map(B=>s.jsx(mo,{value:`${B.name} ${B.slug}`,onSelect:()=>{V(B),K(!1)},"data-testid":`mode-option-${B.slug}`,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flex:2,minWidth:0},children:B.name}),s.jsx("span",{className:"text-foreground",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",direction:"rtl",textAlign:"right",flex:1,minWidth:0,marginLeft:"0.5em"},children:B.slug})]})},B.slug))})]})]})})]}),s.jsx(ue,{content:e("prompts:modes.createNewMode"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:Fr,"data-testid":"add-mode-button",children:s.jsx("span",{className:"codicon codicon-add"})})}),s.jsx(ue,{content:e("settings:providers.renameProfile"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:Rs,"data-testid":"rename-mode-button",disabled:!Ve(c,l),children:s.jsx("span",{className:"codicon codicon-edit"})})}),s.jsx(ue,{content:e("prompts:createModeDialog.deleteMode"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>{const B=Ve(c,l);B&&(W({slug:B.slug,name:B.name,source:B.source||"global"}),R.postMessage({type:"deleteCustomMode",slug:B.slug,checkOnly:!0}))},"data-testid":"delete-mode-button",disabled:!Ve(c,l),children:s.jsx("span",{className:"codicon codicon-trash"})})}),s.jsx(ue,{content:e("prompts:exportMode.title"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>{const B=Me();B!=null&&B.slug&&!S&&(P(!0),R.postMessage({type:"exportMode",slug:B.slug}))},disabled:S,title:e("prompts:exportMode.title"),"data-testid":"export-mode-toolbar-button",children:s.jsx(h_,{className:"h-4 w-4"})})})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:apiConfiguration.title")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:e("prompts:apiConfiguration.select")}),s.jsx("div",{className:"mb-2",children:s.jsxs(Ut,{value:n,onValueChange:B=>{R.postMessage({type:"loadApiConfiguration",text:B})},children:[s.jsx(Kt,{className:"w-full",children:s.jsx(Wt,{placeholder:e("settings:common.select")})}),s.jsx($t,{children:(r||[]).map(B=>s.jsx(ze,{value:B.name,children:B.name},B.id))})]})})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"font-bold",children:e("prompts:roleDefinition.title")}),!Ve(c,l)&&s.jsx(ue,{content:e("prompts:roleDefinition.resetToDefault"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>{const B=Me();B!=null&&B.slug&&kr(B.slug,"roleDefinition")},"data-testid":"role-definition-reset",children:s.jsx("span",{className:"codicon codicon-discard"})})})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:e("prompts:roleDefinition.description")}),s.jsx(En,{resize:"vertical",value:(()=>{const B=Ve(c,l),he=t==null?void 0:t[c];return(B==null?void 0:B.roleDefinition)??(he==null?void 0:he.roleDefinition)??Kx(c)})(),onChange:B=>{var Ee,rt;const he=((rt=(Ee=B==null?void 0:B.detail)==null?void 0:Ee.target)==null?void 0:rt.value)??B.target.value,ge=Ve(c,l);ge?ne(c,{...ge,roleDefinition:he.trim()||"",source:ge.source||"global"}):fe(c,{roleDefinition:he.trim()||void 0})},className:"w-full",rows:5,"data-testid":`${((er=Me())==null?void 0:er.slug)||"code"}-prompt-textarea`})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"font-bold",children:e("prompts:description.title")}),!Ve(c,l)&&s.jsx(ue,{content:e("prompts:description.resetToDefault"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>{const B=Me();B!=null&&B.slug&&kr(B.slug,"description")},"data-testid":"description-reset",children:s.jsx("span",{className:"codicon codicon-discard"})})})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:e("prompts:description.description")}),s.jsx(de,{value:(()=>{const B=Ve(c,l),he=t==null?void 0:t[c];return(B==null?void 0:B.description)??(he==null?void 0:he.description)??$x(c)})(),onChange:B=>{var Ee,rt;const he=((rt=(Ee=B==null?void 0:B.detail)==null?void 0:Ee.target)==null?void 0:rt.value)??B.target.value,ge=Ve(c,l);ge?ne(c,{...ge,description:he.trim()||void 0,source:ge.source||"global"}):fe(c,{description:he.trim()||void 0})},className:"w-full","data-testid":`${((Tn=Me())==null?void 0:Tn.slug)||"code"}-description-textfield`})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"font-bold",children:e("prompts:whenToUse.title")}),!Ve(c,l)&&s.jsx(ue,{content:e("prompts:whenToUse.resetToDefault"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>{const B=Me();B!=null&&B.slug&&kr(B.slug,"whenToUse")},"data-testid":"when-to-use-reset",children:s.jsx("span",{className:"codicon codicon-discard"})})})]}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:e("prompts:whenToUse.description")}),s.jsx(En,{resize:"vertical",value:(()=>{const B=Ve(c,l),he=t==null?void 0:t[c];return(B==null?void 0:B.whenToUse)??(he==null?void 0:he.whenToUse)??Hx(c)})(),onChange:B=>{var Ee,rt;const he=((rt=(Ee=B==null?void 0:B.detail)==null?void 0:Ee.target)==null?void 0:rt.value)??B.target.value,ge=Ve(c,l);ge?ne(c,{...ge,whenToUse:he.trim()||void 0,source:ge.source||"global"}):fe(c,{whenToUse:he.trim()||void 0})},className:"w-full",rows:4,"data-testid":`${((jr=Me())==null?void 0:jr.slug)||"code"}-when-to-use-textarea`})]}),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"font-bold",children:e("prompts:tools.title")}),Ve(c,l)&&s.jsx(ue,{content:e(N?"prompts:tools.doneEditing":"prompts:tools.editTools"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>b(!N),children:s.jsx("span",{className:`codicon codicon-${N?"check":"edit"}`})})})]}),!Ve(c,l)&&s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:e("prompts:tools.builtInModesText")}),N&&Ve(c,l)?s.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(200px,1fr))] gap-2",children:$l.map(B=>{var Vt,Ct;const he=Me(),ge=Ve(c,l),Ee=ge,rt=ge?(Vt=Ee==null?void 0:Ee.groups)==null?void 0:Vt.some(zt=>ma(zt)===B):(Ct=he==null?void 0:he.groups)==null?void 0:Ct.some(zt=>ma(zt)===B);return s.jsxs(qe,{checked:rt,onChange:pn(B,!!ge,Ee),disabled:!ge,children:[e(`prompts:tools.toolNames.${B}`),B==="edit"&&s.jsxs("div",{className:"text-xs text-vscode-descriptionForeground mt-0.5",children:[e("prompts:tools.allowedFiles")," ",(()=>{var Vs;const zt=Me(),Os=(Vs=zt==null?void 0:zt.groups)==null?void 0:Vs.find(Br=>{var _r;return Array.isArray(Br)&&Br[0]==="edit"&&((_r=Br[1])==null?void 0:_r.fileRegex)});return Array.isArray(Os)?Os[1].description||`/${Os[1].fileRegex}/`:e("prompts:allFiles")})()]})]},B)})}):s.jsx("div",{className:"text-sm text-vscode-foreground mb-2 leading-relaxed",children:(()=>{const B=Me(),he=(B==null?void 0:B.groups)||[];return he.length===0?e("prompts:tools.noTools"):he.map(ge=>{var Vt;const Ee=ma(ge),rt=e(`prompts:tools.toolNames.${Ee}`);if(Array.isArray(ge)&&((Vt=ge[1])!=null&&Vt.fileRegex)){const Ct=ge[1].description||`/${ge[1].fileRegex}/`;return`${rt} (${Ct})`}return rt}).join(", ")})()})]})}),s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("div",{className:"font-bold",children:e("prompts:customInstructions.title")}),!Ve(c,l)&&s.jsx(ue,{content:e("prompts:customInstructions.resetToDefault"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>{const B=Me();B!=null&&B.slug&&kr(B.slug,"customInstructions")},"data-testid":"custom-instructions-reset",children:s.jsx("span",{className:"codicon codicon-discard"})})})]}),s.jsx("div",{className:"text-[13px] text-vscode-descriptionForeground mb-2",children:e("prompts:customInstructions.description",{modeName:(($s=Me())==null?void 0:$s.name)||"Code"})}),s.jsx(En,{resize:"vertical",value:(()=>{const B=Ve(c,l),he=t==null?void 0:t[c];return(B==null?void 0:B.customInstructions)??(he==null?void 0:he.customInstructions)??xP(c,l)})(),onChange:B=>{var Ee,rt;const he=((rt=(Ee=B==null?void 0:B.detail)==null?void 0:Ee.target)==null?void 0:rt.value)??B.target.value,ge=Ve(c,l);if(ge)ne(c,{...ge,customInstructions:he??void 0,source:ge.source||"global"});else{const Vt=t==null?void 0:t[c];fe(c,{...Vt,customInstructions:he.trim()||void 0})}},rows:10,className:"w-full","data-testid":`${((Ps=Me())==null?void 0:Ps.slug)||"code"}-custom-instructions-textarea`}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1.5",children:s.jsx(we,{i18nKey:"prompts:customInstructions.loadFromFile",values:{mode:((dr=Me())==null?void 0:dr.name)||"Code",slug:((Hs=Me())==null?void 0:Hs.slug)||"code"},components:{span:s.jsx("span",{className:"text-vscode-textLink-foreground cursor-pointer underline",onClick:()=>{const B=Me();B&&R.postMessage({type:"openFile",text:`./.kilocode/rules-${B.slug}/rules.md`,values:{create:!0,content:""}})}}),0:s.jsx(Oe,{href:St("features/custom-instructions#global-rules-directory"),style:{display:"inline"},"aria-label":"Learn about global custom instructions for modes"})}})})]}),s.jsxs("div",{className:"pb-4 border-b border-vscode-input-border",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(oe,{variant:"primary",onClick:()=>{const B=Me();B&&R.postMessage({type:"getSystemPrompt",mode:B.slug})},"data-testid":"preview-prompt-button",children:e("prompts:systemPrompt.preview")}),s.jsx(ue,{content:e("prompts:systemPrompt.copy"),children:s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>{const B=Me();B&&R.postMessage({type:"copySystemPrompt",mode:B.slug})},"data-testid":"copy-prompt-button",children:s.jsx("span",{className:"codicon codicon-copy"})})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("button",{onClick:()=>T(!w),className:"flex items-center text-xs text-vscode-foreground hover:text-vscode-textLink-foreground focus:outline-none","aria-expanded":w,children:[s.jsx("span",{className:`codicon codicon-${w?"chevron-down":"chevron-right"} mr-1`}),s.jsx("span",{children:e("prompts:advanced.title")})]}),w&&s.jsx("div",{className:"mt-2 ml-5 space-y-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-vscode-foreground mb-2",children:"Override System Prompt"}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground",children:s.jsx(we,{i18nKey:"prompts:advancedSystemPrompt.description",values:{slug:((Lr=Me())==null?void 0:Lr.slug)||"code"},components:{span:s.jsx("span",{className:"text-vscode-textLink-foreground cursor-pointer underline",onClick:()=>{const B=Me();B&&R.postMessage({type:"openFile",text:`./.kilocode/system-prompt-${B.slug}`,values:{create:!0,content:""}})}}),1:s.jsx(Oe,{href:St("features/footgun-prompting"),style:{display:"inline"},"aria-label":"Read important information about overriding system prompts"}),2:s.jsx("strong",{})}})})]})})]})]}),s.jsxs("div",{className:"pb-5",children:[s.jsx("h3",{className:"text-vscode-foreground mb-3",children:e("prompts:globalCustomInstructions.title")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:s.jsx(we,{i18nKey:"prompts:globalCustomInstructions.description",children:s.jsx(Oe,{href:St("features/custom-instructions#setting-up-global-rules"),style:{display:"inline"},"aria-label":"Learn more about global custom instructions"})})}),s.jsx(En,{resize:"vertical",value:a||"",onChange:B=>{var ge,Ee;const he=((Ee=(ge=B==null?void 0:B.detail)==null?void 0:ge.target)==null?void 0:Ee.value)??B.target.value;i(he??void 0),R.postMessage({type:"customInstructions",text:he??void 0})},rows:4,className:"w-full","data-testid":"global-custom-instructions-textarea"}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1.5",children:s.jsx(we,{i18nKey:"prompts:globalCustomInstructions.loadFromFile",components:{span:s.jsx("span",{className:"text-vscode-textLink-foreground cursor-pointer underline",onClick:()=>R.postMessage({type:"openFile",text:"./.kilocode/rules/rules.md",values:{create:!0,content:""}})}),0:s.jsx(Oe,{href:St("features/custom-instructions#setting-up-global-rules"),style:{display:"inline"},"aria-label":"Learn about setting up global custom instructions"})}})})]})]}),_&&s.jsx("div",{className:"fixed inset-0 flex justify-end bg-black/50 z-[1000]",children:s.jsxs("div",{className:"w-[calc(100vw-100px)] h-full bg-vscode-editor-background shadow-md flex flex-col relative",children:[s.jsxs("div",{className:"flex-1 p-5 overflow-y-auto min-h-0",children:[s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>k(!1),className:"absolute top-5 right-5",children:s.jsx("span",{className:"codicon codicon-close"})}),s.jsx("h2",{className:"mb-4",children:e("prompts:createModeDialog.title")}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.name.label")}),s.jsx(Mr,{type:"text",value:ct,onChange:B=>{Or(B.target.value)},className:"w-full"}),kt&&s.jsx("div",{className:"text-xs text-vscode-errorForeground mt-1",children:kt})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.slug.label")}),s.jsx(Mr,{type:"text",value:Mt,onChange:B=>{ss(B.target.value)},className:"w-full"}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-1",children:e("prompts:createModeDialog.slug.description")}),ps&&s.jsx("div",{className:"text-xs text-vscode-errorForeground mt-1",children:ps})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.saveLocation.label")}),s.jsx("div",{className:"text-sm text-vscode-descriptionForeground mb-2",children:e("prompts:createModeDialog.saveLocation.description")}),s.jsxs(wc,{value:Ae,onChange:B=>{var ge;const he=((ge=B==null?void 0:B.detail)==null?void 0:ge.target)||B.target;Zt(he.value)},children:[s.jsxs(Ci,{value:"global",children:[e("prompts:createModeDialog.saveLocation.global.label"),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-0.5",children:e("prompts:createModeDialog.saveLocation.global.description")})]}),s.jsxs(Ci,{value:"project",children:[e("prompts:createModeDialog.saveLocation.project.label"),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground mt-0.5",children:e("prompts:createModeDialog.saveLocation.project.description")})]})]})]}),s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:e("prompts:createModeDialog.roleDefinition.label")}),s.jsx("div",{style:{fontSize:"13px",color:"var(--vscode-descriptionForeground)",marginBottom:"8px"},children:e("prompts:createModeDialog.roleDefinition.description")}),s.jsx(En,{resize:"vertical",value:cs,onChange:B=>{wt(B.target.value)},rows:4,className:"w-full"}),ht&&s.jsx("div",{className:"text-xs text-vscode-errorForeground mt-1",children:ht})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.description.label")}),s.jsx("div",{className:"text-[13px] text-vscode-descriptionForeground mb-2",children:e("prompts:createModeDialog.description.description")}),s.jsx(de,{value:Ce,onChange:B=>{Ks(B.target.value)},className:"w-full"}),_t&&s.jsx("div",{className:"text-xs text-vscode-errorForeground mt-1",children:_t})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.whenToUse.label")}),s.jsx("div",{className:"text-[13px] text-vscode-descriptionForeground mb-2",children:e("prompts:createModeDialog.whenToUse.description")}),s.jsx(En,{resize:"vertical",value:Ue,onChange:B=>{Lt(B.target.value)},rows:3,className:"w-full"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.tools.label")}),s.jsx("div",{className:"text-[13px] text-vscode-descriptionForeground mb-2",children:e("prompts:createModeDialog.tools.description")}),s.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(200px,1fr))] gap-2",children:$l.map(B=>s.jsx(qe,{checked:Le.some(he=>ma(he)===B),onChange:he=>{var rt;const Ee=(((rt=he==null?void 0:he.detail)==null?void 0:rt.target)||he.target).checked;tt(Ee?[...Le,B]:Le.filter(Vt=>ma(Vt)!==B))},children:e(`prompts:tools.toolNames.${B}`)},B))}),cr&&s.jsx("div",{className:"text-xs text-vscode-errorForeground mt-1",children:cr})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"font-bold mb-1",children:e("prompts:createModeDialog.customInstructions.label")}),s.jsx("div",{className:"text-[13px] text-vscode-descriptionForeground mb-2",children:e("prompts:createModeDialog.customInstructions.description")}),s.jsx(En,{resize:"vertical",value:us,onChange:B=>{ee(B.target.value)},rows:4,className:"w-full"})]})]}),s.jsxs("div",{className:"flex justify-end p-3 px-5 gap-2 border-t border-vscode-editor-lineHighlightBorder bg-vscode-editor-background",children:[s.jsx(oe,{variant:"secondary",onClick:()=>k(!1),children:e("prompts:createModeDialog.buttons.cancel")}),s.jsx(oe,{variant:"primary",onClick:Dr,children:e("prompts:createModeDialog.buttons.create")})]})]})}),p&&s.jsx("div",{className:"fixed inset-0 flex justify-end bg-black/50 z-[1000]",children:s.jsxs("div",{className:"w-[calc(100vw-100px)] h-full bg-vscode-editor-background shadow-md flex flex-col relative",children:[s.jsxs("div",{className:"flex-1 p-5 overflow-y-auto min-h-0",children:[s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>m(!1),className:"absolute top-5 right-5",children:s.jsx("span",{className:"codicon codicon-close"})}),s.jsx("h2",{className:"mb-4",children:x||e("prompts:systemPrompt.title",{modeName:((hn=Me())==null?void 0:hn.name)||"Code"})}),s.jsx("pre",{className:"p-2 whitespace-pre-wrap break-words font-mono text-vscode-editor-font-size text-vscode-editor-foreground bg-vscode-editor-background border border-vscode-editor-lineHighlightBorder rounded overflow-y-auto",children:g})]}),s.jsx("div",{className:"flex justify-end p-3 px-5 border-t border-vscode-editor-lineHighlightBorder bg-vscode-editor-background",children:s.jsx(oe,{variant:"secondary",onClick:()=>m(!1),children:e("prompts:createModeDialog.close")})})]})}),A&&s.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-[1000]",children:s.jsxs("div",{className:"bg-vscode-editor-background border border-vscode-editor-lineHighlightBorder rounded-lg shadow-lg p-6 max-w-md w-full",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("prompts:modes.importMode")}),s.jsx("p",{className:"text-sm text-vscode-descriptionForeground mb-4",children:e("prompts:importMode.selectLevel")}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"importLevel",value:"project",className:"mt-1",checked:H==="project",onChange:()=>z("project")}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:e("prompts:importMode.project.label")}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground",children:e("prompts:importMode.project.description")})]})]}),s.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"importLevel",value:"global",className:"mt-1",checked:H==="global",onChange:()=>z("global")}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:e("prompts:importMode.global.label")}),s.jsx("div",{className:"text-xs text-vscode-descriptionForeground",children:e("prompts:importMode.global.description")})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(oe,{variant:"secondary",onClick:()=>C(!1),children:e("prompts:createModeDialog.buttons.cancel")}),s.jsx(oe,{variant:"primary",onClick:()=>{I||(M(!0),R.postMessage({type:"importMode",source:H}))},disabled:I,children:e(I?"prompts:importMode.importing":"prompts:importMode.import")})]})]})}),s.jsx(BU,{open:U,onOpenChange:q,modeToDelete:F,onConfirm:()=>{F&&(R.postMessage({type:"deleteCustomMode",slug:F.slug}),q(!1),W(null))}})]})},UU="flex flex-1 overflow-hidden [&.narrow_.tab-label]:hidden",WU="w-48 data-[compact=true]:w-12 flex-shrink-0 flex flex-col overflow-y-auto overflow-x-hidden border-r border-vscode-sideBar-background",N0="whitespace-nowrap overflow-hidden min-w-0 h-12 px-4 py-3 box-border flex items-center border-l-2 border-transparent text-vscode-foreground opacity-70 hover:bg-vscode-list-hoverBackground data-[compact=true]:w-12 data-[compact=true]:p-4 cursor-pointer",KU="opacity-100 border-vscode-focusBorder bg-vscode-list-activeSelectionBackground hover:bg-vscode-list-activeSelectionBackground cursor-default",Hl=["providers","autoApprove","slashCommands","browser","checkpoints","ghost","display","notifications","contextManagement","terminal","modes","mcp","prompts","ui","experimental","language","mcp","about"],$U=h.forwardRef((e,t)=>{const{onDone:r,targetSection:n,editingProfile:o}=e,{t:a}=re(),i=Ye(),{currentApiConfigName:l,listApiConfigMeta:c,uriScheme:d,settingsImportedAt:u}=i,[p,m]=h.useState(!1),[g,f]=h.useState(!1),[x,y]=h.useState(void 0),[N,b]=h.useState(n&&Hl.includes(n)?n:"providers"),[j,v]=h.useState(l||"default"),_=h.useRef(Object.fromEntries(Hl.map(ie=>[ie,0]))),k=h.useRef(null),w=h.useRef(l),T=h.useRef(),[S,P]=h.useState(()=>i);h.useEffect(()=>{dL()},[p]);const{alwaysAllowReadOnly:I,alwaysAllowReadOnlyOutsideWorkspace:M,allowedCommands:A,deniedCommands:C,allowedMaxRequests:H,allowedMaxCost:z,language:D,alwaysAllowBrowser:Y,alwaysAllowExecute:U,alwaysAllowMcp:q,alwaysAllowModeSwitch:F,alwaysAllowSubtasks:W,alwaysAllowWrite:te,alwaysAllowWriteOutsideWorkspace:K,alwaysAllowWriteProtected:X,autoCondenseContext:G,autoCondenseContextPercent:J,browserToolEnabled:ae,browserViewportSize:O,enableCheckpoints:pe,checkpointTimeout:be,diffEnabled:xe,experiments:Pe,morphApiKey:Te,fastApplyModel:L,fastApplyApiProvider:fe,fuzzyMatchThreshold:ne,maxOpenTabsContext:Ve,maxWorkspaceFiles:mt,mcpEnabled:V,remoteBrowserHost:je,screenshotQuality:_e,soundEnabled:lt,ttsEnabled:Ze,ttsSpeed:Rt,soundVolume:Rs,telemetrySetting:$e,terminalOutputLineLimit:jt,terminalOutputCharacterLimit:Me,terminalShellIntegrationTimeout:et,terminalShellIntegrationDisabled:bt,terminalCommandDelay:ct,terminalPowershellCounter:Ot,terminalZshClearEolMark:Mt,terminalZshOhMy:ss,terminalZshP10k:Ce,terminalZdotdir:Ks,writeDelayMs:cs,showRooIgnoredFiles:wt,enableSubfolderRules:Ue,remoteBrowserEnabled:Lt,maxReadFileLine:us,showAutoApproveMenu:ee,yoloMode:Le,showTaskTimeline:tt,sendMessageOnEnter:Ae,showTimestamps:Zt,hideCostBelowThreshold:kt,maxImageFileSize:Bt,maxTotalImageSize:ps,terminalCompressProgressBar:Ht,maxConcurrentFileReads:_t,allowVeryLargeReads:dt,terminalCommandApiConfigId:ht,condensingApiConfigId:gs,customCondensingPrompt:cr,yoloGatekeeperApiConfigId:ys,customSupportPrompts:ws,profileThresholds:ms,systemNotificationsEnabled:Or,alwaysAllowFollowupQuestions:Dr,followupAutoApproveTimeoutMs:un,ghostServiceSettings:Fr,autoPurgeEnabled:pn,autoPurgeDefaultRetentionDays:mn,autoPurgeFavoritedTaskRetentionDays:kr,autoPurgeCompletedTaskRetentionDays:Zs,autoPurgeIncompleteTaskRetentionDays:er,autoPurgeLastRunTimestamp:Tn,kiloCodeWrapperProperties:jr,includeDiagnosticMessages:$s,maxDiagnosticMessages:Ps,includeTaskHistoryInEnhance:dr,imageGenerationProvider:Hs,openRouterImageApiKey:Lr,kiloCodeImageApiKey:hn,openRouterImageGenerationSelectedModel:B,reasoningBlockCollapsed:he,enterBehavior:ge,includeCurrentTime:Ee,includeCurrentCost:rt,maxGitStatusFiles:Vt}=S,Ct=h.useMemo(()=>S.apiConfiguration??{},[S.apiConfiguration]);h.useEffect(()=>{w.current!==l&&(P(ie=>({...ie,...i})),w.current=l,f(!1),o||v(l||"default"))},[l,i,o]),h.useEffect(()=>{o&&(console.log("[SettingsView] Setting editing profile from prop:",o),v(o),zt.current=!0,R.postMessage({type:"getProfileConfigurationForEditing",text:o}))},[o]);const zt=h.useRef(!1);h.useEffect(()=>{const ie=Se=>{const Be=Se.data;Be.type==="profileConfigurationForEditing"&&Be.text===j&&(P(Ft=>({...Ft,apiConfiguration:Be.apiConfiguration})),f(!1),zt.current=!1)};return window.addEventListener("message",ie),()=>window.removeEventListener("message",ie)},[j]);const{kilocodeToken:Os,openRouterApiKey:Vs,glamaApiKey:Br,requestyApiKey:_r}=i.apiConfiguration??{};h.useEffect(()=>{P(ie=>({...ie,apiConfiguration:{...ie.apiConfiguration,kilocodeToken:Os,openRouterApiKey:Vs,glamaApiKey:Br,requestyApiKey:_r}}))},[Os,Vs,Br,_r]),h.useEffect(()=>{if(!g&&!zt.current)if(j!==l){const{apiConfiguration:ie,...Se}=i;P(Be=>({...Be,...Se}))}else P(i)},[i,g,j,l]),h.useEffect(()=>{u&&(P(ie=>({...ie,...i})),f(!1))},[u,i]);const Is=h.useCallback((ie,Se)=>{P(Be=>Rj(Be[ie],Se)?Be:(f(!0),{...Be,[ie]:Se}))},[]),di=h.useCallback((ie,Se)=>{P(Be=>{const Ft=Be.ghostServiceSettings||{};return Ft[ie]===Se?Be:(f(!0),{...Be,ghostServiceSettings:{...Ft,[ie]:Se}})})},[]),ko=h.useCallback((ie,Se,Be=!0)=>{P(Ft=>{var Cx,Ax;if(((Cx=Ft.apiConfiguration)==null?void 0:Cx[ie])===Se)return Ft;const fn=(Ax=Ft.apiConfiguration)==null?void 0:Ax[ie];return!Be&&(fn===void 0||fn===""||fn===null)&&Se!==void 0&&Se!==""&&Se!==null||f(!0),{...Ft,apiConfiguration:{...Ft.apiConfiguration,[ie]:Se}}})},[]),Un=h.useCallback((ie,Se)=>{P(Be=>{var Ft;return((Ft=Be.experiments)==null?void 0:Ft[ie])===Se?Be:(f(!0),{...Be,experiments:{...Be.experiments,[ie]:Se}})})},[]),Q=h.useCallback(ie=>{P(Se=>Se.telemetrySetting===ie?Se:(f(!0),{...Se,telemetrySetting:ie}))},[]),ce=h.useCallback(ie=>{P(Se=>(Se.imageGenerationProvider!==ie&&f(!0),{...Se,imageGenerationProvider:ie}))},[]),Ge=h.useCallback(ie=>{P(Se=>(Se.openRouterImageApiKey!==ie&&f(!0),{...Se,openRouterImageApiKey:ie}))},[]),De=h.useCallback(ie=>{P(Se=>(f(!0),{...Se,kiloCodeImageApiKey:ie}))},[]),es=h.useCallback(ie=>{P(Se=>(Se.openRouterImageGenerationSelectedModel!==ie&&f(!0),{...Se,openRouterImageGenerationSelectedModel:ie}))},[]),ds=h.useCallback(ie=>{P(Se=>{const Be=JSON.stringify(Se.customSupportPrompts),Ft=JSON.stringify(ie);return Be===Ft?Se:(f(!0),{...Se,customSupportPrompts:ie})})},[]),rs=!x,tr=()=>{if(rs){if(R.postMessage({type:"updateSettings",updatedSettings:{language:D,alwaysAllowReadOnly:I??void 0,alwaysAllowReadOnlyOutsideWorkspace:M??void 0,alwaysAllowWrite:te??void 0,alwaysAllowWriteOutsideWorkspace:K??void 0,alwaysAllowWriteProtected:X??void 0,alwaysAllowExecute:U??void 0,alwaysAllowBrowser:Y??void 0,alwaysAllowMcp:q,alwaysAllowModeSwitch:F,allowedCommands:A??[],deniedCommands:C??[],allowedMaxRequests:H??null,allowedMaxCost:z??null,autoCondenseContext:G,autoCondenseContextPercent:J,browserToolEnabled:ae??!0,soundEnabled:lt??!0,soundVolume:Rs??.5,ttsEnabled:Ze,ttsSpeed:Rt,diffEnabled:xe??!0,enableCheckpoints:pe??!1,checkpointTimeout:be??Ph,browserViewportSize:O??"900x600",remoteBrowserHost:Lt?je:void 0,remoteBrowserEnabled:Lt??!1,fuzzyMatchThreshold:ne??1,writeDelayMs:cs,screenshotQuality:_e??75,terminalOutputLineLimit:jt??500,terminalOutputCharacterLimit:Me??5e4,terminalShellIntegrationTimeout:et??3e4,terminalShellIntegrationDisabled:bt,terminalCommandDelay:ct,terminalPowershellCounter:Ot,terminalZshClearEolMark:Mt,terminalZshOhMy:ss,terminalZshP10k:Ce,terminalZdotdir:Ks,terminalCompressProgressBar:Ht,mcpEnabled:V,maxOpenTabsContext:Math.min(Math.max(0,Ve??20),500),maxWorkspaceFiles:Math.min(Math.max(0,mt??200),500),showRooIgnoredFiles:wt??!0,enableSubfolderRules:Ue??!1,maxReadFileLine:us??500,maxImageFileSize:Bt??5,maxTotalImageSize:ps??20,maxConcurrentFileReads:S.maxConcurrentFileReads??5,includeDiagnosticMessages:$s!==void 0?$s:!0,maxDiagnosticMessages:Ps??50,alwaysAllowSubtasks:W,alwaysAllowFollowupQuestions:Dr??!1,followupAutoApproveTimeoutMs:un,condensingApiConfigId:gs||"",includeTaskHistoryInEnhance:dr??!0,reasoningBlockCollapsed:he??!0,enterBehavior:ge??"send",includeCurrentTime:Ee??!0,includeCurrentCost:rt??!0,maxGitStatusFiles:Vt??0,profileThresholds:ms,imageGenerationProvider:Hs,openRouterImageApiKey:Lr,openRouterImageGenerationSelectedModel:B,experiments:Pe,customSupportPrompts:ws}}),R.postMessage({type:"ttsEnabled",bool:Ze}),R.postMessage({type:"ttsSpeed",value:Rt}),R.postMessage({type:"terminalCommandApiConfigId",text:ht||""}),R.postMessage({type:"showAutoApproveMenu",bool:ee}),R.postMessage({type:"yoloMode",bool:Le}),R.postMessage({type:"allowVeryLargeReads",bool:dt}),R.postMessage({type:"currentApiConfigName",text:l}),R.postMessage({type:"showTaskTimeline",bool:tt}),R.postMessage({type:"sendMessageOnEnter",bool:Ae}),R.postMessage({type:"showTimestamps",bool:Zt}),R.postMessage({type:"hideCostBelowThreshold",value:kt}),R.postMessage({type:"updateCondensingPrompt",text:cr||""}),R.postMessage({type:"yoloGatekeeperApiConfigId",text:ys||""}),R.postMessage({type:"setReasoningBlockCollapsed",bool:he??!0}),R.postMessage({type:"upsertApiConfiguration",text:j,apiConfiguration:Ct}),R.postMessage({type:"telemetrySetting",text:$e}),R.postMessage({type:"systemNotificationsEnabled",bool:Or}),R.postMessage({type:"ghostServiceSettings",values:Fr}),R.postMessage({type:"morphApiKey",text:Te}),R.postMessage({type:"fastApplyModel",text:L}),R.postMessage({type:"fastApplyApiProvider",text:fe}),R.postMessage({type:"kiloCodeImageApiKey",text:hn}),R.postMessage({type:"autoPurgeEnabled",bool:pn}),R.postMessage({type:"autoPurgeDefaultRetentionDays",value:mn}),R.postMessage({type:"autoPurgeFavoritedTaskRetentionDays",value:kr??void 0}),R.postMessage({type:"autoPurgeCompletedTaskRetentionDays",value:Zs}),R.postMessage({type:"autoPurgeIncompleteTaskRetentionDays",value:er}),j!==l){const{apiConfiguration:ie,...Se}=i;P(Be=>({...Be,...Se}))}else P(ie=>({...ie,...i}));f(!1)}},$=h.useCallback(ie=>{g?(T.current=ie,m(!0)):ie()},[g]);h.useImperativeHandle(t,()=>({checkUnsaveChanges:$}),[$]);const ve=h.useCallback(ie=>{var Se;ie&&(P(i),f(!1),(Se=T.current)==null||Se.call(T))},[P,f,i]),Ne=h.useRef();h.useEffect(()=>{Ne.current=performance.now()},[]),h.useEffect(()=>{Ne.current&&performance.now()-Ne.current<100&&g&&(console.info("Overwriting unsaved changes in less than 100ms"),ve(!0))},[g,ve]);const Fe=h.useCallback(ie=>{k.current&&(_.current[N]=k.current.scrollTop),b(ie)},[N]);h.useLayoutEffect(()=>{k.current&&(k.current.scrollTop=_.current[N]??0)},[N]);const Xe=h.useRef(Object.fromEntries(Hl.map(ie=>[ie,null]))),[Ke,it]=h.useState(!1),ut=h.useRef(null);h.useEffect(()=>{if(!ut.current)return;const ie=new ResizeObserver(Se=>{for(const Be of Se)it(Be.contentRect.width<500)});return ie.observe(ut.current),()=>{ie==null||ie.disconnect()}},[]);const Dt=h.useMemo(()=>[{id:"providers",icon:EA},{id:"modes",icon:f_},{id:"autoApprove",icon:Fg},{id:"browser",icon:p_},{id:"checkpoints",icon:Lj},{id:"display",icon:l_},{id:"ghost",icon:sc},{id:"notifications",icon:s_},{id:"contextManagement",icon:Lg},{id:"terminal",icon:Ff},{id:"prompts",icon:qg},{id:"experimental",icon:a_},{id:"language",icon:Gc},{id:"mcp",icon:Ug},{id:"about",icon:zg}],[]);h.useEffect(()=>{n&&Hl.includes(n)&&b(n)},[n]),h.useEffect(()=>{const ie=Se=>{var Ft;const Be=Se.data;if(Be.type==="action"&&Be.action==="settingsButtonClicked"&&((Ft=Be.values)!=null&&Ft.editingProfile)){const fn=Be.values.editingProfile;console.log("[SettingsView] Restoring editing profile:",fn),v(fn),zt.current=!0,R.postMessage({type:"getProfileConfigurationForEditing",text:fn})}};return window.addEventListener("message",ie),()=>window.removeEventListener("message",ie)},[]);const ot=h.useCallback(()=>{const ie=Xe.current[N];ie&&ie.scrollIntoView({behavior:"auto",block:"nearest"})},[N]);return h.useEffect(()=>{ot()},[N,ot]),h.useLayoutEffect(()=>{const ie=Se=>{const Be=Se.data;Be.type==="action"&&Be.action==="didBecomeVisible"&&ot()};return window.addEventListener("message",ie),()=>{window.removeEventListener("message",ie)}},[ot]),s.jsxs(ra,{children:[s.jsxs(hl,{className:"flex justify-between items-center gap-2",children:[s.jsx("div",{className:"flex items-center gap-1",children:s.jsx("h3",{className:"text-vscode-foreground m-0",children:a("settings:header.title")})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{content:rs?a(g?"settings:header.saveButtonTooltip":"settings:header.nothingChangedTooltip"):x,children:s.jsx(oe,{variant:rs?"primary":"secondary",className:rs?"":"!border-vscode-errorForeground",onClick:tr,disabled:!g||!rs,"data-testid":"save-button",children:a("settings:common.save")})}),s.jsx(ue,{content:a("settings:header.doneButtonTooltip"),children:s.jsx(oe,{variant:"secondary",onClick:()=>$(r),children:a("settings:common.done")})})]})]}),s.jsxs("div",{ref:ut,className:Z(UU,Ke&&"narrow"),children:[s.jsx(oL,{value:N,onValueChange:ie=>Fe(ie),className:Z(WU),"data-compact":Ke,"data-testid":"settings-tab-list",children:Dt.map(({id:ie,icon:Se})=>{const Be=ie===N,Ft=()=>Fe(ie),fn=s.jsx(aL,{ref:Mx=>Xe.current[ie]=Mx,value:ie,isSelected:Be,className:Z(Be?`${N0} ${KU}`:N0,"cursor-pointer focus:ring-0"),"data-testid":`tab-${ie}`,"data-compact":Ke,children:s.jsxs("div",{className:Z("flex items-center gap-2",Ke&&"justify-center"),children:[s.jsx(Se,{className:"w-4 h-4"}),s.jsx("span",{className:"tab-label",children:a(ie==="mcp"?"kilocode:settings.sections.mcp":ie==="ghost"?"kilocode:ghost.title":`settings:sections.${ie}`)})]})});return Ke?s.jsx(el,{delayDuration:300,children:s.jsxs(Lf,{children:[s.jsx(Bf,{asChild:!0,onClick:Ft,children:Qe.cloneElement(fn)}),s.jsx(zf,{side:"right",className:"text-base",children:s.jsx("p",{className:"m-0",children:a(ie==="mcp"?"kilocode:settings.sections.mcp":ie==="ghost"?"kilocode:ghost.title":`settings:sections.${ie}`)})})]})},ie):Qe.cloneElement(fn,{key:ie})})}),s.jsxs(na,{ref:k,className:"p-0 flex-1 overflow-auto",children:[N==="providers"&&s.jsxs("div",{children:[s.jsx(Ss,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(g_,{className:"w-4"}),s.jsx("div",{children:a("settings:sections.providers")})]})}),s.jsxs(ts,{children:[s.jsx(pL,{currentApiConfigName:j,activeApiConfigName:l,listApiConfigMeta:c,onSelectConfig:ie=>{$(()=>{v(ie),zt.current=!0,R.postMessage({type:"getProfileConfigurationForEditing",text:ie})})},onActivateConfig:ie=>{R.postMessage({type:"loadApiConfiguration",text:ie})},onDeleteConfig:ie=>{const Se=ie===j;if(R.postMessage({type:"deleteApiConfiguration",text:ie}),Se&&c&&c.length>1){const Be=c.find(Ft=>Ft.name!==ie);Be&&v(Be.name)}},onRenameConfig:(ie,Se)=>{R.postMessage({type:"renameApiConfiguration",values:{oldName:ie,newName:Se},apiConfiguration:Ct}),ie===j&&v(Se),ie===l&&(w.current=Se)},onUpsertConfig:(ie,Se)=>{R.postMessage({type:"upsertApiConfiguration",text:ie,apiConfiguration:{...Ct,profileType:Se||"chat"}}),v(ie)}}),s.jsx(jS,{uriScheme:d,apiConfiguration:Ct,setApiConfigurationField:ko,errorMessage:x,setErrorMessage:y,currentApiConfigName:j})]})]}),N==="autoApprove"&&s.jsx(Oq,{showAutoApproveMenu:ee,yoloMode:Le,yoloGatekeeperApiConfigId:ys,alwaysAllowReadOnly:I,alwaysAllowReadOnlyOutsideWorkspace:M,alwaysAllowWrite:te,alwaysAllowWriteOutsideWorkspace:K,alwaysAllowWriteProtected:X,alwaysAllowBrowser:Y,alwaysAllowMcp:q,alwaysAllowModeSwitch:F,alwaysAllowSubtasks:W,alwaysAllowExecute:U,alwaysAllowFollowupQuestions:Dr,followupAutoApproveTimeoutMs:un,allowedCommands:A,allowedMaxRequests:H??void 0,allowedMaxCost:z??void 0,deniedCommands:C,setCachedStateField:Is}),N==="slashCommands"&&s.jsx(DU,{}),N==="browser"&&s.jsx(Dq,{browserToolEnabled:ae,browserViewportSize:O,screenshotQuality:_e,remoteBrowserHost:je,remoteBrowserEnabled:Lt,setCachedStateField:Is}),N==="checkpoints"&&s.jsx(Fq,{enableCheckpoints:pe,checkpointTimeout:be,setCachedStateField:Is,autoPurgeEnabled:pn,autoPurgeDefaultRetentionDays:mn,autoPurgeFavoritedTaskRetentionDays:kr,autoPurgeCompletedTaskRetentionDays:Zs,autoPurgeIncompleteTaskRetentionDays:er,autoPurgeLastRunTimestamp:Tn,onManualPurge:()=>{R.postMessage({type:"manualPurge"})}}),N==="display"&&s.jsx(n7,{reasoningBlockCollapsed:he??!0,showTaskTimeline:tt,sendMessageOnEnter:Ae,showTimestamps:S.showTimestamps,hideCostBelowThreshold:kt,setCachedStateField:Is}),N==="ghost"&&s.jsx(OU,{ghostServiceSettings:Fr,onGhostServiceSettingsChange:di}),N==="notifications"&&s.jsx(o7,{ttsEnabled:Ze,ttsSpeed:Rt,soundEnabled:lt,soundVolume:Rs,systemNotificationsEnabled:Or,areSettingsCommitted:!g,setCachedStateField:Is}),N==="contextManagement"&&s.jsx(a7,{autoCondenseContext:G,autoCondenseContextPercent:J,listApiConfigMeta:c??[],maxOpenTabsContext:Ve,maxWorkspaceFiles:mt??200,showRooIgnoredFiles:wt,enableSubfolderRules:Ue,maxReadFileLine:us,maxImageFileSize:Bt,maxTotalImageSize:ps,maxConcurrentFileReads:_t,allowVeryLargeReads:dt,profileThresholds:ms,includeDiagnosticMessages:$s,maxDiagnosticMessages:Ps,writeDelayMs:cs,includeCurrentTime:Ee,includeCurrentCost:rt,maxGitStatusFiles:Vt,setCachedStateField:Is}),N==="terminal"&&s.jsx(l7,{terminalOutputLineLimit:jt,terminalOutputCharacterLimit:Me,terminalShellIntegrationTimeout:et,terminalShellIntegrationDisabled:bt,terminalCommandDelay:ct,terminalPowershellCounter:Ot,terminalZshClearEolMark:Mt,terminalZshOhMy:ss,terminalZshP10k:Ce,terminalZdotdir:Ks,terminalCompressProgressBar:Ht,terminalCommandApiConfigId:ht,setCachedStateField:Is}),N==="modes"&&s.jsx(qU,{}),N==="mcp"&&s.jsx(MU,{}),N==="prompts"&&s.jsx(y7,{customSupportPrompts:ws||{},setCustomSupportPrompts:ds,includeTaskHistoryInEnhance:dr,setIncludeTaskHistoryInEnhance:ie=>Is("includeTaskHistoryInEnhance",ie)}),N==="ui"&&s.jsx(FU,{reasoningBlockCollapsed:he??!0,enterBehavior:ge??"send",setCachedStateField:Is}),N==="experimental"&&s.jsx(m7,{setExperimentEnabled:Un,experiments:Pe,setCachedStateField:Is,morphApiKey:Te,fastApplyModel:L,fastApplyApiProvider:fe,apiConfiguration:Ct,setApiConfigurationField:ko,imageGenerationProvider:Hs,openRouterImageApiKey:Lr,kiloCodeImageApiKey:hn,openRouterImageGenerationSelectedModel:B,setImageGenerationProvider:ce,setOpenRouterImageApiKey:Ge,setKiloCodeImageApiKey:De,setImageGenerationSelectedModel:es,currentProfileKilocodeToken:Ct.kilocodeToken}),N==="language"&&s.jsx(f7,{language:D||"en",setCachedStateField:Is}),N==="about"&&s.jsx(g7,{telemetrySetting:$e,setTelemetrySetting:Q,isVsCode:(jr==null?void 0:jr.kiloCodeWrapped)!==!0})]})]}),s.jsx(en,{open:p,onOpenChange:m,children:s.jsxs(tn,{children:[s.jsxs(sn,{children:[s.jsxs(nn,{children:[s.jsx(cl,{className:"w-5 h-5 text-yellow-500"}),a("settings:unsavedChangesDialog.title")]}),s.jsx(on,{children:a("settings:unsavedChangesDialog.description")})]}),s.jsxs(rn,{children:[s.jsx(an,{onClick:()=>ve(!1),children:a("settings:unsavedChangesDialog.cancelButton")}),s.jsx(Cr,{onClick:()=>ve(!0),children:a("settings:unsavedChangesDialog.discardButton")})]})]})})]})}),HU=h.memo($U),VU=Js.button`
	display: block;
	text-decoration: none;
	font-weight: 600;
	font-size: 12px;
	border-radius: 4px;
	padding: 14px;
	transition: all 0.2s;
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
	cursor: pointer;

	/* Theme-specific styles */
	body.vscode-dark & {
		background: #f6f6f7;
		color: #1b1b1b;

		&:hover,
		&:focus {
			background-color: #e0e0e0;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		}

		&:active {
			background-color: #d3d3d3;
			transform: scale(0.98);
		}
	}

	body.vscode-light & {
		background: #1b1b1b;
		color: #f6f6f7;

		&:hover,
		&:focus {
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		}

		&:active {
			transform: scale(0.98);
		}
	}
`,bl=({onClick:e,children:t})=>s.jsx(VU,{onClick:e,className:"flex flex-col gap-1 text-center",children:t}),GU=Js.a`
	display: block;
	text-decoration: none;
	font-weight: 600;
	font-size: 12px;
	border-radius: 4px;
	padding: 14px;
	transition: all 0.2s;
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);

	/* Theme-specific styles */
	body.vscode-dark & {
		background: #f6f6f7;
		color: #1b1b1b;

		&:hover,
		&:focus {
			background-color: #e0e0e0;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		}

		&:active {
			background-color: #d3d3d3;
			transform: scale(0.98);
		}
	}

	body.vscode-light & {
		background: #1b1b1b;
		color: #f6f6f7;

		&:hover,
		&:focus {
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		}

		&:active {
			transform: scale(0.98);
		}
	}
`,QU=({href:e,onClick:t,children:r})=>s.jsx(GU,{href:e,onClick:t,className:"flex flex-col gap-1 text-center",children:r}),YU=Js.button`
	display: block;
	text-decoration: none;
	font-weight: 600;
	font-size: 12px;
	border-radius: 4px;
	padding: 14px;
	transition: all 0.2s;
	cursor: pointer;

	/* Theme-specific styles */
	body.vscode-dark & {
		border: 1px solid #9f9ea1;
		background: #8e9196;
		color: #fff;

		&:hover {
			background-color: #7a7e83;
		}

		&:active {
			background-color: #6a6e73;
			transform: scale(0.98);
		}
	}

	body.vscode-light & {
		border: 1px solid #9f9ea1;
		background: #fff;
		color: #8e9196;

		&:active {
			transform: scale(0.98);
		}
	}
`,RS=({onClick:e,children:t})=>s.jsx(YU,{onClick:e,className:"flex flex-col gap-1 text-center",children:t});function yl({width:e=100,height:t=100}){return s.jsx("svg",{id:"Kilo_Code_Branding",xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 50 50",className:"mb-4 mt-4",width:e,height:t,children:s.jsx("path",{fill:"var(--vscode-descriptionForeground)",d:"M0,0v50h50V0H0ZM46.2962963,46.2962963H3.7037037V3.7037037h42.5925926v42.5925926ZM30.5555522,35.9548042h4.6296296v3.7037037h-5.8201058l-2.5132275-2.5132275v-5.8201058h3.7037037v4.6296296ZM38.8888855,35.9548042h-3.7037037v-4.6296296h-4.6296296v-3.7037037h5.8201058l2.5132275,2.5132275v5.8201058ZM23.1481481,30.5557103h-3.7037037v-3.7037037h3.7037037v3.7037037ZM11.1111111,26.8520066h3.7037037v8.3333333h8.3333333v3.7037037h-9.5238095l-2.5132275-2.5132275v-9.5238095ZM38.8888855,19.4444444v3.7037037h-12.037037v-3.7037037h4.1390959v-4.6296296h-4.1390959v-3.7037037h5.3295721l2.5132275,2.5132275v5.8201058h4.1942374ZM14.8148148,15.2777778h4.6296296l3.7037037,3.7037037v4.1666667h-3.7037037v-4.1666667h-4.6296296v4.1666667h-3.7037037v-12.037037h3.7037037v4.1666667ZM23.1481481,15.2777778h-3.7037037v-4.1666667h3.7037037v4.1666667Z"})})}var ha={},sh,S0;function XU(){return S0||(S0=1,sh=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),sh}var rh={},Kn={},T0;function oa(){if(T0)return Kn;T0=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Kn.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},Kn.getSymbolTotalCodewords=function(n){return t[n]},Kn.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},Kn.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');e=n},Kn.isKanjiModeEnabled=function(){return typeof e<"u"},Kn.toSJIS=function(n){return e(n)},Kn}var nh={},P0;function Ix(){return P0||(P0=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,o){if(e.isValid(n))return n;try{return t(n)}catch{return o}}})(nh)),nh}var oh,I0;function JU(){if(I0)return oh;I0=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const r=Math.floor(t/8);return(this.buffer[r]>>>7-t%8&1)===1},put:function(t,r){for(let n=0;n<r;n++)this.putBit((t>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),t&&(this.buffer[r]|=128>>>this.length%8),this.length++}},oh=e,oh}var ah,E0;function ZU(){if(E0)return ah;E0=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,r,n,o){const a=t*this.size+r;this.data[a]=n,o&&(this.reservedBit[a]=!0)},e.prototype.get=function(t,r){return this.data[t*this.size+r]},e.prototype.xor=function(t,r,n){this.data[t*this.size+r]^=n},e.prototype.isReserved=function(t,r){return this.reservedBit[t*this.size+r]},ah=e,ah}var ih={},M0;function eW(){return M0||(M0=1,(function(e){const t=oa().getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const o=Math.floor(n/7)+2,a=t(n),i=a===145?26:Math.ceil((a-13)/(2*o-2))*2,l=[a-7];for(let c=1;c<o-1;c++)l[c]=l[c-1]-i;return l.push(6),l.reverse()},e.getPositions=function(n){const o=[],a=e.getRowColCoords(n),i=a.length;for(let l=0;l<i;l++)for(let c=0;c<i;c++)l===0&&c===0||l===0&&c===i-1||l===i-1&&c===0||o.push([a[l],a[c]]);return o}})(ih)),ih}var lh={},C0;function tW(){if(C0)return lh;C0=1;const e=oa().getSymbolSize,t=7;return lh.getPositions=function(n){const o=e(n);return[[0,0],[o-t,0],[0,o-t]]},lh}var ch={},A0;function sW(){return A0||(A0=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},e.from=function(o){return e.isValid(o)?parseInt(o,10):void 0},e.getPenaltyN1=function(o){const a=o.size;let i=0,l=0,c=0,d=null,u=null;for(let p=0;p<a;p++){l=c=0,d=u=null;for(let m=0;m<a;m++){let g=o.get(p,m);g===d?l++:(l>=5&&(i+=t.N1+(l-5)),d=g,l=1),g=o.get(m,p),g===u?c++:(c>=5&&(i+=t.N1+(c-5)),u=g,c=1)}l>=5&&(i+=t.N1+(l-5)),c>=5&&(i+=t.N1+(c-5))}return i},e.getPenaltyN2=function(o){const a=o.size;let i=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const d=o.get(l,c)+o.get(l,c+1)+o.get(l+1,c)+o.get(l+1,c+1);(d===4||d===0)&&i++}return i*t.N2},e.getPenaltyN3=function(o){const a=o.size;let i=0,l=0,c=0;for(let d=0;d<a;d++){l=c=0;for(let u=0;u<a;u++)l=l<<1&2047|o.get(d,u),u>=10&&(l===1488||l===93)&&i++,c=c<<1&2047|o.get(u,d),u>=10&&(c===1488||c===93)&&i++}return i*t.N3},e.getPenaltyN4=function(o){let a=0;const i=o.data.length;for(let c=0;c<i;c++)a+=o.data[c];return Math.abs(Math.ceil(a*100/i/5)-10)*t.N4};function r(n,o,a){switch(n){case e.Patterns.PATTERN000:return(o+a)%2===0;case e.Patterns.PATTERN001:return o%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(o+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return o*a%2+o*a%3===0;case e.Patterns.PATTERN110:return(o*a%2+o*a%3)%2===0;case e.Patterns.PATTERN111:return(o*a%3+(o+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(o,a){const i=a.size;for(let l=0;l<i;l++)for(let c=0;c<i;c++)a.isReserved(c,l)||a.xor(c,l,r(o,c,l))},e.getBestMask=function(o,a){const i=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let d=0;d<i;d++){a(d),e.applyMask(d,o);const u=e.getPenaltyN1(o)+e.getPenaltyN2(o)+e.getPenaltyN3(o)+e.getPenaltyN4(o);e.applyMask(d,o),u<c&&(c=u,l=d)}return l}})(ch)),ch}var Vl={},R0;function OS(){if(R0)return Vl;R0=1;const e=Ix(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Vl.getBlocksCount=function(o,a){switch(a){case e.L:return t[(o-1)*4+0];case e.M:return t[(o-1)*4+1];case e.Q:return t[(o-1)*4+2];case e.H:return t[(o-1)*4+3];default:return}},Vl.getTotalCodewordsCount=function(o,a){switch(a){case e.L:return r[(o-1)*4+0];case e.M:return r[(o-1)*4+1];case e.Q:return r[(o-1)*4+2];case e.H:return r[(o-1)*4+3];default:return}},Vl}var dh={},bi={},O0;function rW(){if(O0)return bi;O0=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let n=1;for(let o=0;o<255;o++)e[o]=n,t[n]=o,n<<=1,n&256&&(n^=285);for(let o=255;o<512;o++)e[o]=e[o-255]})(),bi.log=function(n){if(n<1)throw new Error("log("+n+")");return t[n]},bi.exp=function(n){return e[n]},bi.mul=function(n,o){return n===0||o===0?0:e[t[n]+t[o]]},bi}var D0;function nW(){return D0||(D0=1,(function(e){const t=rW();e.mul=function(n,o){const a=new Uint8Array(n.length+o.length-1);for(let i=0;i<n.length;i++)for(let l=0;l<o.length;l++)a[i+l]^=t.mul(n[i],o[l]);return a},e.mod=function(n,o){let a=new Uint8Array(n);for(;a.length-o.length>=0;){const i=a[0];for(let c=0;c<o.length;c++)a[c]^=t.mul(o[c],i);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},e.generateECPolynomial=function(n){let o=new Uint8Array([1]);for(let a=0;a<n;a++)o=e.mul(o,new Uint8Array([1,t.exp(a)]));return o}})(dh)),dh}var uh,F0;function oW(){if(F0)return uh;F0=1;const e=nW();function t(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(n){this.degree=n,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(n.length+this.degree);o.set(n);const a=e.mod(o,this.genPoly),i=this.degree-a.length;if(i>0){const l=new Uint8Array(this.degree);return l.set(a,i),l}return a},uh=t,uh}var ph={},mh={},hh={},L0;function DS(){return L0||(L0=1,hh.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),hh}var vn={},B0;function FS(){if(B0)return vn;B0=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;vn.KANJI=new RegExp(r,"g"),vn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),vn.BYTE=new RegExp(n,"g"),vn.NUMERIC=new RegExp(e,"g"),vn.ALPHANUMERIC=new RegExp(t,"g");const o=new RegExp("^"+r+"$"),a=new RegExp("^"+e+"$"),i=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return vn.testKanji=function(c){return o.test(c)},vn.testNumeric=function(c){return a.test(c)},vn.testAlphanumeric=function(c){return i.test(c)},vn}var z0;function aa(){return z0||(z0=1,(function(e){const t=DS(),r=FS();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,i){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?a.ccBits[0]:i<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return r.testNumeric(a)?e.NUMERIC:r.testAlphanumeric(a)?e.ALPHANUMERIC:r.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+o)}}e.from=function(a,i){if(e.isValid(a))return a;try{return n(a)}catch{return i}}})(mh)),mh}var q0;function aW(){return q0||(q0=1,(function(e){const t=oa(),r=OS(),n=Ix(),o=aa(),a=DS(),i=7973,l=t.getBCHDigit(i);function c(m,g,f){for(let x=1;x<=40;x++)if(g<=e.getCapacity(x,f,m))return x}function d(m,g){return o.getCharCountIndicator(m,g)+4}function u(m,g){let f=0;return m.forEach(function(x){const y=d(x.mode,g);f+=y+x.getBitsLength()}),f}function p(m,g){for(let f=1;f<=40;f++)if(u(m,f)<=e.getCapacity(f,g,o.MIXED))return f}e.from=function(g,f){return a.isValid(g)?parseInt(g,10):f},e.getCapacity=function(g,f,x){if(!a.isValid(g))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=o.BYTE);const y=t.getSymbolTotalCodewords(g),N=r.getTotalCodewordsCount(g,f),b=(y-N)*8;if(x===o.MIXED)return b;const j=b-d(x,g);switch(x){case o.NUMERIC:return Math.floor(j/10*3);case o.ALPHANUMERIC:return Math.floor(j/11*2);case o.KANJI:return Math.floor(j/13);case o.BYTE:default:return Math.floor(j/8)}},e.getBestVersionForData=function(g,f){let x;const y=n.from(f,n.M);if(Array.isArray(g)){if(g.length>1)return p(g,y);if(g.length===0)return 1;x=g[0]}else x=g;return c(x.mode,x.getLength(),y)},e.getEncodedBits=function(g){if(!a.isValid(g)||g<7)throw new Error("Invalid QR Code version");let f=g<<12;for(;t.getBCHDigit(f)-l>=0;)f^=i<<t.getBCHDigit(f)-l;return g<<12|f}})(ph)),ph}var fh={},U0;function iW(){if(U0)return fh;U0=1;const e=oa(),t=1335,r=21522,n=e.getBCHDigit(t);return fh.getEncodedBits=function(a,i){const l=a.bit<<3|i;let c=l<<10;for(;e.getBCHDigit(c)-n>=0;)c^=t<<e.getBCHDigit(c)-n;return(l<<10|c)^r},fh}var gh={},xh,W0;function lW(){if(W0)return xh;W0=1;const e=aa();function t(r){this.mode=e.NUMERIC,this.data=r.toString()}return t.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let o,a,i;for(o=0;o+3<=this.data.length;o+=3)a=this.data.substr(o,3),i=parseInt(a,10),n.put(i,10);const l=this.data.length-o;l>0&&(a=this.data.substr(o),i=parseInt(a,10),n.put(i,l*3+1))},xh=t,xh}var vh,K0;function cW(){if(K0)return vh;K0=1;const e=aa(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=e.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(o){return 11*Math.floor(o/2)+6*(o%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(o){let a;for(a=0;a+2<=this.data.length;a+=2){let i=t.indexOf(this.data[a])*45;i+=t.indexOf(this.data[a+1]),o.put(i,11)}this.data.length%2&&o.put(t.indexOf(this.data[a]),6)},vh=r,vh}var bh,$0;function dW(){if($0)return bh;$0=1;const e=aa();function t(r){this.mode=e.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return t.getBitsLength=function(n){return n*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){for(let n=0,o=this.data.length;n<o;n++)r.put(this.data[n],8)},bh=t,bh}var yh,H0;function uW(){if(H0)return yh;H0=1;const e=aa(),t=oa();function r(n){this.mode=e.KANJI,this.data=n}return r.getBitsLength=function(o){return o*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let o;for(o=0;o<this.data.length;o++){let a=t.toSJIS(this.data[o]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[o]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),n.put(a,13)}},yh=r,yh}var wh={exports:{}},V0;function pW(){return V0||(V0=1,(function(e){var t={single_source_shortest_paths:function(r,n,o){var a={},i={};i[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,d,u,p,m,g,f,x,y;!l.empty();){c=l.pop(),d=c.value,p=c.cost,m=r[d]||{};for(u in m)m.hasOwnProperty(u)&&(g=m[u],f=p+g,x=i[u],y=typeof i[u]>"u",(y||x>f)&&(i[u]=f,l.push(u,f),a[u]=d))}if(typeof o<"u"&&typeof i[o]>"u"){var N=["Could not find a path from ",n," to ",o,"."].join("");throw new Error(N)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var o=[],a=n;a;)o.push(a),r[a],a=r[a];return o.reverse(),o},find_path:function(r,n,o){var a=t.single_source_shortest_paths(r,n,o);return t.extract_shortest_path_from_predecessor_list(a,o)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,o={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);return o.queue=[],o.sorter=r.sorter||n.default_sorter,o},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var o={value:r,cost:n};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(wh)),wh.exports}var G0;function mW(){return G0||(G0=1,(function(e){const t=aa(),r=lW(),n=cW(),o=dW(),a=uW(),i=FS(),l=oa(),c=pW();function d(N){return unescape(encodeURIComponent(N)).length}function u(N,b,j){const v=[];let _;for(;(_=N.exec(j))!==null;)v.push({data:_[0],index:_.index,mode:b,length:_[0].length});return v}function p(N){const b=u(i.NUMERIC,t.NUMERIC,N),j=u(i.ALPHANUMERIC,t.ALPHANUMERIC,N);let v,_;return l.isKanjiModeEnabled()?(v=u(i.BYTE,t.BYTE,N),_=u(i.KANJI,t.KANJI,N)):(v=u(i.BYTE_KANJI,t.BYTE,N),_=[]),b.concat(j,v,_).sort(function(w,T){return w.index-T.index}).map(function(w){return{data:w.data,mode:w.mode,length:w.length}})}function m(N,b){switch(b){case t.NUMERIC:return r.getBitsLength(N);case t.ALPHANUMERIC:return n.getBitsLength(N);case t.KANJI:return a.getBitsLength(N);case t.BYTE:return o.getBitsLength(N)}}function g(N){return N.reduce(function(b,j){const v=b.length-1>=0?b[b.length-1]:null;return v&&v.mode===j.mode?(b[b.length-1].data+=j.data,b):(b.push(j),b)},[])}function f(N){const b=[];for(let j=0;j<N.length;j++){const v=N[j];switch(v.mode){case t.NUMERIC:b.push([v,{data:v.data,mode:t.ALPHANUMERIC,length:v.length},{data:v.data,mode:t.BYTE,length:v.length}]);break;case t.ALPHANUMERIC:b.push([v,{data:v.data,mode:t.BYTE,length:v.length}]);break;case t.KANJI:b.push([v,{data:v.data,mode:t.BYTE,length:d(v.data)}]);break;case t.BYTE:b.push([{data:v.data,mode:t.BYTE,length:d(v.data)}])}}return b}function x(N,b){const j={},v={start:{}};let _=["start"];for(let k=0;k<N.length;k++){const w=N[k],T=[];for(let S=0;S<w.length;S++){const P=w[S],I=""+k+S;T.push(I),j[I]={node:P,lastCount:0},v[I]={};for(let M=0;M<_.length;M++){const A=_[M];j[A]&&j[A].node.mode===P.mode?(v[A][I]=m(j[A].lastCount+P.length,P.mode)-m(j[A].lastCount,P.mode),j[A].lastCount+=P.length):(j[A]&&(j[A].lastCount=P.length),v[A][I]=m(P.length,P.mode)+4+t.getCharCountIndicator(P.mode,b))}}_=T}for(let k=0;k<_.length;k++)v[_[k]].end=0;return{map:v,table:j}}function y(N,b){let j;const v=t.getBestModeForData(N);if(j=t.from(b,v),j!==t.BYTE&&j.bit<v.bit)throw new Error('"'+N+'" cannot be encoded with mode '+t.toString(j)+`.
 Suggested mode is: `+t.toString(v));switch(j===t.KANJI&&!l.isKanjiModeEnabled()&&(j=t.BYTE),j){case t.NUMERIC:return new r(N);case t.ALPHANUMERIC:return new n(N);case t.KANJI:return new a(N);case t.BYTE:return new o(N)}}e.fromArray=function(b){return b.reduce(function(j,v){return typeof v=="string"?j.push(y(v,null)):v.data&&j.push(y(v.data,v.mode)),j},[])},e.fromString=function(b,j){const v=p(b,l.isKanjiModeEnabled()),_=f(v),k=x(_,j),w=c.find_path(k.map,"start","end"),T=[];for(let S=1;S<w.length-1;S++)T.push(k.table[w[S]].node);return e.fromArray(g(T))},e.rawSplit=function(b){return e.fromArray(p(b,l.isKanjiModeEnabled()))}})(gh)),gh}var Q0;function hW(){if(Q0)return rh;Q0=1;const e=oa(),t=Ix(),r=JU(),n=ZU(),o=eW(),a=tW(),i=sW(),l=OS(),c=oW(),d=aW(),u=iW(),p=aa(),m=mW();function g(k,w){const T=k.size,S=a.getPositions(w);for(let P=0;P<S.length;P++){const I=S[P][0],M=S[P][1];for(let A=-1;A<=7;A++)if(!(I+A<=-1||T<=I+A))for(let C=-1;C<=7;C++)M+C<=-1||T<=M+C||(A>=0&&A<=6&&(C===0||C===6)||C>=0&&C<=6&&(A===0||A===6)||A>=2&&A<=4&&C>=2&&C<=4?k.set(I+A,M+C,!0,!0):k.set(I+A,M+C,!1,!0))}}function f(k){const w=k.size;for(let T=8;T<w-8;T++){const S=T%2===0;k.set(T,6,S,!0),k.set(6,T,S,!0)}}function x(k,w){const T=o.getPositions(w);for(let S=0;S<T.length;S++){const P=T[S][0],I=T[S][1];for(let M=-2;M<=2;M++)for(let A=-2;A<=2;A++)M===-2||M===2||A===-2||A===2||M===0&&A===0?k.set(P+M,I+A,!0,!0):k.set(P+M,I+A,!1,!0)}}function y(k,w){const T=k.size,S=d.getEncodedBits(w);let P,I,M;for(let A=0;A<18;A++)P=Math.floor(A/3),I=A%3+T-8-3,M=(S>>A&1)===1,k.set(P,I,M,!0),k.set(I,P,M,!0)}function N(k,w,T){const S=k.size,P=u.getEncodedBits(w,T);let I,M;for(I=0;I<15;I++)M=(P>>I&1)===1,I<6?k.set(I,8,M,!0):I<8?k.set(I+1,8,M,!0):k.set(S-15+I,8,M,!0),I<8?k.set(8,S-I-1,M,!0):I<9?k.set(8,15-I-1+1,M,!0):k.set(8,15-I-1,M,!0);k.set(S-8,8,1,!0)}function b(k,w){const T=k.size;let S=-1,P=T-1,I=7,M=0;for(let A=T-1;A>0;A-=2)for(A===6&&A--;;){for(let C=0;C<2;C++)if(!k.isReserved(P,A-C)){let H=!1;M<w.length&&(H=(w[M]>>>I&1)===1),k.set(P,A-C,H),I--,I===-1&&(M++,I=7)}if(P+=S,P<0||T<=P){P-=S,S=-S;break}}}function j(k,w,T){const S=new r;T.forEach(function(C){S.put(C.mode.bit,4),S.put(C.getLength(),p.getCharCountIndicator(C.mode,k)),C.write(S)});const P=e.getSymbolTotalCodewords(k),I=l.getTotalCodewordsCount(k,w),M=(P-I)*8;for(S.getLengthInBits()+4<=M&&S.put(0,4);S.getLengthInBits()%8!==0;)S.putBit(0);const A=(M-S.getLengthInBits())/8;for(let C=0;C<A;C++)S.put(C%2?17:236,8);return v(S,k,w)}function v(k,w,T){const S=e.getSymbolTotalCodewords(w),P=l.getTotalCodewordsCount(w,T),I=S-P,M=l.getBlocksCount(w,T),A=S%M,C=M-A,H=Math.floor(S/M),z=Math.floor(I/M),D=z+1,Y=H-z,U=new c(Y);let q=0;const F=new Array(M),W=new Array(M);let te=0;const K=new Uint8Array(k.buffer);for(let O=0;O<M;O++){const pe=O<C?z:D;F[O]=K.slice(q,q+pe),W[O]=U.encode(F[O]),q+=pe,te=Math.max(te,pe)}const X=new Uint8Array(S);let G=0,J,ae;for(J=0;J<te;J++)for(ae=0;ae<M;ae++)J<F[ae].length&&(X[G++]=F[ae][J]);for(J=0;J<Y;J++)for(ae=0;ae<M;ae++)X[G++]=W[ae][J];return X}function _(k,w,T,S){let P;if(Array.isArray(k))P=m.fromArray(k);else if(typeof k=="string"){let H=w;if(!H){const z=m.rawSplit(k);H=d.getBestVersionForData(z,T)}P=m.fromString(k,H||40)}else throw new Error("Invalid data");const I=d.getBestVersionForData(P,T);if(!I)throw new Error("The amount of data is too big to be stored in a QR Code");if(!w)w=I;else if(w<I)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+I+`.
`);const M=j(w,T,P),A=e.getSymbolSize(w),C=new n(A);return g(C,w),f(C),x(C,w),N(C,T,0),w>=7&&y(C,w),b(C,M),isNaN(S)&&(S=i.getBestMask(C,N.bind(null,C,T))),i.applyMask(S,C),N(C,T,S),{modules:C,version:w,errorCorrectionLevel:T,maskPattern:S,segments:P}}return rh.create=function(w,T){if(typeof w>"u"||w==="")throw new Error("No input text");let S=t.M,P,I;return typeof T<"u"&&(S=t.from(T.errorCorrectionLevel,t.M),P=d.from(T.version),I=i.from(T.maskPattern),T.toSJISFunc&&e.setToSJISFunction(T.toSJISFunc)),_(w,P,S,I)},rh}var kh={},jh={},Y0;function LS(){return Y0||(Y0=1,(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const o=parseInt(n.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const o=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:a,scale:a?4:i,margin:o,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,o){return o.width&&o.width>=n+o.margin*2?o.width/(n+o.margin*2):o.scale},e.getImageWidth=function(n,o){const a=e.getScale(n,o);return Math.floor((n+o.margin*2)*a)},e.qrToImageData=function(n,o,a){const i=o.modules.size,l=o.modules.data,c=e.getScale(i,a),d=Math.floor((i+a.margin*2)*c),u=a.margin*c,p=[a.color.light,a.color.dark];for(let m=0;m<d;m++)for(let g=0;g<d;g++){let f=(m*d+g)*4,x=a.color.light;if(m>=u&&g>=u&&m<d-u&&g<d-u){const y=Math.floor((m-u)/c),N=Math.floor((g-u)/c);x=p[l[y*i+N]?1:0]}n[f++]=x.r,n[f++]=x.g,n[f++]=x.b,n[f]=x.a}}})(jh)),jh}var X0;function fW(){return X0||(X0=1,(function(e){const t=LS();function r(o,a,i){o.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=i,a.width=i,a.style.height=i+"px",a.style.width=i+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,i,l){let c=l,d=i;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),i||(d=n()),c=t.getOptions(c);const u=t.getImageWidth(a.modules.size,c),p=d.getContext("2d"),m=p.createImageData(u,u);return t.qrToImageData(m.data,a,c),r(p,d,u),p.putImageData(m,0,0),d},e.renderToDataURL=function(a,i,l){let c=l;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),c||(c={});const d=e.render(a,i,c),u=c.type||"image/png",p=c.rendererOpts||{};return d.toDataURL(u,p.quality)}})(kh)),kh}var _h={},J0;function gW(){if(J0)return _h;J0=1;const e=LS();function t(o,a){const i=o.a/255,l=a+'="'+o.hex+'"';return i<1?l+" "+a+'-opacity="'+i.toFixed(2).slice(1)+'"':l}function r(o,a,i){let l=o+a;return typeof i<"u"&&(l+=" "+i),l}function n(o,a,i){let l="",c=0,d=!1,u=0;for(let p=0;p<o.length;p++){const m=Math.floor(p%a),g=Math.floor(p/a);!m&&!d&&(d=!0),o[p]?(u++,p>0&&m>0&&o[p-1]||(l+=d?r("M",m+i,.5+g+i):r("m",c,0),c=0,d=!1),m+1<a&&o[p+1]||(l+=r("h",u),u=0)):c++}return l}return _h.render=function(a,i,l){const c=e.getOptions(i),d=a.modules.size,u=a.modules.data,p=d+c.margin*2,m=c.color.light.a?"<path "+t(c.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",g="<path "+t(c.color.dark,"stroke")+' d="'+n(u,d,c.margin)+'"/>',f='viewBox="0 0 '+p+" "+p+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+f+' shape-rendering="crispEdges">'+m+g+`</svg>
`;return typeof l=="function"&&l(null,y),y},_h}var Z0;function xW(){if(Z0)return ha;Z0=1;const e=XU(),t=hW(),r=fW(),n=gW();function o(a,i,l,c,d){const u=[].slice.call(arguments,1),p=u.length,m=typeof u[p-1]=="function";if(!m&&!e())throw new Error("Callback required as last argument");if(m){if(p<2)throw new Error("Too few arguments provided");p===2?(d=l,l=i,i=c=void 0):p===3&&(i.getContext&&typeof d>"u"?(d=c,c=void 0):(d=c,c=l,l=i,i=void 0))}else{if(p<1)throw new Error("Too few arguments provided");return p===1?(l=i,i=c=void 0):p===2&&!i.getContext&&(c=l,l=i,i=void 0),new Promise(function(g,f){try{const x=t.create(l,c);g(a(x,i,c))}catch(x){f(x)}})}try{const g=t.create(l,c);d(null,a(g,i,c))}catch(g){d(g)}}return ha.create=t.create,ha.toCanvas=o.bind(null,r.render),ha.toDataURL=o.bind(null,r.renderToDataURL),ha.toString=o.bind(null,function(a,i,l){return n.render(a,l)}),ha}var vW=xW();const bW=ln(vW),Gl={width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}};function yW(e){var t,r;return{width:(e==null?void 0:e.width)??Gl.width,margin:(e==null?void 0:e.margin)??Gl.margin,color:{dark:((t=e==null?void 0:e.color)==null?void 0:t.dark)??Gl.color.dark,light:((r=e==null?void 0:e.color)==null?void 0:r.light)??Gl.color.light}}}async function wW(e,t){return bW.toDataURL(e,yW(t))}const kW=()=>{const{t:e}=re();return s.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-vscode-sideBar-background rounded",children:[s.jsx(yl,{}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"codicon codicon-loading codicon-modifier-spin text-xl"}),s.jsx("span",{className:"text-vscode-foreground",children:e("kilocode:deviceAuth.initiating")})]})]})},jW=({userEmail:e})=>{const{t}=re();return s.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-vscode-sideBar-background rounded",children:[s.jsx(yl,{}),s.jsx("h3",{className:"text-lg font-semibold text-vscode-foreground",children:t("kilocode:deviceAuth.success")}),e&&s.jsx("p",{className:"text-sm text-vscode-descriptionForeground",children:t("kilocode:deviceAuth.authenticatedAs",{email:e})})]})},_W=({error:e,onRetry:t})=>{const{t:r}=re();return s.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-vscode-sideBar-background rounded",children:[s.jsx(yl,{}),s.jsx("h3",{className:"text-lg font-semibold text-vscode-foreground",children:r("kilocode:deviceAuth.error")}),s.jsx("p",{className:"text-sm text-vscode-descriptionForeground text-center",children:e||r("kilocode:deviceAuth.unknownError")}),s.jsx(bl,{onClick:t,children:r("kilocode:deviceAuth.retry")})]})},NW=({onRetry:e})=>{const{t}=re();return s.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-vscode-sideBar-background rounded",children:[s.jsx(yl,{}),s.jsx("h3",{className:"text-lg font-semibold text-vscode-foreground",children:t("kilocode:deviceAuth.cancelled")}),s.jsx(bl,{onClick:e,children:t("kilocode:deviceAuth.tryAgain")})]})},SW=({code:e,verificationUrl:t,qrCodeDataUrl:r,timeRemaining:n,formatTime:o,onOpenBrowser:a,onCancel:i})=>{const{t:l}=re(),c=()=>{navigator.clipboard.writeText(t)};return s.jsxs("div",{className:"flex flex-col gap-2 bg-vscode-sideBar-background rounded",children:[s.jsx("h3",{className:"text-lg font-semibold text-vscode-foreground text-center",children:l("kilocode:deviceAuth.title")}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("p",{className:"text-sm text-vscode-descriptionForeground text-center",children:l("kilocode:deviceAuth.step1")}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-vscode-input-background border border-vscode-input-border rounded",children:[s.jsx("span",{className:"flex-1 text-sm font-mono text-vscode-foreground truncate",children:t}),s.jsx("button",{onClick:c,className:"flex-shrink-0 p-1 hover:bg-vscode-toolbar-hoverBackground rounded",title:l("kilocode:deviceAuth.copyUrl"),children:s.jsx("span",{className:"codicon codicon-copy text-vscode-foreground"})})]}),s.jsx(bl,{onClick:a,children:l("kilocode:deviceAuth.openBrowser")})]}),r&&s.jsxs("div",{className:"flex flex-col items-center gap-2 mt-2",children:[s.jsx("p",{className:"text-sm text-vscode-descriptionForeground",children:l("kilocode:deviceAuth.scanQr")}),s.jsx("img",{src:r,alt:"QR Code",className:"w-40 h-40 border border-vscode-widget-border rounded"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("p",{className:"text-sm text-vscode-descriptionForeground text-center",children:l("kilocode:deviceAuth.step2")}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"px-6 py-3 bg-vscode-input-background border-2 border-vscode-focusBorder rounded-lg",children:s.jsx("span",{className:"text-2xl font-mono font-bold text-vscode-foreground tracking-wider",children:e})})}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"codicon codicon-clock text-vscode-descriptionForeground"}),s.jsx("span",{className:"text-sm text-vscode-descriptionForeground",children:l("kilocode:deviceAuth.timeRemaining",{time:o(n)})})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"codicon codicon-loading codicon-modifier-spin text-vscode-descriptionForeground"}),s.jsx("span",{className:"text-sm text-vscode-descriptionForeground",children:l("kilocode:deviceAuth.waiting")})]})]}),s.jsx("div",{className:"w-full flex flex-col",children:s.jsx(RS,{onClick:i,children:l("kilocode:deviceAuth.cancel")})})]})},BS=({code:e,verificationUrl:t,timeRemaining:r,status:n,error:o,userEmail:a,onCancel:i,onRetry:l})=>{const[c,d]=h.useState("");h.useEffect(()=>{t&&wW(t,{width:200,margin:2}).then(d).catch(f=>{console.error("Failed to generate QR code:",f)})},[t]);const u=f=>{if(f===void 0)return"--:--";const x=Math.floor(f/60),y=f%60;return`${x}:${y.toString().padStart(2,"0")}`},p=()=>{t&&R.postMessage({type:"openExternal",url:t})},m=()=>{R.postMessage({type:"cancelDeviceAuth"}),i==null||i()},g=()=>{l==null||l()};return n==="initiating"?s.jsx(kW,{}):n==="success"?s.jsx(jW,{userEmail:a}):n==="error"?s.jsx(_W,{error:o,onRetry:g}):n==="cancelled"?s.jsx(NW,{onRetry:g}):n==="pending"&&e&&t?s.jsx(SW,{code:e,verificationUrl:t,qrCodeDataUrl:c,timeRemaining:r,formatTime:u,onOpenBrowser:p,onCancel:m}):null},zS=({onManualConfigClick:e,onLoginClick:t,className:r=""})=>{const{t:n}=re(),[o,a]=h.useState("idle"),[i,l]=h.useState(),[c,d]=h.useState(),[u,p]=h.useState(),[m,g]=h.useState(),[f,x]=h.useState(),[y,N]=h.useState();h.useEffect(()=>{const _=k=>{const w=k.data;switch(w.type){case"deviceAuthStarted":a("pending"),l(w.deviceAuthCode),d(w.deviceAuthVerificationUrl),p(w.deviceAuthExpiresIn),g(w.deviceAuthExpiresIn),x(void 0);break;case"deviceAuthPolling":g(w.deviceAuthTimeRemaining);break;case"deviceAuthComplete":a("success"),N(w.deviceAuthUserEmail),R.postMessage({type:"deviceAuthCompleteWithProfile",text:"",values:{token:w.deviceAuthToken,userEmail:w.deviceAuthUserEmail}}),setTimeout(()=>{R.postMessage({type:"switchTab",tab:"chat"})},2e3);break;case"deviceAuthFailed":a("error"),x(w.deviceAuthError);break;case"deviceAuthCancelled":a("idle"),l(void 0),d(void 0),p(void 0),g(void 0),x(void 0);break}};return window.addEventListener("message",_),()=>window.removeEventListener("message",_)},[]);const b=()=>{t?t():(a("initiating"),R.postMessage({type:"startDeviceAuth"}))},j=()=>{a("idle"),l(void 0),d(void 0),p(void 0),g(void 0),x(void 0)},v=()=>{a("idle"),x(void 0),setTimeout(()=>b(),100)};return o!=="idle"?s.jsx("div",{className:`flex flex-col items-center ${r}`,children:s.jsx(BS,{code:i,verificationUrl:c,expiresIn:u,timeRemaining:m,status:o,error:f,userEmail:y,onCancel:j,onRetry:v})}):s.jsxs("div",{className:`flex flex-col items-center ${r}`,children:[s.jsx(yl,{}),s.jsx("h2",{className:"m-0 p-0 mb-4",children:n("kilocode:welcome.greeting")}),s.jsx("p",{className:"text-center mb-2",children:n("kilocode:welcome.introText1")}),s.jsx("p",{className:"text-center mb-2",children:n("kilocode:welcome.introText2")}),s.jsx("p",{className:"text-center mb-5",children:n("kilocode:welcome.introText3")}),s.jsxs("div",{className:"w-full flex flex-col gap-5",children:[s.jsx(bl,{onClick:b,children:n("kilocode:welcome.ctaButton")}),!!e&&s.jsx(RS,{onClick:()=>e&&e(),children:n("kilocode:welcome.manualModeButton")})]})]})},TW={AC:{urlScheme:"appcode",name:"AppCode"},IC:{urlScheme:"idea",name:"IntelliJ IDEA"},IU:{urlScheme:"idea",name:"IntelliJ IDEA"},AS:{urlScheme:"android",name:"Android Studio"},AI:{urlScheme:"android",name:"Android Studio"},WS:{urlScheme:"webstorm",name:"WebStorm"},PS:{urlScheme:"phpstorm",name:"PhpStorm"},PY:{urlScheme:"pycharm",name:"PyCharm Professional"},PC:{urlScheme:"pycharm",name:"PyCharm Community"},GO:{urlScheme:"goland",name:"GoLand"},CL:{urlScheme:"clion",name:"CLion"},RD:{urlScheme:"rider",name:"Rider"},RM:{urlScheme:"rubymine",name:"RubyMine"},DB:{urlScheme:"datagrip",name:"DataGrip"},DS:{urlScheme:"dataspell",name:"DataSpell"},JB:{urlScheme:"jetbrains",name:"JetBrains"}},PW=e=>{var t;return((t=TW[e])==null?void 0:t.urlScheme)||"jetbrains"},IW=(e="vscode",t)=>!(t!=null&&t.kiloCodeWrapped)||!t.kiloCodeWrapper||!t.kiloCodeWrapperCode?e:`${PW(t.kiloCodeWrapperCode)}`;function EW(e="vscode",t="Desktop",r){const n=t==="Web"?"web":IW(e,r);return Er(`/sign-in-to-editor?source=${n}`)}const MW=()=>{const{apiConfiguration:e,currentApiConfigName:t,setApiConfiguration:r,uriScheme:n,uiKind:o,kiloCodeWrapperProperties:a}=Ye(),[i,l]=h.useState(),[c,d]=h.useState(!1),{t:u}=re(),p=h.useRef(null);h.useEffect(()=>{const f=x=>{if(x.data.type==="state"&&p.current){const N=p.current;p.current=null,R.postMessage({type:"loadApiConfiguration",text:N})}};return window.addEventListener("message",f),()=>window.removeEventListener("message",f)},[]);const m=h.useCallback(()=>{const f=e?mL(e):void 0;if(f){l(f);return}l(void 0),p.current=t,R.postMessage({type:"upsertApiConfiguration",text:t,apiConfiguration:e})},[e,t]),g=!(e!=null&&e.apiProvider)||(e==null?void 0:e.apiProvider)==="kilocode"&&!(e!=null&&e.kilocodeToken);return s.jsx(ra,{children:s.jsx(na,{className:"flex flex-col gap-5",children:c?s.jsxs(s.Fragment,{children:[s.jsx(jS,{fromWelcomeView:!0,apiConfiguration:e||{},uriScheme:n,setApiConfigurationField:(f,x)=>r({[f]:x}),errorMessage:i,setErrorMessage:l,hideKiloCodeButton:!0}),g?s.jsx(QU,{href:EW(n,o,a),children:u("kilocode:settings.provider.login")}):s.jsx(bl,{onClick:m,children:u("welcome:start")})]}):s.jsx("div",{className:"bg-vscode-sideBar-background p-4",children:s.jsx(zS,{onManualConfigClick:()=>d(!0)})})})})};var yi={},Ti={exports:{}},CW=Ti.exports,ej;function AW(){return ej||(ej=1,(function(e,t){(function(r,n){n(t)})(CW,(function(r){var n=function(){return n=Object.assign||function(a){for(var i,l=1,c=arguments.length;l<c;l++)for(var d in i=arguments[l])Object.prototype.hasOwnProperty.call(i,d)&&(a[d]=i[d]);return a},n.apply(this,arguments)},o=(function(){function a(i,l,c){var d=this;this.endVal=l,this.options=c,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(u){d.startTime||(d.startTime=u);var p=u-d.startTime;d.remaining=d.duration-p,d.useEasing?d.countDown?d.frameVal=d.startVal-d.easingFn(p,0,d.startVal-d.endVal,d.duration):d.frameVal=d.easingFn(p,d.startVal,d.endVal-d.startVal,d.duration):d.frameVal=d.startVal+(d.endVal-d.startVal)*(p/d.duration);var m=d.countDown?d.frameVal<d.endVal:d.frameVal>d.endVal;d.frameVal=m?d.endVal:d.frameVal,d.frameVal=Number(d.frameVal.toFixed(d.options.decimalPlaces)),d.printValue(d.frameVal),p<d.duration?d.rAF=requestAnimationFrame(d.count):d.finalEndVal!==null?d.update(d.finalEndVal):d.options.onCompleteCallback&&d.options.onCompleteCallback()},this.formatNumber=function(u){var p,m,g,f,x=u<0?"-":"";p=Math.abs(u).toFixed(d.options.decimalPlaces);var y=(p+="").split(".");if(m=y[0],g=y.length>1?d.options.decimal+y[1]:"",d.options.useGrouping){f="";for(var N=3,b=0,j=0,v=m.length;j<v;++j)d.options.useIndianSeparators&&j===4&&(N=2,b=1),j!==0&&b%N==0&&(f=d.options.separator+f),b++,f=m[v-j-1]+f;m=f}return d.options.numerals&&d.options.numerals.length&&(m=m.replace(/[0-9]/g,(function(_){return d.options.numerals[+_]})),g=g.replace(/[0-9]/g,(function(_){return d.options.numerals[+_]}))),x+d.options.prefix+m+g+d.options.suffix},this.easeOutExpo=function(u,p,m,g){return m*(1-Math.pow(2,-10*u/g))*1024/1023+p},this.options=n(n({},this.defaults),c),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof i=="string"?document.getElementById(i):i,l=l??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(l),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,i):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return d.handleScroll(d)})),window.onscroll=function(){window.onScrollFns.forEach((function(u){return u()}))},this.handleScroll(this)))}return a.prototype.handleScroll=function(i){if(i&&window&&!i.once){var l=window.innerHeight+window.scrollY,c=i.el.getBoundingClientRect(),d=c.top+window.pageYOffset,u=c.top+c.height+window.pageYOffset;u<l&&u>window.scrollY&&i.paused?(i.paused=!1,setTimeout((function(){return i.start()}),i.options.scrollSpyDelay),i.options.scrollSpyOnce&&(i.once=!0)):(window.scrollY>u||d>l)&&!i.paused&&i.reset()}},a.prototype.determineDirectionAndSmartEasing=function(){var i=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>i;var l=i-this.startVal;if(Math.abs(l)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=i;var c=this.countDown?1:-1;this.endVal=i+c*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=i,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},a.prototype.start=function(i){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),i&&(this.options.onCompleteCallback=i),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},a.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},a.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},a.prototype.update=function(i){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(i),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},a.prototype.printValue=function(i){var l;if(this.el){var c=this.formattingFn(i);!((l=this.options.plugin)===null||l===void 0)&&l.render?this.options.plugin.render(this.el,c):this.el.tagName==="INPUT"?this.el.value=c:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=c:this.el.innerHTML=c}},a.prototype.ensureNumber=function(i){return typeof i=="number"&&!isNaN(i)},a.prototype.validateValue=function(i){var l=Number(i);return this.ensureNumber(l)?l:(this.error="[CountUp] invalid start or end value: ".concat(i),null)},a.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},a.prototype.parse=function(i){var l=function(p){return p.replace(/([.,' ])/g,"\\$1")},c=l(this.options.separator),d=l(this.options.decimal),u=i.replace(new RegExp(c,"g"),"").replace(new RegExp(d,"g"),".");return parseFloat(u)},a})();r.CountUp=o}))})(Ti,Ti.exports)),Ti.exports}var tj;function RW(){if(tj)return yi;tj=1,Object.defineProperty(yi,"__esModule",{value:!0});var e=ST(),t=AW();function r(T,S){var P=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(P!=null){var I,M,A,C,H=[],z=!0,D=!1;try{if(A=(P=P.call(T)).next,S!==0)for(;!(z=(I=A.call(P)).done)&&(H.push(I.value),H.length!==S);z=!0);}catch(Y){D=!0,M=Y}finally{try{if(!z&&P.return!=null&&(C=P.return(),Object(C)!==C))return}finally{if(D)throw M}}return H}}function n(T,S){var P=Object.keys(T);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(T);S&&(I=I.filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable})),P.push.apply(P,I)}return P}function o(T){for(var S=1;S<arguments.length;S++){var P=arguments[S]!=null?arguments[S]:{};S%2?n(Object(P),!0).forEach(function(I){l(T,I,P[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(P)):n(Object(P)).forEach(function(I){Object.defineProperty(T,I,Object.getOwnPropertyDescriptor(P,I))})}return T}function a(T,S){if(typeof T!="object"||!T)return T;var P=T[Symbol.toPrimitive];if(P!==void 0){var I=P.call(T,S);if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(T)}function i(T){var S=a(T,"string");return typeof S=="symbol"?S:String(S)}function l(T,S,P){return S=i(S),S in T?Object.defineProperty(T,S,{value:P,enumerable:!0,configurable:!0,writable:!0}):T[S]=P,T}function c(){return c=Object.assign?Object.assign.bind():function(T){for(var S=1;S<arguments.length;S++){var P=arguments[S];for(var I in P)Object.prototype.hasOwnProperty.call(P,I)&&(T[I]=P[I])}return T},c.apply(this,arguments)}function d(T,S){if(T==null)return{};var P={},I=Object.keys(T),M,A;for(A=0;A<I.length;A++)M=I[A],!(S.indexOf(M)>=0)&&(P[M]=T[M]);return P}function u(T,S){if(T==null)return{};var P=d(T,S),I,M;if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(T);for(M=0;M<A.length;M++)I=A[M],!(S.indexOf(I)>=0)&&Object.prototype.propertyIsEnumerable.call(T,I)&&(P[I]=T[I])}return P}function p(T,S){return m(T)||r(T,S)||g(T,S)||x()}function m(T){if(Array.isArray(T))return T}function g(T,S){if(T){if(typeof T=="string")return f(T,S);var P=Object.prototype.toString.call(T).slice(8,-1);if(P==="Object"&&T.constructor&&(P=T.constructor.name),P==="Map"||P==="Set")return Array.from(T);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return f(T,S)}}function f(T,S){(S==null||S>T.length)&&(S=T.length);for(var P=0,I=new Array(S);P<S;P++)I[P]=T[P];return I}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?e.useLayoutEffect:e.useEffect;function N(T){var S=e.useRef(T);return y(function(){S.current=T}),e.useCallback(function(){for(var P=arguments.length,I=new Array(P),M=0;M<P;M++)I[M]=arguments[M];return S.current.apply(void 0,I)},[])}var b=function(S,P){var I=P.decimal,M=P.decimals,A=P.duration,C=P.easingFn,H=P.end,z=P.formattingFn,D=P.numerals,Y=P.prefix,U=P.separator,q=P.start,F=P.suffix,W=P.useEasing,te=P.useGrouping,K=P.useIndianSeparators,X=P.enableScrollSpy,G=P.scrollSpyDelay,J=P.scrollSpyOnce,ae=P.plugin;return new t.CountUp(S,H,{startVal:q,duration:A,decimal:I,decimalPlaces:M,easingFn:C,formattingFn:z,numerals:D,separator:U,prefix:Y,suffix:F,plugin:ae,useEasing:W,useIndianSeparators:K,useGrouping:te,enableScrollSpy:X,scrollSpyDelay:G,scrollSpyOnce:J})},j=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],v={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},_=function(S){var P=Object.fromEntries(Object.entries(S).filter(function(Pe){var Te=p(Pe,2),L=Te[1];return L!==void 0})),I=e.useMemo(function(){return o(o({},v),P)},[S]),M=I.ref,A=I.startOnMount,C=I.enableReinitialize,H=I.delay,z=I.onEnd,D=I.onStart,Y=I.onPauseResume,U=I.onReset,q=I.onUpdate,F=u(I,j),W=e.useRef(),te=e.useRef(),K=e.useRef(!1),X=N(function(){return b(typeof M=="string"?M:M.current,F)}),G=N(function(Pe){var Te=W.current;if(Te&&!Pe)return Te;var L=X();return W.current=L,L}),J=N(function(){var Pe=function(){return G(!0).start(function(){z==null||z({pauseResume:ae,reset:O,start:be,update:pe})})};H&&H>0?te.current=setTimeout(Pe,H*1e3):Pe(),D==null||D({pauseResume:ae,reset:O,update:pe})}),ae=N(function(){G().pauseResume(),Y==null||Y({reset:O,start:be,update:pe})}),O=N(function(){G().el&&(te.current&&clearTimeout(te.current),G().reset(),U==null||U({pauseResume:ae,start:be,update:pe}))}),pe=N(function(Pe){G().update(Pe),q==null||q({pauseResume:ae,reset:O,start:be})}),be=N(function(){O(),J()}),xe=N(function(Pe){A&&(Pe&&O(),J())});return e.useEffect(function(){K.current?C&&xe(!0):(K.current=!0,xe())},[C,K,xe,H,S.start,S.suffix,S.prefix,S.duration,S.separator,S.decimals,S.decimal,S.formattingFn]),e.useEffect(function(){return function(){O()}},[O]),{start:be,pauseResume:ae,reset:O,update:pe,getCountUp:G}},k=["className","redraw","containerProps","children","style"],w=function(S){var P=S.className,I=S.redraw,M=S.containerProps,A=S.children,C=S.style,H=u(S,k),z=e.useRef(null),D=e.useRef(!1),Y=_(o(o({},H),{},{ref:z,startOnMount:typeof A!="function"||S.delay===0,enableReinitialize:!1})),U=Y.start,q=Y.reset,F=Y.update,W=Y.pauseResume,te=Y.getCountUp,K=N(function(){U()}),X=N(function(ae){S.preserveValue||q(),F(ae)}),G=N(function(){if(typeof S.children=="function"&&!(z.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}te()});e.useEffect(function(){G()},[G]),e.useEffect(function(){D.current&&X(S.end)},[S.end,X]);var J=I&&S;return e.useEffect(function(){I&&D.current&&K()},[K,I,J]),e.useEffect(function(){!I&&D.current&&K()},[K,I,S.start,S.suffix,S.prefix,S.duration,S.separator,S.decimals,S.decimal,S.className,S.formattingFn]),e.useEffect(function(){D.current=!0},[]),typeof A=="function"?A({countUpRef:z,start:U,reset:q,update:F,pauseResume:W,getCountUp:te}):e.createElement("span",c({className:P,ref:z,style:C},M),typeof S.start<"u"?te().formattingFn(S.start):"")};return yi.default=w,yi.useCountUp=_,yi}var OW=RW();const DW=ln(OW),FW=({onDone:e})=>{var j,v,_;const{apiConfiguration:t,currentApiConfigName:r,uriScheme:n,uiKind:o}=Ye(),{t:a}=re(),[i,l]=Qe.useState(null),[c,d]=Qe.useState(null),[u,p]=Qe.useState(!0),[m,g]=Qe.useState(!0),f=t==null?void 0:t.kilocodeOrganizationId;h.useEffect(()=>{R.postMessage({type:"fetchProfileDataRequest"}),R.postMessage({type:"fetchBalanceDataRequest"})},[t==null?void 0:t.kilocodeToken,f]),h.useEffect(()=>{const k=w=>{var S;const T=w.data;if(T.type==="profileDataResponse"){const P=T.payload;P.success?l(P.data):(console.error("Error fetching profile data:",P.error),l(null)),g(!1)}else if(T.type==="balanceDataResponse"){const P=T.payload;P.success?d(((S=P.data)==null?void 0:S.balance)||0):(console.error("Error fetching balance data:",P.error),d(null)),p(!1)}else T.type==="updateProfileData"&&(R.postMessage({type:"fetchProfileDataRequest"}),R.postMessage({type:"fetchBalanceDataRequest"}))};return window.addEventListener("message",k),()=>{window.removeEventListener("message",k)}},[i]);const x=i==null?void 0:i.user;function y(){console.info("Logging out...",t),R.postMessage({type:"upsertApiConfiguration",text:r,apiConfiguration:{...t,kilocodeToken:"",kilocodeOrganizationId:void 0}})}const N=[{credits:20,popular:!1},{credits:50,popular:!0},{credits:100,popular:!1},{credits:200,popular:!1}],b=k=>()=>{R.postMessage({type:"shopBuyCredits",values:{credits:k,uriScheme:n,uiKind:o}})};return m?s.jsx(s.Fragment,{}):s.jsxs(ra,{children:[s.jsxs(hl,{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-vscode-foreground m-0",children:a("kilocode:profile.title")}),s.jsx(oe,{onClick:e,children:a("settings:common.done")})]}),s.jsx(na,{children:s.jsx("div",{className:"h-full flex flex-col",children:s.jsx("div",{className:"flex-1",children:x?s.jsxs("div",{className:"flex flex-col pr-3 h-full",children:[s.jsxs("div",{className:"flex flex-col w-full",children:[s.jsxs("div",{className:"flex items-center mb-6 flex-wrap gap-y-4",children:[x.image?s.jsx("img",{src:x.image,alt:"Profile",className:"size-16 rounded-full mr-4"}):s.jsx("div",{className:"size-16 rounded-full bg-[var(--vscode-button-background)] flex items-center justify-center text-2xl text-[var(--vscode-button-foreground)] mr-4",children:((j=x.name)==null?void 0:j[0])||((v=x.email)==null?void 0:v[0])||"?"}),s.jsxs("div",{className:"flex flex-col flex-1",children:[x.name&&s.jsx("h2",{className:"text-[var(--vscode-foreground)] m-0 mb-1 text-lg font-medium",children:x.name}),x.email&&s.jsx("div",{className:"text-sm text-[var(--vscode-descriptionForeground)]",children:x.email})]})]}),s.jsx(Yg,{className:"mb-6"})]}),s.jsxs("div",{className:"w-full flex gap-2 flex-col min-[225px]:flex-row",children:[s.jsx("div",{className:"w-full min-[225px]:w-1/2",children:s.jsx(yt,{href:Er("/profile"),appearance:"primary",className:"w-full",children:a("kilocode:profile.dashboard")})}),s.jsx(xt,{appearance:"secondary",onClick:y,className:"w-full min-[225px]:w-1/2",children:a("kilocode:profile.logOut")})]}),s.jsx("div",{className:"w-full mt-2",children:f?s.jsx(yt,{href:Er(`/organizations/${f}/usage-details`),appearance:"secondary",className:"w-full",children:a("kilocode:profile.detailedUsage")}):(((_=i.organizations)==null?void 0:_.length)??0)===0&&s.jsx(yt,{onClick:()=>{os.capture(Cs.CREATE_ORGANIZATION_LINK_CLICKED,{origin:"usage-details"})},href:Er("/organizations/new"),appearance:"primary",className:"w-full",children:a("kilocode:profile.createOrganization")})}),s.jsx(vP,{className:"w-full my-6"}),s.jsxs("div",{className:"w-full flex flex-col items-center",children:[s.jsx("div",{className:"text-sm text-[var(--vscode-descriptionForeground)] mb-3",children:a("kilocode:profile.currentBalance")}),s.jsx("div",{className:"text-4xl font-bold text-[var(--vscode-foreground)] mb-6 flex items-center gap-2",children:u?s.jsx("div",{className:"text-[var(--vscode-descriptionForeground)]",children:a("kilocode:profile.loading")}):c&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"$"}),s.jsx(DW,{end:c,duration:.66,decimals:2}),s.jsx(xt,{appearance:"icon",className:"mt-1",onClick:()=>{p(!0),R.postMessage({type:"fetchBalanceDataRequest"})},children:s.jsx("span",{className:"codicon codicon-refresh"})})]})}),!f&&s.jsxs("div",{className:"w-full mt-8",children:[s.jsx("div",{className:"text-lg font-semibold text-[var(--vscode-foreground)] mb-4 text-center",children:a("kilocode:profile.shop.title")}),s.jsx("div",{className:"grid grid-cols-1 min-[300px]:grid-cols-2 gap-3 mb-6",children:N.map(k=>s.jsxs("div",{className:`relative border rounded-lg p-4 bg-[var(--vscode-editor-background)] transition-all hover:shadow-md ${k.popular?"border-[var(--vscode-button-background)] ring-1 ring-[var(--vscode-button-background)]":"border-[var(--vscode-input-border)]"}`,children:[k.popular&&s.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:s.jsx("span",{className:"bg-[var(--vscode-button-background)] text-[var(--vscode-button-foreground)] text-xs px-2 py-1 rounded-full font-medium",children:a("kilocode:profile.shop.popular")})}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-[var(--vscode-foreground)] mb-1",children:["$",k.credits]}),s.jsx("div",{className:"text-sm text-[var(--vscode-descriptionForeground)] mb-2",children:a("kilocode:profile.shop.credits")}),s.jsx(xt,{appearance:k.popular?"primary":"secondary",className:"w-full",onClick:b(k.credits),children:a("kilocode:profile.shop.action")})]})]},k.credits))}),s.jsx("div",{className:"text-center",children:s.jsx(yt,{href:Er("/profile"),appearance:"secondary",className:"text-sm",children:a("kilocode:profile.shop.viewAll")})})]})]})]}):s.jsx("div",{className:"flex flex-col items-center pr-3",children:s.jsx(zS,{className:"w-full"})})})})})]})},LW=({returnTo:e="chat",profileName:t})=>{const[r,n]=h.useState("idle"),[o,a]=h.useState(),[i,l]=h.useState(),[c,d]=h.useState(),[u,p]=h.useState(),[m,g]=h.useState(),[f,x]=h.useState();h.useEffect(()=>{const b=j=>{const v=j.data;switch(v.type){case"deviceAuthStarted":n("pending"),a(v.deviceAuthCode),l(v.deviceAuthVerificationUrl),d(v.deviceAuthExpiresIn),p(v.deviceAuthExpiresIn),g(void 0);break;case"deviceAuthPolling":p(v.deviceAuthTimeRemaining);break;case"deviceAuthComplete":console.log("[AuthView] Device auth complete received",{profileName:t,token:v.deviceAuthToken?"present":"missing",userEmail:v.deviceAuthUserEmail}),n("success"),x(v.deviceAuthUserEmail),console.log("[AuthView] Sending deviceAuthCompleteWithProfile to profile:",t||"current"),R.postMessage({type:"deviceAuthCompleteWithProfile",text:t||"",values:{token:v.deviceAuthToken,userEmail:v.deviceAuthUserEmail}}),setTimeout(()=>{R.postMessage({type:"switchTab",tab:e,values:t?{editingProfile:t}:void 0})},2e3);break;case"deviceAuthFailed":n("error"),g(v.deviceAuthError);break;case"deviceAuthCancelled":R.postMessage({type:"switchTab",tab:e,values:t?{editingProfile:t}:void 0});break}};return window.addEventListener("message",b),()=>window.removeEventListener("message",b)},[e,t]),h.useEffect(()=>{n("initiating"),R.postMessage({type:"startDeviceAuth"})},[]);const y=()=>{},N=()=>{n("idle"),g(void 0),setTimeout(()=>{n("initiating"),R.postMessage({type:"startDeviceAuth"})},100)};return s.jsx(ra,{children:s.jsx(na,{className:"flex flex-col items-center justify-center min-h-screen p-6",children:s.jsx(BS,{code:o,verificationUrl:i,expiresIn:c,timeRemaining:u,status:r,error:m,userEmail:f,onCancel:y,onRetry:N})})})};function BW(e,t){const r=Math.max(0,Math.min(1,t));return((...n)=>{if(Math.random()<r)return e(...n)})}class zW{constructor(){Nt(this,"intervalId",null);Nt(this,"intervalMs",600*1e3);Nt(this,"sampledTelemetryCapture",BW(os.capture.bind(os),.01))}start(){this.intervalId||(this.reportMemoryUsage(),this.intervalId=window.setInterval(()=>{this.reportMemoryUsage()},this.intervalMs))}stop(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null)}reportMemoryUsage(){const t=performance.memory,r={heapUsedMb:this.bytesToMegabytes((t==null?void 0:t.usedJSHeapSize)||0),heapTotalMb:this.bytesToMegabytes((t==null?void 0:t.totalJSHeapSize)||0)};this.sampledTelemetryCapture(Cs.WEBVIEW_MEMORY_USAGE,r)}bytesToMegabytes(t){return Math.round(t/1024/1024*100)/100}}const qW=({isOpen:e,onClose:t,requestId:r,promptText:n,onSubmit:o,onCancel:a})=>{const{t:i}=re(),[l,c]=h.useState(""),{copy:d}=J_(),[u,p]=h.useState(!1);h.useEffect(()=>{e&&(c(""),p(!1))},[e]);const m=()=>{d(n),p(!0),setTimeout(()=>{p(!1)},2e3)},g=x=>{x.preventDefault(),l.trim()&&(o(r,l),t())},f=()=>{a(r),t()};return s.jsx(ea,{open:e,onOpenChange:x=>!x&&f(),children:s.jsxs(ta,{className:"sm:max-w-[600px] overflow-y-auto max-h-[80vh]",children:[s.jsxs(ni,{children:[s.jsx(oi,{children:i("humanRelay:dialogTitle")}),s.jsx(Gg,{children:i("humanRelay:dialogDescription")})]}),s.jsxs("div",{className:"grid gap-6 py-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qx,{className:"min-h-[200px] font-mono text-sm p-4 pr-12 whitespace-pre-wrap",value:n,readOnly:!0}),s.jsx(oe,{variant:"ghost",size:"icon",className:"absolute top-2 right-2",onClick:m,children:u?s.jsx(yr,{className:"h-4 w-4"}):s.jsx(Of,{className:"h-4 w-4"})})]}),u&&s.jsx("div",{className:"text-sm text-emerald-500 font-medium",children:i("humanRelay:copiedToClipboard")}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 font-medium",children:i("humanRelay:aiResponse.label")}),s.jsx(qx,{placeholder:i("humanRelay:aiResponse.placeholder"),value:l,onChange:x=>c(x.target.value),className:"min-h-[150px]"})]})]}),s.jsxs(hd,{children:[s.jsxs(oe,{variant:"outline",onClick:f,className:"gap-1",children:[s.jsx(_n,{className:"h-4 w-4"}),i("humanRelay:actions.cancel")]}),s.jsxs(oe,{onClick:g,disabled:!l.trim(),className:"gap-1",children:[s.jsx(yr,{className:"h-4 w-4"}),i("humanRelay:actions.submit")]})]})]})})},UW=({open:e,onOpenChange:t,onConfirm:r,type:n,hasCheckpoint:o})=>{const{t:a}=re(),i=n==="edit",l=a(i?"common:confirmation.editMessage":"common:confirmation.deleteMessage"),c=a(i?"common:confirmation.editQuestionWithCheckpoint":"common:confirmation.deleteQuestionWithCheckpoint"),d=()=>{r(!0),t(!1)},u=()=>{r(!1),t(!1)};return s.jsx(en,{open:e,onOpenChange:t,children:s.jsxs(tn,{children:[s.jsxs(sn,{children:[s.jsx(nn,{className:"text-lg",children:l}),s.jsx(on,{className:"text-base",children:c})]}),s.jsxs(rn,{className:"flex-col gap-2",children:[s.jsx(an,{className:"bg-vscode-button-secondaryBackground hover:bg-vscode-button-secondaryHoverBackground text-vscode-button-secondaryForeground border-vscode-button-border",children:a("common:answers.cancel")}),s.jsx(Cr,{onClick:u,className:"bg-vscode-button-background hover:bg-vscode-button-hoverBackground text-vscode-button-foreground border-vscode-button-border",children:a(i?"common:confirmation.editOnly":"common:confirmation.deleteOnly")}),o&&s.jsx(Cr,{onClick:d,className:"bg-vscode-button-background hover:bg-vscode-button-hoverBackground text-vscode-button-foreground border-vscode-button-border",children:a("common:confirmation.restoreToCheckpoint")})]})]})})},qS=({open:e,onOpenChange:t,onConfirm:r,type:n})=>{const{t:o}=re(),a=n==="edit",i=o(a?"common:confirmation.editMessage":"common:confirmation.deleteMessage"),l=o(a?"common:confirmation.editWarning":"common:confirmation.deleteWarning");return s.jsx(en,{open:e,onOpenChange:t,children:s.jsxs(tn,{children:[s.jsxs(sn,{children:[s.jsx(nn,{className:"text-lg",children:i}),s.jsx(on,{className:"text-base",children:l})]}),s.jsxs(rn,{className:"flex-col gap-2",children:[s.jsx(an,{className:"bg-vscode-button-secondaryBackground hover:bg-vscode-button-secondaryHoverBackground text-vscode-button-secondaryForeground border-vscode-button-border",children:o("common:answers.cancel")}),s.jsx(Cr,{onClick:r,className:"bg-vscode-button-background hover:bg-vscode-button-hoverBackground text-vscode-button-foreground border-vscode-button-border",children:o("common:confirmation.proceed")})]})]})})},WW=e=>s.jsx(qS,{...e,type:"edit"}),KW=e=>s.jsx(qS,{...e,type:"delete"}),sj=90,$W=50;let rj=!1;function HW(){rj||(rj=!0,os.capture(Cs.MEMORY_WARNING_SHOWN))}const VW=()=>{const{t:e}=re(),[t,r]=h.useState(!0),[n,o]=h.useState(m0());return h.useEffect(()=>{const a=setInterval(()=>{const i=m0();i<$W&&r(!0),i>=sj&&HW(),o(i)},1e4);return()=>clearInterval(a)},[]),t&&n>=sj&&s.jsx("div",{className:"fixed z-[9999] left-2 top-2 right-2",children:s.jsxs("div",{className:"flex items-center gap-3 p-4 text-lg rounded shadow-lg border",style:{backgroundColor:"var(--vscode-inputValidation-errorBackground, rgba(255, 0, 0, 0.1))",borderColor:"var(--vscode-inputValidation-errorBorder, #ff0000)",color:"var(--vscode-errorForeground, #ff0000)"},children:[s.jsx("span",{className:"codicon codicon-warning"}),s.jsx("span",{className:"flex-1 font-semibold",children:e("kilocode:memoryWarning.message",{percentage:n})}),s.jsx("button",{className:"codicon codicon-close cursor-pointer",onClick:()=>r(!1)})]})})},GW=Qe.memo(KW),QW=Qe.memo(WW),nj=Qe.memo(UW),YW=Qe.memo(qW),XW={chatButtonClicked:"chat",settingsButtonClicked:"settings",historyButtonClicked:"history",profileButtonClicked:"profile",marketplaceButtonClicked:"marketplace",promptsButtonClicked:"settings",mcpButtonClicked:"mcp"},JW={promptsButtonClicked:"modes"},ZW=()=>{const{didHydrateState:e,showWelcome:t,shouldShowAnnouncement:r,telemetrySetting:n,telemetryKey:o,machineId:a,renderContext:i,mdmCompliant:l,apiConfiguration:c}=Ye(),d=h.useMemo(()=>new Cg,[]),[u,p]=h.useState(!1),[m,g]=h.useState("chat"),[f,x]=h.useState("chat"),[y,N]=h.useState(void 0),[b,j]=h.useState(void 0),[v,_]=h.useState({isOpen:!1,requestId:"",promptText:""}),[k,w]=h.useState({isOpen:!1,messageTs:0,hasCheckpoint:!1}),[T,S]=h.useState({isOpen:!1,messageTs:0,text:"",hasCheckpoint:!1,images:[]}),P=h.useRef(null),I=h.useRef(null),M=h.useCallback(U=>{var q;if(l===!1&&U!=="cloud"){R.postMessage({type:"showMdmAuthRequiredNotification"});return}C(void 0),z(void 0),U==="auth"?g(U):(q=P.current)!=null&&q.checkUnsaveChanges?P.current.checkUnsaveChanges(()=>g(U)):g(U)},[l]),[A,C]=h.useState(void 0),[H,z]=h.useState(void 0),D=h.useCallback(U=>{var F,W,te,K,X,G,J,ae;const q=U.data;if(q.type==="action"&&q.action){if(q.action==="focusChatInput"){m!=="chat"&&M("chat"),(F=I.current)==null||F.focusInput();return}if(q.action==="switchTab"&&q.tab){const O=q.tab;if(O==="auth"){if((W=q.values)!=null&&W.returnTo){const be=q.values.returnTo;x(be)}if((te=q.values)!=null&&te.profileName){const be=q.values.profileName;N(be),j(be)}}M(O);const pe=(K=q.values)==null?void 0:K.section;C(pe),z(void 0)}else{const O=XW[q.action],pe=((X=q.values)==null?void 0:X.section)??JW[q.action],be=(G=q.values)==null?void 0:G.marketplaceTab,xe=(J=q.values)==null?void 0:J.editingProfile;O&&(M(O),C(pe),z(be),O==="settings"&&xe&&setTimeout(()=>{window.postMessage({type:"action",action:"settingsButtonClicked",values:{editingProfile:xe}},"*")},100))}}if(q.type==="showHumanRelayDialog"&&q.requestId&&q.promptText){const{requestId:O,promptText:pe}=q;_({isOpen:!0,requestId:O,promptText:pe})}q.type==="showDeleteMessageDialog"&&q.messageTs&&w({isOpen:!0,messageTs:q.messageTs,hasCheckpoint:q.hasCheckpoint||!1}),q.type==="showEditMessageDialog"&&q.messageTs&&q.text&&S({isOpen:!0,messageTs:q.messageTs,text:q.text,hasCheckpoint:q.hasCheckpoint||!1,images:q.images||[]}),q.type==="acceptInput"&&((ae=I.current)==null||ae.acceptInput())},[m,M]);Us("message",D),h.useEffect(()=>{r&&m==="chat"&&(p(!0),R.postMessage({type:"didShowAnnouncement"}))},[r,m]);const Y=kS((c==null?void 0:c.kilocodeToken)??"",a??"");return h.useEffect(()=>{if(e){os.updateTelemetryState(n,o,Y);const U=new zW;return U.start(),()=>U.stop()}},[n,o,Y,e]),h.useEffect(()=>R.postMessage({type:"webviewDidLaunch"}),[]),h.useEffect(()=>{dE(),uE(),console.debug("App initialized with source map support")},[]),XR(h.useCallback(()=>{i==="editor"&&R.postMessage({type:"focusPanelRequest"})},[i])),h.useEffect(()=>{m==="marketplace"&&os.capture(Cs.MARKETPLACE_TAB_VIEWED)},[m]),e?t?s.jsx(MW,{}):s.jsxs(s.Fragment,{children:[s.jsx(VW,{}),m==="mcp"&&s.jsx(MS,{onDone:()=>M("chat")}),m==="history"&&s.jsx(cL,{onDone:()=>M("chat")}),m==="settings"&&s.jsx(HU,{ref:P,onDone:()=>M("chat"),targetSection:A,editingProfile:b}),m==="profile"&&s.jsx(FW,{onDone:()=>M("chat")}),m==="auth"&&s.jsx(LW,{returnTo:f,profileName:y}),m==="marketplace"&&s.jsx(AS,{stateManager:d,onDone:()=>M("chat"),targetTab:"mode"}),s.jsx(rL,{ref:I,isHidden:m!=="chat",showAnnouncement:u,hideAnnouncement:()=>p(!1)}),s.jsx(YW,{isOpen:v.isOpen,requestId:v.requestId,promptText:v.promptText,onClose:()=>_(U=>({...U,isOpen:!1})),onSubmit:(U,q)=>R.postMessage({type:"humanRelayResponse",requestId:U,text:q}),onCancel:U=>R.postMessage({type:"humanRelayCancel",requestId:U})}),k.hasCheckpoint?s.jsx(nj,{open:k.isOpen,type:"delete",hasCheckpoint:k.hasCheckpoint,onOpenChange:U=>w(q=>({...q,isOpen:U})),onConfirm:U=>{R.postMessage({type:"deleteMessageConfirm",messageTs:k.messageTs,restoreCheckpoint:U}),w(q=>({...q,isOpen:!1}))}}):s.jsx(GW,{open:k.isOpen,onOpenChange:U=>w(q=>({...q,isOpen:U})),onConfirm:()=>{R.postMessage({type:"deleteMessageConfirm",messageTs:k.messageTs}),w(U=>({...U,isOpen:!1}))}}),T.hasCheckpoint?s.jsx(nj,{open:T.isOpen,type:"edit",hasCheckpoint:T.hasCheckpoint,onOpenChange:U=>S(q=>({...q,isOpen:U})),onConfirm:U=>{R.postMessage({type:"editMessageConfirm",messageTs:T.messageTs,text:T.text,restoreCheckpoint:U}),S(q=>({...q,isOpen:!1}))}}):s.jsx(QW,{open:T.isOpen,onOpenChange:U=>S(q=>({...q,isOpen:U})),onConfirm:()=>{R.postMessage({type:"editMessageConfirm",messageTs:T.messageTs,text:T.text,images:T.images}),S(U=>({...U,isOpen:!1}))}}),!["chat","settings","history"].includes(m)&&s.jsx("div",{className:"fixed inset-0 top-auto",children:s.jsx(ux,{})})]}):null},eK=new yI,tK=()=>s.jsx(TT,{children:s.jsx(bP,{children:s.jsx(yP,{children:s.jsx(_I,{client:eK,children:s.jsx(el,{delayDuration:PT,children:s.jsx(ZW,{})})})})})});Aj().catch(e=>console.error("Failed to initialize Shiki highlighter:",e));IT.createRoot(document.getElementById("root")).render(s.jsx(h.StrictMode,{children:s.jsx(tK,{})}));
//# sourceMappingURL=index.js.map
